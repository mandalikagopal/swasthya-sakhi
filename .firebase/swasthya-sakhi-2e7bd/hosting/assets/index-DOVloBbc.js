(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Kp={exports:{}},ou={};var tw;function dI(){if(tw)return ou;tw=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:r,type:a,key:c,ref:o!==void 0?o:null,props:l}}return ou.Fragment=e,ou.jsx=n,ou.jsxs=n,ou}var nw;function pI(){return nw||(nw=1,Kp.exports=dI()),Kp.exports}var Y=pI(),Yp={exports:{}};function mI(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var gS={exports:{}},mn=gS.exports={},li,ui;function Fg(){throw new Error("setTimeout has not been defined")}function qg(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?li=setTimeout:li=Fg}catch{li=Fg}try{typeof clearTimeout=="function"?ui=clearTimeout:ui=qg}catch{ui=qg}})();function yS(r){if(li===setTimeout)return setTimeout(r,0);if((li===Fg||!li)&&setTimeout)return li=setTimeout,setTimeout(r,0);try{return li(r,0)}catch{try{return li.call(null,r,0)}catch{return li.call(this,r,0)}}}function gI(r){if(ui===clearTimeout)return clearTimeout(r);if((ui===qg||!ui)&&clearTimeout)return ui=clearTimeout,clearTimeout(r);try{return ui(r)}catch{try{return ui.call(null,r)}catch{return ui.call(this,r)}}}var zi=[],jo=!1,Ns,zf=-1;function yI(){!jo||!Ns||(jo=!1,Ns.length?zi=Ns.concat(zi):zf=-1,zi.length&&_S())}function _S(){if(!jo){var r=yS(yI);jo=!0;for(var e=zi.length;e;){for(Ns=zi,zi=[];++zf<e;)Ns&&Ns[zf].run();zf=-1,e=zi.length}Ns=null,jo=!1,gI(r)}}mn.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];zi.push(new vS(r,e)),zi.length===1&&!jo&&yS(_S)};function vS(r,e){this.fun=r,this.array=e}vS.prototype.run=function(){this.fun.apply(null,this.array)};mn.title="browser";mn.browser=!0;mn.env={};mn.argv=[];mn.version="";mn.versions={};function na(){}mn.on=na;mn.addListener=na;mn.once=na;mn.off=na;mn.removeListener=na;mn.removeAllListeners=na;mn.emit=na;mn.prependListener=na;mn.prependOnceListener=na;mn.listeners=function(r){return[]};mn.binding=function(r){throw new Error("process.binding is not supported")};mn.cwd=function(){return"/"};mn.chdir=function(r){throw new Error("process.chdir is not supported")};mn.umask=function(){return 0};var _I=gS.exports;const et=mI(_I);var tt={},rw;function vI(){if(rw)return tt;rw=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),R=Symbol.iterator;function H(ne){return ne===null||typeof ne!="object"?null:(ne=R&&ne[R]||ne["@@iterator"],typeof ne=="function"?ne:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,B={};function O(ne,ve,Z){this.props=ne,this.context=ve,this.refs=B,this.updater=Z||I}O.prototype.isReactComponent={},O.prototype.setState=function(ne,ve){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,ve,"setState")},O.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function L(){}L.prototype=O.prototype;function F(ne,ve,Z){this.props=ne,this.context=ve,this.refs=B,this.updater=Z||I}var G=F.prototype=new L;G.constructor=F,j(G,O.prototype),G.isPureReactComponent=!0;var X=Array.isArray;function J(){}var x={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function P(ne,ve,Z){var ie=Z.ref;return{$$typeof:r,type:ne,key:ve,ref:ie!==void 0?ie:null,props:Z}}function K(ne,ve){return P(ne.type,ve,ne.props)}function ee(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===r}function k(ne){var ve={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(Z){return ve[Z]})}var $=/\/+/g;function Ke(ne,ve){return typeof ne=="object"&&ne!==null&&ne.key!=null?k(""+ne.key):ve.toString(36)}function ke(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(J,J):(ne.status="pending",ne.then(function(ve){ne.status==="pending"&&(ne.status="fulfilled",ne.value=ve)},function(ve){ne.status==="pending"&&(ne.status="rejected",ne.reason=ve)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function ae(ne,ve,Z,ie,he){var te=typeof ne;(te==="undefined"||te==="boolean")&&(ne=null);var D=!1;if(ne===null)D=!0;else switch(te){case"bigint":case"string":case"number":D=!0;break;case"object":switch(ne.$$typeof){case r:case e:D=!0;break;case y:return D=ne._init,ae(D(ne._payload),ve,Z,ie,he)}}if(D)return he=he(ne),D=ie===""?"."+Ke(ne,0):ie,X(he)?(Z="",D!=null&&(Z=D.replace($,"$&/")+"/"),ae(he,ve,Z,"",function(Te){return Te})):he!=null&&(ee(he)&&(he=K(he,Z+(he.key==null||ne&&ne.key===he.key?"":(""+he.key).replace($,"$&/")+"/")+D)),ve.push(he)),1;D=0;var ce=ie===""?".":ie+":";if(X(ne))for(var pe=0;pe<ne.length;pe++)ie=ne[pe],te=ce+Ke(ie,pe),D+=ae(ie,ve,Z,te,he);else if(pe=H(ne),typeof pe=="function")for(ne=pe.call(ne),pe=0;!(ie=ne.next()).done;)ie=ie.value,te=ce+Ke(ie,pe++),D+=ae(ie,ve,Z,te,he);else if(te==="object"){if(typeof ne.then=="function")return ae(ke(ne),ve,Z,ie,he);throw ve=String(ne),Error("Objects are not valid as a React child (found: "+(ve==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":ve)+"). If you meant to render a collection of children, use an array instead.")}return D}function ge(ne,ve,Z){if(ne==null)return ne;var ie=[],he=0;return ae(ne,ie,"","",function(te){return ve.call(Z,te,he++)}),ie}function xe(ne){if(ne._status===-1){var ve=ne._result;ve=ve(),ve.then(function(Z){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=Z)},function(Z){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=Z)}),ne._status===-1&&(ne._status=0,ne._result=ve)}if(ne._status===1)return ne._result.default;throw ne._result}var Ue=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ve=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(ve))return}else if(typeof et=="object"&&typeof et.emit=="function"){et.emit("uncaughtException",ne);return}console.error(ne)},Le={map:ge,forEach:function(ne,ve,Z){ge(ne,function(){ve.apply(this,arguments)},Z)},count:function(ne){var ve=0;return ge(ne,function(){ve++}),ve},toArray:function(ne){return ge(ne,function(ve){return ve})||[]},only:function(ne){if(!ee(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return tt.Activity=w,tt.Children=Le,tt.Component=O,tt.Fragment=n,tt.Profiler=o,tt.PureComponent=F,tt.StrictMode=a,tt.Suspense=p,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,tt.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return x.H.useMemoCache(ne)}},tt.cache=function(ne){return function(){return ne.apply(null,arguments)}},tt.cacheSignal=function(){return null},tt.cloneElement=function(ne,ve,Z){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var ie=j({},ne.props),he=ne.key;if(ve!=null)for(te in ve.key!==void 0&&(he=""+ve.key),ve)!C.call(ve,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&ve.ref===void 0||(ie[te]=ve[te]);var te=arguments.length-2;if(te===1)ie.children=Z;else if(1<te){for(var D=Array(te),ce=0;ce<te;ce++)D[ce]=arguments[ce+2];ie.children=D}return P(ne.type,he,ie)},tt.createContext=function(ne){return ne={$$typeof:c,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:l,_context:ne},ne},tt.createElement=function(ne,ve,Z){var ie,he={},te=null;if(ve!=null)for(ie in ve.key!==void 0&&(te=""+ve.key),ve)C.call(ve,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(he[ie]=ve[ie]);var D=arguments.length-2;if(D===1)he.children=Z;else if(1<D){for(var ce=Array(D),pe=0;pe<D;pe++)ce[pe]=arguments[pe+2];he.children=ce}if(ne&&ne.defaultProps)for(ie in D=ne.defaultProps,D)he[ie]===void 0&&(he[ie]=D[ie]);return P(ne,te,he)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(ne){return{$$typeof:d,render:ne}},tt.isValidElement=ee,tt.lazy=function(ne){return{$$typeof:y,_payload:{_status:-1,_result:ne},_init:xe}},tt.memo=function(ne,ve){return{$$typeof:g,type:ne,compare:ve===void 0?null:ve}},tt.startTransition=function(ne){var ve=x.T,Z={};x.T=Z;try{var ie=ne(),he=x.S;he!==null&&he(Z,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(J,Ue)}catch(te){Ue(te)}finally{ve!==null&&Z.types!==null&&(ve.types=Z.types),x.T=ve}},tt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},tt.use=function(ne){return x.H.use(ne)},tt.useActionState=function(ne,ve,Z){return x.H.useActionState(ne,ve,Z)},tt.useCallback=function(ne,ve){return x.H.useCallback(ne,ve)},tt.useContext=function(ne){return x.H.useContext(ne)},tt.useDebugValue=function(){},tt.useDeferredValue=function(ne,ve){return x.H.useDeferredValue(ne,ve)},tt.useEffect=function(ne,ve){return x.H.useEffect(ne,ve)},tt.useEffectEvent=function(ne){return x.H.useEffectEvent(ne)},tt.useId=function(){return x.H.useId()},tt.useImperativeHandle=function(ne,ve,Z){return x.H.useImperativeHandle(ne,ve,Z)},tt.useInsertionEffect=function(ne,ve){return x.H.useInsertionEffect(ne,ve)},tt.useLayoutEffect=function(ne,ve){return x.H.useLayoutEffect(ne,ve)},tt.useMemo=function(ne,ve){return x.H.useMemo(ne,ve)},tt.useOptimistic=function(ne,ve){return x.H.useOptimistic(ne,ve)},tt.useReducer=function(ne,ve,Z){return x.H.useReducer(ne,ve,Z)},tt.useRef=function(ne){return x.H.useRef(ne)},tt.useState=function(ne){return x.H.useState(ne)},tt.useSyncExternalStore=function(ne,ve,Z){return x.H.useSyncExternalStore(ne,ve,Z)},tt.useTransition=function(){return x.H.useTransition()},tt.version="19.2.4",tt}var iw;function yy(){return iw||(iw=1,Yp.exports=vI()),Yp.exports}var ue=yy(),Wp={exports:{}},lu={},Qp={exports:{}},$p={};var aw;function EI(){return aw||(aw=1,(function(r){function e(ae,ge){var xe=ae.length;ae.push(ge);e:for(;0<xe;){var Ue=xe-1>>>1,Le=ae[Ue];if(0<o(Le,ge))ae[Ue]=ge,ae[xe]=Le,xe=Ue;else break e}}function n(ae){return ae.length===0?null:ae[0]}function a(ae){if(ae.length===0)return null;var ge=ae[0],xe=ae.pop();if(xe!==ge){ae[0]=xe;e:for(var Ue=0,Le=ae.length,ne=Le>>>1;Ue<ne;){var ve=2*(Ue+1)-1,Z=ae[ve],ie=ve+1,he=ae[ie];if(0>o(Z,xe))ie<Le&&0>o(he,Z)?(ae[Ue]=he,ae[ie]=xe,Ue=ie):(ae[Ue]=Z,ae[ve]=xe,Ue=ve);else if(ie<Le&&0>o(he,xe))ae[Ue]=he,ae[ie]=xe,Ue=ie;else break e}}return ge}function o(ae,ge){var xe=ae.sortIndex-ge.sortIndex;return xe!==0?xe:ae.id-ge.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,w=null,R=3,H=!1,I=!1,j=!1,B=!1,O=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function G(ae){for(var ge=n(g);ge!==null;){if(ge.callback===null)a(g);else if(ge.startTime<=ae)a(g),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=n(g)}}function X(ae){if(j=!1,G(ae),!I)if(n(p)!==null)I=!0,J||(J=!0,k());else{var ge=n(g);ge!==null&&ke(X,ge.startTime-ae)}}var J=!1,x=-1,C=5,P=-1;function K(){return B?!0:!(r.unstable_now()-P<C)}function ee(){if(B=!1,J){var ae=r.unstable_now();P=ae;var ge=!0;try{e:{I=!1,j&&(j=!1,L(x),x=-1),H=!0;var xe=R;try{t:{for(G(ae),w=n(p);w!==null&&!(w.expirationTime>ae&&K());){var Ue=w.callback;if(typeof Ue=="function"){w.callback=null,R=w.priorityLevel;var Le=Ue(w.expirationTime<=ae);if(ae=r.unstable_now(),typeof Le=="function"){w.callback=Le,G(ae),ge=!0;break t}w===n(p)&&a(p),G(ae)}else a(p);w=n(p)}if(w!==null)ge=!0;else{var ne=n(g);ne!==null&&ke(X,ne.startTime-ae),ge=!1}}break e}finally{w=null,R=xe,H=!1}ge=void 0}}finally{ge?k():J=!1}}}var k;if(typeof F=="function")k=function(){F(ee)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Ke=$.port2;$.port1.onmessage=ee,k=function(){Ke.postMessage(null)}}else k=function(){O(ee,0)};function ke(ae,ge){x=O(function(){ae(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ae){ae.callback=null},r.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ae?Math.floor(1e3/ae):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(ae){switch(R){case 1:case 2:case 3:var ge=3;break;default:ge=R}var xe=R;R=ge;try{return ae()}finally{R=xe}},r.unstable_requestPaint=function(){B=!0},r.unstable_runWithPriority=function(ae,ge){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var xe=R;R=ae;try{return ge()}finally{R=xe}},r.unstable_scheduleCallback=function(ae,ge,xe){var Ue=r.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?Ue+xe:Ue):xe=Ue,ae){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=xe+Le,ae={id:y++,callback:ge,priorityLevel:ae,startTime:xe,expirationTime:Le,sortIndex:-1},xe>Ue?(ae.sortIndex=xe,e(g,ae),n(p)===null&&ae===n(g)&&(j?(L(x),x=-1):j=!0,ke(X,xe-Ue))):(ae.sortIndex=Le,e(p,ae),I||H||(I=!0,J||(J=!0,k()))),ae},r.unstable_shouldYield=K,r.unstable_wrapCallback=function(ae){var ge=R;return function(){var xe=R;R=ge;try{return ae.apply(this,arguments)}finally{R=xe}}}})($p)),$p}var sw;function wI(){return sw||(sw=1,Qp.exports=EI()),Qp.exports}var Xp={exports:{}},qn={};var ow;function bI(){if(ow)return qn;ow=1;var r=yy();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:y}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,qn.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,y)},qn.flushSync=function(p){var g=c.T,y=a.p;try{if(c.T=null,a.p=2,p)return p()}finally{c.T=g,a.p=y,a.d.f()}},qn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},qn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},qn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,w=d(y,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,H=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:R,fetchPriority:H}):y==="script"&&a.d.X(p,{crossOrigin:w,integrity:R,fetchPriority:H,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},qn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},qn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,w=d(y,g.crossOrigin);a.d.L(p,y,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},qn.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=d(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},qn.requestFormReset=function(p){a.d.r(p)},qn.unstable_batchedUpdates=function(p,g){return p(g)},qn.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},qn.useFormStatus=function(){return c.H.useHostTransitionStatus()},qn.version="19.2.4",qn}var lw;function TI(){if(lw)return Xp.exports;lw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Xp.exports=bI(),Xp.exports}var uw;function SI(){if(uw)return lu;uw=1;var r=wI(),e=yy(),n=TI();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function d(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(l(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=l(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,u=i;;){var h=s.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===s)return p(h),t;if(m===u)return p(h),i;m=m.sibling}throw Error(a(188))}if(s.return!==u.return)s=h,u=m;else{for(var S=!1,U=h.child;U;){if(U===s){S=!0,s=h,u=m;break}if(U===u){S=!0,u=h,s=m;break}U=U.sibling}if(!S){for(U=m.child;U;){if(U===s){S=!0,s=m,u=h;break}if(U===u){S=!0,u=m,s=h;break}U=U.sibling}if(!S)throw Error(a(189))}}if(s.alternate!==u)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,R=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),F=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function k(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var $=Symbol.for("react.client.reference");function Ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===$?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case j:return"Fragment";case O:return"Profiler";case B:return"StrictMode";case X:return"Suspense";case J:return"SuspenseList";case P:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case F:return t.displayName||"Context";case L:return(t._context.displayName||"Context")+".Consumer";case G:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Ke(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return Ke(t(i))}catch{}}return null}var ke=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Ue=[],Le=-1;function ne(t){return{current:t}}function ve(t){0>Le||(t.current=Ue[Le],Ue[Le]=null,Le--)}function Z(t,i){Le++,Ue[Le]=t.current,t.current=i}var ie=ne(null),he=ne(null),te=ne(null),D=ne(null);function ce(t,i){switch(Z(te,i),Z(he,t),Z(ie,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?SE(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=SE(i),t=AE(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ve(ie),Z(ie,t)}function pe(){ve(ie),ve(he),ve(te)}function Te(t){t.memoizedState!==null&&Z(D,t);var i=ie.current,s=AE(i,t.type);i!==s&&(Z(he,t),Z(ie,s))}function V(t){he.current===t&&(ve(ie),ve(he)),D.current===t&&(ve(D),ru._currentValue=xe)}var q,Ee;function Pe(t){if(q===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);q=i&&i[1]||"",Ee=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+q+t+Ee}var Qe=!1;function je(t,i){if(!t||Qe)return"";Qe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(Se){var we=Se}Reflect.construct(t,[],Ne)}else{try{Ne.call()}catch(Se){we=Se}t.call(Ne.prototype)}}else{try{throw Error()}catch(Se){we=Se}(Ne=t())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(Se){if(Se&&we&&typeof Se.stack=="string")return[Se.stack,we.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),S=m[0],U=m[1];if(S&&U){var re=S.split(`
`),_e=U.split(`
`);for(h=u=0;u<re.length&&!re[u].includes("DetermineComponentFrameRoot");)u++;for(;h<_e.length&&!_e[h].includes("DetermineComponentFrameRoot");)h++;if(u===re.length||h===_e.length)for(u=re.length-1,h=_e.length-1;1<=u&&0<=h&&re[u]!==_e[h];)h--;for(;1<=u&&0<=h;u--,h--)if(re[u]!==_e[h]){if(u!==1||h!==1)do if(u--,h--,0>h||re[u]!==_e[h]){var Ce=`
`+re[u].replace(" at new "," at ");return t.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",t.displayName)),Ce}while(1<=u&&0<=h);break}}}finally{Qe=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Pe(s):""}function Ze(t,i){switch(t.tag){case 26:case 27:case 5:return Pe(t.type);case 16:return Pe("Lazy");case 13:return t.child!==i&&i!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return je(t.type,!1);case 11:return je(t.type.render,!1);case 1:return je(t.type,!0);case 31:return Pe("Activity");default:return""}}function cn(t){try{var i="",s=null;do i+=Ze(t,s),s=t,t=t.return;while(t);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ie=Object.prototype.hasOwnProperty,Xt=r.unstable_scheduleCallback,en=r.unstable_cancelCallback,wt=r.unstable_shouldYield,bt=r.unstable_requestPaint,_t=r.unstable_now,nn=r.unstable_getCurrentPriorityLevel,Tt=r.unstable_ImmediatePriority,Mt=r.unstable_UserBlockingPriority,Vt=r.unstable_NormalPriority,dr=r.unstable_LowPriority,N=r.unstable_IdlePriority,E=r.log,T=r.unstable_setDisableYieldValue,W=null,se=null;function me(t){if(typeof E=="function"&&T(t),se&&typeof se.setStrictMode=="function")try{se.setStrictMode(W,t)}catch{}}var Re=Math.clz32?Math.clz32:Dt,it=Math.log,St=Math.LN2;function Dt(t){return t>>>=0,t===0?32:31-(it(t)/St|0)|0}var At=256,ot=262144,pr=4194304;function rn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function jn(t,i,s){var u=t.pendingLanes;if(u===0)return 0;var h=0,m=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var U=u&134217727;return U!==0?(u=U&~m,u!==0?h=rn(u):(S&=U,S!==0?h=rn(S):s||(s=U&~t,s!==0&&(h=rn(s))))):(U=u&~m,U!==0?h=rn(U):S!==0?h=rn(S):s||(s=u&~t,s!==0&&(h=rn(s)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,s=i&-i,m>=s||m===32&&(s&4194048)!==0)?i:h}function Xr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Qn(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function as(){var t=pr;return pr<<=1,(pr&62914560)===0&&(pr=4194304),t}function M(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function v(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function b(t,i,s,u,h,m){var S=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var U=t.entanglements,re=t.expirationTimes,_e=t.hiddenUpdates;for(s=S&~s;0<s;){var Ce=31-Re(s),Ne=1<<Ce;U[Ce]=0,re[Ce]=-1;var we=_e[Ce];if(we!==null)for(_e[Ce]=null,Ce=0;Ce<we.length;Ce++){var Se=we[Ce];Se!==null&&(Se.lane&=-536870913)}s&=~Ne}u!==0&&Q(t,u,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(S&~i))}function Q(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-Re(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|s&261930}function le(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var u=31-Re(s),h=1<<u;h&i|t[u]&i&&(t[u]|=i),s&=~h}}function be(t,i){var s=i&-i;return s=(s&42)!==0?1:Oe(s),(s&(t.suspendedLanes|i))!==0?0:s}function Oe(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function at(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Rt(){var t=ge.p;return t!==0?t:(t=window.event,t===void 0?32:WE(t.type))}function kt(t,i){var s=ge.p;try{return ge.p=t,i()}finally{ge.p=s}}var Et=Math.random().toString(36).slice(2),Xe="__reactFiber$"+Et,Dn="__reactProps$"+Et,Jr="__reactContainer$"+Et,ia="__reactEvents$"+Et,Zr="__reactListeners$"+Et,nc="__reactHandles$"+Et,dl="__reactResources$"+Et,vi="__reactMarker$"+Et;function ss(t){delete t[Xe],delete t[Dn],delete t[ia],delete t[Zr],delete t[nc]}function Ei(t){var i=t[Xe];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Jr]||s[Xe]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=NE(t);t!==null;){if(s=t[Xe])return s;t=NE(t)}return i}t=s,s=t.parentNode}return null}function wi(t){if(t=t[Xe]||t[Jr]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function os(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Vr(t){var i=t[dl];return i||(i=t[dl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function fn(t){t[vi]=!0}var $s=new Set,aa={};function $n(t,i){ei(t,i),ei(t+"Capture",i)}function ei(t,i){for(aa[t]=i,t=0;t<i.length;t++)$s.add(i[t])}var Yh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),pl={},ml={};function rc(t){return Ie.call(ml,t)?!0:Ie.call(pl,t)?!1:Yh.test(t)?ml[t]=!0:(pl[t]=!0,!1)}function sa(t,i,s){if(rc(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function oa(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Ir(t,i,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+u)}}function Xn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ic(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Wh(t,i,s){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,m=u.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(S){s=""+S,m.call(this,S)}}),Object.defineProperty(t,i,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(S){s=""+S},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xs(t){if(!t._valueTracker){var i=ic(t)?"checked":"value";t._valueTracker=Wh(t,i,""+t[i])}}function gl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return t&&(u=ic(t)?t.checked?"true":"false":t.value),t=u,t!==s?(i.setValue(t),!0):!1}function Js(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var bi=/[\n"\\]/g;function an(t){return t.replace(bi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function la(t,i,s,u,h,m,S,U){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),i!=null?S==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Xn(i)):t.value!==""+Xn(i)&&(t.value=""+Xn(i)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),i!=null?Zs(t,S,Xn(i)):s!=null?Zs(t,S,Xn(s)):u!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?t.name=""+Xn(U):t.removeAttribute("name")}function ls(t,i,s,u,h,m,S,U){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Xs(t);return}s=s!=null?""+Xn(s):"",i=i!=null?""+Xn(i):s,U||i===t.value||(t.value=i),t.defaultValue=i}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=U?t.checked:!!u,t.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),Xs(t)}function Zs(t,i,s){i==="number"&&Js(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ct(t,i,s,u){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&u&&(t[s].defaultSelected=!0)}else{for(s=""+Xn(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function us(t,i,s){if(i!=null&&(i=""+Xn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Xn(s):""}function ua(t,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(a(92));if(ke(u)){if(1<u.length)throw Error(a(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=Xn(i),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u),Xs(t)}function xr(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Qh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yl(t,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,s):typeof s!="number"||s===0||Qh.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function ac(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var h in i)u=i[h],i.hasOwnProperty(h)&&s[h]!==u&&yl(t,h,u)}else for(var m in i)i.hasOwnProperty(m)&&yl(t,m,i[m])}function _l(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $h=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ti(t){return Xh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Rn(){}var eo=null;function to(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ti=null,mr=null;function sc(t){var i=wi(t);if(i&&(t=i.stateNode)){var s=t[Dn]||null;e:switch(t=i.stateNode,i.type){case"input":if(la(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==t&&u.form===t.form){var h=u[Dn]||null;if(!h)throw Error(a(90));la(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===t.form&&gl(u)}break e;case"textarea":us(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Ct(t,!!s.multiple,i,!1)}}}var vl=!1;function oc(t,i,s){if(vl)return t(i,s);vl=!0;try{var u=t(i);return u}finally{if(vl=!1,(Ti!==null||mr!==null)&&(rf(),Ti&&(i=Ti,t=mr,mr=Ti=null,sc(i),t)))for(i=0;i<t.length;i++)sc(t[i])}}function ir(t,i){var s=t.stateNode;if(s===null)return null;var u=s[Dn]||null;if(u===null)return null;s=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),El=!1;if(jr)try{var ni={};Object.defineProperty(ni,"passive",{get:function(){El=!0}}),window.addEventListener("test",ni,ni),window.removeEventListener("test",ni,ni)}catch{El=!1}var gr=null,no=null,ri=null;function ca(){if(ri)return ri;var t,i=no,s=i.length,u,h="value"in gr?gr.value:gr.textContent,m=h.length;for(t=0;t<s&&i[t]===h[t];t++);var S=s-t;for(u=1;u<=S&&i[s-u]===h[m-u];u++);return ri=h.slice(t,1<u?1-u:void 0)}function cs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function fa(){return!0}function Kt(){return!1}function Fn(t){function i(s,u,h,m,S){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var U in t)t.hasOwnProperty(U)&&(s=t[U],this[U]=s?s(m):m[U]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?fa:Kt,this.isPropagationStopped=Kt,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=fa)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=fa)},persist:function(){},isPersistent:fa}),i}var Si={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=Fn(Si),ha=w({},Si,{view:0,detail:0}),lc=Fn(ha),da,ro,Jn,hs=w({},ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ma,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jn&&(Jn&&t.type==="mousemove"?(da=t.screenX-Jn.screenX,ro=t.screenY-Jn.screenY):ro=da=0,Jn=t),da)},movementY:function(t){return"movementY"in t?t.movementY:ro}}),uc=Fn(hs),ds=w({},hs,{dataTransfer:0}),cc=Fn(ds),wl=w({},ha,{relatedTarget:0}),pa=Fn(wl),fc=w({},Si,{animationName:0,elapsedTime:0,pseudoElement:0}),io=Fn(fc),Jh=w({},Si,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hc=Fn(Jh),ps=w({},Si,{data:0}),bl=Fn(ps),dc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Sl[t])?!!i[t]:!1}function ma(){return pc}var mc=w({},ha,{key:function(t){if(t.key){var i=dc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Tl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ma,charCode:function(t){return t.type==="keypress"?cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gc=Fn(mc),Ai=w({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Al=Fn(Ai),yc=w({},ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ma}),_c=Fn(yc),vc=w({},Si,{propertyName:0,elapsedTime:0,pseudoElement:0}),ao=Fn(vc),Zn=w({},hs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ec=Fn(Zn),wc=w({},Si,{newState:0,oldState:0}),ga=Fn(wc),f=[9,13,27,32],_=jr&&"CompositionEvent"in window,A=null;jr&&"documentMode"in document&&(A=document.documentMode);var z=jr&&"TextEvent"in window&&!A,de=jr&&(!_||A&&8<A&&11>=A),Ae=" ",Ve=!1;function Pt(t,i){switch(t){case"keyup":return f.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ut=!1;function Cn(t,i){switch(t){case"compositionend":return gn(i);case"keypress":return i.which!==32?null:(Ve=!0,Ae);case"textInput":return t=i.data,t===Ae&&Ve?null:t;default:return null}}function In(t,i){if(ut)return t==="compositionend"||!_&&Pt(t,i)?(t=ca(),ri=no=gr=null,ut=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var ya={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ar(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!ya[t.type]:i==="textarea"}function ms(t,i,s,u){Ti?mr?mr.push(u):mr=[u]:Ti=u,i=ff(i,"onChange"),0<i.length&&(s=new fs("onChange","change",null,s,u),t.push({event:s,listeners:i}))}var Ri=null,Rl=null;function j1(t){_E(t,0)}function bc(t){var i=os(t);if(gl(i))return t}function U_(t,i){if(t==="change")return i}var L_=!1;if(jr){var Zh;if(jr){var ed="oninput"in document;if(!ed){var V_=document.createElement("div");V_.setAttribute("oninput","return;"),ed=typeof V_.oninput=="function"}Zh=ed}else Zh=!1;L_=Zh&&(!document.documentMode||9<document.documentMode)}function j_(){Ri&&(Ri.detachEvent("onpropertychange",F_),Rl=Ri=null)}function F_(t){if(t.propertyName==="value"&&bc(Rl)){var i=[];ms(i,Rl,t,to(t)),oc(j1,i)}}function F1(t,i,s){t==="focusin"?(j_(),Ri=i,Rl=s,Ri.attachEvent("onpropertychange",F_)):t==="focusout"&&j_()}function q1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bc(Rl)}function z1(t,i){if(t==="click")return bc(i)}function H1(t,i){if(t==="input"||t==="change")return bc(i)}function G1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yr=typeof Object.is=="function"?Object.is:G1;function Cl(t,i){if(yr(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!Ie.call(i,h)||!yr(t[h],i[h]))return!1}return!0}function q_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function z_(t,i){var s=q_(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=i&&u>=i)return{node:s,offset:i-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=q_(s)}}function H_(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?H_(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function G_(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Js(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Js(t.document)}return i}function td(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var K1=jr&&"documentMode"in document&&11>=document.documentMode,so=null,nd=null,Il=null,rd=!1;function K_(t,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;rd||so==null||so!==Js(u)||(u=so,"selectionStart"in u&&td(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Il&&Cl(Il,u)||(Il=u,u=ff(nd,"onSelect"),0<u.length&&(i=new fs("onSelect","select",null,i,s),t.push({event:i,listeners:u}),i.target=so)))}function gs(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var oo={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},id={},Y_={};jr&&(Y_=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function ys(t){if(id[t])return id[t];if(!oo[t])return t;var i=oo[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Y_)return id[t]=i[s];return t}var W_=ys("animationend"),Q_=ys("animationiteration"),$_=ys("animationstart"),Y1=ys("transitionrun"),W1=ys("transitionstart"),Q1=ys("transitioncancel"),X_=ys("transitionend"),J_=new Map,ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ad.push("scrollEnd");function Fr(t,i){J_.set(t,i),$n(i,[t])}var Tc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof et=="object"&&typeof et.emit=="function"){et.emit("uncaughtException",t);return}console.error(t)},Or=[],lo=0,sd=0;function Sc(){for(var t=lo,i=sd=lo=0;i<t;){var s=Or[i];Or[i++]=null;var u=Or[i];Or[i++]=null;var h=Or[i];Or[i++]=null;var m=Or[i];if(Or[i++]=null,u!==null&&h!==null){var S=u.pending;S===null?h.next=h:(h.next=S.next,S.next=h),u.pending=h}m!==0&&Z_(s,h,m)}}function Ac(t,i,s,u){Or[lo++]=t,Or[lo++]=i,Or[lo++]=s,Or[lo++]=u,sd|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function od(t,i,s,u){return Ac(t,i,s,u),Rc(t)}function _s(t,i){return Ac(t,null,null,i),Rc(t)}function Z_(t,i,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var h=!1,m=t.return;m!==null;)m.childLanes|=s,u=m.alternate,u!==null&&(u.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&i!==null&&(h=31-Re(s),t=m.hiddenUpdates,u=t[h],u===null?t[h]=[i]:u.push(i),i.lane=s|536870912),m):null}function Rc(t){if(50<$l)throw $l=0,gp=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var uo={};function $1(t,i,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(t,i,s,u){return new $1(t,i,s,u)}function ld(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,i){var s=t.alternate;return s===null?(s=_r(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function e0(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Cc(t,i,s,u,h,m){var S=0;if(u=t,typeof t=="function")ld(t)&&(S=1);else if(typeof t=="string")S=tI(t,s,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case P:return t=_r(31,s,i,h),t.elementType=P,t.lanes=m,t;case j:return vs(s.children,h,m,i);case B:S=8,h|=24;break;case O:return t=_r(12,s,i,h|2),t.elementType=O,t.lanes=m,t;case X:return t=_r(13,s,i,h),t.elementType=X,t.lanes=m,t;case J:return t=_r(19,s,i,h),t.elementType=J,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case F:S=10;break e;case L:S=9;break e;case G:S=11;break e;case x:S=14;break e;case C:S=16,u=null;break e}S=29,s=Error(a(130,t===null?"null":typeof t,"")),u=null}return i=_r(S,s,i,h),i.elementType=t,i.type=u,i.lanes=m,i}function vs(t,i,s,u){return t=_r(7,t,u,i),t.lanes=s,t}function ud(t,i,s){return t=_r(6,t,null,i),t.lanes=s,t}function t0(t){var i=_r(18,null,null,0);return i.stateNode=t,i}function cd(t,i,s){return i=_r(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var n0=new WeakMap;function Dr(t,i){if(typeof t=="object"&&t!==null){var s=n0.get(t);return s!==void 0?s:(i={value:t,source:i,stack:cn(i)},n0.set(t,i),i)}return{value:t,source:i,stack:cn(i)}}var co=[],fo=0,Ic=null,xl=0,Nr=[],Mr=0,_a=null,ii=1,ai="";function Ii(t,i){co[fo++]=xl,co[fo++]=Ic,Ic=t,xl=i}function r0(t,i,s){Nr[Mr++]=ii,Nr[Mr++]=ai,Nr[Mr++]=_a,_a=t;var u=ii;t=ai;var h=32-Re(u)-1;u&=~(1<<h),s+=1;var m=32-Re(i)+h;if(30<m){var S=h-h%5;m=(u&(1<<S)-1).toString(32),u>>=S,h-=S,ii=1<<32-Re(i)+h|s<<h|u,ai=m+t}else ii=1<<m|s<<h|u,ai=t}function fd(t){t.return!==null&&(Ii(t,1),r0(t,1,0))}function hd(t){for(;t===Ic;)Ic=co[--fo],co[fo]=null,xl=co[--fo],co[fo]=null;for(;t===_a;)_a=Nr[--Mr],Nr[Mr]=null,ai=Nr[--Mr],Nr[Mr]=null,ii=Nr[--Mr],Nr[Mr]=null}function i0(t,i){Nr[Mr++]=ii,Nr[Mr++]=ai,Nr[Mr++]=_a,ii=i.id,ai=i.overflow,_a=t}var Nn=null,Yt=null,gt=!1,va=null,Pr=!1,dd=Error(a(519));function Ea(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ol(Dr(i,t)),dd}function a0(t){var i=t.stateNode,s=t.type,u=t.memoizedProps;switch(i[Xe]=t,i[Dn]=u,s){case"dialog":ht("cancel",i),ht("close",i);break;case"iframe":case"object":case"embed":ht("load",i);break;case"video":case"audio":for(s=0;s<Jl.length;s++)ht(Jl[s],i);break;case"source":ht("error",i);break;case"img":case"image":case"link":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"input":ht("invalid",i),ls(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ht("invalid",i);break;case"textarea":ht("invalid",i),ua(i,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||bE(i.textContent,s)?(u.popover!=null&&(ht("beforetoggle",i),ht("toggle",i)),u.onScroll!=null&&ht("scroll",i),u.onScrollEnd!=null&&ht("scrollend",i),u.onClick!=null&&(i.onclick=Rn),i=!0):i=!1,i||Ea(t,!0)}function s0(t){for(Nn=t.return;Nn;)switch(Nn.tag){case 5:case 31:case 13:Pr=!1;return;case 27:case 3:Pr=!0;return;default:Nn=Nn.return}}function ho(t){if(t!==Nn)return!1;if(!gt)return s0(t),gt=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Dp(t.type,t.memoizedProps)),s=!s),s&&Yt&&Ea(t),s0(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Yt=DE(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Yt=DE(t)}else i===27?(i=Yt,Pa(t.type)?(t=Bp,Bp=null,Yt=t):Yt=i):Yt=Nn?Br(t.stateNode.nextSibling):null;return!0}function Es(){Yt=Nn=null,gt=!1}function pd(){var t=va;return t!==null&&(ur===null?ur=t:ur.push.apply(ur,t),va=null),t}function Ol(t){va===null?va=[t]:va.push(t)}var md=ne(null),ws=null,xi=null;function wa(t,i,s){Z(md,i._currentValue),i._currentValue=s}function Oi(t){t._currentValue=md.current,ve(md)}function gd(t,i,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===s)break;t=t.return}}function yd(t,i,s,u){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var S=h.child;m=m.firstContext;e:for(;m!==null;){var U=m;m=h;for(var re=0;re<i.length;re++)if(U.context===i[re]){m.lanes|=s,U=m.alternate,U!==null&&(U.lanes|=s),gd(m.return,s,t),u||(S=null);break e}m=U.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(a(341));S.lanes|=s,m=S.alternate,m!==null&&(m.lanes|=s),gd(S,s,t),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===t){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function po(t,i,s,u){t=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var U=h.type;yr(h.pendingProps.value,S.value)||(t!==null?t.push(U):t=[U])}}else if(h===D.current){if(S=h.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(ru):t=[ru])}h=h.return}t!==null&&yd(i,t,s,u),i.flags|=262144}function xc(t){for(t=t.firstContext;t!==null;){if(!yr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function bs(t){ws=t,xi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Mn(t){return o0(ws,t)}function Oc(t,i){return ws===null&&bs(t),o0(t,i)}function o0(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},xi===null){if(t===null)throw Error(a(308));xi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else xi=xi.next=i;return s}var X1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},J1=r.unstable_scheduleCallback,Z1=r.unstable_NormalPriority,yn={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _d(){return{controller:new X1,data:new Map,refCount:0}}function Dl(t){t.refCount--,t.refCount===0&&J1(Z1,function(){t.controller.abort()})}var Nl=null,vd=0,mo=0,go=null;function eC(t,i){if(Nl===null){var s=Nl=[];vd=0,mo=bp(),go={status:"pending",value:void 0,then:function(u){s.push(u)}}}return vd++,i.then(l0,l0),i}function l0(){if(--vd===0&&Nl!==null){go!==null&&(go.status="fulfilled");var t=Nl;Nl=null,mo=0,go=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function tC(t,i){var s=[],u={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(u.status="rejected",u.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),u}var u0=ae.S;ae.S=function(t,i){Kv=_t(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&eC(t,i),u0!==null&&u0(t,i)};var Ts=ne(null);function Ed(){var t=Ts.current;return t!==null?t:Ht.pooledCache}function Dc(t,i){i===null?Z(Ts,Ts.current):Z(Ts,i.pool)}function c0(){var t=Ed();return t===null?null:{parent:yn._currentValue,pool:t}}var yo=Error(a(460)),wd=Error(a(474)),Nc=Error(a(542)),Mc={then:function(){}};function f0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function h0(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Rn,Rn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,p0(t),t;default:if(typeof i.status=="string")i.then(Rn,Rn);else{if(t=Ht,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=u}},function(u){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,p0(t),t}throw As=i,yo}}function Ss(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(As=s,yo):s}}var As=null;function d0(){if(As===null)throw Error(a(459));var t=As;return As=null,t}function p0(t){if(t===yo||t===Nc)throw Error(a(483))}var _o=null,Ml=0;function Pc(t){var i=Ml;return Ml+=1,_o===null&&(_o=[]),h0(_o,t,i)}function Pl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function kc(t,i){throw i.$$typeof===R?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function m0(t){function i(fe,oe){if(t){var ye=fe.deletions;ye===null?(fe.deletions=[oe],fe.flags|=16):ye.push(oe)}}function s(fe,oe){if(!t)return null;for(;oe!==null;)i(fe,oe),oe=oe.sibling;return null}function u(fe){for(var oe=new Map;fe!==null;)fe.key!==null?oe.set(fe.key,fe):oe.set(fe.index,fe),fe=fe.sibling;return oe}function h(fe,oe){return fe=Ci(fe,oe),fe.index=0,fe.sibling=null,fe}function m(fe,oe,ye){return fe.index=ye,t?(ye=fe.alternate,ye!==null?(ye=ye.index,ye<oe?(fe.flags|=67108866,oe):ye):(fe.flags|=67108866,oe)):(fe.flags|=1048576,oe)}function S(fe){return t&&fe.alternate===null&&(fe.flags|=67108866),fe}function U(fe,oe,ye,De){return oe===null||oe.tag!==6?(oe=ud(ye,fe.mode,De),oe.return=fe,oe):(oe=h(oe,ye),oe.return=fe,oe)}function re(fe,oe,ye,De){var Ye=ye.type;return Ye===j?Ce(fe,oe,ye.props.children,De,ye.key):oe!==null&&(oe.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===C&&Ss(Ye)===oe.type)?(oe=h(oe,ye.props),Pl(oe,ye),oe.return=fe,oe):(oe=Cc(ye.type,ye.key,ye.props,null,fe.mode,De),Pl(oe,ye),oe.return=fe,oe)}function _e(fe,oe,ye,De){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ye.containerInfo||oe.stateNode.implementation!==ye.implementation?(oe=cd(ye,fe.mode,De),oe.return=fe,oe):(oe=h(oe,ye.children||[]),oe.return=fe,oe)}function Ce(fe,oe,ye,De,Ye){return oe===null||oe.tag!==7?(oe=vs(ye,fe.mode,De,Ye),oe.return=fe,oe):(oe=h(oe,ye),oe.return=fe,oe)}function Ne(fe,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=ud(""+oe,fe.mode,ye),oe.return=fe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case H:return ye=Cc(oe.type,oe.key,oe.props,null,fe.mode,ye),Pl(ye,oe),ye.return=fe,ye;case I:return oe=cd(oe,fe.mode,ye),oe.return=fe,oe;case C:return oe=Ss(oe),Ne(fe,oe,ye)}if(ke(oe)||k(oe))return oe=vs(oe,fe.mode,ye,null),oe.return=fe,oe;if(typeof oe.then=="function")return Ne(fe,Pc(oe),ye);if(oe.$$typeof===F)return Ne(fe,Oc(fe,oe),ye);kc(fe,oe)}return null}function we(fe,oe,ye,De){var Ye=oe!==null?oe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return Ye!==null?null:U(fe,oe,""+ye,De);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case H:return ye.key===Ye?re(fe,oe,ye,De):null;case I:return ye.key===Ye?_e(fe,oe,ye,De):null;case C:return ye=Ss(ye),we(fe,oe,ye,De)}if(ke(ye)||k(ye))return Ye!==null?null:Ce(fe,oe,ye,De,null);if(typeof ye.then=="function")return we(fe,oe,Pc(ye),De);if(ye.$$typeof===F)return we(fe,oe,Oc(fe,ye),De);kc(fe,ye)}return null}function Se(fe,oe,ye,De,Ye){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return fe=fe.get(ye)||null,U(oe,fe,""+De,Ye);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case H:return fe=fe.get(De.key===null?ye:De.key)||null,re(oe,fe,De,Ye);case I:return fe=fe.get(De.key===null?ye:De.key)||null,_e(oe,fe,De,Ye);case C:return De=Ss(De),Se(fe,oe,ye,De,Ye)}if(ke(De)||k(De))return fe=fe.get(ye)||null,Ce(oe,fe,De,Ye,null);if(typeof De.then=="function")return Se(fe,oe,ye,Pc(De),Ye);if(De.$$typeof===F)return Se(fe,oe,ye,Oc(oe,De),Ye);kc(oe,De)}return null}function qe(fe,oe,ye,De){for(var Ye=null,It=null,Ge=oe,lt=oe=0,pt=null;Ge!==null&&lt<ye.length;lt++){Ge.index>lt?(pt=Ge,Ge=null):pt=Ge.sibling;var xt=we(fe,Ge,ye[lt],De);if(xt===null){Ge===null&&(Ge=pt);break}t&&Ge&&xt.alternate===null&&i(fe,Ge),oe=m(xt,oe,lt),It===null?Ye=xt:It.sibling=xt,It=xt,Ge=pt}if(lt===ye.length)return s(fe,Ge),gt&&Ii(fe,lt),Ye;if(Ge===null){for(;lt<ye.length;lt++)Ge=Ne(fe,ye[lt],De),Ge!==null&&(oe=m(Ge,oe,lt),It===null?Ye=Ge:It.sibling=Ge,It=Ge);return gt&&Ii(fe,lt),Ye}for(Ge=u(Ge);lt<ye.length;lt++)pt=Se(Ge,fe,lt,ye[lt],De),pt!==null&&(t&&pt.alternate!==null&&Ge.delete(pt.key===null?lt:pt.key),oe=m(pt,oe,lt),It===null?Ye=pt:It.sibling=pt,It=pt);return t&&Ge.forEach(function(Va){return i(fe,Va)}),gt&&Ii(fe,lt),Ye}function $e(fe,oe,ye,De){if(ye==null)throw Error(a(151));for(var Ye=null,It=null,Ge=oe,lt=oe=0,pt=null,xt=ye.next();Ge!==null&&!xt.done;lt++,xt=ye.next()){Ge.index>lt?(pt=Ge,Ge=null):pt=Ge.sibling;var Va=we(fe,Ge,xt.value,De);if(Va===null){Ge===null&&(Ge=pt);break}t&&Ge&&Va.alternate===null&&i(fe,Ge),oe=m(Va,oe,lt),It===null?Ye=Va:It.sibling=Va,It=Va,Ge=pt}if(xt.done)return s(fe,Ge),gt&&Ii(fe,lt),Ye;if(Ge===null){for(;!xt.done;lt++,xt=ye.next())xt=Ne(fe,xt.value,De),xt!==null&&(oe=m(xt,oe,lt),It===null?Ye=xt:It.sibling=xt,It=xt);return gt&&Ii(fe,lt),Ye}for(Ge=u(Ge);!xt.done;lt++,xt=ye.next())xt=Se(Ge,fe,lt,xt.value,De),xt!==null&&(t&&xt.alternate!==null&&Ge.delete(xt.key===null?lt:xt.key),oe=m(xt,oe,lt),It===null?Ye=xt:It.sibling=xt,It=xt);return t&&Ge.forEach(function(hI){return i(fe,hI)}),gt&&Ii(fe,lt),Ye}function qt(fe,oe,ye,De){if(typeof ye=="object"&&ye!==null&&ye.type===j&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case H:e:{for(var Ye=ye.key;oe!==null;){if(oe.key===Ye){if(Ye=ye.type,Ye===j){if(oe.tag===7){s(fe,oe.sibling),De=h(oe,ye.props.children),De.return=fe,fe=De;break e}}else if(oe.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===C&&Ss(Ye)===oe.type){s(fe,oe.sibling),De=h(oe,ye.props),Pl(De,ye),De.return=fe,fe=De;break e}s(fe,oe);break}else i(fe,oe);oe=oe.sibling}ye.type===j?(De=vs(ye.props.children,fe.mode,De,ye.key),De.return=fe,fe=De):(De=Cc(ye.type,ye.key,ye.props,null,fe.mode,De),Pl(De,ye),De.return=fe,fe=De)}return S(fe);case I:e:{for(Ye=ye.key;oe!==null;){if(oe.key===Ye)if(oe.tag===4&&oe.stateNode.containerInfo===ye.containerInfo&&oe.stateNode.implementation===ye.implementation){s(fe,oe.sibling),De=h(oe,ye.children||[]),De.return=fe,fe=De;break e}else{s(fe,oe);break}else i(fe,oe);oe=oe.sibling}De=cd(ye,fe.mode,De),De.return=fe,fe=De}return S(fe);case C:return ye=Ss(ye),qt(fe,oe,ye,De)}if(ke(ye))return qe(fe,oe,ye,De);if(k(ye)){if(Ye=k(ye),typeof Ye!="function")throw Error(a(150));return ye=Ye.call(ye),$e(fe,oe,ye,De)}if(typeof ye.then=="function")return qt(fe,oe,Pc(ye),De);if(ye.$$typeof===F)return qt(fe,oe,Oc(fe,ye),De);kc(fe,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,oe!==null&&oe.tag===6?(s(fe,oe.sibling),De=h(oe,ye),De.return=fe,fe=De):(s(fe,oe),De=ud(ye,fe.mode,De),De.return=fe,fe=De),S(fe)):s(fe,oe)}return function(fe,oe,ye,De){try{Ml=0;var Ye=qt(fe,oe,ye,De);return _o=null,Ye}catch(Ge){if(Ge===yo||Ge===Nc)throw Ge;var It=_r(29,Ge,null,fe.mode);return It.lanes=De,It.return=fe,It}}}var Rs=m0(!0),g0=m0(!1),ba=!1;function bd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Td(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ta(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Sa(t,i,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Nt&2)!==0){var h=u.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),u.pending=i,i=Rc(t),Z_(t,null,s),i}return Ac(t,u,i,s),Rc(t)}function kl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,le(t,s)}}function Sd(t,i){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var S={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?h=m=S:m=m.next=S,s=s.next}while(s!==null);m===null?h=m=i:m=m.next=i}else h=m=i;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Ad=!1;function Bl(){if(Ad){var t=go;if(t!==null)throw t}}function Ul(t,i,s,u){Ad=!1;var h=t.updateQueue;ba=!1;var m=h.firstBaseUpdate,S=h.lastBaseUpdate,U=h.shared.pending;if(U!==null){h.shared.pending=null;var re=U,_e=re.next;re.next=null,S===null?m=_e:S.next=_e,S=re;var Ce=t.alternate;Ce!==null&&(Ce=Ce.updateQueue,U=Ce.lastBaseUpdate,U!==S&&(U===null?Ce.firstBaseUpdate=_e:U.next=_e,Ce.lastBaseUpdate=re))}if(m!==null){var Ne=h.baseState;S=0,Ce=_e=re=null,U=m;do{var we=U.lane&-536870913,Se=we!==U.lane;if(Se?(dt&we)===we:(u&we)===we){we!==0&&we===mo&&(Ad=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var qe=t,$e=U;we=i;var qt=s;switch($e.tag){case 1:if(qe=$e.payload,typeof qe=="function"){Ne=qe.call(qt,Ne,we);break e}Ne=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=$e.payload,we=typeof qe=="function"?qe.call(qt,Ne,we):qe,we==null)break e;Ne=w({},Ne,we);break e;case 2:ba=!0}}we=U.callback,we!==null&&(t.flags|=64,Se&&(t.flags|=8192),Se=h.callbacks,Se===null?h.callbacks=[we]:Se.push(we))}else Se={lane:we,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Ce===null?(_e=Ce=Se,re=Ne):Ce=Ce.next=Se,S|=we;if(U=U.next,U===null){if(U=h.shared.pending,U===null)break;Se=U,U=Se.next,Se.next=null,h.lastBaseUpdate=Se,h.shared.pending=null}}while(!0);Ce===null&&(re=Ne),h.baseState=re,h.firstBaseUpdate=_e,h.lastBaseUpdate=Ce,m===null&&(h.shared.lanes=0),xa|=S,t.lanes=S,t.memoizedState=Ne}}function y0(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function _0(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)y0(s[t],i)}var vo=ne(null),Bc=ne(0);function v0(t,i){t=Vi,Z(Bc,t),Z(vo,i),Vi=t|i.baseLanes}function Rd(){Z(Bc,Vi),Z(vo,vo.current)}function Cd(){Vi=Bc.current,ve(vo),ve(Bc)}var vr=ne(null),kr=null;function Aa(t){var i=t.alternate;Z(hn,hn.current&1),Z(vr,t),kr===null&&(i===null||vo.current!==null||i.memoizedState!==null)&&(kr=t)}function Id(t){Z(hn,hn.current),Z(vr,t),kr===null&&(kr=t)}function E0(t){t.tag===22?(Z(hn,hn.current),Z(vr,t),kr===null&&(kr=t)):Ra()}function Ra(){Z(hn,hn.current),Z(vr,vr.current)}function Er(t){ve(vr),kr===t&&(kr=null),ve(hn)}var hn=ne(0);function Uc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Pp(s)||kp(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Di=0,st=null,jt=null,_n=null,Lc=!1,Eo=!1,Cs=!1,Vc=0,Ll=0,wo=null,nC=0;function sn(){throw Error(a(321))}function xd(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!yr(t[s],i[s]))return!1;return!0}function Od(t,i,s,u,h,m){return Di=m,st=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ae.H=t===null||t.memoizedState===null?rv:Gd,Cs=!1,m=s(u,h),Cs=!1,Eo&&(m=b0(i,s,u,h)),w0(t),m}function w0(t){ae.H=Fl;var i=jt!==null&&jt.next!==null;if(Di=0,_n=jt=st=null,Lc=!1,Ll=0,wo=null,i)throw Error(a(300));t===null||vn||(t=t.dependencies,t!==null&&xc(t)&&(vn=!0))}function b0(t,i,s,u){st=t;var h=0;do{if(Eo&&(wo=null),Ll=0,Eo=!1,25<=h)throw Error(a(301));if(h+=1,_n=jt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}ae.H=iv,m=i(s,u)}while(Eo);return m}function rC(){var t=ae.H,i=t.useState()[0];return i=typeof i.then=="function"?Vl(i):i,t=t.useState()[0],(jt!==null?jt.memoizedState:null)!==t&&(st.flags|=1024),i}function Dd(){var t=Vc!==0;return Vc=0,t}function Nd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Md(t){if(Lc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Lc=!1}Di=0,_n=jt=st=null,Eo=!1,Ll=Vc=0,wo=null}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?st.memoizedState=_n=t:_n=_n.next=t,_n}function dn(){if(jt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var i=_n===null?st.memoizedState:_n.next;if(i!==null)_n=i,jt=t;else{if(t===null)throw st.alternate===null?Error(a(467)):Error(a(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},_n===null?st.memoizedState=_n=t:_n=_n.next=t}return _n}function jc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(t){var i=Ll;return Ll+=1,wo===null&&(wo=[]),t=h0(wo,t,i),i=st,(_n===null?i.memoizedState:_n.next)===null&&(i=i.alternate,ae.H=i===null||i.memoizedState===null?rv:Gd),t}function Fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Vl(t);if(t.$$typeof===F)return Mn(t)}throw Error(a(438,String(t)))}function Pd(t){var i=null,s=st.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=st.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=jc(),st.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),u=0;u<t;u++)s[u]=K;return i.index++,s}function Ni(t,i){return typeof i=="function"?i(t):i}function qc(t){var i=dn();return kd(i,jt,t)}function kd(t,i,s){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=s;var h=t.baseQueue,m=u.pending;if(m!==null){if(h!==null){var S=h.next;h.next=m.next,m.next=S}i.baseQueue=h=m,u.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{i=h.next;var U=S=null,re=null,_e=i,Ce=!1;do{var Ne=_e.lane&-536870913;if(Ne!==_e.lane?(dt&Ne)===Ne:(Di&Ne)===Ne){var we=_e.revertLane;if(we===0)re!==null&&(re=re.next={lane:0,revertLane:0,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),Ne===mo&&(Ce=!0);else if((Di&we)===we){_e=_e.next,we===mo&&(Ce=!0);continue}else Ne={lane:0,revertLane:_e.revertLane,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},re===null?(U=re=Ne,S=m):re=re.next=Ne,st.lanes|=we,xa|=we;Ne=_e.action,Cs&&s(m,Ne),m=_e.hasEagerState?_e.eagerState:s(m,Ne)}else we={lane:Ne,revertLane:_e.revertLane,gesture:_e.gesture,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},re===null?(U=re=we,S=m):re=re.next=we,st.lanes|=Ne,xa|=Ne;_e=_e.next}while(_e!==null&&_e!==i);if(re===null?S=m:re.next=U,!yr(m,t.memoizedState)&&(vn=!0,Ce&&(s=go,s!==null)))throw s;t.memoizedState=m,t.baseState=S,t.baseQueue=re,u.lastRenderedState=m}return h===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Bd(t){var i=dn(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var u=s.dispatch,h=s.pending,m=i.memoizedState;if(h!==null){s.pending=null;var S=h=h.next;do m=t(m,S.action),S=S.next;while(S!==h);yr(m,i.memoizedState)||(vn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),s.lastRenderedState=m}return[m,u]}function T0(t,i,s){var u=st,h=dn(),m=gt;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=i();var S=!yr((jt||h).memoizedState,s);if(S&&(h.memoizedState=s,vn=!0),h=h.queue,Vd(R0.bind(null,u,h,t),[t]),h.getSnapshot!==i||S||_n!==null&&_n.memoizedState.tag&1){if(u.flags|=2048,bo(9,{destroy:void 0},A0.bind(null,u,h,s,i),null),Ht===null)throw Error(a(349));m||(Di&127)!==0||S0(u,i,s)}return s}function S0(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=st.updateQueue,i===null?(i=jc(),st.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function A0(t,i,s,u){i.value=s,i.getSnapshot=u,C0(i)&&I0(t)}function R0(t,i,s){return s(function(){C0(i)&&I0(t)})}function C0(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!yr(t,s)}catch{return!0}}function I0(t){var i=_s(t,2);i!==null&&cr(i,t,2)}function Ud(t){var i=er();if(typeof t=="function"){var s=t;if(t=s(),Cs){me(!0);try{s()}finally{me(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:t},i}function x0(t,i,s,u){return t.baseState=s,kd(t,jt,typeof u=="function"?u:Ni)}function iC(t,i,s,u,h){if(Gc(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};ae.T!==null?s(!0):m.isTransition=!1,u(m),s=i.pending,s===null?(m.next=i.pending=m,O0(i,m)):(m.next=s.next,i.pending=s.next=m)}}function O0(t,i){var s=i.action,u=i.payload,h=t.state;if(i.isTransition){var m=ae.T,S={};ae.T=S;try{var U=s(h,u),re=ae.S;re!==null&&re(S,U),D0(t,i,U)}catch(_e){Ld(t,i,_e)}finally{m!==null&&S.types!==null&&(m.types=S.types),ae.T=m}}else try{m=s(h,u),D0(t,i,m)}catch(_e){Ld(t,i,_e)}}function D0(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){N0(t,i,u)},function(u){return Ld(t,i,u)}):N0(t,i,s)}function N0(t,i,s){i.status="fulfilled",i.value=s,M0(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,O0(t,s)))}function Ld(t,i,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,M0(i),i=i.next;while(i!==u)}t.action=null}function M0(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function P0(t,i){return i}function k0(t,i){if(gt){var s=Ht.formState;if(s!==null){e:{var u=st;if(gt){if(Yt){t:{for(var h=Yt,m=Pr;h.nodeType!==8;){if(!m){h=null;break t}if(h=Br(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Yt=Br(h.nextSibling),u=h.data==="F!";break e}}Ea(u)}u=!1}u&&(i=s[0])}}return s=er(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:P0,lastRenderedState:i},s.queue=u,s=ev.bind(null,st,u),u.dispatch=s,u=Ud(!1),m=Hd.bind(null,st,!1,u.queue),u=er(),h={state:i,dispatch:null,action:t,pending:null},u.queue=h,s=iC.bind(null,st,h,m,s),h.dispatch=s,u.memoizedState=t,[i,s,!1]}function B0(t){var i=dn();return U0(i,jt,t)}function U0(t,i,s){if(i=kd(t,i,P0)[0],t=qc(Ni)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Vl(i)}catch(S){throw S===yo?Nc:S}else u=i;i=dn();var h=i.queue,m=h.dispatch;return s!==i.memoizedState&&(st.flags|=2048,bo(9,{destroy:void 0},aC.bind(null,h,s),null)),[u,m,t]}function aC(t,i){t.action=i}function L0(t){var i=dn(),s=jt;if(s!==null)return U0(i,s,t);dn(),i=i.memoizedState,s=dn();var u=s.queue.dispatch;return s.memoizedState=t,[i,u,!1]}function bo(t,i,s,u){return t={tag:t,create:s,deps:u,inst:i,next:null},i=st.updateQueue,i===null&&(i=jc(),st.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,i.lastEffect=t),t}function V0(){return dn().memoizedState}function zc(t,i,s,u){var h=er();st.flags|=t,h.memoizedState=bo(1|i,{destroy:void 0},s,u===void 0?null:u)}function Hc(t,i,s,u){var h=dn();u=u===void 0?null:u;var m=h.memoizedState.inst;jt!==null&&u!==null&&xd(u,jt.memoizedState.deps)?h.memoizedState=bo(i,m,s,u):(st.flags|=t,h.memoizedState=bo(1|i,m,s,u))}function j0(t,i){zc(8390656,8,t,i)}function Vd(t,i){Hc(2048,8,t,i)}function sC(t){st.flags|=4;var i=st.updateQueue;if(i===null)i=jc(),st.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function F0(t){var i=dn().memoizedState;return sC({ref:i,nextImpl:t}),function(){if((Nt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function q0(t,i){return Hc(4,2,t,i)}function z0(t,i){return Hc(4,4,t,i)}function H0(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function G0(t,i,s){s=s!=null?s.concat([t]):null,Hc(4,4,H0.bind(null,i,t),s)}function jd(){}function K0(t,i){var s=dn();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&xd(i,u[1])?u[0]:(s.memoizedState=[t,i],t)}function Y0(t,i){var s=dn();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&xd(i,u[1]))return u[0];if(u=t(),Cs){me(!0);try{t()}finally{me(!1)}}return s.memoizedState=[u,i],u}function Fd(t,i,s){return s===void 0||(Di&1073741824)!==0&&(dt&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=Wv(),st.lanes|=t,xa|=t,s)}function W0(t,i,s,u){return yr(s,i)?s:vo.current!==null?(t=Fd(t,s,u),yr(t,i)||(vn=!0),t):(Di&42)===0||(Di&1073741824)!==0&&(dt&261930)===0?(vn=!0,t.memoizedState=s):(t=Wv(),st.lanes|=t,xa|=t,i)}function Q0(t,i,s,u,h){var m=ge.p;ge.p=m!==0&&8>m?m:8;var S=ae.T,U={};ae.T=U,Hd(t,!1,i,s);try{var re=h(),_e=ae.S;if(_e!==null&&_e(U,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var Ce=tC(re,u);jl(t,i,Ce,Tr(t))}else jl(t,i,u,Tr(t))}catch(Ne){jl(t,i,{then:function(){},status:"rejected",reason:Ne},Tr())}finally{ge.p=m,S!==null&&U.types!==null&&(S.types=U.types),ae.T=S}}function oC(){}function qd(t,i,s,u){if(t.tag!==5)throw Error(a(476));var h=$0(t).queue;Q0(t,h,i,xe,s===null?oC:function(){return X0(t),s(u)})}function $0(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:xe},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ni,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function X0(t){var i=$0(t);i.next===null&&(i=t.alternate.memoizedState),jl(t,i.next.queue,{},Tr())}function zd(){return Mn(ru)}function J0(){return dn().memoizedState}function Z0(){return dn().memoizedState}function lC(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Tr();t=Ta(s);var u=Sa(i,t,s);u!==null&&(cr(u,i,s),kl(u,i,s)),i={cache:_d()},t.payload=i;return}i=i.return}}function uC(t,i,s){var u=Tr();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Gc(t)?tv(i,s):(s=od(t,i,s,u),s!==null&&(cr(s,t,u),nv(s,i,u)))}function ev(t,i,s){var u=Tr();jl(t,i,s,u)}function jl(t,i,s,u){var h={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Gc(t))tv(i,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var S=i.lastRenderedState,U=m(S,s);if(h.hasEagerState=!0,h.eagerState=U,yr(U,S))return Ac(t,i,h,0),Ht===null&&Sc(),!1}catch{}if(s=od(t,i,h,u),s!==null)return cr(s,t,u),nv(s,i,u),!0}return!1}function Hd(t,i,s,u){if(u={lane:2,revertLane:bp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Gc(t)){if(i)throw Error(a(479))}else i=od(t,s,u,2),i!==null&&cr(i,t,2)}function Gc(t){var i=t.alternate;return t===st||i!==null&&i===st}function tv(t,i){Eo=Lc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function nv(t,i,s){if((s&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,le(t,s)}}var Fl={readContext:Mn,use:Fc,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn};Fl.useEffectEvent=sn;var rv={readContext:Mn,use:Fc,useCallback:function(t,i){return er().memoizedState=[t,i===void 0?null:i],t},useContext:Mn,useEffect:j0,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,zc(4194308,4,H0.bind(null,i,t),s)},useLayoutEffect:function(t,i){return zc(4194308,4,t,i)},useInsertionEffect:function(t,i){zc(4,2,t,i)},useMemo:function(t,i){var s=er();i=i===void 0?null:i;var u=t();if(Cs){me(!0);try{t()}finally{me(!1)}}return s.memoizedState=[u,i],u},useReducer:function(t,i,s){var u=er();if(s!==void 0){var h=s(i);if(Cs){me(!0);try{s(i)}finally{me(!1)}}}else h=i;return u.memoizedState=u.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},u.queue=t,t=t.dispatch=uC.bind(null,st,t),[u.memoizedState,t]},useRef:function(t){var i=er();return t={current:t},i.memoizedState=t},useState:function(t){t=Ud(t);var i=t.queue,s=ev.bind(null,st,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:jd,useDeferredValue:function(t,i){var s=er();return Fd(s,t,i)},useTransition:function(){var t=Ud(!1);return t=Q0.bind(null,st,t.queue,!0,!1),er().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var u=st,h=er();if(gt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Ht===null)throw Error(a(349));(dt&127)!==0||S0(u,i,s)}h.memoizedState=s;var m={value:s,getSnapshot:i};return h.queue=m,j0(R0.bind(null,u,m,t),[t]),u.flags|=2048,bo(9,{destroy:void 0},A0.bind(null,u,m,s,i),null),s},useId:function(){var t=er(),i=Ht.identifierPrefix;if(gt){var s=ai,u=ii;s=(u&~(1<<32-Re(u)-1)).toString(32)+s,i="_"+i+"R_"+s,s=Vc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=nC++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:zd,useFormState:k0,useActionState:k0,useOptimistic:function(t){var i=er();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Hd.bind(null,st,!0,s),s.dispatch=i,[t,i]},useMemoCache:Pd,useCacheRefresh:function(){return er().memoizedState=lC.bind(null,st)},useEffectEvent:function(t){var i=er(),s={impl:t};return i.memoizedState=s,function(){if((Nt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Gd={readContext:Mn,use:Fc,useCallback:K0,useContext:Mn,useEffect:Vd,useImperativeHandle:G0,useInsertionEffect:q0,useLayoutEffect:z0,useMemo:Y0,useReducer:qc,useRef:V0,useState:function(){return qc(Ni)},useDebugValue:jd,useDeferredValue:function(t,i){var s=dn();return W0(s,jt.memoizedState,t,i)},useTransition:function(){var t=qc(Ni)[0],i=dn().memoizedState;return[typeof t=="boolean"?t:Vl(t),i]},useSyncExternalStore:T0,useId:J0,useHostTransitionStatus:zd,useFormState:B0,useActionState:B0,useOptimistic:function(t,i){var s=dn();return x0(s,jt,t,i)},useMemoCache:Pd,useCacheRefresh:Z0};Gd.useEffectEvent=F0;var iv={readContext:Mn,use:Fc,useCallback:K0,useContext:Mn,useEffect:Vd,useImperativeHandle:G0,useInsertionEffect:q0,useLayoutEffect:z0,useMemo:Y0,useReducer:Bd,useRef:V0,useState:function(){return Bd(Ni)},useDebugValue:jd,useDeferredValue:function(t,i){var s=dn();return jt===null?Fd(s,t,i):W0(s,jt.memoizedState,t,i)},useTransition:function(){var t=Bd(Ni)[0],i=dn().memoizedState;return[typeof t=="boolean"?t:Vl(t),i]},useSyncExternalStore:T0,useId:J0,useHostTransitionStatus:zd,useFormState:L0,useActionState:L0,useOptimistic:function(t,i){var s=dn();return jt!==null?x0(s,jt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Pd,useCacheRefresh:Z0};iv.useEffectEvent=F0;function Kd(t,i,s,u){i=t.memoizedState,s=s(u,i),s=s==null?i:w({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Yd={enqueueSetState:function(t,i,s){t=t._reactInternals;var u=Tr(),h=Ta(u);h.payload=i,s!=null&&(h.callback=s),i=Sa(t,h,u),i!==null&&(cr(i,t,u),kl(i,t,u))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var u=Tr(),h=Ta(u);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Sa(t,h,u),i!==null&&(cr(i,t,u),kl(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Tr(),u=Ta(s);u.tag=2,i!=null&&(u.callback=i),i=Sa(t,u,s),i!==null&&(cr(i,t,s),kl(i,t,s))}};function av(t,i,s,u,h,m,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,m,S):i.prototype&&i.prototype.isPureReactComponent?!Cl(s,u)||!Cl(h,m):!0}function sv(t,i,s,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==t&&Yd.enqueueReplaceState(i,i.state,null)}function Is(t,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(t=t.defaultProps){s===i&&(s=w({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function ov(t){Tc(t)}function lv(t){console.error(t)}function uv(t){Tc(t)}function Kc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function cv(t,i,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wd(t,i,s){return s=Ta(s),s.tag=3,s.payload={element:null},s.callback=function(){Kc(t,i)},s}function fv(t){return t=Ta(t),t.tag=3,t}function hv(t,i,s,u){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;t.payload=function(){return h(m)},t.callback=function(){cv(i,s,u)}}var S=s.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){cv(i,s,u),typeof h!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var U=u.stack;this.componentDidCatch(u.value,{componentStack:U!==null?U:""})})}function cC(t,i,s,u,h){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&po(i,s,h,!0),s=vr.current,s!==null){switch(s.tag){case 31:case 13:return kr===null?af():s.alternate===null&&on===0&&(on=3),s.flags&=-257,s.flags|=65536,s.lanes=h,u===Mc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),vp(t,u,h)),!1;case 22:return s.flags|=65536,u===Mc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),vp(t,u,h)),!1}throw Error(a(435,s.tag))}return vp(t,u,h),af(),!1}if(gt)return i=vr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,u!==dd&&(t=Error(a(422),{cause:u}),Ol(Dr(t,s)))):(u!==dd&&(i=Error(a(423),{cause:u}),Ol(Dr(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,u=Dr(u,s),h=Wd(t.stateNode,u,h),Sd(t,h),on!==4&&(on=2)),!1;var m=Error(a(520),{cause:u});if(m=Dr(m,s),Ql===null?Ql=[m]:Ql.push(m),on!==4&&(on=2),i===null)return!0;u=Dr(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Wd(s.stateNode,u,t),Sd(s,t),!1;case 1:if(i=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Oa===null||!Oa.has(m))))return s.flags|=65536,h&=-h,s.lanes|=h,h=fv(h),hv(h,t,s,u),Sd(s,h),!1}s=s.return}while(s!==null);return!1}var Qd=Error(a(461)),vn=!1;function Pn(t,i,s,u){i.child=t===null?g0(i,null,s,u):Rs(i,t.child,s,u)}function dv(t,i,s,u,h){s=s.render;var m=i.ref;if("ref"in u){var S={};for(var U in u)U!=="ref"&&(S[U]=u[U])}else S=u;return bs(i),u=Od(t,i,s,S,m,h),U=Dd(),t!==null&&!vn?(Nd(t,i,h),Mi(t,i,h)):(gt&&U&&fd(i),i.flags|=1,Pn(t,i,u,h),i.child)}function pv(t,i,s,u,h){if(t===null){var m=s.type;return typeof m=="function"&&!ld(m)&&m.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=m,mv(t,i,m,u,h)):(t=Cc(s.type,null,u,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!rp(t,h)){var S=m.memoizedProps;if(s=s.compare,s=s!==null?s:Cl,s(S,u)&&t.ref===i.ref)return Mi(t,i,h)}return i.flags|=1,t=Ci(m,u),t.ref=i.ref,t.return=i,i.child=t}function mv(t,i,s,u,h){if(t!==null){var m=t.memoizedProps;if(Cl(m,u)&&t.ref===i.ref)if(vn=!1,i.pendingProps=u=m,rp(t,h))(t.flags&131072)!==0&&(vn=!0);else return i.lanes=t.lanes,Mi(t,i,h)}return $d(t,i,s,u,h)}function gv(t,i,s,u){var h=u.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,t!==null){for(u=i.child=t.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~m}else u=0,i.child=null;return yv(t,i,m,s,u)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Dc(i,m!==null?m.cachePool:null),m!==null?v0(i,m):Rd(),E0(i);else return u=i.lanes=536870912,yv(t,i,m!==null?m.baseLanes|s:s,s,u)}else m!==null?(Dc(i,m.cachePool),v0(i,m),Ra(),i.memoizedState=null):(t!==null&&Dc(i,null),Rd(),Ra());return Pn(t,i,h,s),i.child}function ql(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function yv(t,i,s,u,h){var m=Ed();return m=m===null?null:{parent:yn._currentValue,pool:m},i.memoizedState={baseLanes:s,cachePool:m},t!==null&&Dc(i,null),Rd(),E0(i),t!==null&&po(t,i,u,!0),i.childLanes=h,null}function Yc(t,i){return i=Qc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function _v(t,i,s){return Rs(i,t.child,null,s),t=Yc(i,i.pendingProps),t.flags|=2,Er(i),i.memoizedState=null,t}function fC(t,i,s){var u=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(gt){if(u.mode==="hidden")return t=Yc(i,u),i.lanes=536870912,ql(null,t);if(Id(i),(t=Yt)?(t=OE(t,Pr),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:_a!==null?{id:ii,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},s=t0(t),s.return=i,i.child=s,Nn=i,Yt=null)):t=null,t===null)throw Ea(i);return i.lanes=536870912,null}return Yc(i,u)}var m=t.memoizedState;if(m!==null){var S=m.dehydrated;if(Id(i),h)if(i.flags&256)i.flags&=-257,i=_v(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(vn||po(t,i,s,!1),h=(s&t.childLanes)!==0,vn||h){if(u=Ht,u!==null&&(S=be(u,s),S!==0&&S!==m.retryLane))throw m.retryLane=S,_s(t,S),cr(u,t,S),Qd;af(),i=_v(t,i,s)}else t=m.treeContext,Yt=Br(S.nextSibling),Nn=i,gt=!0,va=null,Pr=!1,t!==null&&i0(i,t),i=Yc(i,u),i.flags|=4096;return i}return t=Ci(t.child,{mode:u.mode,children:u.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Wc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function $d(t,i,s,u,h){return bs(i),s=Od(t,i,s,u,void 0,h),u=Dd(),t!==null&&!vn?(Nd(t,i,h),Mi(t,i,h)):(gt&&u&&fd(i),i.flags|=1,Pn(t,i,s,h),i.child)}function vv(t,i,s,u,h,m){return bs(i),i.updateQueue=null,s=b0(i,u,s,h),w0(t),u=Dd(),t!==null&&!vn?(Nd(t,i,m),Mi(t,i,m)):(gt&&u&&fd(i),i.flags|=1,Pn(t,i,s,m),i.child)}function Ev(t,i,s,u,h){if(bs(i),i.stateNode===null){var m=uo,S=s.contextType;typeof S=="object"&&S!==null&&(m=Mn(S)),m=new s(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Yd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},bd(i),S=s.contextType,m.context=typeof S=="object"&&S!==null?Mn(S):uo,m.state=i.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(Kd(i,s,S,u),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&Yd.enqueueReplaceState(m,m.state,null),Ul(i,u,m,h),Bl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){m=i.stateNode;var U=i.memoizedProps,re=Is(s,U);m.props=re;var _e=m.context,Ce=s.contextType;S=uo,typeof Ce=="object"&&Ce!==null&&(S=Mn(Ce));var Ne=s.getDerivedStateFromProps;Ce=typeof Ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",U=i.pendingProps!==U,Ce||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(U||_e!==S)&&sv(i,m,u,S),ba=!1;var we=i.memoizedState;m.state=we,Ul(i,u,m,h),Bl(),_e=i.memoizedState,U||we!==_e||ba?(typeof Ne=="function"&&(Kd(i,s,Ne,u),_e=i.memoizedState),(re=ba||av(i,s,re,u,we,_e,S))?(Ce||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=_e),m.props=u,m.state=_e,m.context=S,u=re):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Td(t,i),S=i.memoizedProps,Ce=Is(s,S),m.props=Ce,Ne=i.pendingProps,we=m.context,_e=s.contextType,re=uo,typeof _e=="object"&&_e!==null&&(re=Mn(_e)),U=s.getDerivedStateFromProps,(_e=typeof U=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==Ne||we!==re)&&sv(i,m,u,re),ba=!1,we=i.memoizedState,m.state=we,Ul(i,u,m,h),Bl();var Se=i.memoizedState;S!==Ne||we!==Se||ba||t!==null&&t.dependencies!==null&&xc(t.dependencies)?(typeof U=="function"&&(Kd(i,s,U,u),Se=i.memoizedState),(Ce=ba||av(i,s,Ce,u,we,Se,re)||t!==null&&t.dependencies!==null&&xc(t.dependencies))?(_e||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Se,re),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Se,re)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===t.memoizedProps&&we===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&we===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Se),m.props=u,m.state=Se,m.context=re,u=Ce):(typeof m.componentDidUpdate!="function"||S===t.memoizedProps&&we===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&we===t.memoizedState||(i.flags|=1024),u=!1)}return m=u,Wc(t,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&u?(i.child=Rs(i,t.child,null,h),i.child=Rs(i,null,s,h)):Pn(t,i,s,h),i.memoizedState=m.state,t=i.child):t=Mi(t,i,h),t}function wv(t,i,s,u){return Es(),i.flags|=256,Pn(t,i,s,u),i.child}var Xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jd(t){return{baseLanes:t,cachePool:c0()}}function Zd(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=br),t}function bv(t,i,s){var u=i.pendingProps,h=!1,m=(i.flags&128)!==0,S;if((S=m)||(S=t!==null&&t.memoizedState===null?!1:(hn.current&2)!==0),S&&(h=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,t===null){if(gt){if(h?Aa(i):Ra(),(t=Yt)?(t=OE(t,Pr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:_a!==null?{id:ii,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},s=t0(t),s.return=i,i.child=s,Nn=i,Yt=null)):t=null,t===null)throw Ea(i);return kp(t)?i.lanes=32:i.lanes=536870912,null}var U=u.children;return u=u.fallback,h?(Ra(),h=i.mode,U=Qc({mode:"hidden",children:U},h),u=vs(u,h,s,null),U.return=i,u.return=i,U.sibling=u,i.child=U,u=i.child,u.memoizedState=Jd(s),u.childLanes=Zd(t,S,s),i.memoizedState=Xd,ql(null,u)):(Aa(i),ep(i,U))}var re=t.memoizedState;if(re!==null&&(U=re.dehydrated,U!==null)){if(m)i.flags&256?(Aa(i),i.flags&=-257,i=tp(t,i,s)):i.memoizedState!==null?(Ra(),i.child=t.child,i.flags|=128,i=null):(Ra(),U=u.fallback,h=i.mode,u=Qc({mode:"visible",children:u.children},h),U=vs(U,h,s,null),U.flags|=2,u.return=i,U.return=i,u.sibling=U,i.child=u,Rs(i,t.child,null,s),u=i.child,u.memoizedState=Jd(s),u.childLanes=Zd(t,S,s),i.memoizedState=Xd,i=ql(null,u));else if(Aa(i),kp(U)){if(S=U.nextSibling&&U.nextSibling.dataset,S)var _e=S.dgst;S=_e,u=Error(a(419)),u.stack="",u.digest=S,Ol({value:u,source:null,stack:null}),i=tp(t,i,s)}else if(vn||po(t,i,s,!1),S=(s&t.childLanes)!==0,vn||S){if(S=Ht,S!==null&&(u=be(S,s),u!==0&&u!==re.retryLane))throw re.retryLane=u,_s(t,u),cr(S,t,u),Qd;Pp(U)||af(),i=tp(t,i,s)}else Pp(U)?(i.flags|=192,i.child=t.child,i=null):(t=re.treeContext,Yt=Br(U.nextSibling),Nn=i,gt=!0,va=null,Pr=!1,t!==null&&i0(i,t),i=ep(i,u.children),i.flags|=4096);return i}return h?(Ra(),U=u.fallback,h=i.mode,re=t.child,_e=re.sibling,u=Ci(re,{mode:"hidden",children:u.children}),u.subtreeFlags=re.subtreeFlags&65011712,_e!==null?U=Ci(_e,U):(U=vs(U,h,s,null),U.flags|=2),U.return=i,u.return=i,u.sibling=U,i.child=u,ql(null,u),u=i.child,U=t.child.memoizedState,U===null?U=Jd(s):(h=U.cachePool,h!==null?(re=yn._currentValue,h=h.parent!==re?{parent:re,pool:re}:h):h=c0(),U={baseLanes:U.baseLanes|s,cachePool:h}),u.memoizedState=U,u.childLanes=Zd(t,S,s),i.memoizedState=Xd,ql(t.child,u)):(Aa(i),s=t.child,t=s.sibling,s=Ci(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,t!==null&&(S=i.deletions,S===null?(i.deletions=[t],i.flags|=16):S.push(t)),i.child=s,i.memoizedState=null,s)}function ep(t,i){return i=Qc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Qc(t,i){return t=_r(22,t,null,i),t.lanes=0,t}function tp(t,i,s){return Rs(i,t.child,null,s),t=ep(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Tv(t,i,s){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),gd(t.return,i,s)}function np(t,i,s,u,h,m){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h,treeForkCount:m}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=s,S.tailMode=h,S.treeForkCount=m)}function Sv(t,i,s){var u=i.pendingProps,h=u.revealOrder,m=u.tail;u=u.children;var S=hn.current,U=(S&2)!==0;if(U?(S=S&1|2,i.flags|=128):S&=1,Z(hn,S),Pn(t,i,u,s),u=gt?xl:0,!U&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Tv(t,s,i);else if(t.tag===19)Tv(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&Uc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),np(i,!1,h,s,m,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Uc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}np(i,!0,s,null,m,u);break;case"together":np(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Mi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),xa|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(po(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Ci(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Ci(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function rp(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&xc(t)))}function hC(t,i,s){switch(i.tag){case 3:ce(i,i.stateNode.containerInfo),wa(i,yn,t.memoizedState.cache),Es();break;case 27:case 5:Te(i);break;case 4:ce(i,i.stateNode.containerInfo);break;case 10:wa(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Id(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Aa(i),i.flags|=128,null):(s&i.child.childLanes)!==0?bv(t,i,s):(Aa(i),t=Mi(t,i,s),t!==null?t.sibling:null);Aa(i);break;case 19:var h=(t.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(po(t,i,s,!1),u=(s&i.childLanes)!==0),h){if(u)return Sv(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(hn,hn.current),u)break;return null;case 22:return i.lanes=0,gv(t,i,s,i.pendingProps);case 24:wa(i,yn,t.memoizedState.cache)}return Mi(t,i,s)}function Av(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)vn=!0;else{if(!rp(t,s)&&(i.flags&128)===0)return vn=!1,hC(t,i,s);vn=(t.flags&131072)!==0}else vn=!1,gt&&(i.flags&1048576)!==0&&r0(i,xl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(t=Ss(i.elementType),i.type=t,typeof t=="function")ld(t)?(u=Is(t,u),i.tag=1,i=Ev(null,i,t,u,s)):(i.tag=0,i=$d(null,i,t,u,s));else{if(t!=null){var h=t.$$typeof;if(h===G){i.tag=11,i=dv(null,i,t,u,s);break e}else if(h===x){i.tag=14,i=pv(null,i,t,u,s);break e}}throw i=Ke(t)||t,Error(a(306,i,""))}}return i;case 0:return $d(t,i,i.type,i.pendingProps,s);case 1:return u=i.type,h=Is(u,i.pendingProps),Ev(t,i,u,h,s);case 3:e:{if(ce(i,i.stateNode.containerInfo),t===null)throw Error(a(387));u=i.pendingProps;var m=i.memoizedState;h=m.element,Td(t,i),Ul(i,u,null,s);var S=i.memoizedState;if(u=S.cache,wa(i,yn,u),u!==m.cache&&yd(i,[yn],s,!0),Bl(),u=S.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=wv(t,i,u,s);break e}else if(u!==h){h=Dr(Error(a(424)),i),Ol(h),i=wv(t,i,u,s);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Yt=Br(t.firstChild),Nn=i,gt=!0,va=null,Pr=!0,s=g0(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Es(),u===h){i=Mi(t,i,s);break e}Pn(t,i,u,s)}i=i.child}return i;case 26:return Wc(t,i),t===null?(s=BE(i.type,null,i.pendingProps,null))?i.memoizedState=s:gt||(s=i.type,t=i.pendingProps,u=hf(te.current).createElement(s),u[Xe]=i,u[Dn]=t,kn(u,s,t),fn(u),i.stateNode=u):i.memoizedState=BE(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Te(i),t===null&&gt&&(u=i.stateNode=ME(i.type,i.pendingProps,te.current),Nn=i,Pr=!0,h=Yt,Pa(i.type)?(Bp=h,Yt=Br(u.firstChild)):Yt=h),Pn(t,i,i.pendingProps.children,s),Wc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&gt&&((h=u=Yt)&&(u=qC(u,i.type,i.pendingProps,Pr),u!==null?(i.stateNode=u,Nn=i,Yt=Br(u.firstChild),Pr=!1,h=!0):h=!1),h||Ea(i)),Te(i),h=i.type,m=i.pendingProps,S=t!==null?t.memoizedProps:null,u=m.children,Dp(h,m)?u=null:S!==null&&Dp(h,S)&&(i.flags|=32),i.memoizedState!==null&&(h=Od(t,i,rC,null,null,s),ru._currentValue=h),Wc(t,i),Pn(t,i,u,s),i.child;case 6:return t===null&&gt&&((t=s=Yt)&&(s=zC(s,i.pendingProps,Pr),s!==null?(i.stateNode=s,Nn=i,Yt=null,t=!0):t=!1),t||Ea(i)),null;case 13:return bv(t,i,s);case 4:return ce(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Rs(i,null,u,s):Pn(t,i,u,s),i.child;case 11:return dv(t,i,i.type,i.pendingProps,s);case 7:return Pn(t,i,i.pendingProps,s),i.child;case 8:return Pn(t,i,i.pendingProps.children,s),i.child;case 12:return Pn(t,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,wa(i,i.type,u.value),Pn(t,i,u.children,s),i.child;case 9:return h=i.type._context,u=i.pendingProps.children,bs(i),h=Mn(h),u=u(h),i.flags|=1,Pn(t,i,u,s),i.child;case 14:return pv(t,i,i.type,i.pendingProps,s);case 15:return mv(t,i,i.type,i.pendingProps,s);case 19:return Sv(t,i,s);case 31:return fC(t,i,s);case 22:return gv(t,i,s,i.pendingProps);case 24:return bs(i),u=Mn(yn),t===null?(h=Ed(),h===null&&(h=Ht,m=_d(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=s),h=m),i.memoizedState={parent:u,cache:h},bd(i),wa(i,yn,h)):((t.lanes&s)!==0&&(Td(t,i),Ul(i,null,null,s),Bl()),h=t.memoizedState,m=i.memoizedState,h.parent!==u?(h={parent:u,cache:u},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),wa(i,yn,u)):(u=m.cache,wa(i,yn,u),u!==h.cache&&yd(i,[yn],s,!0))),Pn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Pi(t){t.flags|=4}function ip(t,i,s,u,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Jv())t.flags|=8192;else throw As=Mc,wd}else t.flags&=-16777217}function Rv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!FE(i))if(Jv())t.flags|=8192;else throw As=Mc,wd}function $c(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?as():536870912,t.lanes|=i,Ro|=i)}function zl(t,i){if(!gt)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Wt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=s,i}function dC(t,i,s){var u=i.pendingProps;switch(hd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(i),null;case 1:return Wt(i),null;case 3:return s=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Oi(yn),pe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ho(i)?Pi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,pd())),Wt(i),null;case 26:var h=i.type,m=i.memoizedState;return t===null?(Pi(i),m!==null?(Wt(i),Rv(i,m)):(Wt(i),ip(i,h,null,u,s))):m?m!==t.memoizedState?(Pi(i),Wt(i),Rv(i,m)):(Wt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==u&&Pi(i),Wt(i),ip(i,h,t,u,s)),null;case 27:if(V(i),s=te.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Pi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Wt(i),null}t=ie.current,ho(i)?a0(i):(t=ME(h,u,s),i.stateNode=t,Pi(i))}return Wt(i),null;case 5:if(V(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Pi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Wt(i),null}if(m=ie.current,ho(i))a0(i);else{var S=hf(te.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?S.createElement(h,{is:u.is}):S.createElement(h)}}m[Xe]=i,m[Dn]=u;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=m;e:switch(kn(m,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Pi(i)}}return Wt(i),ip(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&Pi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(t=te.current,ho(i)){if(t=i.stateNode,s=i.memoizedProps,u=null,h=Nn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}t[Xe]=i,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||bE(t.nodeValue,s)),t||Ea(i,!0)}else t=hf(t).createTextNode(u),t[Xe]=i,i.stateNode=t}return Wt(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(u=ho(i),s!==null){if(t===null){if(!u)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Xe]=i}else Es(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Wt(i),t=!1}else s=pd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(Er(i),i):(Er(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Wt(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ho(i),u!==null&&u.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Xe]=i}else Es(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Wt(i),h=!1}else h=pd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Er(i),i):(Er(i),null)}return Er(i),(i.flags&128)!==0?(i.lanes=s,i):(s=u!==null,t=t!==null&&t.memoizedState!==null,s&&(u=i.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),$c(i,i.updateQueue),Wt(i),null);case 4:return pe(),t===null&&Rp(i.stateNode.containerInfo),Wt(i),null;case 10:return Oi(i.type),Wt(i),null;case 19:if(ve(hn),u=i.memoizedState,u===null)return Wt(i),null;if(h=(i.flags&128)!==0,m=u.rendering,m===null)if(h)zl(u,!1);else{if(on!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=Uc(t),m!==null){for(i.flags|=128,zl(u,!1),t=m.updateQueue,i.updateQueue=t,$c(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)e0(s,t),s=s.sibling;return Z(hn,hn.current&1|2),gt&&Ii(i,u.treeForkCount),i.child}t=t.sibling}u.tail!==null&&_t()>tf&&(i.flags|=128,h=!0,zl(u,!1),i.lanes=4194304)}else{if(!h)if(t=Uc(m),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,$c(i,t),zl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!gt)return Wt(i),null}else 2*_t()-u.renderingStartTime>tf&&s!==536870912&&(i.flags|=128,h=!0,zl(u,!1),i.lanes=4194304);u.isBackwards?(m.sibling=i.child,i.child=m):(t=u.last,t!==null?t.sibling=m:i.child=m,u.last=m)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=_t(),t.sibling=null,s=hn.current,Z(hn,h?s&1|2:s&1),gt&&Ii(i,u.treeForkCount),t):(Wt(i),null);case 22:case 23:return Er(i),Cd(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(Wt(i),i.subtreeFlags&6&&(i.flags|=8192)):Wt(i),s=i.updateQueue,s!==null&&$c(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),t!==null&&ve(Ts),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Oi(yn),Wt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function pC(t,i){switch(hd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Oi(yn),pe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return V(i),null;case 31:if(i.memoizedState!==null){if(Er(i),i.alternate===null)throw Error(a(340));Es()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Er(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Es()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ve(hn),null;case 4:return pe(),null;case 10:return Oi(i.type),null;case 22:case 23:return Er(i),Cd(),t!==null&&ve(Ts),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Oi(yn),null;case 25:return null;default:return null}}function Cv(t,i){switch(hd(i),i.tag){case 3:Oi(yn),pe();break;case 26:case 27:case 5:V(i);break;case 4:pe();break;case 31:i.memoizedState!==null&&Er(i);break;case 13:Er(i);break;case 19:ve(hn);break;case 10:Oi(i.type);break;case 22:case 23:Er(i),Cd(),t!==null&&ve(Ts);break;case 24:Oi(yn)}}function Hl(t,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var h=u.next;s=h;do{if((s.tag&t)===t){u=void 0;var m=s.create,S=s.inst;u=m(),S.destroy=u}s=s.next}while(s!==h)}}catch(U){Ut(i,i.return,U)}}function Ca(t,i,s){try{var u=i.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&t)===t){var S=u.inst,U=S.destroy;if(U!==void 0){S.destroy=void 0,h=i;var re=s,_e=U;try{_e()}catch(Ce){Ut(h,re,Ce)}}}u=u.next}while(u!==m)}}catch(Ce){Ut(i,i.return,Ce)}}function Iv(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{_0(i,s)}catch(u){Ut(t,t.return,u)}}}function xv(t,i,s){s.props=Is(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){Ut(t,i,u)}}function Gl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(h){Ut(t,i,h)}}function si(t,i){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(h){Ut(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ut(t,i,h)}else s.current=null}function Ov(t){var i=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(h){Ut(t,t.return,h)}}function ap(t,i,s){try{var u=t.stateNode;BC(u,t.type,s,i),u[Dn]=i}catch(h){Ut(t,t.return,h)}}function Dv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pa(t.type)||t.tag===4}function sp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pa(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function op(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Rn));else if(u!==4&&(u===27&&Pa(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(op(t,i,s),t=t.sibling;t!==null;)op(t,i,s),t=t.sibling}function Xc(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(u!==4&&(u===27&&Pa(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Xc(t,i,s),t=t.sibling;t!==null;)Xc(t,i,s),t=t.sibling}function Nv(t){var i=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);kn(i,u,s),i[Xe]=t,i[Dn]=s}catch(m){Ut(t,t.return,m)}}var ki=!1,En=!1,lp=!1,Mv=typeof WeakSet=="function"?WeakSet:Set,xn=null;function mC(t,i){if(t=t.containerInfo,xp=vf,t=G_(t),td(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var S=0,U=-1,re=-1,_e=0,Ce=0,Ne=t,we=null;t:for(;;){for(var Se;Ne!==s||h!==0&&Ne.nodeType!==3||(U=S+h),Ne!==m||u!==0&&Ne.nodeType!==3||(re=S+u),Ne.nodeType===3&&(S+=Ne.nodeValue.length),(Se=Ne.firstChild)!==null;)we=Ne,Ne=Se;for(;;){if(Ne===t)break t;if(we===s&&++_e===h&&(U=S),we===m&&++Ce===u&&(re=S),(Se=Ne.nextSibling)!==null)break;Ne=we,we=Ne.parentNode}Ne=Se}s=U===-1||re===-1?null:{start:U,end:re}}else s=null}s=s||{start:0,end:0}}else s=null;for(Op={focusedElem:t,selectionRange:s},vf=!1,xn=i;xn!==null;)if(i=xn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,xn=t;else for(;xn!==null;){switch(i=xn,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=i,h=m.memoizedProps,m=m.memoizedState,u=s.stateNode;try{var qe=Is(s.type,h);t=u.getSnapshotBeforeUpdate(qe,m),u.__reactInternalSnapshotBeforeUpdate=t}catch($e){Ut(s,s.return,$e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Mp(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Mp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,xn=t;break}xn=i.return}}function Pv(t,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Ui(t,s),u&4&&Hl(5,s);break;case 1:if(Ui(t,s),u&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(S){Ut(s,s.return,S)}else{var h=Is(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Ut(s,s.return,S)}}u&64&&Iv(s),u&512&&Gl(s,s.return);break;case 3:if(Ui(t,s),u&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{_0(t,i)}catch(S){Ut(s,s.return,S)}}break;case 27:i===null&&u&4&&Nv(s);case 26:case 5:Ui(t,s),i===null&&u&4&&Ov(s),u&512&&Gl(s,s.return);break;case 12:Ui(t,s);break;case 31:Ui(t,s),u&4&&Uv(t,s);break;case 13:Ui(t,s),u&4&&Lv(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=SC.bind(null,s),HC(t,s))));break;case 22:if(u=s.memoizedState!==null||ki,!u){i=i!==null&&i.memoizedState!==null||En,h=ki;var m=En;ki=u,(En=i)&&!m?Li(t,s,(s.subtreeFlags&8772)!==0):Ui(t,s),ki=h,En=m}break;case 30:break;default:Ui(t,s)}}function kv(t){var i=t.alternate;i!==null&&(t.alternate=null,kv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ss(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Jt=null,sr=!1;function Bi(t,i,s){for(s=s.child;s!==null;)Bv(t,i,s),s=s.sibling}function Bv(t,i,s){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(W,s)}catch{}switch(s.tag){case 26:En||si(s,i),Bi(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:En||si(s,i);var u=Jt,h=sr;Pa(s.type)&&(Jt=s.stateNode,sr=!1),Bi(t,i,s),eu(s.stateNode),Jt=u,sr=h;break;case 5:En||si(s,i);case 6:if(u=Jt,h=sr,Jt=null,Bi(t,i,s),Jt=u,sr=h,Jt!==null)if(sr)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(s.stateNode)}catch(m){Ut(s,i,m)}else try{Jt.removeChild(s.stateNode)}catch(m){Ut(s,i,m)}break;case 18:Jt!==null&&(sr?(t=Jt,IE(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Po(t)):IE(Jt,s.stateNode));break;case 4:u=Jt,h=sr,Jt=s.stateNode.containerInfo,sr=!0,Bi(t,i,s),Jt=u,sr=h;break;case 0:case 11:case 14:case 15:Ca(2,s,i),En||Ca(4,s,i),Bi(t,i,s);break;case 1:En||(si(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&xv(s,i,u)),Bi(t,i,s);break;case 21:Bi(t,i,s);break;case 22:En=(u=En)||s.memoizedState!==null,Bi(t,i,s),En=u;break;default:Bi(t,i,s)}}function Uv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Po(t)}catch(s){Ut(i,i.return,s)}}}function Lv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Po(t)}catch(s){Ut(i,i.return,s)}}function gC(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Mv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Mv),i;default:throw Error(a(435,t.tag))}}function Jc(t,i){var s=gC(t);i.forEach(function(u){if(!s.has(u)){s.add(u);var h=AC.bind(null,t,u);u.then(h,h)}})}function or(t,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u],m=t,S=i,U=S;e:for(;U!==null;){switch(U.tag){case 27:if(Pa(U.type)){Jt=U.stateNode,sr=!1;break e}break;case 5:Jt=U.stateNode,sr=!1;break e;case 3:case 4:Jt=U.stateNode.containerInfo,sr=!0;break e}U=U.return}if(Jt===null)throw Error(a(160));Bv(m,S,h),Jt=null,sr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)Vv(i,t),i=i.sibling}var qr=null;function Vv(t,i){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:or(i,t),lr(t),u&4&&(Ca(3,t,t.return),Hl(3,t),Ca(5,t,t.return));break;case 1:or(i,t),lr(t),u&512&&(En||s===null||si(s,s.return)),u&64&&ki&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var h=qr;if(or(i,t),lr(t),u&512&&(En||s===null||si(s,s.return)),u&4){var m=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[vi]||m[Xe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),kn(m,u,s),m[Xe]=t,fn(m),u=m;break e;case"link":var S=VE("link","href",h).get(u+(s.href||""));if(S){for(var U=0;U<S.length;U++)if(m=S[U],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){S.splice(U,1);break t}}m=h.createElement(u),kn(m,u,s),h.head.appendChild(m);break;case"meta":if(S=VE("meta","content",h).get(u+(s.content||""))){for(U=0;U<S.length;U++)if(m=S[U],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){S.splice(U,1);break t}}m=h.createElement(u),kn(m,u,s),h.head.appendChild(m);break;default:throw Error(a(468,u))}m[Xe]=t,fn(m),u=m}t.stateNode=u}else jE(h,t.type,t.stateNode);else t.stateNode=LE(h,u,t.memoizedProps);else m!==u?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,u===null?jE(h,t.type,t.stateNode):LE(h,u,t.memoizedProps)):u===null&&t.stateNode!==null&&ap(t,t.memoizedProps,s.memoizedProps)}break;case 27:or(i,t),lr(t),u&512&&(En||s===null||si(s,s.return)),s!==null&&u&4&&ap(t,t.memoizedProps,s.memoizedProps);break;case 5:if(or(i,t),lr(t),u&512&&(En||s===null||si(s,s.return)),t.flags&32){h=t.stateNode;try{xr(h,"")}catch(qe){Ut(t,t.return,qe)}}u&4&&t.stateNode!=null&&(h=t.memoizedProps,ap(t,h,s!==null?s.memoizedProps:h)),u&1024&&(lp=!0);break;case 6:if(or(i,t),lr(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(qe){Ut(t,t.return,qe)}}break;case 3:if(mf=null,h=qr,qr=df(i.containerInfo),or(i,t),qr=h,lr(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Po(i.containerInfo)}catch(qe){Ut(t,t.return,qe)}lp&&(lp=!1,jv(t));break;case 4:u=qr,qr=df(t.stateNode.containerInfo),or(i,t),lr(t),qr=u;break;case 12:or(i,t),lr(t);break;case 31:or(i,t),lr(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Jc(t,u)));break;case 13:or(i,t),lr(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ef=_t()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Jc(t,u)));break;case 22:h=t.memoizedState!==null;var re=s!==null&&s.memoizedState!==null,_e=ki,Ce=En;if(ki=_e||h,En=Ce||re,or(i,t),En=Ce,ki=_e,lr(t),u&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||re||ki||En||xs(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){re=s=i;try{if(m=re.stateNode,h)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{U=re.stateNode;var Ne=re.memoizedProps.style,we=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;U.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(qe){Ut(re,re.return,qe)}}}else if(i.tag===6){if(s===null){re=i;try{re.stateNode.nodeValue=h?"":re.memoizedProps}catch(qe){Ut(re,re.return,qe)}}}else if(i.tag===18){if(s===null){re=i;try{var Se=re.stateNode;h?xE(Se,!0):xE(re.stateNode,!1)}catch(qe){Ut(re,re.return,qe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Jc(t,s))));break;case 19:or(i,t),lr(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Jc(t,u)));break;case 30:break;case 21:break;default:or(i,t),lr(t)}}function lr(t){var i=t.flags;if(i&2){try{for(var s,u=t.return;u!==null;){if(Dv(u)){s=u;break}u=u.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,m=sp(t);Xc(t,m,h);break;case 5:var S=s.stateNode;s.flags&32&&(xr(S,""),s.flags&=-33);var U=sp(t);Xc(t,U,S);break;case 3:case 4:var re=s.stateNode.containerInfo,_e=sp(t);op(t,_e,re);break;default:throw Error(a(161))}}catch(Ce){Ut(t,t.return,Ce)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function jv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;jv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Ui(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Pv(t,i.alternate,i),i=i.sibling}function xs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ca(4,i,i.return),xs(i);break;case 1:si(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&xv(i,i.return,s),xs(i);break;case 27:eu(i.stateNode);case 26:case 5:si(i,i.return),xs(i);break;case 22:i.memoizedState===null&&xs(i);break;case 30:xs(i);break;default:xs(i)}t=t.sibling}}function Li(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,h=t,m=i,S=m.flags;switch(m.tag){case 0:case 11:case 15:Li(h,m,s),Hl(4,m);break;case 1:if(Li(h,m,s),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(_e){Ut(u,u.return,_e)}if(u=m,h=u.updateQueue,h!==null){var U=u.stateNode;try{var re=h.shared.hiddenCallbacks;if(re!==null)for(h.shared.hiddenCallbacks=null,h=0;h<re.length;h++)y0(re[h],U)}catch(_e){Ut(u,u.return,_e)}}s&&S&64&&Iv(m),Gl(m,m.return);break;case 27:Nv(m);case 26:case 5:Li(h,m,s),s&&u===null&&S&4&&Ov(m),Gl(m,m.return);break;case 12:Li(h,m,s);break;case 31:Li(h,m,s),s&&S&4&&Uv(h,m);break;case 13:Li(h,m,s),s&&S&4&&Lv(h,m);break;case 22:m.memoizedState===null&&Li(h,m,s),Gl(m,m.return);break;case 30:break;default:Li(h,m,s)}i=i.sibling}}function up(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Dl(s))}function cp(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Dl(t))}function zr(t,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Fv(t,i,s,u),i=i.sibling}function Fv(t,i,s,u){var h=i.flags;switch(i.tag){case 0:case 11:case 15:zr(t,i,s,u),h&2048&&Hl(9,i);break;case 1:zr(t,i,s,u);break;case 3:zr(t,i,s,u),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Dl(t)));break;case 12:if(h&2048){zr(t,i,s,u),t=i.stateNode;try{var m=i.memoizedProps,S=m.id,U=m.onPostCommit;typeof U=="function"&&U(S,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(re){Ut(i,i.return,re)}}else zr(t,i,s,u);break;case 31:zr(t,i,s,u);break;case 13:zr(t,i,s,u);break;case 23:break;case 22:m=i.stateNode,S=i.alternate,i.memoizedState!==null?m._visibility&2?zr(t,i,s,u):Kl(t,i):m._visibility&2?zr(t,i,s,u):(m._visibility|=2,To(t,i,s,u,(i.subtreeFlags&10256)!==0||!1)),h&2048&&up(S,i);break;case 24:zr(t,i,s,u),h&2048&&cp(i.alternate,i);break;default:zr(t,i,s,u)}}function To(t,i,s,u,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,S=i,U=s,re=u,_e=S.flags;switch(S.tag){case 0:case 11:case 15:To(m,S,U,re,h),Hl(8,S);break;case 23:break;case 22:var Ce=S.stateNode;S.memoizedState!==null?Ce._visibility&2?To(m,S,U,re,h):Kl(m,S):(Ce._visibility|=2,To(m,S,U,re,h)),h&&_e&2048&&up(S.alternate,S);break;case 24:To(m,S,U,re,h),h&&_e&2048&&cp(S.alternate,S);break;default:To(m,S,U,re,h)}i=i.sibling}}function Kl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,u=i,h=u.flags;switch(u.tag){case 22:Kl(s,u),h&2048&&up(u.alternate,u);break;case 24:Kl(s,u),h&2048&&cp(u.alternate,u);break;default:Kl(s,u)}i=i.sibling}}var Yl=8192;function So(t,i,s){if(t.subtreeFlags&Yl)for(t=t.child;t!==null;)qv(t,i,s),t=t.sibling}function qv(t,i,s){switch(t.tag){case 26:So(t,i,s),t.flags&Yl&&t.memoizedState!==null&&nI(s,qr,t.memoizedState,t.memoizedProps);break;case 5:So(t,i,s);break;case 3:case 4:var u=qr;qr=df(t.stateNode.containerInfo),So(t,i,s),qr=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Yl,Yl=16777216,So(t,i,s),Yl=u):So(t,i,s));break;default:So(t,i,s)}}function zv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Wl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];xn=u,Gv(u,t)}zv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hv(t),t=t.sibling}function Hv(t){switch(t.tag){case 0:case 11:case 15:Wl(t),t.flags&2048&&Ca(9,t,t.return);break;case 3:Wl(t);break;case 12:Wl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Zc(t)):Wl(t);break;default:Wl(t)}}function Zc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];xn=u,Gv(u,t)}zv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ca(8,i,i.return),Zc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Zc(i));break;default:Zc(i)}t=t.sibling}}function Gv(t,i){for(;xn!==null;){var s=xn;switch(s.tag){case 0:case 11:case 15:Ca(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Dl(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,xn=u;else e:for(s=t;xn!==null;){u=xn;var h=u.sibling,m=u.return;if(kv(u),u===s){xn=null;break e}if(h!==null){h.return=m,xn=h;break e}xn=m}}}var yC={getCacheForType:function(t){var i=Mn(yn),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return Mn(yn).controller.signal}},_C=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Ht=null,ft=null,dt=0,Bt=0,wr=null,Ia=!1,Ao=!1,fp=!1,Vi=0,on=0,xa=0,Os=0,hp=0,br=0,Ro=0,Ql=null,ur=null,dp=!1,ef=0,Kv=0,tf=1/0,nf=null,Oa=null,Sn=0,Da=null,Co=null,ji=0,pp=0,mp=null,Yv=null,$l=0,gp=null;function Tr(){return(Nt&2)!==0&&dt!==0?dt&-dt:ae.T!==null?bp():Rt()}function Wv(){if(br===0)if((dt&536870912)===0||gt){var t=ot;ot<<=1,(ot&3932160)===0&&(ot=262144),br=t}else br=536870912;return t=vr.current,t!==null&&(t.flags|=32),br}function cr(t,i,s){(t===Ht&&(Bt===2||Bt===9)||t.cancelPendingCommit!==null)&&(Io(t,0),Na(t,dt,br,!1)),v(t,s),((Nt&2)===0||t!==Ht)&&(t===Ht&&((Nt&2)===0&&(Os|=s),on===4&&Na(t,dt,br,!1)),oi(t))}function Qv(t,i,s){if((Nt&6)!==0)throw Error(a(327));var u=!s&&(i&127)===0&&(i&t.expiredLanes)===0||Xr(t,i),h=u?wC(t,i):_p(t,i,!0),m=u;do{if(h===0){Ao&&!u&&Na(t,i,0,!1);break}else{if(s=t.current.alternate,m&&!vC(s)){h=_p(t,i,!1),m=!1;continue}if(h===2){if(m=i,t.errorRecoveryDisabledLanes&m)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var U=t;h=Ql;var re=U.current.memoizedState.isDehydrated;if(re&&(Io(U,S).flags|=256),S=_p(U,S,!1),S!==2){if(fp&&!re){U.errorRecoveryDisabledLanes|=m,Os|=m,h=4;break e}m=ur,ur=h,m!==null&&(ur===null?ur=m:ur.push.apply(ur,m))}h=S}if(m=!1,h!==2)continue}}if(h===1){Io(t,0),Na(t,i,0,!0);break}e:{switch(u=t,m=h,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Na(u,i,br,!Ia);break e;case 2:ur=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=ef+300-_t(),10<h)){if(Na(u,i,br,!Ia),jn(u,0,!0)!==0)break e;ji=i,u.timeoutHandle=RE($v.bind(null,u,s,ur,nf,dp,i,br,Os,Ro,Ia,m,"Throttled",-0,0),h);break e}$v(u,s,ur,nf,dp,i,br,Os,Ro,Ia,m,null,-0,0)}}break}while(!0);oi(t)}function $v(t,i,s,u,h,m,S,U,re,_e,Ce,Ne,we,Se){if(t.timeoutHandle=-1,Ne=i.subtreeFlags,Ne&8192||(Ne&16785408)===16785408){Ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},qv(i,m,Ne);var qe=(m&62914560)===m?ef-_t():(m&4194048)===m?Kv-_t():0;if(qe=rI(Ne,qe),qe!==null){ji=m,t.cancelPendingCommit=qe(iE.bind(null,t,i,m,s,u,h,S,U,re,Ce,Ne,null,we,Se)),Na(t,m,S,!_e);return}}iE(t,i,m,s,u,h,S,U,re)}function vC(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var h=s[u],m=h.getSnapshot;h=h.value;try{if(!yr(m(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Na(t,i,s,u){i&=~hp,i&=~Os,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var h=i;0<h;){var m=31-Re(h),S=1<<m;u[m]=-1,h&=~S}s!==0&&Q(t,s,i)}function rf(){return(Nt&6)===0?(Xl(0),!1):!0}function yp(){if(ft!==null){if(Bt===0)var t=ft.return;else t=ft,xi=ws=null,Md(t),_o=null,Ml=0,t=ft;for(;t!==null;)Cv(t.alternate,t),t=t.return;ft=null}}function Io(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,VC(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),ji=0,yp(),Ht=t,ft=s=Ci(t.current,null),dt=i,Bt=0,wr=null,Ia=!1,Ao=Xr(t,i),fp=!1,Ro=br=hp=Os=xa=on=0,ur=Ql=null,dp=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var h=31-Re(u),m=1<<h;i|=t[h],u&=~m}return Vi=i,Sc(),s}function Xv(t,i){st=null,ae.H=Fl,i===yo||i===Nc?(i=d0(),Bt=3):i===wd?(i=d0(),Bt=4):Bt=i===Qd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,wr=i,ft===null&&(on=1,Kc(t,Dr(i,t.current)))}function Jv(){var t=vr.current;return t===null?!0:(dt&4194048)===dt?kr===null:(dt&62914560)===dt||(dt&536870912)!==0?t===kr:!1}function Zv(){var t=ae.H;return ae.H=Fl,t===null?Fl:t}function eE(){var t=ae.A;return ae.A=yC,t}function af(){on=4,Ia||(dt&4194048)!==dt&&vr.current!==null||(Ao=!0),(xa&134217727)===0&&(Os&134217727)===0||Ht===null||Na(Ht,dt,br,!1)}function _p(t,i,s){var u=Nt;Nt|=2;var h=Zv(),m=eE();(Ht!==t||dt!==i)&&(nf=null,Io(t,i)),i=!1;var S=on;e:do try{if(Bt!==0&&ft!==null){var U=ft,re=wr;switch(Bt){case 8:yp(),S=6;break e;case 3:case 2:case 9:case 6:vr.current===null&&(i=!0);var _e=Bt;if(Bt=0,wr=null,xo(t,U,re,_e),s&&Ao){S=0;break e}break;default:_e=Bt,Bt=0,wr=null,xo(t,U,re,_e)}}EC(),S=on;break}catch(Ce){Xv(t,Ce)}while(!0);return i&&t.shellSuspendCounter++,xi=ws=null,Nt=u,ae.H=h,ae.A=m,ft===null&&(Ht=null,dt=0,Sc()),S}function EC(){for(;ft!==null;)tE(ft)}function wC(t,i){var s=Nt;Nt|=2;var u=Zv(),h=eE();Ht!==t||dt!==i?(nf=null,tf=_t()+500,Io(t,i)):Ao=Xr(t,i);e:do try{if(Bt!==0&&ft!==null){i=ft;var m=wr;t:switch(Bt){case 1:Bt=0,wr=null,xo(t,i,m,1);break;case 2:case 9:if(f0(m)){Bt=0,wr=null,nE(i);break}i=function(){Bt!==2&&Bt!==9||Ht!==t||(Bt=7),oi(t)},m.then(i,i);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:f0(m)?(Bt=0,wr=null,nE(i)):(Bt=0,wr=null,xo(t,i,m,7));break;case 5:var S=null;switch(ft.tag){case 26:S=ft.memoizedState;case 5:case 27:var U=ft;if(S?FE(S):U.stateNode.complete){Bt=0,wr=null;var re=U.sibling;if(re!==null)ft=re;else{var _e=U.return;_e!==null?(ft=_e,sf(_e)):ft=null}break t}}Bt=0,wr=null,xo(t,i,m,5);break;case 6:Bt=0,wr=null,xo(t,i,m,6);break;case 8:yp(),on=6;break e;default:throw Error(a(462))}}bC();break}catch(Ce){Xv(t,Ce)}while(!0);return xi=ws=null,ae.H=u,ae.A=h,Nt=s,ft!==null?0:(Ht=null,dt=0,Sc(),on)}function bC(){for(;ft!==null&&!wt();)tE(ft)}function tE(t){var i=Av(t.alternate,t,Vi);t.memoizedProps=t.pendingProps,i===null?sf(t):ft=i}function nE(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=vv(s,i,i.pendingProps,i.type,void 0,dt);break;case 11:i=vv(s,i,i.pendingProps,i.type.render,i.ref,dt);break;case 5:Md(i);default:Cv(s,i),i=ft=e0(i,Vi),i=Av(s,i,Vi)}t.memoizedProps=t.pendingProps,i===null?sf(t):ft=i}function xo(t,i,s,u){xi=ws=null,Md(i),_o=null,Ml=0;var h=i.return;try{if(cC(t,h,i,s,dt)){on=1,Kc(t,Dr(s,t.current)),ft=null;return}}catch(m){if(h!==null)throw ft=h,m;on=1,Kc(t,Dr(s,t.current)),ft=null;return}i.flags&32768?(gt||u===1?t=!0:Ao||(dt&536870912)!==0?t=!1:(Ia=t=!0,(u===2||u===9||u===3||u===6)&&(u=vr.current,u!==null&&u.tag===13&&(u.flags|=16384))),rE(i,t)):sf(i)}function sf(t){var i=t;do{if((i.flags&32768)!==0){rE(i,Ia);return}t=i.return;var s=dC(i.alternate,i,Vi);if(s!==null){ft=s;return}if(i=i.sibling,i!==null){ft=i;return}ft=i=t}while(i!==null);on===0&&(on=5)}function rE(t,i){do{var s=pC(t.alternate,t);if(s!==null){s.flags&=32767,ft=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){ft=t;return}ft=t=s}while(t!==null);on=6,ft=null}function iE(t,i,s,u,h,m,S,U,re){t.cancelPendingCommit=null;do of();while(Sn!==0);if((Nt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=sd,b(t,s,m,S,U,re),t===Ht&&(ft=Ht=null,dt=0),Co=i,Da=t,ji=s,pp=m,mp=h,Yv=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,RC(Vt,function(){return uE(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=ae.T,ae.T=null,h=ge.p,ge.p=2,S=Nt,Nt|=4;try{mC(t,i,s)}finally{Nt=S,ge.p=h,ae.T=u}}Sn=1,aE(),sE(),oE()}}function aE(){if(Sn===1){Sn=0;var t=Da,i=Co,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=ae.T,ae.T=null;var u=ge.p;ge.p=2;var h=Nt;Nt|=4;try{Vv(i,t);var m=Op,S=G_(t.containerInfo),U=m.focusedElem,re=m.selectionRange;if(S!==U&&U&&U.ownerDocument&&H_(U.ownerDocument.documentElement,U)){if(re!==null&&td(U)){var _e=re.start,Ce=re.end;if(Ce===void 0&&(Ce=_e),"selectionStart"in U)U.selectionStart=_e,U.selectionEnd=Math.min(Ce,U.value.length);else{var Ne=U.ownerDocument||document,we=Ne&&Ne.defaultView||window;if(we.getSelection){var Se=we.getSelection(),qe=U.textContent.length,$e=Math.min(re.start,qe),qt=re.end===void 0?$e:Math.min(re.end,qe);!Se.extend&&$e>qt&&(S=qt,qt=$e,$e=S);var fe=z_(U,$e),oe=z_(U,qt);if(fe&&oe&&(Se.rangeCount!==1||Se.anchorNode!==fe.node||Se.anchorOffset!==fe.offset||Se.focusNode!==oe.node||Se.focusOffset!==oe.offset)){var ye=Ne.createRange();ye.setStart(fe.node,fe.offset),Se.removeAllRanges(),$e>qt?(Se.addRange(ye),Se.extend(oe.node,oe.offset)):(ye.setEnd(oe.node,oe.offset),Se.addRange(ye))}}}}for(Ne=[],Se=U;Se=Se.parentNode;)Se.nodeType===1&&Ne.push({element:Se,left:Se.scrollLeft,top:Se.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<Ne.length;U++){var De=Ne[U];De.element.scrollLeft=De.left,De.element.scrollTop=De.top}}vf=!!xp,Op=xp=null}finally{Nt=h,ge.p=u,ae.T=s}}t.current=i,Sn=2}}function sE(){if(Sn===2){Sn=0;var t=Da,i=Co,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=ae.T,ae.T=null;var u=ge.p;ge.p=2;var h=Nt;Nt|=4;try{Pv(t,i.alternate,i)}finally{Nt=h,ge.p=u,ae.T=s}}Sn=3}}function oE(){if(Sn===4||Sn===3){Sn=0,bt();var t=Da,i=Co,s=ji,u=Yv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Sn=5:(Sn=0,Co=Da=null,lE(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Oa=null),at(s),i=i.stateNode,se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(W,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=ae.T,h=ge.p,ge.p=2,ae.T=null;try{for(var m=t.onRecoverableError,S=0;S<u.length;S++){var U=u[S];m(U.value,{componentStack:U.stack})}}finally{ae.T=i,ge.p=h}}(ji&3)!==0&&of(),oi(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===gp?$l++:($l=0,gp=t):$l=0,Xl(0)}}function lE(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Dl(i)))}function of(){return aE(),sE(),oE(),uE()}function uE(){if(Sn!==5)return!1;var t=Da,i=pp;pp=0;var s=at(ji),u=ae.T,h=ge.p;try{ge.p=32>s?32:s,ae.T=null,s=mp,mp=null;var m=Da,S=ji;if(Sn=0,Co=Da=null,ji=0,(Nt&6)!==0)throw Error(a(331));var U=Nt;if(Nt|=4,Hv(m.current),Fv(m,m.current,S,s),Nt=U,Xl(0,!1),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(W,m)}catch{}return!0}finally{ge.p=h,ae.T=u,lE(t,i)}}function cE(t,i,s){i=Dr(s,i),i=Wd(t.stateNode,i,2),t=Sa(t,i,2),t!==null&&(v(t,2),oi(t))}function Ut(t,i,s){if(t.tag===3)cE(t,t,s);else for(;i!==null;){if(i.tag===3){cE(i,t,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Oa===null||!Oa.has(u))){t=Dr(s,t),s=fv(2),u=Sa(i,s,2),u!==null&&(hv(s,u,i,t),v(u,2),oi(u));break}}i=i.return}}function vp(t,i,s){var u=t.pingCache;if(u===null){u=t.pingCache=new _C;var h=new Set;u.set(i,h)}else h=u.get(i),h===void 0&&(h=new Set,u.set(i,h));h.has(s)||(fp=!0,h.add(s),t=TC.bind(null,t,i,s),i.then(t,t))}function TC(t,i,s){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ht===t&&(dt&s)===s&&(on===4||on===3&&(dt&62914560)===dt&&300>_t()-ef?(Nt&2)===0&&Io(t,0):hp|=s,Ro===dt&&(Ro=0)),oi(t)}function fE(t,i){i===0&&(i=as()),t=_s(t,i),t!==null&&(v(t,i),oi(t))}function SC(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),fE(t,s)}function AC(t,i){var s=0;switch(t.tag){case 31:case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),fE(t,s)}function RC(t,i){return Xt(t,i)}var lf=null,Oo=null,Ep=!1,uf=!1,wp=!1,Ma=0;function oi(t){t!==Oo&&t.next===null&&(Oo===null?lf=Oo=t:Oo=Oo.next=t),uf=!0,Ep||(Ep=!0,IC())}function Xl(t,i){if(!wp&&uf){wp=!0;do for(var s=!1,u=lf;u!==null;){if(t!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var S=u.suspendedLanes,U=u.pingedLanes;m=(1<<31-Re(42|t)+1)-1,m&=h&~(S&~U),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,mE(u,m))}else m=dt,m=jn(u,u===Ht?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Xr(u,m)||(s=!0,mE(u,m));u=u.next}while(s);wp=!1}}function CC(){hE()}function hE(){uf=Ep=!1;var t=0;Ma!==0&&LC()&&(t=Ma);for(var i=_t(),s=null,u=lf;u!==null;){var h=u.next,m=dE(u,i);m===0?(u.next=null,s===null?lf=h:s.next=h,h===null&&(Oo=s)):(s=u,(t!==0||(m&3)!==0)&&(uf=!0)),u=h}Sn!==0&&Sn!==5||Xl(t),Ma!==0&&(Ma=0)}function dE(t,i){for(var s=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var S=31-Re(m),U=1<<S,re=h[S];re===-1?((U&s)===0||(U&u)!==0)&&(h[S]=Qn(U,i)):re<=i&&(t.expiredLanes|=U),m&=~U}if(i=Ht,s=dt,s=jn(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===i&&(Bt===2||Bt===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&en(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Xr(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(u!==null&&en(u),at(s)){case 2:case 8:s=Mt;break;case 32:s=Vt;break;case 268435456:s=N;break;default:s=Vt}return u=pE.bind(null,t),s=Xt(s,u),t.callbackPriority=i,t.callbackNode=s,i}return u!==null&&u!==null&&en(u),t.callbackPriority=2,t.callbackNode=null,2}function pE(t,i){if(Sn!==0&&Sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(of()&&t.callbackNode!==s)return null;var u=dt;return u=jn(t,t===Ht?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Qv(t,u,i),dE(t,_t()),t.callbackNode!=null&&t.callbackNode===s?pE.bind(null,t):null)}function mE(t,i){if(of())return null;Qv(t,i,!0)}function IC(){jC(function(){(Nt&6)!==0?Xt(Tt,CC):hE()})}function bp(){if(Ma===0){var t=mo;t===0&&(t=At,At<<=1,(At&261888)===0&&(At=256)),Ma=t}return Ma}function gE(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ti(""+t)}function yE(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function xC(t,i,s,u,h){if(i==="submit"&&s&&s.stateNode===h){var m=gE((h[Dn]||null).action),S=u.submitter;S&&(i=(i=S[Dn]||null)?gE(i.formAction):S.getAttribute("formAction"),i!==null&&(m=i,S=null));var U=new fs("action","action",null,u,h);t.push({event:U,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ma!==0){var re=S?yE(h,S):new FormData(h);qd(s,{pending:!0,data:re,method:h.method,action:m},null,re)}}else typeof m=="function"&&(U.preventDefault(),re=S?yE(h,S):new FormData(h),qd(s,{pending:!0,data:re,method:h.method,action:m},m,re))},currentTarget:h}]})}}for(var Tp=0;Tp<ad.length;Tp++){var Sp=ad[Tp],OC=Sp.toLowerCase(),DC=Sp[0].toUpperCase()+Sp.slice(1);Fr(OC,"on"+DC)}Fr(W_,"onAnimationEnd"),Fr(Q_,"onAnimationIteration"),Fr($_,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(Y1,"onTransitionRun"),Fr(W1,"onTransitionStart"),Fr(Q1,"onTransitionCancel"),Fr(X_,"onTransitionEnd"),ei("onMouseEnter",["mouseout","mouseover"]),ei("onMouseLeave",["mouseout","mouseover"]),ei("onPointerEnter",["pointerout","pointerover"]),ei("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jl));function _E(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],h=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var S=u.length-1;0<=S;S--){var U=u[S],re=U.instance,_e=U.currentTarget;if(U=U.listener,re!==m&&h.isPropagationStopped())break e;m=U,h.currentTarget=_e;try{m(h)}catch(Ce){Tc(Ce)}h.currentTarget=null,m=re}else for(S=0;S<u.length;S++){if(U=u[S],re=U.instance,_e=U.currentTarget,U=U.listener,re!==m&&h.isPropagationStopped())break e;m=U,h.currentTarget=_e;try{m(h)}catch(Ce){Tc(Ce)}h.currentTarget=null,m=re}}}}function ht(t,i){var s=i[ia];s===void 0&&(s=i[ia]=new Set);var u=t+"__bubble";s.has(u)||(vE(i,t,2,!1),s.add(u))}function Ap(t,i,s){var u=0;i&&(u|=4),vE(s,t,u,i)}var cf="_reactListening"+Math.random().toString(36).slice(2);function Rp(t){if(!t[cf]){t[cf]=!0,$s.forEach(function(s){s!=="selectionchange"&&(NC.has(s)||Ap(s,!1,t),Ap(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[cf]||(i[cf]=!0,Ap("selectionchange",!1,i))}}function vE(t,i,s,u){switch(WE(i)){case 2:var h=sI;break;case 8:h=oI;break;default:h=Fp}s=h.bind(null,i,s,t),h=void 0,!El||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Cp(t,i,s,u,h){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var U=u.stateNode.containerInfo;if(U===h)break;if(S===4)for(S=u.return;S!==null;){var re=S.tag;if((re===3||re===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;U!==null;){if(S=Ei(U),S===null)return;if(re=S.tag,re===5||re===6||re===26||re===27){u=m=S;continue e}U=U.parentNode}}u=u.return}oc(function(){var _e=m,Ce=to(s),Ne=[];e:{var we=J_.get(t);if(we!==void 0){var Se=fs,qe=t;switch(t){case"keypress":if(cs(s)===0)break e;case"keydown":case"keyup":Se=gc;break;case"focusin":qe="focus",Se=pa;break;case"focusout":qe="blur",Se=pa;break;case"beforeblur":case"afterblur":Se=pa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=uc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=_c;break;case W_:case Q_:case $_:Se=io;break;case X_:Se=ao;break;case"scroll":case"scrollend":Se=lc;break;case"wheel":Se=Ec;break;case"copy":case"cut":case"paste":Se=hc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=Al;break;case"toggle":case"beforetoggle":Se=ga}var $e=(i&4)!==0,qt=!$e&&(t==="scroll"||t==="scrollend"),fe=$e?we!==null?we+"Capture":null:we;$e=[];for(var oe=_e,ye;oe!==null;){var De=oe;if(ye=De.stateNode,De=De.tag,De!==5&&De!==26&&De!==27||ye===null||fe===null||(De=ir(oe,fe),De!=null&&$e.push(Zl(oe,De,ye))),qt)break;oe=oe.return}0<$e.length&&(we=new Se(we,qe,null,s,Ce),Ne.push({event:we,listeners:$e}))}}if((i&7)===0){e:{if(we=t==="mouseover"||t==="pointerover",Se=t==="mouseout"||t==="pointerout",we&&s!==eo&&(qe=s.relatedTarget||s.fromElement)&&(Ei(qe)||qe[Jr]))break e;if((Se||we)&&(we=Ce.window===Ce?Ce:(we=Ce.ownerDocument)?we.defaultView||we.parentWindow:window,Se?(qe=s.relatedTarget||s.toElement,Se=_e,qe=qe?Ei(qe):null,qe!==null&&(qt=l(qe),$e=qe.tag,qe!==qt||$e!==5&&$e!==27&&$e!==6)&&(qe=null)):(Se=null,qe=_e),Se!==qe)){if($e=uc,De="onMouseLeave",fe="onMouseEnter",oe="mouse",(t==="pointerout"||t==="pointerover")&&($e=Al,De="onPointerLeave",fe="onPointerEnter",oe="pointer"),qt=Se==null?we:os(Se),ye=qe==null?we:os(qe),we=new $e(De,oe+"leave",Se,s,Ce),we.target=qt,we.relatedTarget=ye,De=null,Ei(Ce)===_e&&($e=new $e(fe,oe+"enter",qe,s,Ce),$e.target=ye,$e.relatedTarget=qt,De=$e),qt=De,Se&&qe)t:{for($e=MC,fe=Se,oe=qe,ye=0,De=fe;De;De=$e(De))ye++;De=0;for(var Ye=oe;Ye;Ye=$e(Ye))De++;for(;0<ye-De;)fe=$e(fe),ye--;for(;0<De-ye;)oe=$e(oe),De--;for(;ye--;){if(fe===oe||oe!==null&&fe===oe.alternate){$e=fe;break t}fe=$e(fe),oe=$e(oe)}$e=null}else $e=null;Se!==null&&EE(Ne,we,Se,$e,!1),qe!==null&&qt!==null&&EE(Ne,qt,qe,$e,!0)}}e:{if(we=_e?os(_e):window,Se=we.nodeName&&we.nodeName.toLowerCase(),Se==="select"||Se==="input"&&we.type==="file")var It=U_;else if(ar(we))if(L_)It=H1;else{It=q1;var Ge=F1}else Se=we.nodeName,!Se||Se.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?_e&&_l(_e.elementType)&&(It=U_):It=z1;if(It&&(It=It(t,_e))){ms(Ne,It,s,Ce);break e}Ge&&Ge(t,we,_e),t==="focusout"&&_e&&we.type==="number"&&_e.memoizedProps.value!=null&&Zs(we,"number",we.value)}switch(Ge=_e?os(_e):window,t){case"focusin":(ar(Ge)||Ge.contentEditable==="true")&&(so=Ge,nd=_e,Il=null);break;case"focusout":Il=nd=so=null;break;case"mousedown":rd=!0;break;case"contextmenu":case"mouseup":case"dragend":rd=!1,K_(Ne,s,Ce);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":K_(Ne,s,Ce)}var lt;if(_)e:{switch(t){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else ut?Pt(t,s)&&(pt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(pt="onCompositionStart");pt&&(de&&s.locale!=="ko"&&(ut||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&ut&&(lt=ca()):(gr=Ce,no="value"in gr?gr.value:gr.textContent,ut=!0)),Ge=ff(_e,pt),0<Ge.length&&(pt=new bl(pt,t,null,s,Ce),Ne.push({event:pt,listeners:Ge}),lt?pt.data=lt:(lt=gn(s),lt!==null&&(pt.data=lt)))),(lt=z?Cn(t,s):In(t,s))&&(pt=ff(_e,"onBeforeInput"),0<pt.length&&(Ge=new bl("onBeforeInput","beforeinput",null,s,Ce),Ne.push({event:Ge,listeners:pt}),Ge.data=lt)),xC(Ne,t,_e,s,Ce)}_E(Ne,i)})}function Zl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function ff(t,i){for(var s=i+"Capture",u=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=ir(t,s),h!=null&&u.unshift(Zl(t,h,m)),h=ir(t,i),h!=null&&u.push(Zl(t,h,m))),t.tag===3)return u;t=t.return}return[]}function MC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function EE(t,i,s,u,h){for(var m=i._reactName,S=[];s!==null&&s!==u;){var U=s,re=U.alternate,_e=U.stateNode;if(U=U.tag,re!==null&&re===u)break;U!==5&&U!==26&&U!==27||_e===null||(re=_e,h?(_e=ir(s,m),_e!=null&&S.unshift(Zl(s,_e,re))):h||(_e=ir(s,m),_e!=null&&S.push(Zl(s,_e,re)))),s=s.return}S.length!==0&&t.push({event:i,listeners:S})}var PC=/\r\n?/g,kC=/\u0000|\uFFFD/g;function wE(t){return(typeof t=="string"?t:""+t).replace(PC,`
`).replace(kC,"")}function bE(t,i){return i=wE(i),wE(t)===i}function Ft(t,i,s,u,h,m){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||xr(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&xr(t,""+u);break;case"className":oa(t,"class",u);break;case"tabIndex":oa(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":oa(t,s,u);break;case"style":ac(t,u,m);break;case"data":if(i!=="object"){oa(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=ti(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(i!=="input"&&Ft(t,i,"name",h.name,h,null),Ft(t,i,"formEncType",h.formEncType,h,null),Ft(t,i,"formMethod",h.formMethod,h,null),Ft(t,i,"formTarget",h.formTarget,h,null)):(Ft(t,i,"encType",h.encType,h,null),Ft(t,i,"method",h.method,h,null),Ft(t,i,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=ti(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=Rn);break;case"onScroll":u!=null&&ht("scroll",t);break;case"onScrollEnd":u!=null&&ht("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=ti(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":ht("beforetoggle",t),ht("toggle",t),sa(t,"popover",u);break;case"xlinkActuate":Ir(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ir(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ir(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ir(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ir(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ir(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ir(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ir(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ir(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":sa(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=$h.get(s)||s,sa(t,s,u))}}function Ip(t,i,s,u,h,m){switch(s){case"style":ac(t,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof u=="string"?xr(t,u):(typeof u=="number"||typeof u=="bigint")&&xr(t,""+u);break;case"onScroll":u!=null&&ht("scroll",t);break;case"onScrollEnd":u!=null&&ht("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!aa.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),m=t[Dn]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(i,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,u,h);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):sa(t,s,u)}}}function kn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",t),ht("load",t);var u=!1,h=!1,m;for(m in s)if(s.hasOwnProperty(m)){var S=s[m];if(S!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ft(t,i,m,S,s,null)}}h&&Ft(t,i,"srcSet",s.srcSet,s,null),u&&Ft(t,i,"src",s.src,s,null);return;case"input":ht("invalid",t);var U=m=S=h=null,re=null,_e=null;for(u in s)if(s.hasOwnProperty(u)){var Ce=s[u];if(Ce!=null)switch(u){case"name":h=Ce;break;case"type":S=Ce;break;case"checked":re=Ce;break;case"defaultChecked":_e=Ce;break;case"value":m=Ce;break;case"defaultValue":U=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(a(137,i));break;default:Ft(t,i,u,Ce,s,null)}}ls(t,m,U,re,_e,S,h,!1);return;case"select":ht("invalid",t),u=S=m=null;for(h in s)if(s.hasOwnProperty(h)&&(U=s[h],U!=null))switch(h){case"value":m=U;break;case"defaultValue":S=U;break;case"multiple":u=U;default:Ft(t,i,h,U,s,null)}i=m,s=S,t.multiple=!!u,i!=null?Ct(t,!!u,i,!1):s!=null&&Ct(t,!!u,s,!0);return;case"textarea":ht("invalid",t),m=h=u=null;for(S in s)if(s.hasOwnProperty(S)&&(U=s[S],U!=null))switch(S){case"value":u=U;break;case"defaultValue":h=U;break;case"children":m=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(91));break;default:Ft(t,i,S,U,s,null)}ua(t,u,h,m);return;case"option":for(re in s)s.hasOwnProperty(re)&&(u=s[re],u!=null)&&(re==="selected"?t.selected=u&&typeof u!="function"&&typeof u!="symbol":Ft(t,i,re,u,s,null));return;case"dialog":ht("beforetoggle",t),ht("toggle",t),ht("cancel",t),ht("close",t);break;case"iframe":case"object":ht("load",t);break;case"video":case"audio":for(u=0;u<Jl.length;u++)ht(Jl[u],t);break;case"image":ht("error",t),ht("load",t);break;case"details":ht("toggle",t);break;case"embed":case"source":case"link":ht("error",t),ht("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in s)if(s.hasOwnProperty(_e)&&(u=s[_e],u!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ft(t,i,_e,u,s,null)}return;default:if(_l(i)){for(Ce in s)s.hasOwnProperty(Ce)&&(u=s[Ce],u!==void 0&&Ip(t,i,Ce,u,s,void 0));return}}for(U in s)s.hasOwnProperty(U)&&(u=s[U],u!=null&&Ft(t,i,U,u,s,null))}function BC(t,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,S=null,U=null,re=null,_e=null,Ce=null;for(Se in s){var Ne=s[Se];if(s.hasOwnProperty(Se)&&Ne!=null)switch(Se){case"checked":break;case"value":break;case"defaultValue":re=Ne;default:u.hasOwnProperty(Se)||Ft(t,i,Se,null,u,Ne)}}for(var we in u){var Se=u[we];if(Ne=s[we],u.hasOwnProperty(we)&&(Se!=null||Ne!=null))switch(we){case"type":m=Se;break;case"name":h=Se;break;case"checked":_e=Se;break;case"defaultChecked":Ce=Se;break;case"value":S=Se;break;case"defaultValue":U=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(a(137,i));break;default:Se!==Ne&&Ft(t,i,we,Se,u,Ne)}}la(t,S,U,re,_e,Ce,m,h);return;case"select":Se=S=U=we=null;for(m in s)if(re=s[m],s.hasOwnProperty(m)&&re!=null)switch(m){case"value":break;case"multiple":Se=re;default:u.hasOwnProperty(m)||Ft(t,i,m,null,u,re)}for(h in u)if(m=u[h],re=s[h],u.hasOwnProperty(h)&&(m!=null||re!=null))switch(h){case"value":we=m;break;case"defaultValue":U=m;break;case"multiple":S=m;default:m!==re&&Ft(t,i,h,m,u,re)}i=U,s=S,u=Se,we!=null?Ct(t,!!s,we,!1):!!u!=!!s&&(i!=null?Ct(t,!!s,i,!0):Ct(t,!!s,s?[]:"",!1));return;case"textarea":Se=we=null;for(U in s)if(h=s[U],s.hasOwnProperty(U)&&h!=null&&!u.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Ft(t,i,U,null,u,h)}for(S in u)if(h=u[S],m=s[S],u.hasOwnProperty(S)&&(h!=null||m!=null))switch(S){case"value":we=h;break;case"defaultValue":Se=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==m&&Ft(t,i,S,h,u,m)}us(t,we,Se);return;case"option":for(var qe in s)we=s[qe],s.hasOwnProperty(qe)&&we!=null&&!u.hasOwnProperty(qe)&&(qe==="selected"?t.selected=!1:Ft(t,i,qe,null,u,we));for(re in u)we=u[re],Se=s[re],u.hasOwnProperty(re)&&we!==Se&&(we!=null||Se!=null)&&(re==="selected"?t.selected=we&&typeof we!="function"&&typeof we!="symbol":Ft(t,i,re,we,u,Se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in s)we=s[$e],s.hasOwnProperty($e)&&we!=null&&!u.hasOwnProperty($e)&&Ft(t,i,$e,null,u,we);for(_e in u)if(we=u[_e],Se=s[_e],u.hasOwnProperty(_e)&&we!==Se&&(we!=null||Se!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(a(137,i));break;default:Ft(t,i,_e,we,u,Se)}return;default:if(_l(i)){for(var qt in s)we=s[qt],s.hasOwnProperty(qt)&&we!==void 0&&!u.hasOwnProperty(qt)&&Ip(t,i,qt,void 0,u,we);for(Ce in u)we=u[Ce],Se=s[Ce],!u.hasOwnProperty(Ce)||we===Se||we===void 0&&Se===void 0||Ip(t,i,Ce,we,u,Se);return}}for(var fe in s)we=s[fe],s.hasOwnProperty(fe)&&we!=null&&!u.hasOwnProperty(fe)&&Ft(t,i,fe,null,u,we);for(Ne in u)we=u[Ne],Se=s[Ne],!u.hasOwnProperty(Ne)||we===Se||we==null&&Se==null||Ft(t,i,Ne,we,u,Se)}function TE(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function UC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var h=s[u],m=h.transferSize,S=h.initiatorType,U=h.duration;if(m&&U&&TE(S)){for(S=0,U=h.responseEnd,u+=1;u<s.length;u++){var re=s[u],_e=re.startTime;if(_e>U)break;var Ce=re.transferSize,Ne=re.initiatorType;Ce&&TE(Ne)&&(re=re.responseEnd,S+=Ce*(re<U?1:(U-_e)/(re-_e)))}if(--u,i+=8*(m+S)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var xp=null,Op=null;function hf(t){return t.nodeType===9?t:t.ownerDocument}function SE(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AE(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Dp(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Np=null;function LC(){var t=window.event;return t&&t.type==="popstate"?t===Np?!1:(Np=t,!0):(Np=null,!1)}var RE=typeof setTimeout=="function"?setTimeout:void 0,VC=typeof clearTimeout=="function"?clearTimeout:void 0,CE=typeof Promise=="function"?Promise:void 0,jC=typeof queueMicrotask=="function"?queueMicrotask:typeof CE<"u"?function(t){return CE.resolve(null).then(t).catch(FC)}:RE;function FC(t){setTimeout(function(){throw t})}function Pa(t){return t==="head"}function IE(t,i){var s=i,u=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(u===0){t.removeChild(h),Po(i);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")eu(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,eu(s);for(var m=s.firstChild;m;){var S=m.nextSibling,U=m.nodeName;m[vi]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=S}}else s==="body"&&eu(t.ownerDocument.body);s=h}while(s);Po(i)}function xE(t,i){var s=t;t=0;do{var u=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=u}while(s)}function Mp(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Mp(s),ss(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function qC(t,i,s,u){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[vi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Br(t.nextSibling),t===null)break}return null}function zC(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Br(t.nextSibling),t===null))return null;return t}function OE(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Br(t.nextSibling),t===null))return null;return t}function Pp(t){return t.data==="$?"||t.data==="$~"}function kp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function HC(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Br(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Bp=null;function DE(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Br(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function NE(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function ME(t,i,s){switch(i=hf(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function eu(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ss(t)}var Ur=new Map,PE=new Set;function df(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Fi=ge.d;ge.d={f:GC,r:KC,D:YC,C:WC,L:QC,m:$C,X:JC,S:XC,M:ZC};function GC(){var t=Fi.f(),i=rf();return t||i}function KC(t){var i=wi(t);i!==null&&i.tag===5&&i.type==="form"?X0(i):Fi.r(t)}var Do=typeof document>"u"?null:document;function kE(t,i,s){var u=Do;if(u&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),PE.has(h)||(PE.add(h),t={rel:t,crossOrigin:s,href:i},u.querySelector(h)===null&&(i=u.createElement("link"),kn(i,"link",t),fn(i),u.head.appendChild(i)))}}function YC(t){Fi.D(t),kE("dns-prefetch",t,null)}function WC(t,i){Fi.C(t,i),kE("preconnect",t,i)}function QC(t,i,s){Fi.L(t,i,s);var u=Do;if(u&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+an(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+an(s.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var m=h;switch(i){case"style":m=No(t);break;case"script":m=Mo(t)}Ur.has(m)||(t=w({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Ur.set(m,t),u.querySelector(h)!==null||i==="style"&&u.querySelector(tu(m))||i==="script"&&u.querySelector(nu(m))||(i=u.createElement("link"),kn(i,"link",t),fn(i),u.head.appendChild(i)))}}function $C(t,i){Fi.m(t,i);var s=Do;if(s&&t){var u=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(u)+'"][href="'+an(t)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Mo(t)}if(!Ur.has(m)&&(t=w({rel:"modulepreload",href:t},i),Ur.set(m,t),s.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(nu(m)))return}u=s.createElement("link"),kn(u,"link",t),fn(u),s.head.appendChild(u)}}}function XC(t,i,s){Fi.S(t,i,s);var u=Do;if(u&&t){var h=Vr(u).hoistableStyles,m=No(t);i=i||"default";var S=h.get(m);if(!S){var U={loading:0,preload:null};if(S=u.querySelector(tu(m)))U.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Ur.get(m))&&Up(t,s);var re=S=u.createElement("link");fn(re),kn(re,"link",t),re._p=new Promise(function(_e,Ce){re.onload=_e,re.onerror=Ce}),re.addEventListener("load",function(){U.loading|=1}),re.addEventListener("error",function(){U.loading|=2}),U.loading|=4,pf(S,i,u)}S={type:"stylesheet",instance:S,count:1,state:U},h.set(m,S)}}}function JC(t,i){Fi.X(t,i);var s=Do;if(s&&t){var u=Vr(s).hoistableScripts,h=Mo(t),m=u.get(h);m||(m=s.querySelector(nu(h)),m||(t=w({src:t,async:!0},i),(i=Ur.get(h))&&Lp(t,i),m=s.createElement("script"),fn(m),kn(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function ZC(t,i){Fi.M(t,i);var s=Do;if(s&&t){var u=Vr(s).hoistableScripts,h=Mo(t),m=u.get(h);m||(m=s.querySelector(nu(h)),m||(t=w({src:t,async:!0,type:"module"},i),(i=Ur.get(h))&&Lp(t,i),m=s.createElement("script"),fn(m),kn(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function BE(t,i,s,u){var h=(h=te.current)?df(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=No(s.href),s=Vr(h).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=No(s.href);var m=Vr(h).hoistableStyles,S=m.get(t);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,S),(m=h.querySelector(tu(t)))&&!m._p&&(S.instance=m,S.state.loading=5),Ur.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ur.set(t,s),m||eI(h,t,s,S.state))),i&&u===null)throw Error(a(528,""));return S}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Mo(s),s=Vr(h).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function No(t){return'href="'+an(t)+'"'}function tu(t){return'link[rel="stylesheet"]['+t+"]"}function UE(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function eI(t,i,s,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),kn(i,"link",s),fn(i),t.head.appendChild(i))}function Mo(t){return'[src="'+an(t)+'"]'}function nu(t){return"script[async]"+t}function LE(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+an(s.href)+'"]');if(u)return i.instance=u,fn(u),u;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),fn(u),kn(u,"style",h),pf(u,s.precedence,t),i.instance=u;case"stylesheet":h=No(s.href);var m=t.querySelector(tu(h));if(m)return i.state.loading|=4,i.instance=m,fn(m),m;u=UE(s),(h=Ur.get(h))&&Up(u,h),m=(t.ownerDocument||t).createElement("link"),fn(m);var S=m;return S._p=new Promise(function(U,re){S.onload=U,S.onerror=re}),kn(m,"link",u),i.state.loading|=4,pf(m,s.precedence,t),i.instance=m;case"script":return m=Mo(s.src),(h=t.querySelector(nu(m)))?(i.instance=h,fn(h),h):(u=s,(h=Ur.get(m))&&(u=w({},s),Lp(u,h)),t=t.ownerDocument||t,h=t.createElement("script"),fn(h),kn(h,"link",u),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,pf(u,s.precedence,t));return i.instance}function pf(t,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,S=0;S<u.length;S++){var U=u[S];if(U.dataset.precedence===i)m=U;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Up(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Lp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var mf=null;function VE(t,i,s){if(mf===null){var u=new Map,h=mf=new Map;h.set(s,u)}else h=mf,u=h.get(s),u||(u=new Map,h.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var m=s[h];if(!(m[vi]||m[Xe]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(i)||"";S=t+S;var U=u.get(S);U?U.push(m):u.set(S,[m])}}return u}function jE(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function tI(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function FE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function nI(t,i,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=No(u.href),m=i.querySelector(tu(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=gf.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=m,fn(m);return}m=i.ownerDocument||i,u=UE(u),(h=Ur.get(h))&&Up(u,h),m=m.createElement("link"),fn(m);var S=m;S._p=new Promise(function(U,re){S.onload=U,S.onerror=re}),kn(m,"link",u),s.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=gf.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Vp=0;function rI(t,i){return t.stylesheets&&t.count===0&&_f(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var u=setTimeout(function(){if(t.stylesheets&&_f(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&Vp===0&&(Vp=62500*UC());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&_f(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Vp?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function gf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_f(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var yf=null;function _f(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,yf=new Map,i.forEach(iI,t),yf=null,gf.call(t))}function iI(t,i){if(!(i.state.loading&4)){var s=yf.get(t);if(s)var u=s.get(null);else{s=new Map,yf.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var S=h[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(s.set(S.dataset.precedence,S),u=S)}u&&s.set(null,u)}h=i.instance,S=h.getAttribute("data-precedence"),m=s.get(S)||u,m===u&&s.set(null,h),s.set(S,h),this.count++,u=gf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var ru={$$typeof:F,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function aI(t,i,s,u,h,m,S,U,re){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=M(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M(0),this.hiddenUpdates=M(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function qE(t,i,s,u,h,m,S,U,re,_e,Ce,Ne){return t=new aI(t,i,s,S,re,_e,Ce,Ne,U),i=1,m===!0&&(i|=24),m=_r(3,null,null,i),t.current=m,m.stateNode=t,i=_d(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:s,cache:i},bd(m),t}function zE(t){return t?(t=uo,t):uo}function HE(t,i,s,u,h,m){h=zE(h),u.context===null?u.context=h:u.pendingContext=h,u=Ta(i),u.payload={element:s},m=m===void 0?null:m,m!==null&&(u.callback=m),s=Sa(t,u,i),s!==null&&(cr(s,t,i),kl(s,t,i))}function GE(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function jp(t,i){GE(t,i),(t=t.alternate)&&GE(t,i)}function KE(t){if(t.tag===13||t.tag===31){var i=_s(t,67108864);i!==null&&cr(i,t,67108864),jp(t,67108864)}}function YE(t){if(t.tag===13||t.tag===31){var i=Tr();i=Oe(i);var s=_s(t,i);s!==null&&cr(s,t,i),jp(t,i)}}var vf=!0;function sI(t,i,s,u){var h=ae.T;ae.T=null;var m=ge.p;try{ge.p=2,Fp(t,i,s,u)}finally{ge.p=m,ae.T=h}}function oI(t,i,s,u){var h=ae.T;ae.T=null;var m=ge.p;try{ge.p=8,Fp(t,i,s,u)}finally{ge.p=m,ae.T=h}}function Fp(t,i,s,u){if(vf){var h=qp(u);if(h===null)Cp(t,i,u,Ef,s),QE(t,u);else if(uI(h,t,i,s,u))u.stopPropagation();else if(QE(t,u),i&4&&-1<lI.indexOf(t)){for(;h!==null;){var m=wi(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=rn(m.pendingLanes);if(S!==0){var U=m;for(U.pendingLanes|=2,U.entangledLanes|=2;S;){var re=1<<31-Re(S);U.entanglements[1]|=re,S&=~re}oi(m),(Nt&6)===0&&(tf=_t()+500,Xl(0))}}break;case 31:case 13:U=_s(m,2),U!==null&&cr(U,m,2),rf(),jp(m,2)}if(m=qp(u),m===null&&Cp(t,i,u,Ef,s),m===h)break;h=m}h!==null&&u.stopPropagation()}else Cp(t,i,u,null,s)}}function qp(t){return t=to(t),zp(t)}var Ef=null;function zp(t){if(Ef=null,t=Ei(t),t!==null){var i=l(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=c(i),t!==null)return t;t=null}else if(s===31){if(t=d(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ef=t,null}function WE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nn()){case Tt:return 2;case Mt:return 8;case Vt:case dr:return 32;case N:return 268435456;default:return 32}default:return 32}}var Hp=!1,ka=null,Ba=null,Ua=null,iu=new Map,au=new Map,La=[],lI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function QE(t,i){switch(t){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ba=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":iu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(i.pointerId)}}function su(t,i,s,u,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},i!==null&&(i=wi(i),i!==null&&KE(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function uI(t,i,s,u,h){switch(i){case"focusin":return ka=su(ka,t,i,s,u,h),!0;case"dragenter":return Ba=su(Ba,t,i,s,u,h),!0;case"mouseover":return Ua=su(Ua,t,i,s,u,h),!0;case"pointerover":var m=h.pointerId;return iu.set(m,su(iu.get(m)||null,t,i,s,u,h)),!0;case"gotpointercapture":return m=h.pointerId,au.set(m,su(au.get(m)||null,t,i,s,u,h)),!0}return!1}function $E(t){var i=Ei(t.target);if(i!==null){var s=l(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){t.blockedOn=i,kt(t.priority,function(){YE(s)});return}}else if(i===31){if(i=d(s),i!==null){t.blockedOn=i,kt(t.priority,function(){YE(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wf(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=qp(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);eo=u,s.target.dispatchEvent(u),eo=null}else return i=wi(s),i!==null&&KE(i),t.blockedOn=s,!1;i.shift()}return!0}function XE(t,i,s){wf(t)&&s.delete(i)}function cI(){Hp=!1,ka!==null&&wf(ka)&&(ka=null),Ba!==null&&wf(Ba)&&(Ba=null),Ua!==null&&wf(Ua)&&(Ua=null),iu.forEach(XE),au.forEach(XE)}function bf(t,i){t.blockedOn===i&&(t.blockedOn=null,Hp||(Hp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,cI)))}var Tf=null;function JE(t){Tf!==t&&(Tf=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tf===t&&(Tf=null);for(var i=0;i<t.length;i+=3){var s=t[i],u=t[i+1],h=t[i+2];if(typeof u!="function"){if(zp(u||s)===null)continue;break}var m=wi(s);m!==null&&(t.splice(i,3),i-=3,qd(m,{pending:!0,data:h,method:s.method,action:u},u,h))}}))}function Po(t){function i(re){return bf(re,t)}ka!==null&&bf(ka,t),Ba!==null&&bf(Ba,t),Ua!==null&&bf(Ua,t),iu.forEach(i),au.forEach(i);for(var s=0;s<La.length;s++){var u=La[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<La.length&&(s=La[0],s.blockedOn===null);)$E(s),s.blockedOn===null&&La.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var h=s[u],m=s[u+1],S=h[Dn]||null;if(typeof m=="function")S||JE(s);else if(S){var U=null;if(m&&m.hasAttribute("formAction")){if(h=m,S=m[Dn]||null)U=S.formAction;else if(zp(h)!==null)continue}else U=S.action;typeof U=="function"?s[u+1]=U:(s.splice(u,3),u-=3),JE(s)}}}function ZE(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return h=S})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Gp(t){this._internalRoot=t}Sf.prototype.render=Gp.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,u=Tr();HE(s,u,t,i,null,null)},Sf.prototype.unmount=Gp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;HE(t.current,2,null,t,null,null),rf(),i[Jr]=null}};function Sf(t){this._internalRoot=t}Sf.prototype.unstable_scheduleHydration=function(t){if(t){var i=Rt();t={blockedOn:null,target:t,priority:i};for(var s=0;s<La.length&&i!==0&&i<La[s].priority;s++);La.splice(s,0,t),s===0&&$E(t)}};var ew=e.version;if(ew!=="19.2.4")throw Error(a(527,ew,"19.2.4"));ge.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var fI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Af=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Af.isDisabled&&Af.supportsFiber)try{W=Af.inject(fI),se=Af}catch{}}return lu.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,u="",h=ov,m=lv,S=uv;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=qE(t,1,!1,null,null,s,u,null,h,m,S,ZE),t[Jr]=i.current,Rp(t),new Gp(i)},lu.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var u=!1,h="",m=ov,S=lv,U=uv,re=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(U=s.onRecoverableError),s.formState!==void 0&&(re=s.formState)),i=qE(t,1,!0,i,s??null,u,h,re,m,S,U,ZE),i.context=zE(null),s=i.current,u=Tr(),u=Oe(u),h=Ta(u),h.callback=null,Sa(s,h,u),s=u,i.current.lanes=s,v(i,s),oi(i),t[Jr]=i.current,Rp(t),new Sf(i)},lu.version="19.2.4",lu}var cw;function AI(){if(cw)return Wp.exports;cw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Wp.exports=SI(),Wp.exports}var RI=AI();const CI=mS(RI),Ls=globalThis||void 0||self;var fw="popstate";function II(r={}){function e(a,o){let{pathname:l,search:c,hash:d}=a.location;return zg("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Su(o)}return OI(e,n,null,r)}function Zt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Wr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xI(){return Math.random().toString(36).substring(2,10)}function hw(r,e){return{usr:r.state,key:r.key,idx:e}}function zg(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?tl(e):e,state:n,key:e&&e.key||a||xI()}}function Su({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function tl(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function OI(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:l=!1}=a,c=o.history,d="POP",p=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function w(){d="POP";let B=y(),O=B==null?null:B-g;g=B,p&&p({action:d,location:j.location,delta:O})}function R(B,O){d="PUSH";let L=zg(j.location,B,O);g=y()+1;let F=hw(L,g),G=j.createHref(L);try{c.pushState(F,"",G)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(G)}l&&p&&p({action:d,location:j.location,delta:1})}function H(B,O){d="REPLACE";let L=zg(j.location,B,O);g=y();let F=hw(L,g),G=j.createHref(L);c.replaceState(F,"",G),l&&p&&p({action:d,location:j.location,delta:0})}function I(B){return DI(B)}let j={get action(){return d},get location(){return r(o,c)},listen(B){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(fw,w),p=B,()=>{o.removeEventListener(fw,w),p=null}},createHref(B){return e(o,B)},createURL:I,encodeLocation(B){let O=I(B);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:R,replace:H,go(B){return c.go(B)}};return j}function DI(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Su(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function ES(r,e,n="/"){return NI(r,e,n,!1)}function NI(r,e,n,a){let o=typeof e=="string"?tl(e):e,l=$i(o.pathname||"/",n);if(l==null)return null;let c=wS(r);MI(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=HI(l);d=qI(c[p],g,a)}return d}function wS(r,e=[],n=[],a="",o=!1){let l=(c,d,p=o,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&p)return;Zt(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let w=Wi([a,y.relativePath]),R=n.concat(y);c.children&&c.children.length>0&&(Zt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),wS(c.children,e,R,w,p)),!(c.path==null&&!c.index)&&e.push({path:w,score:jI(w,c.index),routesMeta:R})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of bS(c.path))l(c,d,!0,p)}),e}function bS(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let c=bS(a.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function MI(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:FI(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var PI=/^:[\w-]+$/,kI=3,BI=2,UI=1,LI=10,VI=-2,dw=r=>r==="*";function jI(r,e){let n=r.split("/"),a=n.length;return n.some(dw)&&(a+=VI),e&&(a+=BI),n.filter(o=>!dw(o)).reduce((o,l)=>o+(PI.test(l)?kI:l===""?UI:LI),a)}function FI(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function qI(r,e,n=!1){let{routesMeta:a}=r,o={},l="/",c=[];for(let d=0;d<a.length;++d){let p=a[d],g=d===a.length-1,y=l==="/"?e:e.slice(l.length)||"/",w=nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),R=p.route;if(!w&&g&&n&&!a[a.length-1].route.index&&(w=nh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:Wi([l,w.pathname]),pathnameBase:WI(Wi([l,w.pathnameBase])),route:R}),w.pathnameBase!=="/"&&(l=Wi([l,w.pathnameBase]))}return c}function nh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=zI(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:y,isOptional:w},R)=>{if(y==="*"){let I=d[R]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const H=d[R];return w&&!H?g[y]=void 0:g[y]=(H||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function zI(r,e=!1,n=!0){Wr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function HI(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function $i(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}var GI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function KI(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?tl(r):r,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=pw(n.substring(1),"/"):l=pw(n,e)):l=e,{pathname:l,search:QI(a),hash:$I(o)}}function pw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Jp(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YI(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _y(r){let e=YI(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function vy(r,e,n,a=!1){let o;typeof r=="string"?o=tl(r):(o={...r},Zt(!o.pathname||!o.pathname.includes("?"),Jp("?","pathname","search",o)),Zt(!o.pathname||!o.pathname.includes("#"),Jp("#","pathname","hash",o)),Zt(!o.search||!o.search.includes("#"),Jp("#","search","hash",o)));let l=r===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let w=e.length-1;if(!a&&c.startsWith("..")){let R=c.split("/");for(;R[0]==="..";)R.shift(),w-=1;o.pathname=R.join("/")}d=w>=0?e[w]:"/"}let p=KI(o,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var Wi=r=>r.join("/").replace(/\/\/+/g,"/"),WI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),QI=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,$I=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,XI=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function JI(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function ZI(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var TS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function SS(r,e){let n=r;if(typeof n!="string"||!GI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,o=!1;if(TS)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=$i(c.pathname,e);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:o=!0}catch{Wr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var AS=["POST","PUT","PATCH","DELETE"];new Set(AS);var ex=["GET",...AS];new Set(ex);var nl=ue.createContext(null);nl.displayName="DataRouter";var Eh=ue.createContext(null);Eh.displayName="DataRouterState";var tx=ue.createContext(!1),RS=ue.createContext({isTransitioning:!1});RS.displayName="ViewTransition";var nx=ue.createContext(new Map);nx.displayName="Fetchers";var rx=ue.createContext(null);rx.displayName="Await";var Cr=ue.createContext(null);Cr.displayName="Navigation";var ku=ue.createContext(null);ku.displayName="Location";var $r=ue.createContext({outlet:null,matches:[],isDataRoute:!1});$r.displayName="Route";var Ey=ue.createContext(null);Ey.displayName="RouteError";var CS="REACT_ROUTER_ERROR",ix="REDIRECT",ax="ROUTE_ERROR_RESPONSE";function sx(r){if(r.startsWith(`${CS}:${ix}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function ox(r){if(r.startsWith(`${CS}:${ax}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new XI(e.status,e.statusText,e.data)}catch{}}function lx(r,{relative:e}={}){Zt(rl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=ue.useContext(Cr),{hash:o,pathname:l,search:c}=Bu(r,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Wi([n,l])),a.createHref({pathname:d,search:c,hash:o})}function rl(){return ue.useContext(ku)!=null}function ns(){return Zt(rl(),"useLocation() may be used only in the context of a <Router> component."),ue.useContext(ku).location}var IS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xS(r){ue.useContext(Cr).static||ue.useLayoutEffect(r)}function rs(){let{isDataRoute:r}=ue.useContext($r);return r?bx():ux()}function ux(){Zt(rl(),"useNavigate() may be used only in the context of a <Router> component.");let r=ue.useContext(nl),{basename:e,navigator:n}=ue.useContext(Cr),{matches:a}=ue.useContext($r),{pathname:o}=ns(),l=JSON.stringify(_y(a)),c=ue.useRef(!1);return xS(()=>{c.current=!0}),ue.useCallback((p,g={})=>{if(Wr(c.current,IS),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=vy(p,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Wi([e,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[e,n,l,o,r])}ue.createContext(null);function cx(){let{matches:r}=ue.useContext($r),e=r[r.length-1];return e?e.params:{}}function Bu(r,{relative:e}={}){let{matches:n}=ue.useContext($r),{pathname:a}=ns(),o=JSON.stringify(_y(n));return ue.useMemo(()=>vy(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function fx(r,e){return OS(r,e)}function OS(r,e,n,a,o){Zt(rl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=ue.useContext(Cr),{matches:c}=ue.useContext($r),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",w=d&&d.route;{let L=w&&w.path||"";NS(g,!w||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let R=ns(),H;if(e){let L=typeof e=="string"?tl(e):e;Zt(y==="/"||L.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${L.pathname}" was given in the \`location\` prop.`),H=L}else H=R;let I=H.pathname||"/",j=I;if(y!=="/"){let L=y.replace(/^\//,"").split("/");j="/"+I.replace(/^\//,"").split("/").slice(L.length).join("/")}let B=ES(r,{pathname:j});Wr(w||B!=null,`No routes matched location "${H.pathname}${H.search}${H.hash}" `),Wr(B==null||B[B.length-1].route.element!==void 0||B[B.length-1].route.Component!==void 0||B[B.length-1].route.lazy!==void 0,`Matched leaf route at location "${H.pathname}${H.search}${H.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=gx(B&&B.map(L=>Object.assign({},L,{params:Object.assign({},p,L.params),pathname:Wi([y,l.encodeLocation?l.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?y:Wi([y,l.encodeLocation?l.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),c,n,a,o);return e&&O?ue.createElement(ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...H},navigationType:"POP"}},O):O}function hx(){let r=wx(),e=JI(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=ue.createElement(ue.Fragment,null,ue.createElement("p",null," Hey developer "),ue.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ue.createElement("code",{style:l},"ErrorBoundary")," or"," ",ue.createElement("code",{style:l},"errorElement")," prop on your route.")),ue.createElement(ue.Fragment,null,ue.createElement("h2",null,"Unexpected Application Error!"),ue.createElement("h3",{style:{fontStyle:"italic"}},e),n?ue.createElement("pre",{style:o},n):null,c)}var dx=ue.createElement(hx,null),DS=class extends ue.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=ox(r.digest);n&&(r=n)}let e=r!==void 0?ue.createElement($r.Provider,{value:this.props.routeContext},ue.createElement(Ey.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?ue.createElement(px,{error:r},e):e}};DS.contextType=tx;var Zp=new WeakMap;function px({children:r,error:e}){let{basename:n}=ue.useContext(Cr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=sx(e.digest);if(a){let o=Zp.get(e);if(o)throw o;let l=SS(a.location,n);if(TS&&!Zp.get(e))if(l.isExternal||a.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:a.replace}));throw Zp.set(e,c),c}return ue.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function mx({routeContext:r,match:e,children:n}){let a=ue.useContext(nl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),ue.createElement($r.Provider,{value:r},n)}function gx(r,e=[],n=null,a=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,c=n?.errors;if(c!=null){let y=l.findIndex(w=>w.route.id&&c?.[w.route.id]!==void 0);Zt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,p=-1;if(n)for(let y=0;y<l.length;y++){let w=l[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=y),w.route.id){let{loaderData:R,errors:H}=n,I=w.route.loader&&!R.hasOwnProperty(w.route.id)&&(!H||H[w.route.id]===void 0);if(w.route.lazy||I){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=n&&a?(y,w)=>{a(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:ZI(n.matches),errorInfo:w})}:void 0;return l.reduceRight((y,w,R)=>{let H,I=!1,j=null,B=null;n&&(H=c&&w.route.id?c[w.route.id]:void 0,j=w.route.errorElement||dx,d&&(p<0&&R===0?(NS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,B=null):p===R&&(I=!0,B=w.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,R+1)),L=()=>{let F;return H?F=j:I?F=B:w.route.Component?F=ue.createElement(w.route.Component,null):w.route.element?F=w.route.element:F=y,ue.createElement(mx,{match:w,routeContext:{outlet:y,matches:O,isDataRoute:n!=null},children:F})};return n&&(w.route.ErrorBoundary||w.route.errorElement||R===0)?ue.createElement(DS,{location:n.location,revalidation:n.revalidation,component:j,error:H,children:L(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:g}):L()},null)}function wy(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function yx(r){let e=ue.useContext(nl);return Zt(e,wy(r)),e}function _x(r){let e=ue.useContext(Eh);return Zt(e,wy(r)),e}function vx(r){let e=ue.useContext($r);return Zt(e,wy(r)),e}function by(r){let e=vx(r),n=e.matches[e.matches.length-1];return Zt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Ex(){return by("useRouteId")}function wx(){let r=ue.useContext(Ey),e=_x("useRouteError"),n=by("useRouteError");return r!==void 0?r:e.errors?.[n]}function bx(){let{router:r}=yx("useNavigate"),e=by("useNavigate"),n=ue.useRef(!1);return xS(()=>{n.current=!0}),ue.useCallback(async(o,l={})=>{Wr(n.current,IS),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var mw={};function NS(r,e,n){!e&&!mw[r]&&(mw[r]=!0,Wr(!1,n))}ue.memo(Tx);function Tx({routes:r,future:e,state:n,onError:a}){return OS(r,void 0,n,a,e)}function Rf({to:r,replace:e,state:n,relative:a}){Zt(rl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=ue.useContext(Cr);Wr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=ue.useContext($r),{pathname:c}=ns(),d=rs(),p=vy(r,_y(l),c,a==="path"),g=JSON.stringify(p);return ue.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:a})},[d,g,a,e,n]),null}function Fa(r){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Sx({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:l=!1,unstable_useTransitions:c}){Zt(!rl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=ue.useMemo(()=>({basename:d,navigator:o,static:l,unstable_useTransitions:c,future:{}}),[d,o,l,c]);typeof n=="string"&&(n=tl(n));let{pathname:g="/",search:y="",hash:w="",state:R=null,key:H="default"}=n,I=ue.useMemo(()=>{let j=$i(g,d);return j==null?null:{location:{pathname:j,search:y,hash:w,state:R,key:H},navigationType:a}},[d,g,y,w,R,H,a]);return Wr(I!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:ue.createElement(Cr.Provider,{value:p},ue.createElement(ku.Provider,{children:e,value:I}))}function Ax({children:r,location:e}){return fx(Hg(r),e)}function Hg(r,e=[]){let n=[];return ue.Children.forEach(r,(a,o)=>{if(!ue.isValidElement(a))return;let l=[...e,o];if(a.type===ue.Fragment){n.push.apply(n,Hg(a.props.children,l));return}Zt(a.type===Fa,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Hg(a.props.children,l)),n.push(c)}),n}var Hf="get",Gf="application/x-www-form-urlencoded";function wh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Rx(r){return wh(r)&&r.tagName.toLowerCase()==="button"}function Cx(r){return wh(r)&&r.tagName.toLowerCase()==="form"}function Ix(r){return wh(r)&&r.tagName.toLowerCase()==="input"}function xx(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ox(r,e){return r.button===0&&(!e||e==="_self")&&!xx(r)}var Cf=null;function Dx(){if(Cf===null)try{new FormData(document.createElement("form"),0),Cf=!1}catch{Cf=!0}return Cf}var Nx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function em(r){return r!=null&&!Nx.has(r)?(Wr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Gf}"`),null):r}function Mx(r,e){let n,a,o,l,c;if(Cx(r)){let d=r.getAttribute("action");a=d?$i(d,e):null,n=r.getAttribute("method")||Hf,o=em(r.getAttribute("enctype"))||Gf,l=new FormData(r)}else if(Rx(r)||Ix(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(a=p?$i(p,e):null,n=r.getAttribute("formmethod")||d.getAttribute("method")||Hf,o=em(r.getAttribute("formenctype"))||em(d.getAttribute("enctype"))||Gf,l=new FormData(d,r),!Dx()){let{name:g,type:y,value:w}=r;if(y==="image"){let R=g?`${g}.`:"";l.append(`${R}x`,"0"),l.append(`${R}y`,"0")}else g&&l.append(g,w)}}else{if(wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hf,a=null,o=Gf,c=r}return l&&o==="text/plain"&&(c=l,l=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ty(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Px(r,e,n,a){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&$i(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function kx(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bx(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Ux(r,e,n){let a=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await kx(l,n);return c.links?c.links():[]}return[]}));return Fx(a.flat(1).filter(Bx).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function gw(r,e,n,a,o,l){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{let y=a.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Lx(r,e,{includeHydrateFallback:n}={}){return Vx(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function Vx(r){return[...new Set(r)]}function jx(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function Fx(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let l=JSON.stringify(jx(o));return n.has(l)||(n.add(l),a.push({key:l,link:o})),a},[])}function MS(){let r=ue.useContext(nl);return Ty(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function qx(){let r=ue.useContext(Eh);return Ty(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Sy=ue.createContext(void 0);Sy.displayName="FrameworkContext";function PS(){let r=ue.useContext(Sy);return Ty(r,"You must render this element inside a <HydratedRouter> element"),r}function zx(r,e){let n=ue.useContext(Sy),[a,o]=ue.useState(!1),[l,c]=ue.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:w}=e,R=ue.useRef(null);ue.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let j=O=>{O.forEach(L=>{c(L.isIntersecting)})},B=new IntersectionObserver(j,{threshold:.5});return R.current&&B.observe(R.current),()=>{B.disconnect()}}},[r]),ue.useEffect(()=>{if(a){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[a]);let H=()=>{o(!0)},I=()=>{o(!1),c(!1)};return n?r!=="intent"?[l,R,{}]:[l,R,{onFocus:uu(d,H),onBlur:uu(p,I),onMouseEnter:uu(g,H),onMouseLeave:uu(y,I),onTouchStart:uu(w,H)}]:[!1,R,{}]}function uu(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Hx({page:r,...e}){let{router:n}=MS(),a=ue.useMemo(()=>ES(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?ue.createElement(Kx,{page:r,matches:a,...e}):null}function Gx(r){let{manifest:e,routeModules:n}=PS(),[a,o]=ue.useState([]);return ue.useEffect(()=>{let l=!1;return Ux(r,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[r,e,n]),a}function Kx({page:r,matches:e,...n}){let a=ns(),{future:o,manifest:l,routeModules:c}=PS(),{basename:d}=MS(),{loaderData:p,matches:g}=qx(),y=ue.useMemo(()=>gw(r,e,g,l,a,"data"),[r,e,g,l,a]),w=ue.useMemo(()=>gw(r,e,g,l,a,"assets"),[r,e,g,l,a]),R=ue.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let j=new Set,B=!1;if(e.forEach(L=>{let F=l.routes[L.route.id];!F||!F.hasLoader||(!y.some(G=>G.route.id===L.route.id)&&L.route.id in p&&c[L.route.id]?.shouldRevalidate||F.hasClientLoader?B=!0:j.add(L.route.id))}),j.size===0)return[];let O=Px(r,d,o.unstable_trailingSlashAwareDataRequests,"data");return B&&j.size>0&&O.searchParams.set("_routes",e.filter(L=>j.has(L.route.id)).map(L=>L.route.id).join(",")),[O.pathname+O.search]},[d,o.unstable_trailingSlashAwareDataRequests,p,a,l,y,e,r,c]),H=ue.useMemo(()=>Lx(w,l),[w,l]),I=Gx(w);return ue.createElement(ue.Fragment,null,R.map(j=>ue.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),H.map(j=>ue.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),I.map(({key:j,link:B})=>ue.createElement("link",{key:j,nonce:n.nonce,...B,crossOrigin:B.crossOrigin??n.crossOrigin})))}function Yx(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Wx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wx&&(window.__reactRouterVersion="7.13.0")}catch{}function Qx({basename:r,children:e,unstable_useTransitions:n,window:a}){let o=ue.useRef();o.current==null&&(o.current=II({window:a,v5Compat:!0}));let l=o.current,[c,d]=ue.useState({action:l.action,location:l.location}),p=ue.useCallback(g=>{n===!1?d(g):ue.startTransition(()=>d(g))},[n]);return ue.useLayoutEffect(()=>l.listen(p),[l,p]),ue.createElement(Sx,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var kS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rh=ue.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:y,viewTransition:w,unstable_defaultShouldRevalidate:R,...H},I){let{basename:j,unstable_useTransitions:B}=ue.useContext(Cr),O=typeof g=="string"&&kS.test(g),L=SS(g,j);g=L.to;let F=lx(g,{relative:o}),[G,X,J]=zx(a,H),x=Zx(g,{replace:c,state:d,target:p,preventScrollReset:y,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:R,unstable_useTransitions:B});function C(K){e&&e(K),K.defaultPrevented||x(K)}let P=ue.createElement("a",{...H,...J,href:L.absoluteURL||F,onClick:L.isExternal||l?e:C,ref:Yx(I,X),target:p,"data-discover":!O&&n==="render"?"true":void 0});return G&&!O?ue.createElement(ue.Fragment,null,P,ue.createElement(Hx,{page:F})):P});rh.displayName="Link";var $x=ue.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:p,...g},y){let w=Bu(c,{relative:g.relative}),R=ns(),H=ue.useContext(Eh),{navigator:I,basename:j}=ue.useContext(Cr),B=H!=null&&i2(w)&&d===!0,O=I.encodeLocation?I.encodeLocation(w).pathname:w.pathname,L=R.pathname,F=H&&H.navigation&&H.navigation.location?H.navigation.location.pathname:null;n||(L=L.toLowerCase(),F=F?F.toLowerCase():null,O=O.toLowerCase()),F&&j&&(F=$i(F,j)||F);const G=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let X=L===O||!o&&L.startsWith(O)&&L.charAt(G)==="/",J=F!=null&&(F===O||!o&&F.startsWith(O)&&F.charAt(O.length)==="/"),x={isActive:X,isPending:J,isTransitioning:B},C=X?e:void 0,P;typeof a=="function"?P=a(x):P=[a,X?"active":null,J?"pending":null,B?"transitioning":null].filter(Boolean).join(" ");let K=typeof l=="function"?l(x):l;return ue.createElement(rh,{...g,"aria-current":C,className:P,ref:y,style:K,to:c,viewTransition:d},typeof p=="function"?p(x):p)});$x.displayName="NavLink";var Xx=ue.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:l,method:c=Hf,action:d,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:w,unstable_defaultShouldRevalidate:R,...H},I)=>{let{unstable_useTransitions:j}=ue.useContext(Cr),B=n2(),O=r2(d,{relative:g}),L=c.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&kS.test(d),G=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let J=X.nativeEvent.submitter,x=J?.getAttribute("formmethod")||c,C=()=>B(J||X.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:o,state:l,relative:g,preventScrollReset:y,viewTransition:w,unstable_defaultShouldRevalidate:R});j&&n!==!1?ue.startTransition(()=>C()):C()};return ue.createElement("form",{ref:I,method:L,action:O,onSubmit:a?p:G,...H,"data-discover":!F&&r==="render"?"true":void 0})});Xx.displayName="Form";function Jx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function BS(r){let e=ue.useContext(nl);return Zt(e,Jx(r)),e}function Zx(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=rs(),y=ns(),w=Bu(r,{relative:l});return ue.useCallback(R=>{if(Ox(R,e)){R.preventDefault();let H=n!==void 0?n:Su(y)===Su(w),I=()=>g(r,{replace:H,state:a,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?ue.startTransition(()=>I()):I()}},[y,g,w,n,a,e,r,o,l,c,d,p])}var e2=0,t2=()=>`__${String(++e2)}__`;function n2(){let{router:r}=BS("useSubmit"),{basename:e}=ue.useContext(Cr),n=Ex(),a=r.fetch,o=r.navigate;return ue.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:y,body:w}=Mx(l,e);if(c.navigate===!1){let R=c.fetcherKey||t2();await a(R,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:w,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:w,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,o,e,n])}function r2(r,{relative:e}={}){let{basename:n}=ue.useContext(Cr),a=ue.useContext($r);Zt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),l={...Bu(r||".",{relative:e})},c=ns();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(y=>y==="")){d.delete("index"),p.filter(w=>w).forEach(w=>d.append("index",w));let y=d.toString();l.search=y?`?${y}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Wi([n,l.pathname])),Su(l)}function i2(r,{relative:e}={}){let n=ue.useContext(RS);Zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=BS("useViewTransitionState"),o=Bu(r,{relative:e});if(!n.isTransitioning)return!1;let l=$i(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=$i(n.nextLocation.pathname,a)||n.nextLocation.pathname;return nh(o.pathname,c)!=null||nh(o.pathname,l)!=null}var yw={};const US=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},a2=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[n++];e[a++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[n++],c=r[n++],d=r[n++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const l=r[n++],c=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},LS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const l=r[o],c=o+1<r.length,d=c?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,y=l>>2,w=(l&3)<<4|d>>4;let R=(d&15)<<2|g>>6,H=g&63;p||(H=64,c||(R=64)),a.push(n[y],n[w],n[R],n[H])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(US(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):a2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const l=n[r.charAt(o++)],d=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,l==null||d==null||g==null||w==null)throw new s2;const R=l<<2|d>>4;if(a.push(R),g!==64){const H=d<<4&240|g>>2;if(a.push(H),w!==64){const I=g<<6&192|w;a.push(I)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class s2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const o2=function(r){const e=US(r);return LS.encodeByteArray(e,!0)},ih=function(r){return o2(r).replace(/\./g,"")},VS=function(r){try{return LS.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Ls<"u")return Ls;throw new Error("Unable to locate global object.")}const u2=()=>l2().__FIREBASE_DEFAULTS__,c2=()=>{if(typeof et>"u"||typeof yw>"u")return;const r=yw.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},f2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&VS(r[1]);return e&&JSON.parse(e)},bh=()=>{try{return u2()||c2()||f2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},jS=r=>{var e,n;return(n=(e=bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},FS=r=>{const e=jS(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},qS=()=>{var r;return(r=bh())===null||r===void 0?void 0:r.config},zS=r=>{var e;return(e=bh())===null||e===void 0?void 0:e[`_${r}`]};class h2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function HS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ih(JSON.stringify(n)),ih(JSON.stringify(c)),""].join(".")}function Wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wn())}function p2(){var r;const e=(r=bh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(Ls.process)==="[object process]"}catch{return!1}}function m2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function y2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _2(){const r=Wn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function v2(){return!p2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function E2(){try{return typeof indexedDB=="object"}catch{return!1}}function w2(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}const b2="FirebaseError";class yi extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=b2,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uu.prototype.create)}}class Uu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?T2(l,a):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new yi(o,d,a)}}function T2(r,e){return r.replace(S2,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const S2=/\{\$([^}]+)}/g;function A2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Au(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const l=r[o],c=e[o];if(_w(l)&&_w(c)){if(!Au(l,c))return!1}else if(l!==c)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function _w(r){return r!==null&&typeof r=="object"}function il(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function R2(r,e){const n=new C2(r,e);return n.subscribe.bind(n)}class C2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");I2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=tm),o.error===void 0&&(o.error=tm),o.complete===void 0&&(o.complete=tm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function tm(){}function $t(r){return r&&r._delegate?r._delegate:r}class Ja{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ds="[DEFAULT]";class x2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new h2;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(D2(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});a.resolve(l)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);a===d&&c.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),l=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:O2(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function O2(r){return r===Ds?void 0:r}function D2(r){return r.instantiationMode==="EAGER"}class N2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var yt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(yt||(yt={}));const M2={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},P2=yt.INFO,k2={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},B2=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=k2[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ay{constructor(e){this.name=e,this._logLevel=P2,this._logHandler=B2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const U2=(r,e)=>e.some(n=>r instanceof n);let vw,Ew;function L2(){return vw||(vw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function V2(){return Ew||(Ew=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const GS=new WeakMap,Gg=new WeakMap,KS=new WeakMap,nm=new WeakMap,Ry=new WeakMap;function j2(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{n(Ya(r.result)),o()},c=()=>{a(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&GS.set(n,r)}).catch(()=>{}),Ry.set(e,r),e}function F2(r){if(Gg.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});Gg.set(r,e)}let Kg={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Gg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||KS.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ya(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function q2(r){Kg=r(Kg)}function z2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(rm(this),e,...n);return KS.set(a,e.sort?e.sort():[e]),Ya(a)}:V2().includes(r)?function(...e){return r.apply(rm(this),e),Ya(GS.get(this))}:function(...e){return Ya(r.apply(rm(this),e))}}function H2(r){return typeof r=="function"?z2(r):(r instanceof IDBTransaction&&F2(r),U2(r,L2())?new Proxy(r,Kg):r)}function Ya(r){if(r instanceof IDBRequest)return j2(r);if(nm.has(r))return nm.get(r);const e=H2(r);return e!==r&&(nm.set(r,e),Ry.set(e,r)),e}const rm=r=>Ry.get(r);function G2(r,e,{blocked:n,upgrade:a,blocking:o,terminated:l}={}){const c=indexedDB.open(r,e),d=Ya(c);return a&&c.addEventListener("upgradeneeded",p=>{a(Ya(c.result),p.oldVersion,p.newVersion,Ya(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const K2=["get","getKey","getAll","getAllKeys","count"],Y2=["put","add","delete","clear"],im=new Map;function ww(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(im.get(e))return im.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=Y2.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||K2.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return im.set(e,l),l}q2(r=>({...r,get:(e,n,a)=>ww(e,n)||r.get(e,n,a),has:(e,n)=>!!ww(e,n)||r.has(e,n)}));class W2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Q2(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function Q2(r){const e=r.getComponent();return e?.type==="VERSION"}const Yg="@firebase/app",bw="0.10.13";const Xi=new Ay("@firebase/app"),$2="@firebase/app-compat",X2="@firebase/analytics-compat",J2="@firebase/analytics",Z2="@firebase/app-check-compat",eO="@firebase/app-check",tO="@firebase/auth",nO="@firebase/auth-compat",rO="@firebase/database",iO="@firebase/data-connect",aO="@firebase/database-compat",sO="@firebase/functions",oO="@firebase/functions-compat",lO="@firebase/installations",uO="@firebase/installations-compat",cO="@firebase/messaging",fO="@firebase/messaging-compat",hO="@firebase/performance",dO="@firebase/performance-compat",pO="@firebase/remote-config",mO="@firebase/remote-config-compat",gO="@firebase/storage",yO="@firebase/storage-compat",_O="@firebase/firestore",vO="@firebase/vertexai-preview",EO="@firebase/firestore-compat",wO="firebase",bO="10.14.1";const Wg="[DEFAULT]",TO={[Yg]:"fire-core",[$2]:"fire-core-compat",[J2]:"fire-analytics",[X2]:"fire-analytics-compat",[eO]:"fire-app-check",[Z2]:"fire-app-check-compat",[tO]:"fire-auth",[nO]:"fire-auth-compat",[rO]:"fire-rtdb",[iO]:"fire-data-connect",[aO]:"fire-rtdb-compat",[sO]:"fire-fn",[oO]:"fire-fn-compat",[lO]:"fire-iid",[uO]:"fire-iid-compat",[cO]:"fire-fcm",[fO]:"fire-fcm-compat",[hO]:"fire-perf",[dO]:"fire-perf-compat",[pO]:"fire-rc",[mO]:"fire-rc-compat",[gO]:"fire-gcs",[yO]:"fire-gcs-compat",[_O]:"fire-fst",[EO]:"fire-fst-compat",[vO]:"fire-vertex","fire-js":"fire-js",[wO]:"fire-js-all"};const ah=new Map,SO=new Map,Qg=new Map;function Tw(r,e){try{r.container.addComponent(e)}catch(n){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Vs(r){const e=r.name;if(Qg.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;Qg.set(e,r);for(const n of ah.values())Tw(n,r);for(const n of SO.values())Tw(n,r);return!0}function Th(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Hi(r){return r.settings!==void 0}const AO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wa=new Uu("app","Firebase",AO);class RO{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wa.create("app-deleted",{appName:this._name})}}const Gs=bO;function YS(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Wg,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Wa.create("bad-app-name",{appName:String(o)});if(n||(n=qS()),!n)throw Wa.create("no-options");const l=ah.get(o);if(l){if(Au(n,l.options)&&Au(a,l.config))return l;throw Wa.create("duplicate-app",{appName:o})}const c=new N2(o);for(const p of Qg.values())c.addComponent(p);const d=new RO(n,a,c);return ah.set(o,d),d}function Cy(r=Wg){const e=ah.get(r);if(!e&&r===Wg&&qS())return YS();if(!e)throw Wa.create("no-app",{appName:r});return e}function hi(r,e,n){var a;let o=(a=TO[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(d.join(" "));return}Vs(new Ja(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const CO="firebase-heartbeat-database",IO=1,Ru="firebase-heartbeat-store";let am=null;function WS(){return am||(am=G2(CO,IO,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ru)}catch(n){console.warn(n)}}}}).catch(r=>{throw Wa.create("idb-open",{originalErrorMessage:r.message})})),am}async function xO(r){try{const n=(await WS()).transaction(Ru),a=await n.objectStore(Ru).get(QS(r));return await n.done,a}catch(e){if(e instanceof yi)Xi.warn(e.message);else{const n=Wa.create("idb-get",{originalErrorMessage:e?.message});Xi.warn(n.message)}}}async function Sw(r,e){try{const a=(await WS()).transaction(Ru,"readwrite");await a.objectStore(Ru).put(e,QS(r)),await a.done}catch(n){if(n instanceof yi)Xi.warn(n.message);else{const a=Wa.create("idb-set",{originalErrorMessage:n?.message});Xi.warn(a.message)}}}function QS(r){return`${r.name}!${r.options.appId}`}const OO=1024,DO=720*60*60*1e3;class NO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PO(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Aw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=DO}),this._storage.overwrite(this._heartbeatsCache))}catch(a){Xi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Aw(),{heartbeatsToSend:a,unsentEntries:o}=MO(this._heartbeatsCache.heartbeats),l=ih(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Xi.warn(n),""}}}function Aw(){return new Date().toISOString().substring(0,10)}function MO(r,e=OO){const n=[];let a=r.slice();for(const o of r){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Rw(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Rw(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class PO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return E2()?w2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Sw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Sw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Rw(r){return ih(JSON.stringify({version:2,heartbeats:r})).length}function kO(r){Vs(new Ja("platform-logger",e=>new W2(e),"PRIVATE")),Vs(new Ja("heartbeat",e=>new NO(e),"PRIVATE")),hi(Yg,bw,r),hi(Yg,bw,"esm2017"),hi("fire-js","")}kO("");function Iy(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function $S(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const BO=$S,XS=new Uu("auth","Firebase",$S());const sh=new Ay("@firebase/auth");function UO(r,...e){sh.logLevel<=yt.WARN&&sh.warn(`Auth (${Gs}): ${r}`,...e)}function Kf(r,...e){sh.logLevel<=yt.ERROR&&sh.error(`Auth (${Gs}): ${r}`,...e)}function Ji(r,...e){throw xy(r,...e)}function Rr(r,...e){return xy(r,...e)}function JS(r,e,n){const a=Object.assign(Object.assign({},BO()),{[e]:n});return new Uu("auth","Firebase",a).create(e,{appName:r.name})}function Qa(r){return JS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xy(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return XS.create(r,...e)}function He(r,e,...n){if(!r)throw xy(e,...n)}function Gi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Kf(e),new Error(e)}function Zi(r,e){r||Gi(e)}function $g(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function ZS(){return Cw()==="http:"||Cw()==="https:"}function Cw(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function LO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZS()||g2()||"connection"in navigator)?navigator.onLine:!0}function VO(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zi(n>e,"Short delay should be less than long delay!"),this.isMobile=d2()||y2()}get(){return LO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Oy(r,e){Zi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class eA{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const FO=new Lu(3e4,6e4);function ra(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function _i(r,e,n,a,o={}){return tA(r,o,async()=>{let l={},c={};a&&(e==="GET"?c=a:l={body:JSON.stringify(a)});const d=il(Object.assign({key:r.config.apiKey},c)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},l);return m2()||(g.referrerPolicy="no-referrer"),eA.fetch()(nA(r,r.config.apiHost,n,d),g)})}async function tA(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},jO),e);try{const o=new qO(r),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw du(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw du(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw du(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw du(r,"user-disabled",c);const y=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw JS(r,y,g);Ji(r,y)}}catch(o){if(o instanceof yi)throw o;Ji(r,"network-request-failed",{message:String(o)})}}async function Sh(r,e,n,a,o={}){const l=await _i(r,e,n,a,o);return"mfaPendingCredential"in l&&Ji(r,"multi-factor-auth-required",{_serverResponse:l}),l}function nA(r,e,n,a){const o=`${e}${n}?${a}`;return r.config.emulator?Oy(r.config,o):`${r.config.apiScheme}://${o}`}class qO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Rr(this.auth,"network-request-failed")),FO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function du(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Rr(r,e,a);return o.customData._tokenResponse=n,o}function Iw(r){return r!==void 0&&r.getResponse!==void 0}async function zO(r){return(await _i(r,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function HO(r,e){return _i(r,"POST","/v1/accounts:delete",e)}async function rA(r,e){return _i(r,"POST","/v1/accounts:lookup",e)}function _u(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GO(r,e=!1){const n=$t(r),a=await n.getIdToken(e),o=Dy(a);He(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:a,authTime:_u(sm(o.auth_time)),issuedAtTime:_u(sm(o.iat)),expirationTime:_u(sm(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function sm(r){return Number(r)*1e3}function Dy(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return Kf("JWT malformed, contained fewer than 3 sections"),null;try{const o=VS(n);return o?JSON.parse(o):(Kf("Failed to decode base64 JWT payload"),null)}catch(o){return Kf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function xw(r){const e=Dy(r);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Cu(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof yi&&KO(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function KO({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class YO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Xg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_u(this.lastLoginAt),this.creationTime=_u(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oh(r){var e;const n=r.auth,a=await r.getIdToken(),o=await Cu(r,rA(n,{idToken:a}));He(o?.users.length,n,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?iA(l.providerUserInfo):[],d=QO(r.providerData,c),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!d?.length,y=p?g:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Xg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,w)}async function WO(r){const e=$t(r);await oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QO(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function iA(r){return r.map(e=>{var{providerId:n}=e,a=Iy(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}async function $O(r,e){const n=await tA(r,{},async()=>{const a=il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,c=nA(r,o,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",eA.fetch()(c,{method:"POST",headers:d,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XO(r,e){return _i(r,"POST","/v2/accounts:revokeToken",ra(r,e))}class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=xw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:l}=await $O(e,n);this.updateTokensAndExpiration(a,o,Number(l))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:l}=n,c=new Fo;return a&&(He(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),o&&(He(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(He(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Gi("not implemented")}}function ja(r,e){He(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Ki{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,l=Iy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Xg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Cu(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GO(this,e)}reload(){return WO(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await oh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hi(this.auth.app))return Promise.reject(Qa(this.auth));const e=await this.getIdToken();return await Cu(this,HO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,l,c,d,p,g,y;const w=(a=n.displayName)!==null&&a!==void 0?a:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,H=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,I=(c=n.photoURL)!==null&&c!==void 0?c:void 0,j=(d=n.tenantId)!==null&&d!==void 0?d:void 0,B=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,O=(g=n.createdAt)!==null&&g!==void 0?g:void 0,L=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:F,emailVerified:G,isAnonymous:X,providerData:J,stsTokenManager:x}=n;He(F&&x,e,"internal-error");const C=Fo.fromJSON(this.name,x);He(typeof F=="string",e,"internal-error"),ja(w,e.name),ja(R,e.name),He(typeof G=="boolean",e,"internal-error"),He(typeof X=="boolean",e,"internal-error"),ja(H,e.name),ja(I,e.name),ja(j,e.name),ja(B,e.name),ja(O,e.name),ja(L,e.name);const P=new Ki({uid:F,auth:e,email:R,emailVerified:G,displayName:w,isAnonymous:X,photoURL:I,phoneNumber:H,tenantId:j,stsTokenManager:C,createdAt:O,lastLoginAt:L});return J&&Array.isArray(J)&&(P.providerData=J.map(K=>Object.assign({},K))),B&&(P._redirectEventId=B),P}static async _fromIdTokenResponse(e,n,a=!1){const o=new Fo;o.updateFromServerResponse(n);const l=new Ki({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await oh(l),l}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];He(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?iA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,d=new Fo;d.updateFromIdToken(a);const p=new Ki({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Xg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const Ow=new Map;function Yi(r){Zi(r instanceof Function,"Expected a class definition");let e=Ow.get(r);return e?(Zi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Ow.set(r,e),e)}class aA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aA.type="NONE";const Dw=aA;function Yf(r,e,n){return`firebase:${r}:${e}:${n}`}class qo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:l}=this.auth;this.fullUserKey=Yf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Yf("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new qo(Yi(Dw),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Yi(Dw);const c=Yf(a,e.config.apiKey,e.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){const w=Ki._fromJSON(e,y);g!==l&&(d=w),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new qo(l,e,a):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new qo(l,e,a))}}function Nw(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(sA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fA(e))return"Blackberry";if(hA(e))return"Webos";if(oA(e))return"Safari";if((e.includes("chrome/")||lA(e))&&!e.includes("edge/"))return"Chrome";if(cA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function sA(r=Wn()){return/firefox\//i.test(r)}function oA(r=Wn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function lA(r=Wn()){return/crios\//i.test(r)}function uA(r=Wn()){return/iemobile/i.test(r)}function cA(r=Wn()){return/android/i.test(r)}function fA(r=Wn()){return/blackberry/i.test(r)}function hA(r=Wn()){return/webos/i.test(r)}function Ny(r=Wn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function JO(r=Wn()){var e;return Ny(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZO(){return _2()&&document.documentMode===10}function dA(r=Wn()){return Ny(r)||cA(r)||hA(r)||fA(r)||/windows phone/i.test(r)||uA(r)}function pA(r,e=[]){let n;switch(r){case"Browser":n=Nw(Wn());break;case"Worker":n=`${Nw(Wn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gs}/${a}`}class eD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function tD(r,e={}){return _i(r,"GET","/v2/passwordPolicy",ra(r,e))}const nD=6;class rD{constructor(e){var n,a,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:nD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class iD{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mw(this),this.idTokenSubscription=new Mw(this),this.beforeStateQueue=new eD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await qo.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rA(this,{idToken:e}),a=await Ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await oh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=VO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hi(this.app))return Promise.reject(Qa(this));const n=e?$t(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hi(this.app)?Promise.reject(Qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hi(this.app)?Promise.reject(Qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await tD(this),n=new rD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Uu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await XO(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yi(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&UO(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Ks(r){return $t(r)}class Mw{constructor(e){this.auth=e,this.observer=null,this.addObserver=R2(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ah={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aD(r){Ah=r}function mA(r){return Ah.loadJS(r)}function sD(){return Ah.recaptchaV2Script}function oD(){return Ah.gapiScript}function gA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function lD(r,e){const n=Th(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(Au(l,e??{}))return o;Ji(o,"already-initialized")}return n.initialize({options:e})}function uD(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Yi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function cD(r,e,n){const a=Ks(r);He(a._canInitEmulator,a,"emulator-config-failed"),He(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,l=yA(e),{host:c,port:d}=fD(e),p=d===null?"":`:${d}`;a.config.emulator={url:`${l}//${c}${p}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),hD()}function yA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function fD(r){const e=yA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const l=o[1];return{host:l,port:Pw(a.substr(l.length+1))}}else{const[l,c]=a.split(":");return{host:l,port:Pw(c)}}}function Pw(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function hD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class My{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(e){return Gi("not implemented")}_linkToIdToken(e,n){return Gi("not implemented")}_getReauthenticationResolver(e){return Gi("not implemented")}}async function zo(r,e){return Sh(r,"POST","/v1/accounts:signInWithIdp",ra(r,e))}const dD="http://localhost";class js extends My{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ji("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,l=Iy(n,["providerId","signInMethod"]);if(!a||!o)return null;const c=new js(a,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return zo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,zo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zo(e,n)}buildRequest(){const e={requestUri:dD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=il(n)}return e}}async function pD(r,e){return _i(r,"POST","/v1/accounts:sendVerificationCode",ra(r,e))}async function mD(r,e){return Sh(r,"POST","/v1/accounts:signInWithPhoneNumber",ra(r,e))}async function gD(r,e){const n=await Sh(r,"POST","/v1/accounts:signInWithPhoneNumber",ra(r,e));if(n.temporaryProof)throw du(r,"account-exists-with-different-credential",n);return n}const yD={USER_NOT_FOUND:"user-not-found"};async function _D(r,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Sh(r,"POST","/v1/accounts:signInWithPhoneNumber",ra(r,n),yD)}class ks extends My{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new ks({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new ks({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return mD(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return gD(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return _D(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:a,verificationCode:o}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:a,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:a,phoneNumber:o,temporaryProof:l}=e;return!a&&!n&&!o&&!l?null:new ks({verificationId:n,verificationCode:a,phoneNumber:o,temporaryProof:l})}}class _A{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vu extends _A{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qa extends Vu{constructor(){super("facebook.com")}static credential(e){return js._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qa.credential(e.oauthAccessToken)}catch{return null}}}qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";qa.PROVIDER_ID="facebook.com";class qi extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return js._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return qi.credential(n,a)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";class za extends Vu{constructor(){super("github.com")}static credential(e){return js._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return za.credential(e.oauthAccessToken)}catch{return null}}}za.GITHUB_SIGN_IN_METHOD="github.com";za.PROVIDER_ID="github.com";class Ha extends Vu{constructor(){super("twitter.com")}static credential(e,n){return js._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Ha.credential(n,a)}catch{return null}}}Ha.TWITTER_SIGN_IN_METHOD="twitter.com";Ha.PROVIDER_ID="twitter.com";class Go{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const l=await Ki._fromIdTokenResponse(e,a,o),c=kw(a);return new Go({user:l,providerId:c,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=kw(a);return new Go({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function kw(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class lh extends yi{constructor(e,n,a,o){var l;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new lh(e,n,a,o)}}function vA(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(r,l,e,a):l})}async function vD(r,e,n=!1){const a=await Cu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Go._forOperation(r,"link",a)}async function ED(r,e,n=!1){const{auth:a}=r;if(Hi(a.app))return Promise.reject(Qa(a));const o="reauthenticate";try{const l=await Cu(r,vA(a,o,e,r),n);He(l.idToken,a,"internal-error");const c=Dy(l.idToken);He(c,a,"internal-error");const{sub:d}=c;return He(r.uid===d,a,"user-mismatch"),Go._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Ji(a,"user-mismatch"),l}}async function EA(r,e,n=!1){if(Hi(r.app))return Promise.reject(Qa(r));const a="signIn",o=await vA(r,a,e),l=await Go._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(l.user),l}async function Py(r,e){return EA(Ks(r),e)}function wD(r,e,n,a){return $t(r).onIdTokenChanged(e,n,a)}function bD(r,e,n){return $t(r).beforeAuthStateChanged(e,n)}function TD(r,e,n,a){return $t(r).onAuthStateChanged(e,n,a)}function SD(r,e){return _i(r,"POST","/v2/accounts/mfaEnrollment:start",ra(r,e))}const uh="__sak";class wA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const AD=1e3,RD=10;class bA extends wA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(a);!n&&this.localCache[a]===c||this.notifyListeners(a,c)},l=this.storage.getItem(a);ZO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RD):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},AD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bA.type="LOCAL";const CD=bA;class TA extends wA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}TA.type="SESSION";const SA=TA;function ID(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Rh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Rh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,l)),p=await ID(d);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];function ky(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}class xD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=ky("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},a);c={messageChannel:o,onMessage(w){const R=w;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(R.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function bn(){return window}function OD(r){bn().location.href=r}function By(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}async function DD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ND(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function MD(){return By()?self:null}const AA="firebaseLocalStorageDb",PD=1,ch="firebaseLocalStorage",RA="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ch(r,e){return r.transaction([ch],e?"readwrite":"readonly").objectStore(ch)}function kD(){const r=indexedDB.deleteDatabase(AA);return new ju(r).toPromise()}function Jg(){const r=indexedDB.open(AA,PD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(ch,{keyPath:RA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(ch)?e(a):(a.close(),await kD(),e(await Jg()))})})}async function Bw(r,e,n){const a=Ch(r,!0).put({[RA]:e,value:n});return new ju(a).toPromise()}async function BD(r,e){const n=Ch(r,!1).get(e),a=await new ju(n).toPromise();return a===void 0?null:a.value}function Uw(r,e){const n=Ch(r,!0).delete(e);return new ju(n).toPromise()}const UD=800,LD=3;class CA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>LD)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return By()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(MD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await DD(),!this.activeServiceWorker)return;this.sender=new xD(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ND()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jg();return await Bw(e,uh,"1"),await Uw(e,uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>Bw(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>BD(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Uw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Ch(o,!1).getAll();return new ju(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CA.type="LOCAL";const VD=CA;function jD(r,e){return _i(r,"POST","/v2/accounts/mfaSignIn:start",ra(r,e))}const FD=500,qD=6e4,If=1e12;class zD{constructor(e){this.auth=e,this.counter=If,this._widgets=new Map}render(e,n){const a=this.counter;return this._widgets.set(a,new HD(e,this.auth.name,n||{})),this.counter++,a}reset(e){var n;const a=e||If;(n=this._widgets.get(a))===null||n===void 0||n.delete(),this._widgets.delete(a)}getResponse(e){var n;const a=e||If;return((n=this._widgets.get(a))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const a=e||If;return(n=this._widgets.get(a))===null||n===void 0||n.execute(),""}}class HD{constructor(e,n,a){this.params=a,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof e=="string"?document.getElementById(e):e;He(o,"argument-error",{appName:n}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=GD(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},qD)},FD))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function GD(r){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let a=0;a<r;a++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const om=gA("rcb"),KD=new Lu(3e4,6e4);class YD{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=bn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return He(WD(n),e,"argument-error"),this.shouldResolveImmediately(n)&&Iw(bn().grecaptcha)?Promise.resolve(bn().grecaptcha):new Promise((a,o)=>{const l=bn().setTimeout(()=>{o(Rr(e,"network-request-failed"))},KD.get());bn()[om]=()=>{bn().clearTimeout(l),delete bn()[om];const d=bn().grecaptcha;if(!d||!Iw(d)){o(Rr(e,"internal-error"));return}const p=d.render;d.render=(g,y)=>{const w=p(g,y);return this.counter++,w},this.hostLanguage=n,a(d)};const c=`${sD()}?${il({onload:om,render:"explicit",hl:n})}`;mA(c).catch(()=>{clearTimeout(l),o(Rr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=bn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function WD(r){return r.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(r)}class QD{async load(e){return new zD(e)}clearedOneInstance(){}}const IA="recaptcha",$D={theme:"light",type:"image"};class xA{constructor(e,n,a=Object.assign({},$D)){this.parameters=a,this.type=IA,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ks(e),this.isInvisible=this.parameters.size==="invisible",He(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof n=="string"?document.getElementById(n):n;He(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new QD:new YD,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),a=n.getResponse(e);return a||new Promise(o=>{const l=c=>{c&&(this.tokenChangeListeners.delete(l),o(c))};this.tokenChangeListeners.add(l),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){He(!this.parameters.sitekey,this.auth,"argument-error"),He(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),He(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(a=>a(n)),typeof e=="function")e(n);else if(typeof e=="string"){const a=bn()[e];typeof a=="function"&&a(n)}}}assertNotDestroyed(){He(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){He(ZS()&&!By(),this.auth,"internal-error"),await XD(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await zO(this.auth);He(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return He(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function XD(){let r=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}r=()=>e(),window.addEventListener("load",r)}).catch(e=>{throw r&&window.removeEventListener("load",r),e})}class JD{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=ks._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function OA(r,e,n){if(Hi(r.app))return Promise.reject(Qa(r));const a=Ks(r),o=await DA(a,e,$t(n));return new JD(o,l=>Py(a,l))}async function DA(r,e,n){var a;const o=await n.verify();try{He(typeof o=="string",r,"argument-error"),He(n.type===IA,r,"argument-error");let l;if(typeof e=="string"?l={phoneNumber:e}:l=e,"session"in l){const c=l.session;if("phoneNumber"in l)return He(c.type==="enroll",r,"internal-error"),(await SD(r,{idToken:c.credential,phoneEnrollmentInfo:{phoneNumber:l.phoneNumber,recaptchaToken:o}})).phoneSessionInfo.sessionInfo;{He(c.type==="signin",r,"internal-error");const d=((a=l.multiFactorHint)===null||a===void 0?void 0:a.uid)||l.multiFactorUid;return He(d,r,"missing-multi-factor-info"),(await jD(r,{mfaPendingCredential:c.credential,mfaEnrollmentId:d,phoneSignInInfo:{recaptchaToken:o}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:c}=await pD(r,{phoneNumber:l.phoneNumber,recaptchaToken:o});return c}}finally{n._reset()}}class $a{constructor(e){this.providerId=$a.PROVIDER_ID,this.auth=Ks(e)}verifyPhoneNumber(e,n){return DA(this.auth,e,$t(n))}static credential(e,n){return ks._fromVerification(e,n)}static credentialFromResult(e){const n=e;return $a.credentialFromTaggedObject(n)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:a}=e;return n&&a?ks._fromTokenResponse(n,a):null}}$a.PROVIDER_ID="phone";$a.PHONE_SIGN_IN_METHOD="phone";function ZD(r,e){return e?Yi(e):(He(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Uy extends My{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function eN(r){return EA(r.auth,new Uy(r),r.bypassAuthState)}function tN(r){const{auth:e,user:n}=r;return He(n,e,"internal-error"),ED(n,new Uy(r),r.bypassAuthState)}async function nN(r){const{auth:e,user:n}=r;return He(n,e,"internal-error"),vD(n,new Uy(r),r.bypassAuthState)}class NA{constructor(e,n,a,o,l=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return eN;case"linkViaPopup":case"linkViaRedirect":return nN;case"reauthViaPopup":case"reauthViaRedirect":return tN;default:Ji(this.auth,"internal-error")}}resolve(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const rN=new Lu(2e3,1e4);class Vo extends NA{constructor(e,n,a,o,l){super(e,n,o,l),this.provider=a,this.authWindow=null,this.pollId=null,Vo.currentPopupAction&&Vo.currentPopupAction.cancel(),Vo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Zi(this.filter.length===1,"Popup operations only handle one event");const e=ky();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,rN.get())};e()}}Vo.currentPopupAction=null;const iN="pendingRedirect",Wf=new Map;class aN extends NA{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Wf.get(this.auth._key());if(!e){try{const a=await sN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Wf.set(this.auth._key(),e)}return this.bypassAuthState||Wf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sN(r,e){const n=uN(e),a=lN(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function oN(r,e){Wf.set(r._key(),e)}function lN(r){return Yi(r._redirectPersistence)}function uN(r){return Yf(iN,r.config.apiKey,r.name)}async function cN(r,e,n=!1){if(Hi(r.app))return Promise.reject(Qa(r));const a=Ks(r),o=ZD(a,e),c=await new aN(a,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}const fN=600*1e3;class hN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!MA(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Rr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Lw(e))}saveEventToCache(e){this.cachedEventUids.add(Lw(e)),this.lastProcessedEventTime=Date.now()}}function Lw(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function MA({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function dN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MA(r);default:return!1}}async function pN(r,e={}){return _i(r,"GET","/v1/projects",e)}const mN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gN=/^https?/;async function yN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await pN(r);for(const n of e)try{if(_N(n))return}catch{}Ji(r,"unauthorized-domain")}function _N(r){const e=$g(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===a}if(!gN.test(n))return!1;if(mN.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const vN=new Lu(3e4,6e4);function Vw(){const r=bn().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function EN(r){return new Promise((e,n)=>{var a,o,l;function c(){Vw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vw(),n(Rr(r,"network-request-failed"))},timeout:vN.get()})}if(!((o=(a=bn().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=bn().gapi)===null||l===void 0)&&l.load)c();else{const d=gA("iframefcb");return bn()[d]=()=>{gapi.load?c():n(Rr(r,"network-request-failed"))},mA(`${oD()}?onload=${d}`).catch(p=>n(p))}}).catch(e=>{throw Qf=null,e})}let Qf=null;function wN(r){return Qf=Qf||EN(r),Qf}const bN=new Lu(5e3,15e3),TN="__/auth/iframe",SN="emulator/auth/iframe",AN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CN(r){const e=r.config;He(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Oy(e,SN):`https://${r.config.authDomain}/${TN}`,a={apiKey:e.apiKey,appName:r.name,v:Gs},o=RN.get(r.config.apiHost);o&&(a.eid=o);const l=r._getFrameworks();return l.length&&(a.fw=l.join(",")),`${n}?${il(a).slice(1)}`}async function IN(r){const e=await wN(r),n=bn().gapi;return He(n,r,"internal-error"),e.open({where:document.body,url:CN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AN,dontclear:!0},a=>new Promise(async(o,l)=>{await a.restyle({setHideOnLeave:!1});const c=Rr(r,"network-request-failed"),d=bn().setTimeout(()=>{l(c)},bN.get());function p(){bn().clearTimeout(d),o(a)}a.ping(p).then(p,()=>{l(c)})}))}const xN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ON=500,DN=600,NN="_blank",MN="http://localhost";class jw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function PN(r,e,n,a=ON,o=DN){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p=Object.assign(Object.assign({},xN),{width:a.toString(),height:o.toString(),top:l,left:c}),g=Wn().toLowerCase();n&&(d=lA(g)?NN:n),sA(g)&&(e=e||MN,p.scrollbars="yes");const y=Object.entries(p).reduce((R,[H,I])=>`${R}${H}=${I},`,"");if(JO(g)&&d!=="_self")return kN(e||"",d),new jw(null);const w=window.open(e||"",d,y);He(w,r,"popup-blocked");try{w.focus()}catch{}return new jw(w)}function kN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const BN="__/auth/handler",UN="emulator/auth/handler",LN=encodeURIComponent("fac");async function Fw(r,e,n,a,o,l){He(r.config.authDomain,r,"auth-domain-config-required"),He(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:Gs,eventId:o};if(e instanceof _A){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",A2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))c[y]=w}if(e instanceof Vu){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(c.scopes=y.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await r._getAppCheckToken(),g=p?`#${LN}=${encodeURIComponent(p)}`:"";return`${VN(r)}?${il(d).slice(1)}${g}`}function VN({config:r}){return r.emulator?Oy(r,UN):`https://${r.authDomain}/${BN}`}const lm="webStorageSupport";class jN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SA,this._completeRedirectFn=cN,this._overrideRedirectResult=oN}async _openPopup(e,n,a,o){var l;Zi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await Fw(e,n,a,$g(),o);return PN(e,c,ky())}async _openRedirect(e,n,a,o){await this._originValidation(e);const l=await Fw(e,n,a,$g(),o);return OD(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(Zi(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await IN(e),a=new hN(e);return n.register("authEvent",o=>(He(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lm,{type:lm},o=>{var l;const c=(l=o?.[0])===null||l===void 0?void 0:l[lm];c!==void 0&&n(!!c),Ji(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=yN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dA()||oA()||Ny()}}const FN=jN;var qw="@firebase/auth",zw="1.7.9";class qN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HN(r){Vs(new Ja("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=a.options;He(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pA(r)},g=new iD(a,o,l,p);return uD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Vs(new Ja("auth-internal",e=>{const n=Ks(e.getProvider("auth").getImmediate());return(a=>new qN(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),hi(qw,zw,zN(r)),hi(qw,zw,"esm2017")}const GN=300,KN=zS("authIdTokenMaxAge")||GN;let Hw=null;const YN=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>KN)return;const o=n?.token;Hw!==o&&(Hw=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function WN(r=Cy()){const e=Th(r,"auth");if(e.isInitialized())return e.getImmediate();const n=lD(r,{popupRedirectResolver:FN,persistence:[VD,CD,SA]}),a=zS("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const c=YN(l.toString());bD(n,c,()=>c(n.currentUser)),wD(n,d=>c(d))}}const o=jS("auth");return o&&cD(n,`http://${o}`),n}function QN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}aD({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const l=Rr("internal-error");l.customData=o,n(l)},a.type="text/javascript",a.charset="UTF-8",QN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HN("Browser");var PA={},Ih={};Ih.byteLength=JN;Ih.toByteArray=eM;Ih.fromByteArray=rM;var ci=[],Lr=[],$N=typeof Uint8Array<"u"?Uint8Array:Array,um="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ko=0,XN=um.length;ko<XN;++ko)ci[ko]=um[ko],Lr[um.charCodeAt(ko)]=ko;Lr[45]=62;Lr[95]=63;function kA(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=r.indexOf("=");n===-1&&(n=e);var a=n===e?0:4-n%4;return[n,a]}function JN(r){var e=kA(r),n=e[0],a=e[1];return(n+a)*3/4-a}function ZN(r,e,n){return(e+n)*3/4-n}function eM(r){var e,n=kA(r),a=n[0],o=n[1],l=new $N(ZN(r,a,o)),c=0,d=o>0?a-4:a,p;for(p=0;p<d;p+=4)e=Lr[r.charCodeAt(p)]<<18|Lr[r.charCodeAt(p+1)]<<12|Lr[r.charCodeAt(p+2)]<<6|Lr[r.charCodeAt(p+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=e&255;return o===2&&(e=Lr[r.charCodeAt(p)]<<2|Lr[r.charCodeAt(p+1)]>>4,l[c++]=e&255),o===1&&(e=Lr[r.charCodeAt(p)]<<10|Lr[r.charCodeAt(p+1)]<<4|Lr[r.charCodeAt(p+2)]>>2,l[c++]=e>>8&255,l[c++]=e&255),l}function tM(r){return ci[r>>18&63]+ci[r>>12&63]+ci[r>>6&63]+ci[r&63]}function nM(r,e,n){for(var a,o=[],l=e;l<n;l+=3)a=(r[l]<<16&16711680)+(r[l+1]<<8&65280)+(r[l+2]&255),o.push(tM(a));return o.join("")}function rM(r){for(var e,n=r.length,a=n%3,o=[],l=16383,c=0,d=n-a;c<d;c+=l)o.push(nM(r,c,c+l>d?d:c+l));return a===1?(e=r[n-1],o.push(ci[e>>2]+ci[e<<4&63]+"==")):a===2&&(e=(r[n-2]<<8)+r[n-1],o.push(ci[e>>10]+ci[e>>4&63]+ci[e<<2&63]+"=")),o.join("")}var Ly={};Ly.read=function(r,e,n,a,o){var l,c,d=o*8-a-1,p=(1<<d)-1,g=p>>1,y=-7,w=n?o-1:0,R=n?-1:1,H=r[e+w];for(w+=R,l=H&(1<<-y)-1,H>>=-y,y+=d;y>0;l=l*256+r[e+w],w+=R,y-=8);for(c=l&(1<<-y)-1,l>>=-y,y+=a;y>0;c=c*256+r[e+w],w+=R,y-=8);if(l===0)l=1-g;else{if(l===p)return c?NaN:(H?-1:1)*(1/0);c=c+Math.pow(2,a),l=l-g}return(H?-1:1)*c*Math.pow(2,l-a)};Ly.write=function(r,e,n,a,o,l){var c,d,p,g=l*8-o-1,y=(1<<g)-1,w=y>>1,R=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,H=a?0:l-1,I=a?1:-1,j=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,c=y):(c=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+w>=1?e+=R/p:e+=R*Math.pow(2,1-w),e*p>=2&&(c++,p/=2),c+w>=y?(d=0,c=y):c+w>=1?(d=(e*p-1)*Math.pow(2,o),c=c+w):(d=e*Math.pow(2,w-1)*Math.pow(2,o),c=0));o>=8;r[n+H]=d&255,H+=I,d/=256,o-=8);for(c=c<<o|d,g+=o;g>0;r[n+H]=c&255,H+=I,c/=256,g-=8);r[n+H-I]|=j*128};(function(r){const e=Ih,n=Ly,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=y,r.SlowBuffer=X,r.INSPECT_MAX_BYTES=50;const o=2147483647;r.kMaxLength=o;const{Uint8Array:l,ArrayBuffer:c,SharedArrayBuffer:d}=globalThis;y.TYPED_ARRAY_SUPPORT=p(),!y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function p(){try{const N=new l(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,l.prototype),Object.setPrototypeOf(N,E),N.foo()===42}catch{return!1}}Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}});function g(N){if(N>o)throw new RangeError('The value "'+N+'" is invalid for option "size"');const E=new l(N);return Object.setPrototypeOf(E,y.prototype),E}function y(N,E,T){if(typeof N=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(N)}return w(N,E,T)}y.poolSize=8192;function w(N,E,T){if(typeof N=="string")return j(N,E);if(c.isView(N))return O(N);if(N==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N);if(nn(N,c)||N&&nn(N.buffer,c)||typeof d<"u"&&(nn(N,d)||N&&nn(N.buffer,d)))return L(N,E,T);if(typeof N=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const W=N.valueOf&&N.valueOf();if(W!=null&&W!==N)return y.from(W,E,T);const se=F(N);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof N[Symbol.toPrimitive]=="function")return y.from(N[Symbol.toPrimitive]("string"),E,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof N)}y.from=function(N,E,T){return w(N,E,T)},Object.setPrototypeOf(y.prototype,l.prototype),Object.setPrototypeOf(y,l);function R(N){if(typeof N!="number")throw new TypeError('"size" argument must be of type number');if(N<0)throw new RangeError('The value "'+N+'" is invalid for option "size"')}function H(N,E,T){return R(N),N<=0?g(N):E!==void 0?typeof T=="string"?g(N).fill(E,T):g(N).fill(E):g(N)}y.alloc=function(N,E,T){return H(N,E,T)};function I(N){return R(N),g(N<0?0:G(N)|0)}y.allocUnsafe=function(N){return I(N)},y.allocUnsafeSlow=function(N){return I(N)};function j(N,E){if((typeof E!="string"||E==="")&&(E="utf8"),!y.isEncoding(E))throw new TypeError("Unknown encoding: "+E);const T=J(N,E)|0;let W=g(T);const se=W.write(N,E);return se!==T&&(W=W.slice(0,se)),W}function B(N){const E=N.length<0?0:G(N.length)|0,T=g(E);for(let W=0;W<E;W+=1)T[W]=N[W]&255;return T}function O(N){if(nn(N,l)){const E=new l(N);return L(E.buffer,E.byteOffset,E.byteLength)}return B(N)}function L(N,E,T){if(E<0||N.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(N.byteLength<E+(T||0))throw new RangeError('"length" is outside of buffer bounds');let W;return E===void 0&&T===void 0?W=new l(N):T===void 0?W=new l(N,E):W=new l(N,E,T),Object.setPrototypeOf(W,y.prototype),W}function F(N){if(y.isBuffer(N)){const E=G(N.length)|0,T=g(E);return T.length===0||N.copy(T,0,0,E),T}if(N.length!==void 0)return typeof N.length!="number"||Tt(N.length)?g(0):B(N);if(N.type==="Buffer"&&Array.isArray(N.data))return B(N.data)}function G(N){if(N>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return N|0}function X(N){return+N!=N&&(N=0),y.alloc(+N)}y.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==y.prototype},y.compare=function(E,T){if(nn(E,l)&&(E=y.from(E,E.offset,E.byteLength)),nn(T,l)&&(T=y.from(T,T.offset,T.byteLength)),!y.isBuffer(E)||!y.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===T)return 0;let W=E.length,se=T.length;for(let me=0,Re=Math.min(W,se);me<Re;++me)if(E[me]!==T[me]){W=E[me],se=T[me];break}return W<se?-1:se<W?1:0},y.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(E,T){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return y.alloc(0);let W;if(T===void 0)for(T=0,W=0;W<E.length;++W)T+=E[W].length;const se=y.allocUnsafe(T);let me=0;for(W=0;W<E.length;++W){let Re=E[W];if(nn(Re,l))me+Re.length>se.length?(y.isBuffer(Re)||(Re=y.from(Re)),Re.copy(se,me)):l.prototype.set.call(se,Re,me);else if(y.isBuffer(Re))Re.copy(se,me);else throw new TypeError('"list" argument must be an Array of Buffers');me+=Re.length}return se};function J(N,E){if(y.isBuffer(N))return N.length;if(c.isView(N)||nn(N,c))return N.byteLength;if(typeof N!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof N);const T=N.length,W=arguments.length>2&&arguments[2]===!0;if(!W&&T===0)return 0;let se=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return Xt(N).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return bt(N).length;default:if(se)return W?-1:Xt(N).length;E=(""+E).toLowerCase(),se=!0}}y.byteLength=J;function x(N,E,T){let W=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,E>>>=0,T<=E))return"";for(N||(N="utf8");;)switch(N){case"hex":return ve(this,E,T);case"utf8":case"utf-8":return ge(this,E,T);case"ascii":return Le(this,E,T);case"latin1":case"binary":return ne(this,E,T);case"base64":return ae(this,E,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,E,T);default:if(W)throw new TypeError("Unknown encoding: "+N);N=(N+"").toLowerCase(),W=!0}}y.prototype._isBuffer=!0;function C(N,E,T){const W=N[E];N[E]=N[T],N[T]=W}y.prototype.swap16=function(){const E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let T=0;T<E;T+=2)C(this,T,T+1);return this},y.prototype.swap32=function(){const E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let T=0;T<E;T+=4)C(this,T,T+3),C(this,T+1,T+2);return this},y.prototype.swap64=function(){const E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let T=0;T<E;T+=8)C(this,T,T+7),C(this,T+1,T+6),C(this,T+2,T+5),C(this,T+3,T+4);return this},y.prototype.toString=function(){const E=this.length;return E===0?"":arguments.length===0?ge(this,0,E):x.apply(this,arguments)},y.prototype.toLocaleString=y.prototype.toString,y.prototype.equals=function(E){if(!y.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:y.compare(this,E)===0},y.prototype.inspect=function(){let E="";const T=r.INSPECT_MAX_BYTES;return E=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(E+=" ... "),"<Buffer "+E+">"},a&&(y.prototype[a]=y.prototype.inspect),y.prototype.compare=function(E,T,W,se,me){if(nn(E,l)&&(E=y.from(E,E.offset,E.byteLength)),!y.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(T===void 0&&(T=0),W===void 0&&(W=E?E.length:0),se===void 0&&(se=0),me===void 0&&(me=this.length),T<0||W>E.length||se<0||me>this.length)throw new RangeError("out of range index");if(se>=me&&T>=W)return 0;if(se>=me)return-1;if(T>=W)return 1;if(T>>>=0,W>>>=0,se>>>=0,me>>>=0,this===E)return 0;let Re=me-se,it=W-T;const St=Math.min(Re,it),Dt=this.slice(se,me),At=E.slice(T,W);for(let ot=0;ot<St;++ot)if(Dt[ot]!==At[ot]){Re=Dt[ot],it=At[ot];break}return Re<it?-1:it<Re?1:0};function P(N,E,T,W,se){if(N.length===0)return-1;if(typeof T=="string"?(W=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,Tt(T)&&(T=se?0:N.length-1),T<0&&(T=N.length+T),T>=N.length){if(se)return-1;T=N.length-1}else if(T<0)if(se)T=0;else return-1;if(typeof E=="string"&&(E=y.from(E,W)),y.isBuffer(E))return E.length===0?-1:K(N,E,T,W,se);if(typeof E=="number")return E=E&255,typeof l.prototype.indexOf=="function"?se?l.prototype.indexOf.call(N,E,T):l.prototype.lastIndexOf.call(N,E,T):K(N,[E],T,W,se);throw new TypeError("val must be string, number or Buffer")}function K(N,E,T,W,se){let me=1,Re=N.length,it=E.length;if(W!==void 0&&(W=String(W).toLowerCase(),W==="ucs2"||W==="ucs-2"||W==="utf16le"||W==="utf-16le")){if(N.length<2||E.length<2)return-1;me=2,Re/=2,it/=2,T/=2}function St(At,ot){return me===1?At[ot]:At.readUInt16BE(ot*me)}let Dt;if(se){let At=-1;for(Dt=T;Dt<Re;Dt++)if(St(N,Dt)===St(E,At===-1?0:Dt-At)){if(At===-1&&(At=Dt),Dt-At+1===it)return At*me}else At!==-1&&(Dt-=Dt-At),At=-1}else for(T+it>Re&&(T=Re-it),Dt=T;Dt>=0;Dt--){let At=!0;for(let ot=0;ot<it;ot++)if(St(N,Dt+ot)!==St(E,ot)){At=!1;break}if(At)return Dt}return-1}y.prototype.includes=function(E,T,W){return this.indexOf(E,T,W)!==-1},y.prototype.indexOf=function(E,T,W){return P(this,E,T,W,!0)},y.prototype.lastIndexOf=function(E,T,W){return P(this,E,T,W,!1)};function ee(N,E,T,W){T=Number(T)||0;const se=N.length-T;W?(W=Number(W),W>se&&(W=se)):W=se;const me=E.length;W>me/2&&(W=me/2);let Re;for(Re=0;Re<W;++Re){const it=parseInt(E.substr(Re*2,2),16);if(Tt(it))return Re;N[T+Re]=it}return Re}function k(N,E,T,W){return _t(Xt(E,N.length-T),N,T,W)}function $(N,E,T,W){return _t(en(E),N,T,W)}function Ke(N,E,T,W){return _t(bt(E),N,T,W)}function ke(N,E,T,W){return _t(wt(E,N.length-T),N,T,W)}y.prototype.write=function(E,T,W,se){if(T===void 0)se="utf8",W=this.length,T=0;else if(W===void 0&&typeof T=="string")se=T,W=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(W)?(W=W>>>0,se===void 0&&(se="utf8")):(se=W,W=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const me=this.length-T;if((W===void 0||W>me)&&(W=me),E.length>0&&(W<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");let Re=!1;for(;;)switch(se){case"hex":return ee(this,E,T,W);case"utf8":case"utf-8":return k(this,E,T,W);case"ascii":case"latin1":case"binary":return $(this,E,T,W);case"base64":return Ke(this,E,T,W);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ke(this,E,T,W);default:if(Re)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),Re=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ae(N,E,T){return E===0&&T===N.length?e.fromByteArray(N):e.fromByteArray(N.slice(E,T))}function ge(N,E,T){T=Math.min(N.length,T);const W=[];let se=E;for(;se<T;){const me=N[se];let Re=null,it=me>239?4:me>223?3:me>191?2:1;if(se+it<=T){let St,Dt,At,ot;switch(it){case 1:me<128&&(Re=me);break;case 2:St=N[se+1],(St&192)===128&&(ot=(me&31)<<6|St&63,ot>127&&(Re=ot));break;case 3:St=N[se+1],Dt=N[se+2],(St&192)===128&&(Dt&192)===128&&(ot=(me&15)<<12|(St&63)<<6|Dt&63,ot>2047&&(ot<55296||ot>57343)&&(Re=ot));break;case 4:St=N[se+1],Dt=N[se+2],At=N[se+3],(St&192)===128&&(Dt&192)===128&&(At&192)===128&&(ot=(me&15)<<18|(St&63)<<12|(Dt&63)<<6|At&63,ot>65535&&ot<1114112&&(Re=ot))}}Re===null?(Re=65533,it=1):Re>65535&&(Re-=65536,W.push(Re>>>10&1023|55296),Re=56320|Re&1023),W.push(Re),se+=it}return Ue(W)}const xe=4096;function Ue(N){const E=N.length;if(E<=xe)return String.fromCharCode.apply(String,N);let T="",W=0;for(;W<E;)T+=String.fromCharCode.apply(String,N.slice(W,W+=xe));return T}function Le(N,E,T){let W="";T=Math.min(N.length,T);for(let se=E;se<T;++se)W+=String.fromCharCode(N[se]&127);return W}function ne(N,E,T){let W="";T=Math.min(N.length,T);for(let se=E;se<T;++se)W+=String.fromCharCode(N[se]);return W}function ve(N,E,T){const W=N.length;(!E||E<0)&&(E=0),(!T||T<0||T>W)&&(T=W);let se="";for(let me=E;me<T;++me)se+=Mt[N[me]];return se}function Z(N,E,T){const W=N.slice(E,T);let se="";for(let me=0;me<W.length-1;me+=2)se+=String.fromCharCode(W[me]+W[me+1]*256);return se}y.prototype.slice=function(E,T){const W=this.length;E=~~E,T=T===void 0?W:~~T,E<0?(E+=W,E<0&&(E=0)):E>W&&(E=W),T<0?(T+=W,T<0&&(T=0)):T>W&&(T=W),T<E&&(T=E);const se=this.subarray(E,T);return Object.setPrototypeOf(se,y.prototype),se};function ie(N,E,T){if(N%1!==0||N<0)throw new RangeError("offset is not uint");if(N+E>T)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUintLE=y.prototype.readUIntLE=function(E,T,W){E=E>>>0,T=T>>>0,W||ie(E,T,this.length);let se=this[E],me=1,Re=0;for(;++Re<T&&(me*=256);)se+=this[E+Re]*me;return se},y.prototype.readUintBE=y.prototype.readUIntBE=function(E,T,W){E=E>>>0,T=T>>>0,W||ie(E,T,this.length);let se=this[E+--T],me=1;for(;T>0&&(me*=256);)se+=this[E+--T]*me;return se},y.prototype.readUint8=y.prototype.readUInt8=function(E,T){return E=E>>>0,T||ie(E,1,this.length),this[E]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function(E,T){return E=E>>>0,T||ie(E,2,this.length),this[E]|this[E+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function(E,T){return E=E>>>0,T||ie(E,2,this.length),this[E]<<8|this[E+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function(E,T){return E=E>>>0,T||ie(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},y.prototype.readUint32BE=y.prototype.readUInt32BE=function(E,T){return E=E>>>0,T||ie(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},y.prototype.readBigUInt64LE=Vt(function(E){E=E>>>0,je(E,"offset");const T=this[E],W=this[E+7];(T===void 0||W===void 0)&&Ze(E,this.length-8);const se=T+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24,me=this[++E]+this[++E]*2**8+this[++E]*2**16+W*2**24;return BigInt(se)+(BigInt(me)<<BigInt(32))}),y.prototype.readBigUInt64BE=Vt(function(E){E=E>>>0,je(E,"offset");const T=this[E],W=this[E+7];(T===void 0||W===void 0)&&Ze(E,this.length-8);const se=T*2**24+this[++E]*2**16+this[++E]*2**8+this[++E],me=this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+W;return(BigInt(se)<<BigInt(32))+BigInt(me)}),y.prototype.readIntLE=function(E,T,W){E=E>>>0,T=T>>>0,W||ie(E,T,this.length);let se=this[E],me=1,Re=0;for(;++Re<T&&(me*=256);)se+=this[E+Re]*me;return me*=128,se>=me&&(se-=Math.pow(2,8*T)),se},y.prototype.readIntBE=function(E,T,W){E=E>>>0,T=T>>>0,W||ie(E,T,this.length);let se=T,me=1,Re=this[E+--se];for(;se>0&&(me*=256);)Re+=this[E+--se]*me;return me*=128,Re>=me&&(Re-=Math.pow(2,8*T)),Re},y.prototype.readInt8=function(E,T){return E=E>>>0,T||ie(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},y.prototype.readInt16LE=function(E,T){E=E>>>0,T||ie(E,2,this.length);const W=this[E]|this[E+1]<<8;return W&32768?W|4294901760:W},y.prototype.readInt16BE=function(E,T){E=E>>>0,T||ie(E,2,this.length);const W=this[E+1]|this[E]<<8;return W&32768?W|4294901760:W},y.prototype.readInt32LE=function(E,T){return E=E>>>0,T||ie(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},y.prototype.readInt32BE=function(E,T){return E=E>>>0,T||ie(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},y.prototype.readBigInt64LE=Vt(function(E){E=E>>>0,je(E,"offset");const T=this[E],W=this[E+7];(T===void 0||W===void 0)&&Ze(E,this.length-8);const se=this[E+4]+this[E+5]*2**8+this[E+6]*2**16+(W<<24);return(BigInt(se)<<BigInt(32))+BigInt(T+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24)}),y.prototype.readBigInt64BE=Vt(function(E){E=E>>>0,je(E,"offset");const T=this[E],W=this[E+7];(T===void 0||W===void 0)&&Ze(E,this.length-8);const se=(T<<24)+this[++E]*2**16+this[++E]*2**8+this[++E];return(BigInt(se)<<BigInt(32))+BigInt(this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+W)}),y.prototype.readFloatLE=function(E,T){return E=E>>>0,T||ie(E,4,this.length),n.read(this,E,!0,23,4)},y.prototype.readFloatBE=function(E,T){return E=E>>>0,T||ie(E,4,this.length),n.read(this,E,!1,23,4)},y.prototype.readDoubleLE=function(E,T){return E=E>>>0,T||ie(E,8,this.length),n.read(this,E,!0,52,8)},y.prototype.readDoubleBE=function(E,T){return E=E>>>0,T||ie(E,8,this.length),n.read(this,E,!1,52,8)};function he(N,E,T,W,se,me){if(!y.isBuffer(N))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>se||E<me)throw new RangeError('"value" argument is out of bounds');if(T+W>N.length)throw new RangeError("Index out of range")}y.prototype.writeUintLE=y.prototype.writeUIntLE=function(E,T,W,se){if(E=+E,T=T>>>0,W=W>>>0,!se){const it=Math.pow(2,8*W)-1;he(this,E,T,W,it,0)}let me=1,Re=0;for(this[T]=E&255;++Re<W&&(me*=256);)this[T+Re]=E/me&255;return T+W},y.prototype.writeUintBE=y.prototype.writeUIntBE=function(E,T,W,se){if(E=+E,T=T>>>0,W=W>>>0,!se){const it=Math.pow(2,8*W)-1;he(this,E,T,W,it,0)}let me=W-1,Re=1;for(this[T+me]=E&255;--me>=0&&(Re*=256);)this[T+me]=E/Re&255;return T+W},y.prototype.writeUint8=y.prototype.writeUInt8=function(E,T,W){return E=+E,T=T>>>0,W||he(this,E,T,1,255,0),this[T]=E&255,T+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(E,T,W){return E=+E,T=T>>>0,W||he(this,E,T,2,65535,0),this[T]=E&255,this[T+1]=E>>>8,T+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(E,T,W){return E=+E,T=T>>>0,W||he(this,E,T,2,65535,0),this[T]=E>>>8,this[T+1]=E&255,T+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(E,T,W){return E=+E,T=T>>>0,W||he(this,E,T,4,4294967295,0),this[T+3]=E>>>24,this[T+2]=E>>>16,this[T+1]=E>>>8,this[T]=E&255,T+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(E,T,W){return E=+E,T=T>>>0,W||he(this,E,T,4,4294967295,0),this[T]=E>>>24,this[T+1]=E>>>16,this[T+2]=E>>>8,this[T+3]=E&255,T+4};function te(N,E,T,W,se){Qe(E,W,se,N,T,7);let me=Number(E&BigInt(4294967295));N[T++]=me,me=me>>8,N[T++]=me,me=me>>8,N[T++]=me,me=me>>8,N[T++]=me;let Re=Number(E>>BigInt(32)&BigInt(4294967295));return N[T++]=Re,Re=Re>>8,N[T++]=Re,Re=Re>>8,N[T++]=Re,Re=Re>>8,N[T++]=Re,T}function D(N,E,T,W,se){Qe(E,W,se,N,T,7);let me=Number(E&BigInt(4294967295));N[T+7]=me,me=me>>8,N[T+6]=me,me=me>>8,N[T+5]=me,me=me>>8,N[T+4]=me;let Re=Number(E>>BigInt(32)&BigInt(4294967295));return N[T+3]=Re,Re=Re>>8,N[T+2]=Re,Re=Re>>8,N[T+1]=Re,Re=Re>>8,N[T]=Re,T+8}y.prototype.writeBigUInt64LE=Vt(function(E,T=0){return te(this,E,T,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=Vt(function(E,T=0){return D(this,E,T,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function(E,T,W,se){if(E=+E,T=T>>>0,!se){const St=Math.pow(2,8*W-1);he(this,E,T,W,St-1,-St)}let me=0,Re=1,it=0;for(this[T]=E&255;++me<W&&(Re*=256);)E<0&&it===0&&this[T+me-1]!==0&&(it=1),this[T+me]=(E/Re>>0)-it&255;return T+W},y.prototype.writeIntBE=function(E,T,W,se){if(E=+E,T=T>>>0,!se){const St=Math.pow(2,8*W-1);he(this,E,T,W,St-1,-St)}let me=W-1,Re=1,it=0;for(this[T+me]=E&255;--me>=0&&(Re*=256);)E<0&&it===0&&this[T+me+1]!==0&&(it=1),this[T+me]=(E/Re>>0)-it&255;return T+W},y.prototype.writeInt8=function(E,T,W){return E=+E,T=T>>>0,W||he(this,E,T,1,127,-128),E<0&&(E=255+E+1),this[T]=E&255,T+1},y.prototype.writeInt16LE=function(E,T,W){return E=+E,T=T>>>0,W||he(this,E,T,2,32767,-32768),this[T]=E&255,this[T+1]=E>>>8,T+2},y.prototype.writeInt16BE=function(E,T,W){return E=+E,T=T>>>0,W||he(this,E,T,2,32767,-32768),this[T]=E>>>8,this[T+1]=E&255,T+2},y.prototype.writeInt32LE=function(E,T,W){return E=+E,T=T>>>0,W||he(this,E,T,4,2147483647,-2147483648),this[T]=E&255,this[T+1]=E>>>8,this[T+2]=E>>>16,this[T+3]=E>>>24,T+4},y.prototype.writeInt32BE=function(E,T,W){return E=+E,T=T>>>0,W||he(this,E,T,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[T]=E>>>24,this[T+1]=E>>>16,this[T+2]=E>>>8,this[T+3]=E&255,T+4},y.prototype.writeBigInt64LE=Vt(function(E,T=0){return te(this,E,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=Vt(function(E,T=0){return D(this,E,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ce(N,E,T,W,se,me){if(T+W>N.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function pe(N,E,T,W,se){return E=+E,T=T>>>0,se||ce(N,E,T,4),n.write(N,E,T,W,23,4),T+4}y.prototype.writeFloatLE=function(E,T,W){return pe(this,E,T,!0,W)},y.prototype.writeFloatBE=function(E,T,W){return pe(this,E,T,!1,W)};function Te(N,E,T,W,se){return E=+E,T=T>>>0,se||ce(N,E,T,8),n.write(N,E,T,W,52,8),T+8}y.prototype.writeDoubleLE=function(E,T,W){return Te(this,E,T,!0,W)},y.prototype.writeDoubleBE=function(E,T,W){return Te(this,E,T,!1,W)},y.prototype.copy=function(E,T,W,se){if(!y.isBuffer(E))throw new TypeError("argument should be a Buffer");if(W||(W=0),!se&&se!==0&&(se=this.length),T>=E.length&&(T=E.length),T||(T=0),se>0&&se<W&&(se=W),se===W||E.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(W<0||W>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),E.length-T<se-W&&(se=E.length-T+W);const me=se-W;return this===E&&typeof l.prototype.copyWithin=="function"?this.copyWithin(T,W,se):l.prototype.set.call(E,this.subarray(W,se),T),me},y.prototype.fill=function(E,T,W,se){if(typeof E=="string"){if(typeof T=="string"?(se=T,T=0,W=this.length):typeof W=="string"&&(se=W,W=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!y.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if(E.length===1){const Re=E.charCodeAt(0);(se==="utf8"&&Re<128||se==="latin1")&&(E=Re)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(T<0||this.length<T||this.length<W)throw new RangeError("Out of range index");if(W<=T)return this;T=T>>>0,W=W===void 0?this.length:W>>>0,E||(E=0);let me;if(typeof E=="number")for(me=T;me<W;++me)this[me]=E;else{const Re=y.isBuffer(E)?E:y.from(E,se),it=Re.length;if(it===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(me=0;me<W-T;++me)this[me+T]=Re[me%it]}return this};const V={};function q(N,E,T){V[N]=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${N}]`,this.stack,delete this.name}get code(){return N}set code(se){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:se,writable:!0})}toString(){return`${this.name} [${N}]: ${this.message}`}}}q("ERR_BUFFER_OUT_OF_BOUNDS",function(N){return N?`${N} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),q("ERR_INVALID_ARG_TYPE",function(N,E){return`The "${N}" argument must be of type number. Received type ${typeof E}`},TypeError),q("ERR_OUT_OF_RANGE",function(N,E,T){let W=`The value of "${N}" is out of range.`,se=T;return Number.isInteger(T)&&Math.abs(T)>2**32?se=Ee(String(T)):typeof T=="bigint"&&(se=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(se=Ee(se)),se+="n"),W+=` It must be ${E}. Received ${se}`,W},RangeError);function Ee(N){let E="",T=N.length;const W=N[0]==="-"?1:0;for(;T>=W+4;T-=3)E=`_${N.slice(T-3,T)}${E}`;return`${N.slice(0,T)}${E}`}function Pe(N,E,T){je(E,"offset"),(N[E]===void 0||N[E+T]===void 0)&&Ze(E,N.length-(T+1))}function Qe(N,E,T,W,se,me){if(N>T||N<E){const Re=typeof E=="bigint"?"n":"";let it;throw E===0||E===BigInt(0)?it=`>= 0${Re} and < 2${Re} ** ${(me+1)*8}${Re}`:it=`>= -(2${Re} ** ${(me+1)*8-1}${Re}) and < 2 ** ${(me+1)*8-1}${Re}`,new V.ERR_OUT_OF_RANGE("value",it,N)}Pe(W,se,me)}function je(N,E){if(typeof N!="number")throw new V.ERR_INVALID_ARG_TYPE(E,"number",N)}function Ze(N,E,T){throw Math.floor(N)!==N?(je(N,T),new V.ERR_OUT_OF_RANGE("offset","an integer",N)):E<0?new V.ERR_BUFFER_OUT_OF_BOUNDS:new V.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${E}`,N)}const cn=/[^+/0-9A-Za-z-_]/g;function Ie(N){if(N=N.split("=")[0],N=N.trim().replace(cn,""),N.length<2)return"";for(;N.length%4!==0;)N=N+"=";return N}function Xt(N,E){E=E||1/0;let T;const W=N.length;let se=null;const me=[];for(let Re=0;Re<W;++Re){if(T=N.charCodeAt(Re),T>55295&&T<57344){if(!se){if(T>56319){(E-=3)>-1&&me.push(239,191,189);continue}else if(Re+1===W){(E-=3)>-1&&me.push(239,191,189);continue}se=T;continue}if(T<56320){(E-=3)>-1&&me.push(239,191,189),se=T;continue}T=(se-55296<<10|T-56320)+65536}else se&&(E-=3)>-1&&me.push(239,191,189);if(se=null,T<128){if((E-=1)<0)break;me.push(T)}else if(T<2048){if((E-=2)<0)break;me.push(T>>6|192,T&63|128)}else if(T<65536){if((E-=3)<0)break;me.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((E-=4)<0)break;me.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return me}function en(N){const E=[];for(let T=0;T<N.length;++T)E.push(N.charCodeAt(T)&255);return E}function wt(N,E){let T,W,se;const me=[];for(let Re=0;Re<N.length&&!((E-=2)<0);++Re)T=N.charCodeAt(Re),W=T>>8,se=T%256,me.push(se),me.push(W);return me}function bt(N){return e.toByteArray(Ie(N))}function _t(N,E,T,W){let se;for(se=0;se<W&&!(se+T>=E.length||se>=N.length);++se)E[se+T]=N[se];return se}function nn(N,E){return N instanceof E||N!=null&&N.constructor!=null&&N.constructor.name!=null&&N.constructor.name===E.name}function Tt(N){return N!==N}const Mt=(function(){const N="0123456789abcdef",E=new Array(256);for(let T=0;T<16;++T){const W=T*16;for(let se=0;se<16;++se)E[W+se]=N[T]+N[se]}return E})();function Vt(N){return typeof BigInt>"u"?dr:N}function dr(){throw new Error("BigInt not supported")}})(PA);const iM=PA.Buffer;var Gw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ls<"u"?Ls:typeof self<"u"?self:{};var Bs,BA;(function(){var r;function e(x,C){function P(){}P.prototype=C.prototype,x.D=C.prototype,x.prototype=new P,x.prototype.constructor=x,x.C=function(K,ee,k){for(var $=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)$[Ke-2]=arguments[Ke];return C.prototype[ee].apply(K,$)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,C,P){P||(P=0);var K=Array(16);if(typeof C=="string")for(var ee=0;16>ee;++ee)K[ee]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(ee=0;16>ee;++ee)K[ee]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=x.g[0],P=x.g[1],ee=x.g[2];var k=x.g[3],$=C+(k^P&(ee^k))+K[0]+3614090360&4294967295;C=P+($<<7&4294967295|$>>>25),$=k+(ee^C&(P^ee))+K[1]+3905402710&4294967295,k=C+($<<12&4294967295|$>>>20),$=ee+(P^k&(C^P))+K[2]+606105819&4294967295,ee=k+($<<17&4294967295|$>>>15),$=P+(C^ee&(k^C))+K[3]+3250441966&4294967295,P=ee+($<<22&4294967295|$>>>10),$=C+(k^P&(ee^k))+K[4]+4118548399&4294967295,C=P+($<<7&4294967295|$>>>25),$=k+(ee^C&(P^ee))+K[5]+1200080426&4294967295,k=C+($<<12&4294967295|$>>>20),$=ee+(P^k&(C^P))+K[6]+2821735955&4294967295,ee=k+($<<17&4294967295|$>>>15),$=P+(C^ee&(k^C))+K[7]+4249261313&4294967295,P=ee+($<<22&4294967295|$>>>10),$=C+(k^P&(ee^k))+K[8]+1770035416&4294967295,C=P+($<<7&4294967295|$>>>25),$=k+(ee^C&(P^ee))+K[9]+2336552879&4294967295,k=C+($<<12&4294967295|$>>>20),$=ee+(P^k&(C^P))+K[10]+4294925233&4294967295,ee=k+($<<17&4294967295|$>>>15),$=P+(C^ee&(k^C))+K[11]+2304563134&4294967295,P=ee+($<<22&4294967295|$>>>10),$=C+(k^P&(ee^k))+K[12]+1804603682&4294967295,C=P+($<<7&4294967295|$>>>25),$=k+(ee^C&(P^ee))+K[13]+4254626195&4294967295,k=C+($<<12&4294967295|$>>>20),$=ee+(P^k&(C^P))+K[14]+2792965006&4294967295,ee=k+($<<17&4294967295|$>>>15),$=P+(C^ee&(k^C))+K[15]+1236535329&4294967295,P=ee+($<<22&4294967295|$>>>10),$=C+(ee^k&(P^ee))+K[1]+4129170786&4294967295,C=P+($<<5&4294967295|$>>>27),$=k+(P^ee&(C^P))+K[6]+3225465664&4294967295,k=C+($<<9&4294967295|$>>>23),$=ee+(C^P&(k^C))+K[11]+643717713&4294967295,ee=k+($<<14&4294967295|$>>>18),$=P+(k^C&(ee^k))+K[0]+3921069994&4294967295,P=ee+($<<20&4294967295|$>>>12),$=C+(ee^k&(P^ee))+K[5]+3593408605&4294967295,C=P+($<<5&4294967295|$>>>27),$=k+(P^ee&(C^P))+K[10]+38016083&4294967295,k=C+($<<9&4294967295|$>>>23),$=ee+(C^P&(k^C))+K[15]+3634488961&4294967295,ee=k+($<<14&4294967295|$>>>18),$=P+(k^C&(ee^k))+K[4]+3889429448&4294967295,P=ee+($<<20&4294967295|$>>>12),$=C+(ee^k&(P^ee))+K[9]+568446438&4294967295,C=P+($<<5&4294967295|$>>>27),$=k+(P^ee&(C^P))+K[14]+3275163606&4294967295,k=C+($<<9&4294967295|$>>>23),$=ee+(C^P&(k^C))+K[3]+4107603335&4294967295,ee=k+($<<14&4294967295|$>>>18),$=P+(k^C&(ee^k))+K[8]+1163531501&4294967295,P=ee+($<<20&4294967295|$>>>12),$=C+(ee^k&(P^ee))+K[13]+2850285829&4294967295,C=P+($<<5&4294967295|$>>>27),$=k+(P^ee&(C^P))+K[2]+4243563512&4294967295,k=C+($<<9&4294967295|$>>>23),$=ee+(C^P&(k^C))+K[7]+1735328473&4294967295,ee=k+($<<14&4294967295|$>>>18),$=P+(k^C&(ee^k))+K[12]+2368359562&4294967295,P=ee+($<<20&4294967295|$>>>12),$=C+(P^ee^k)+K[5]+4294588738&4294967295,C=P+($<<4&4294967295|$>>>28),$=k+(C^P^ee)+K[8]+2272392833&4294967295,k=C+($<<11&4294967295|$>>>21),$=ee+(k^C^P)+K[11]+1839030562&4294967295,ee=k+($<<16&4294967295|$>>>16),$=P+(ee^k^C)+K[14]+4259657740&4294967295,P=ee+($<<23&4294967295|$>>>9),$=C+(P^ee^k)+K[1]+2763975236&4294967295,C=P+($<<4&4294967295|$>>>28),$=k+(C^P^ee)+K[4]+1272893353&4294967295,k=C+($<<11&4294967295|$>>>21),$=ee+(k^C^P)+K[7]+4139469664&4294967295,ee=k+($<<16&4294967295|$>>>16),$=P+(ee^k^C)+K[10]+3200236656&4294967295,P=ee+($<<23&4294967295|$>>>9),$=C+(P^ee^k)+K[13]+681279174&4294967295,C=P+($<<4&4294967295|$>>>28),$=k+(C^P^ee)+K[0]+3936430074&4294967295,k=C+($<<11&4294967295|$>>>21),$=ee+(k^C^P)+K[3]+3572445317&4294967295,ee=k+($<<16&4294967295|$>>>16),$=P+(ee^k^C)+K[6]+76029189&4294967295,P=ee+($<<23&4294967295|$>>>9),$=C+(P^ee^k)+K[9]+3654602809&4294967295,C=P+($<<4&4294967295|$>>>28),$=k+(C^P^ee)+K[12]+3873151461&4294967295,k=C+($<<11&4294967295|$>>>21),$=ee+(k^C^P)+K[15]+530742520&4294967295,ee=k+($<<16&4294967295|$>>>16),$=P+(ee^k^C)+K[2]+3299628645&4294967295,P=ee+($<<23&4294967295|$>>>9),$=C+(ee^(P|~k))+K[0]+4096336452&4294967295,C=P+($<<6&4294967295|$>>>26),$=k+(P^(C|~ee))+K[7]+1126891415&4294967295,k=C+($<<10&4294967295|$>>>22),$=ee+(C^(k|~P))+K[14]+2878612391&4294967295,ee=k+($<<15&4294967295|$>>>17),$=P+(k^(ee|~C))+K[5]+4237533241&4294967295,P=ee+($<<21&4294967295|$>>>11),$=C+(ee^(P|~k))+K[12]+1700485571&4294967295,C=P+($<<6&4294967295|$>>>26),$=k+(P^(C|~ee))+K[3]+2399980690&4294967295,k=C+($<<10&4294967295|$>>>22),$=ee+(C^(k|~P))+K[10]+4293915773&4294967295,ee=k+($<<15&4294967295|$>>>17),$=P+(k^(ee|~C))+K[1]+2240044497&4294967295,P=ee+($<<21&4294967295|$>>>11),$=C+(ee^(P|~k))+K[8]+1873313359&4294967295,C=P+($<<6&4294967295|$>>>26),$=k+(P^(C|~ee))+K[15]+4264355552&4294967295,k=C+($<<10&4294967295|$>>>22),$=ee+(C^(k|~P))+K[6]+2734768916&4294967295,ee=k+($<<15&4294967295|$>>>17),$=P+(k^(ee|~C))+K[13]+1309151649&4294967295,P=ee+($<<21&4294967295|$>>>11),$=C+(ee^(P|~k))+K[4]+4149444226&4294967295,C=P+($<<6&4294967295|$>>>26),$=k+(P^(C|~ee))+K[11]+3174756917&4294967295,k=C+($<<10&4294967295|$>>>22),$=ee+(C^(k|~P))+K[2]+718787259&4294967295,ee=k+($<<15&4294967295|$>>>17),$=P+(k^(ee|~C))+K[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(ee+($<<21&4294967295|$>>>11))&4294967295,x.g[2]=x.g[2]+ee&4294967295,x.g[3]=x.g[3]+k&4294967295}a.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var P=C-this.blockSize,K=this.B,ee=this.h,k=0;k<C;){if(ee==0)for(;k<=P;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<C;)if(K[ee++]=x.charCodeAt(k++),ee==this.blockSize){o(this,K),ee=0;break}}else for(;k<C;)if(K[ee++]=x[k++],ee==this.blockSize){o(this,K),ee=0;break}}this.h=ee,this.o+=C},a.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var P=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=P&255,P/=256;for(this.u(x),x=Array(16),C=P=0;4>C;++C)for(var K=0;32>K;K+=8)x[P++]=this.g[C]>>>K&255;return x};function l(x,C){var P=d;return Object.prototype.hasOwnProperty.call(P,x)?P[x]:P[x]=C(x)}function c(x,C){this.h=C;for(var P=[],K=!0,ee=x.length-1;0<=ee;ee--){var k=x[ee]|0;K&&k==C||(P[ee]=k,K=!1)}this.g=P}var d={};function p(x){return-128<=x&&128>x?l(x,function(C){return new c([C|0],0>C?-1:0)}):new c([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return B(g(-x));for(var C=[],P=1,K=0;x>=P;K++)C[K]=x/P|0,P*=4294967296;return new c(C,0)}function y(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return B(y(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=g(Math.pow(C,8)),K=w,ee=0;ee<x.length;ee+=8){var k=Math.min(8,x.length-ee),$=parseInt(x.substring(ee,ee+k),C);8>k?(k=g(Math.pow(C,k)),K=K.j(k).add(g($))):(K=K.j(P),K=K.add(g($)))}return K}var w=p(0),R=p(1),H=p(16777216);r=c.prototype,r.m=function(){if(j(this))return-B(this).m();for(var x=0,C=1,P=0;P<this.g.length;P++){var K=this.i(P);x+=(0<=K?K:4294967296+K)*C,C*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I(this))return"0";if(j(this))return"-"+B(this).toString(x);for(var C=g(Math.pow(x,6)),P=this,K="";;){var ee=G(P,C).g;P=O(P,ee.j(C));var k=((0<P.g.length?P.g[0]:P.h)>>>0).toString(x);if(P=ee,I(P))return k+K;for(;6>k.length;)k="0"+k;K=k+K}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function I(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function j(x){return x.h==-1}r.l=function(x){return x=O(this,x),j(x)?-1:I(x)?0:1};function B(x){for(var C=x.g.length,P=[],K=0;K<C;K++)P[K]=~x.g[K];return new c(P,~x.h).add(R)}r.abs=function(){return j(this)?B(this):this},r.add=function(x){for(var C=Math.max(this.g.length,x.g.length),P=[],K=0,ee=0;ee<=C;ee++){var k=K+(this.i(ee)&65535)+(x.i(ee)&65535),$=(k>>>16)+(this.i(ee)>>>16)+(x.i(ee)>>>16);K=$>>>16,k&=65535,$&=65535,P[ee]=$<<16|k}return new c(P,P[P.length-1]&-2147483648?-1:0)};function O(x,C){return x.add(B(C))}r.j=function(x){if(I(this)||I(x))return w;if(j(this))return j(x)?B(this).j(B(x)):B(B(this).j(x));if(j(x))return B(this.j(B(x)));if(0>this.l(H)&&0>x.l(H))return g(this.m()*x.m());for(var C=this.g.length+x.g.length,P=[],K=0;K<2*C;K++)P[K]=0;for(K=0;K<this.g.length;K++)for(var ee=0;ee<x.g.length;ee++){var k=this.i(K)>>>16,$=this.i(K)&65535,Ke=x.i(ee)>>>16,ke=x.i(ee)&65535;P[2*K+2*ee]+=$*ke,L(P,2*K+2*ee),P[2*K+2*ee+1]+=k*ke,L(P,2*K+2*ee+1),P[2*K+2*ee+1]+=$*Ke,L(P,2*K+2*ee+1),P[2*K+2*ee+2]+=k*Ke,L(P,2*K+2*ee+2)}for(K=0;K<C;K++)P[K]=P[2*K+1]<<16|P[2*K];for(K=C;K<2*C;K++)P[K]=0;return new c(P,0)};function L(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function F(x,C){this.g=x,this.h=C}function G(x,C){if(I(C))throw Error("division by zero");if(I(x))return new F(w,w);if(j(x))return C=G(B(x),C),new F(B(C.g),B(C.h));if(j(C))return C=G(x,B(C)),new F(B(C.g),C.h);if(30<x.g.length){if(j(x)||j(C))throw Error("slowDivide_ only works with positive integers.");for(var P=R,K=C;0>=K.l(x);)P=X(P),K=X(K);var ee=J(P,1),k=J(K,1);for(K=J(K,2),P=J(P,2);!I(K);){var $=k.add(K);0>=$.l(x)&&(ee=ee.add(P),k=$),K=J(K,1),P=J(P,1)}return C=O(x,ee.j(C)),new F(ee,C)}for(ee=w;0<=x.l(C);){for(P=Math.max(1,Math.floor(x.m()/C.m())),K=Math.ceil(Math.log(P)/Math.LN2),K=48>=K?1:Math.pow(2,K-48),k=g(P),$=k.j(C);j($)||0<$.l(x);)P-=K,k=g(P),$=k.j(C);I(k)&&(k=R),ee=ee.add(k),x=O(x,$)}return new F(ee,x)}r.A=function(x){return G(this,x).h},r.and=function(x){for(var C=Math.max(this.g.length,x.g.length),P=[],K=0;K<C;K++)P[K]=this.i(K)&x.i(K);return new c(P,this.h&x.h)},r.or=function(x){for(var C=Math.max(this.g.length,x.g.length),P=[],K=0;K<C;K++)P[K]=this.i(K)|x.i(K);return new c(P,this.h|x.h)},r.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),P=[],K=0;K<C;K++)P[K]=this.i(K)^x.i(K);return new c(P,this.h^x.h)};function X(x){for(var C=x.g.length+1,P=[],K=0;K<C;K++)P[K]=x.i(K)<<1|x.i(K-1)>>>31;return new c(P,x.h)}function J(x,C){var P=C>>5;C%=32;for(var K=x.g.length-P,ee=[],k=0;k<K;k++)ee[k]=0<C?x.i(k+P)>>>C|x.i(k+P+1)<<32-C:x.i(k+P);return new c(ee,x.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,BA=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Bs=c}).apply(typeof Gw<"u"?Gw:typeof self<"u"?self:typeof window<"u"?window:{});var xf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ls<"u"?Ls:typeof self<"u"?self:{};var UA,pu,LA,$f,Zg,VA,jA,FA;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,A){return f==Array.prototype||f==Object.prototype||(f[_]=A.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof xf=="object"&&xf];for(var _=0;_<f.length;++_){var A=f[_];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=n(this);function o(f,_){if(_)e:{var A=a;f=f.split(".");for(var z=0;z<f.length-1;z++){var de=f[z];if(!(de in A))break e;A=A[de]}f=f[f.length-1],z=A[f],_=_(z),_!=z&&_!=null&&e(A,f,{configurable:!0,writable:!0,value:_})}}function l(f,_){f instanceof String&&(f+="");var A=0,z=!1,de={next:function(){if(!z&&A<f.length){var Ae=A++;return{value:_(Ae,f[Ae]),done:!1}}return z=!0,{done:!0,value:void 0}}};return de[Symbol.iterator]=function(){return de},de}o("Array.prototype.values",function(f){return f||function(){return l(this,function(_,A){return A})}});var c=c||{},d=this||self;function p(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function g(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function y(f,_,A){return f.call.apply(f.bind,arguments)}function w(f,_,A){if(!f)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var de=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(de,z),f.apply(_,de)}}return function(){return f.apply(_,arguments)}}function R(f,_,A){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,R.apply(null,arguments)}function H(f,_){var A=Array.prototype.slice.call(arguments,1);return function(){var z=A.slice();return z.push.apply(z,arguments),f.apply(this,z)}}function I(f,_){function A(){}A.prototype=_.prototype,f.aa=_.prototype,f.prototype=new A,f.prototype.constructor=f,f.Qb=function(z,de,Ae){for(var Ve=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)Ve[Pt-2]=arguments[Pt];return _.prototype[de].apply(z,Ve)}}function j(f){const _=f.length;if(0<_){const A=Array(_);for(let z=0;z<_;z++)A[z]=f[z];return A}return[]}function B(f,_){for(let A=1;A<arguments.length;A++){const z=arguments[A];if(p(z)){const de=f.length||0,Ae=z.length||0;f.length=de+Ae;for(let Ve=0;Ve<Ae;Ve++)f[de+Ve]=z[Ve]}else f.push(z)}}class O{constructor(_,A){this.i=_,this.j=A,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function L(f){return/^[\s\xa0]*$/.test(f)}function F(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function G(f){return G[" "](f),f}G[" "]=function(){};var X=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function J(f,_,A){for(const z in f)_.call(A,f[z],z,f)}function x(f,_){for(const A in f)_.call(void 0,f[A],A,f)}function C(f){const _={};for(const A in f)_[A]=f[A];return _}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function K(f,_){let A,z;for(let de=1;de<arguments.length;de++){z=arguments[de];for(A in z)f[A]=z[A];for(let Ae=0;Ae<P.length;Ae++)A=P[Ae],Object.prototype.hasOwnProperty.call(z,A)&&(f[A]=z[A])}}function ee(f){var _=1;f=f.split(":");const A=[];for(;0<_&&f.length;)A.push(f.shift()),_--;return f.length&&A.push(f.join(":")),A}function k(f){d.setTimeout(()=>{throw f},0)}function $(){var f=Ue;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class Ke{constructor(){this.h=this.g=null}add(_,A){const z=ke.get();z.set(_,A),this.h?this.h.next=z:this.g=z,this.h=z}}var ke=new O(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(_,A){this.h=_,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,xe=!1,Ue=new Ke,Le=()=>{const f=d.Promise.resolve(void 0);ge=()=>{f.then(ne)}};var ne=()=>{for(var f;f=$();){try{f.h.call(f.g)}catch(A){k(A)}var _=ke;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}xe=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ie=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};d.addEventListener("test",A,_),d.removeEventListener("test",A,_)}catch{}return f})();function he(f,_){if(Z.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var A=this.type=f.type,z=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(X){e:{try{G(_.nodeName);var de=!0;break e}catch{}de=!1}de||(_=null)}}else A=="mouseover"?_=f.fromElement:A=="mouseout"&&(_=f.toElement);this.relatedTarget=_,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:te[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&he.aa.h.call(this)}}I(he,Z);var te={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var D="closure_listenable_"+(1e6*Math.random()|0),ce=0;function pe(f,_,A,z,de){this.listener=f,this.proxy=null,this.src=_,this.type=A,this.capture=!!z,this.ha=de,this.key=++ce,this.da=this.fa=!1}function Te(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function V(f){this.src=f,this.g={},this.h=0}V.prototype.add=function(f,_,A,z,de){var Ae=f.toString();f=this.g[Ae],f||(f=this.g[Ae]=[],this.h++);var Ve=Ee(f,_,z,de);return-1<Ve?(_=f[Ve],A||(_.fa=!1)):(_=new pe(_,this.src,Ae,!!z,de),_.fa=A,f.push(_)),_};function q(f,_){var A=_.type;if(A in f.g){var z=f.g[A],de=Array.prototype.indexOf.call(z,_,void 0),Ae;(Ae=0<=de)&&Array.prototype.splice.call(z,de,1),Ae&&(Te(_),f.g[A].length==0&&(delete f.g[A],f.h--))}}function Ee(f,_,A,z){for(var de=0;de<f.length;++de){var Ae=f[de];if(!Ae.da&&Ae.listener==_&&Ae.capture==!!A&&Ae.ha==z)return de}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),Qe={};function je(f,_,A,z,de){if(Array.isArray(_)){for(var Ae=0;Ae<_.length;Ae++)je(f,_[Ae],A,z,de);return null}return A=nn(A),f&&f[D]?f.K(_,A,g(z)?!!z.capture:!1,de):Ze(f,_,A,!1,z,de)}function Ze(f,_,A,z,de,Ae){if(!_)throw Error("Invalid event type");var Ve=g(de)?!!de.capture:!!de,Pt=bt(f);if(Pt||(f[Pe]=Pt=new V(f)),A=Pt.add(_,A,z,Ve,Ae),A.proxy)return A;if(z=cn(),A.proxy=z,z.src=f,z.listener=A,f.addEventListener)ie||(de=Ve),de===void 0&&(de=!1),f.addEventListener(_.toString(),z,de);else if(f.attachEvent)f.attachEvent(en(_.toString()),z);else if(f.addListener&&f.removeListener)f.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return A}function cn(){function f(A){return _.call(f.src,f.listener,A)}const _=wt;return f}function Ie(f,_,A,z,de){if(Array.isArray(_))for(var Ae=0;Ae<_.length;Ae++)Ie(f,_[Ae],A,z,de);else z=g(z)?!!z.capture:!!z,A=nn(A),f&&f[D]?(f=f.i,_=String(_).toString(),_ in f.g&&(Ae=f.g[_],A=Ee(Ae,A,z,de),-1<A&&(Te(Ae[A]),Array.prototype.splice.call(Ae,A,1),Ae.length==0&&(delete f.g[_],f.h--)))):f&&(f=bt(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Ee(_,A,z,de)),(A=-1<f?_[f]:null)&&Xt(A))}function Xt(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[D])q(_.i,f);else{var A=f.type,z=f.proxy;_.removeEventListener?_.removeEventListener(A,z,f.capture):_.detachEvent?_.detachEvent(en(A),z):_.addListener&&_.removeListener&&_.removeListener(z),(A=bt(_))?(q(A,f),A.h==0&&(A.src=null,_[Pe]=null)):Te(f)}}}function en(f){return f in Qe?Qe[f]:Qe[f]="on"+f}function wt(f,_){if(f.da)f=!0;else{_=new he(_,this);var A=f.listener,z=f.ha||f.src;f.fa&&Xt(f),f=A.call(z,_)}return f}function bt(f){return f=f[Pe],f instanceof V?f:null}var _t="__closure_events_fn_"+(1e9*Math.random()>>>0);function nn(f){return typeof f=="function"?f:(f[_t]||(f[_t]=function(_){return f.handleEvent(_)}),f[_t])}function Tt(){ve.call(this),this.i=new V(this),this.M=this,this.F=null}I(Tt,ve),Tt.prototype[D]=!0,Tt.prototype.removeEventListener=function(f,_,A,z){Ie(this,f,_,A,z)};function Mt(f,_){var A,z=f.F;if(z)for(A=[];z;z=z.F)A.push(z);if(f=f.M,z=_.type||_,typeof _=="string")_=new Z(_,f);else if(_ instanceof Z)_.target=_.target||f;else{var de=_;_=new Z(z,f),K(_,de)}if(de=!0,A)for(var Ae=A.length-1;0<=Ae;Ae--){var Ve=_.g=A[Ae];de=Vt(Ve,z,!0,_)&&de}if(Ve=_.g=f,de=Vt(Ve,z,!0,_)&&de,de=Vt(Ve,z,!1,_)&&de,A)for(Ae=0;Ae<A.length;Ae++)Ve=_.g=A[Ae],de=Vt(Ve,z,!1,_)&&de}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var A=f.g[_],z=0;z<A.length;z++)Te(A[z]);delete f.g[_],f.h--}}this.F=null},Tt.prototype.K=function(f,_,A,z){return this.i.add(String(f),_,!1,A,z)},Tt.prototype.L=function(f,_,A,z){return this.i.add(String(f),_,!0,A,z)};function Vt(f,_,A,z){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var de=!0,Ae=0;Ae<_.length;++Ae){var Ve=_[Ae];if(Ve&&!Ve.da&&Ve.capture==A){var Pt=Ve.listener,gn=Ve.ha||Ve.src;Ve.fa&&q(f.i,Ve),de=Pt.call(gn,z)!==!1&&de}}return de&&!z.defaultPrevented}function dr(f,_,A){if(typeof f=="function")A&&(f=R(f,A));else if(f&&typeof f.handleEvent=="function")f=R(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(f,_||0)}function N(f){f.g=dr(()=>{f.g=null,f.i&&(f.i=!1,N(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class E extends ve{constructor(_,A){super(),this.m=_,this.l=A,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:N(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function T(f){ve.call(this),this.h=f,this.g={}}I(T,ve);var W=[];function se(f){J(f.g,function(_,A){this.g.hasOwnProperty(A)&&Xt(_)},f),f.g={}}T.prototype.N=function(){T.aa.N.call(this),se(this)},T.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var me=d.JSON.stringify,Re=d.JSON.parse,it=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function St(){}St.prototype.h=null;function Dt(f){return f.h||(f.h=f.i())}function At(){}var ot={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function pr(){Z.call(this,"d")}I(pr,Z);function rn(){Z.call(this,"c")}I(rn,Z);var jn={},Xr=null;function Qn(){return Xr=Xr||new Tt}jn.La="serverreachability";function as(f){Z.call(this,jn.La,f)}I(as,Z);function M(f){const _=Qn();Mt(_,new as(_))}jn.STAT_EVENT="statevent";function v(f,_){Z.call(this,jn.STAT_EVENT,f),this.stat=_}I(v,Z);function b(f){const _=Qn();Mt(_,new v(_,f))}jn.Ma="timingevent";function Q(f,_){Z.call(this,jn.Ma,f),this.size=_}I(Q,Z);function le(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},_)}function be(){this.g=!0}be.prototype.xa=function(){this.g=!1};function Oe(f,_,A,z,de,Ae){f.info(function(){if(f.g)if(Ae)for(var Ve="",Pt=Ae.split("&"),gn=0;gn<Pt.length;gn++){var ut=Pt[gn].split("=");if(1<ut.length){var Cn=ut[0];ut=ut[1];var In=Cn.split("_");Ve=2<=In.length&&In[1]=="type"?Ve+(Cn+"="+ut+"&"):Ve+(Cn+"=redacted&")}}else Ve=null;else Ve=Ae;return"XMLHTTP REQ ("+z+") [attempt "+de+"]: "+_+`
`+A+`
`+Ve})}function at(f,_,A,z,de,Ae,Ve){f.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+de+"]: "+_+`
`+A+`
`+Ae+" "+Ve})}function Rt(f,_,A,z){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Et(f,A)+(z?" "+z:"")})}function kt(f,_){f.info(function(){return"TIMEOUT: "+_})}be.prototype.info=function(){};function Et(f,_){if(!f.g)return _;if(!_)return null;try{var A=JSON.parse(_);if(A){for(f=0;f<A.length;f++)if(Array.isArray(A[f])){var z=A[f];if(!(2>z.length)){var de=z[1];if(Array.isArray(de)&&!(1>de.length)){var Ae=de[0];if(Ae!="noop"&&Ae!="stop"&&Ae!="close")for(var Ve=1;Ve<de.length;Ve++)de[Ve]=""}}}}return me(A)}catch{return _}}var Xe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jr;function ia(){}I(ia,St),ia.prototype.g=function(){return new XMLHttpRequest},ia.prototype.i=function(){return{}},Jr=new ia;function Zr(f,_,A,z){this.j=f,this.i=_,this.l=A,this.R=z||1,this.U=new T(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new nc}function nc(){this.i=null,this.g="",this.h=!1}var dl={},vi={};function ss(f,_,A){f.L=1,f.v=us(an(_)),f.m=A,f.P=!0,Ei(f,null)}function Ei(f,_){f.F=Date.now(),Vr(f),f.A=an(f.v);var A=f.A,z=f.R;Array.isArray(z)||(z=[String(z)]),Ti(A.i,"t",z),f.C=0,A=f.j.J,f.h=new nc,f.g=_c(f.j,A?_:null,!f.m),0<f.O&&(f.M=new E(R(f.Y,f,f.g),f.O)),_=f.U,A=f.g,z=f.ca;var de="readystatechange";Array.isArray(de)||(de&&(W[0]=de.toString()),de=W);for(var Ae=0;Ae<de.length;Ae++){var Ve=je(A,de[Ae],z||_.handleEvent,!1,_.h||_);if(!Ve)break;_.g[Ve.key]=Ve}_=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),M(),Oe(f.i,f.u,f.A,f.l,f.R,f.m)}Zr.prototype.ca=function(f){f=f.target;const _=this.M;_&&Jn(f)==3?_.j():this.Y(f)},Zr.prototype.Y=function(f){try{if(f==this.g)e:{const In=Jn(this.g);var _=this.g.Ba();const ya=this.g.Z();if(!(3>In)&&(In!=3||this.g&&(this.h.h||this.g.oa()||hs(this.g)))){this.J||In!=4||_==7||(_==8||0>=ya?M(3):M(2)),$s(this);var A=this.g.Z();this.X=A;t:if(wi(this)){var z=hs(this.g);f="";var de=z.length,Ae=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),aa(this);var Ve="";break t}this.h.i=new d.TextDecoder}for(_=0;_<de;_++)this.h.h=!0,f+=this.h.i.decode(z[_],{stream:!(Ae&&_==de-1)});z.length=0,this.h.g+=f,this.C=0,Ve=this.h.g}else Ve=this.g.oa();if(this.o=A==200,at(this.i,this.u,this.A,this.l,this.R,In,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Pt,gn=this.g;if((Pt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Pt)){var ut=Pt;break t}}ut=null}if(A=ut)Rt(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ei(this,A);else{this.o=!1,this.s=3,b(12),$n(this),aa(this);break e}}if(this.P){A=!0;let ar;for(;!this.J&&this.C<Ve.length;)if(ar=os(this,Ve),ar==vi){In==4&&(this.s=4,b(14),A=!1),Rt(this.i,this.l,null,"[Incomplete Response]");break}else if(ar==dl){this.s=4,b(15),Rt(this.i,this.l,Ve,"[Invalid Chunk]"),A=!1;break}else Rt(this.i,this.l,ar,null),ei(this,ar);if(wi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),In!=4||Ve.length!=0||this.h.h||(this.s=1,b(16),A=!1),this.o=this.o&&A,!A)Rt(this.i,this.l,Ve,"[Invalid Chunked Response]"),$n(this),aa(this);else if(0<Ve.length&&!this.W){this.W=!0;var Cn=this.j;Cn.g==this&&Cn.ba&&!Cn.M&&(Cn.j.info("Great, no buffering proxy detected. Bytes received: "+Ve.length),Sl(Cn),Cn.M=!0,b(11))}}else Rt(this.i,this.l,Ve,null),ei(this,Ve);In==4&&$n(this),this.o&&!this.J&&(In==4?mc(this.j,this):(this.o=!1,Vr(this)))}else uc(this.g),A==400&&0<Ve.indexOf("Unknown SID")?(this.s=3,b(12)):(this.s=0,b(13)),$n(this),aa(this)}}}catch{}};function wi(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function os(f,_){var A=f.C,z=_.indexOf(`
`,A);return z==-1?vi:(A=Number(_.substring(A,z)),isNaN(A)?dl:(z+=1,z+A>_.length?vi:(_=_.slice(z,z+A),f.C=z+A,_)))}Zr.prototype.cancel=function(){this.J=!0,$n(this)};function Vr(f){f.S=Date.now()+f.I,fn(f,f.I)}function fn(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=le(R(f.ba,f),_)}function $s(f){f.B&&(d.clearTimeout(f.B),f.B=null)}Zr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(kt(this.i,this.A),this.L!=2&&(M(),b(17)),$n(this),this.s=2,aa(this)):fn(this,this.S-f)};function aa(f){f.j.G==0||f.J||mc(f.j,f)}function $n(f){$s(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,se(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function ei(f,_){try{var A=f.j;if(A.G!=0&&(A.g==f||sa(A.h,f))){if(!f.K&&sa(A.h,f)&&A.G==3){try{var z=A.Da.g.parse(_)}catch{z=null}if(Array.isArray(z)&&z.length==3){var de=z;if(de[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<f.F)ma(A),pa(A);else break e;Tl(A),b(18)}}else A.za=de[1],0<A.za-A.T&&37500>de[2]&&A.F&&A.v==0&&!A.C&&(A.C=le(R(A.Za,A),6e3));if(1>=rc(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ai(A,11)}else if((f.K||A.g==f)&&ma(A),!L(_))for(de=A.Da.g.parse(_),_=0;_<de.length;_++){let ut=de[_];if(A.T=ut[0],ut=ut[1],A.G==2)if(ut[0]=="c"){A.K=ut[1],A.ia=ut[2];const Cn=ut[3];Cn!=null&&(A.la=Cn,A.j.info("VER="+A.la));const In=ut[4];In!=null&&(A.Aa=In,A.j.info("SVER="+A.Aa));const ya=ut[5];ya!=null&&typeof ya=="number"&&0<ya&&(z=1.5*ya,A.L=z,A.j.info("backChannelRequestTimeoutMs_="+z)),z=A;const ar=f.g;if(ar){const ms=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var Ae=z.h;Ae.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(Ae.j=Ae.l,Ae.g=new Set,Ae.h&&(oa(Ae,Ae.h),Ae.h=null))}if(z.D){const Ri=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;Ri&&(z.ya=Ri,Ct(z.I,z.D,Ri))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-f.F,A.j.info("Handshake RTT: "+A.R+"ms")),z=A;var Ve=f;if(z.qa=yc(z,z.J?z.ia:null,z.W),Ve.K){Ir(z.h,Ve);var Pt=Ve,gn=z.L;gn&&(Pt.I=gn),Pt.B&&($s(Pt),Vr(Pt)),z.g=Ve}else dc(z);0<A.i.length&&io(A)}else ut[0]!="stop"&&ut[0]!="close"||Ai(A,7);else A.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?Ai(A,7):wl(A):ut[0]!="noop"&&A.l&&A.l.ta(ut),A.v=0)}}M(4)}catch{}}var Yh=class{constructor(f,_){this.g=f,this.map=_}};function pl(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ml(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function rc(f){return f.h?1:f.g?f.g.size:0}function sa(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function oa(f,_){f.g?f.g.add(_):f.h=_}function Ir(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}pl.prototype.cancel=function(){if(this.i=Xn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Xn(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const A of f.g.values())_=_.concat(A.D);return _}return j(f.i)}function ic(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var _=[],A=f.length,z=0;z<A;z++)_.push(f[z]);return _}_=[],A=0;for(z in f)_[A++]=f[z];return _}function Wh(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var _=[];f=f.length;for(var A=0;A<f;A++)_.push(A);return _}_=[],A=0;for(const z in f)_[A++]=z;return _}}}function Xs(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var A=Wh(f),z=ic(f),de=z.length,Ae=0;Ae<de;Ae++)_.call(void 0,z[Ae],A&&A[Ae],f)}var gl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Js(f,_){if(f){f=f.split("&");for(var A=0;A<f.length;A++){var z=f[A].indexOf("="),de=null;if(0<=z){var Ae=f[A].substring(0,z);de=f[A].substring(z+1)}else Ae=f[A];_(Ae,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function bi(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof bi){this.h=f.h,la(this,f.j),this.o=f.o,this.g=f.g,ls(this,f.s),this.l=f.l;var _=f.i,A=new ti;A.i=_.i,_.g&&(A.g=new Map(_.g),A.h=_.h),Zs(this,A),this.m=f.m}else f&&(_=String(f).match(gl))?(this.h=!1,la(this,_[1]||"",!0),this.o=ua(_[2]||""),this.g=ua(_[3]||"",!0),ls(this,_[4]),this.l=ua(_[5]||"",!0),Zs(this,_[6]||"",!0),this.m=ua(_[7]||"")):(this.h=!1,this.i=new ti(null,this.h))}bi.prototype.toString=function(){var f=[],_=this.j;_&&f.push(xr(_,yl,!0),":");var A=this.g;return(A||_=="file")&&(f.push("//"),(_=this.o)&&f.push(xr(_,yl,!0),"@"),f.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&f.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(xr(A,A.charAt(0)=="/"?_l:ac,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",xr(A,Xh)),f.join("")};function an(f){return new bi(f)}function la(f,_,A){f.j=A?ua(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function ls(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function Zs(f,_,A){_ instanceof ti?(f.i=_,sc(f.i,f.h)):(A||(_=xr(_,$h)),f.i=new ti(_,f.h))}function Ct(f,_,A){f.i.set(_,A)}function us(f){return Ct(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ua(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function xr(f,_,A){return typeof f=="string"?(f=encodeURI(f).replace(_,Qh),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Qh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var yl=/[#\/\?@]/g,ac=/[#\?:]/g,_l=/[#\?]/g,$h=/[#\?@]/g,Xh=/#/g;function ti(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Rn(f){f.g||(f.g=new Map,f.h=0,f.i&&Js(f.i,function(_,A){f.add(decodeURIComponent(_.replace(/\+/g," ")),A)}))}r=ti.prototype,r.add=function(f,_){Rn(this),this.i=null,f=mr(this,f);var A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(_),this.h+=1,this};function eo(f,_){Rn(f),_=mr(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function to(f,_){return Rn(f),_=mr(f,_),f.g.has(_)}r.forEach=function(f,_){Rn(this),this.g.forEach(function(A,z){A.forEach(function(de){f.call(_,de,z,this)},this)},this)},r.na=function(){Rn(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),A=[];for(let z=0;z<_.length;z++){const de=f[z];for(let Ae=0;Ae<de.length;Ae++)A.push(_[z])}return A},r.V=function(f){Rn(this);let _=[];if(typeof f=="string")to(this,f)&&(_=_.concat(this.g.get(mr(this,f))));else{f=Array.from(this.g.values());for(let A=0;A<f.length;A++)_=_.concat(f[A])}return _},r.set=function(f,_){return Rn(this),this.i=null,f=mr(this,f),to(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},r.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function Ti(f,_,A){eo(f,_),0<A.length&&(f.i=null,f.g.set(mr(f,_),j(A)),f.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var A=0;A<_.length;A++){var z=_[A];const Ae=encodeURIComponent(String(z)),Ve=this.V(z);for(z=0;z<Ve.length;z++){var de=Ae;Ve[z]!==""&&(de+="="+encodeURIComponent(String(Ve[z]))),f.push(de)}}return this.i=f.join("&")};function mr(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function sc(f,_){_&&!f.j&&(Rn(f),f.i=null,f.g.forEach(function(A,z){var de=z.toLowerCase();z!=de&&(eo(this,z),Ti(this,de,A))},f)),f.j=_}function vl(f,_){const A=new be;if(d.Image){const z=new Image;z.onload=H(ir,A,"TestLoadImage: loaded",!0,_,z),z.onerror=H(ir,A,"TestLoadImage: error",!1,_,z),z.onabort=H(ir,A,"TestLoadImage: abort",!1,_,z),z.ontimeout=H(ir,A,"TestLoadImage: timeout",!1,_,z),d.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=f}else _(!1)}function oc(f,_){const A=new be,z=new AbortController,de=setTimeout(()=>{z.abort(),ir(A,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:z.signal}).then(Ae=>{clearTimeout(de),Ae.ok?ir(A,"TestPingServer: ok",!0,_):ir(A,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(de),ir(A,"TestPingServer: error",!1,_)})}function ir(f,_,A,z,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),z(A)}catch{}}function jr(){this.g=new it}function El(f,_,A){const z=A||"";try{Xs(f,function(de,Ae){let Ve=de;g(de)&&(Ve=me(de)),_.push(z+Ae+"="+encodeURIComponent(Ve))})}catch(de){throw _.push(z+"type="+encodeURIComponent("_badmap")),de}}function ni(f){this.l=f.Ub||null,this.j=f.eb||!1}I(ni,St),ni.prototype.g=function(){return new gr(this.l,this.j)},ni.prototype.i=(function(f){return function(){return f}})({});function gr(f,_){Tt.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(gr,Tt),r=gr.prototype,r.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,ca(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,ca(this)),this.g&&(this.readyState=3,ca(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;no(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function no(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?ri(this):ca(this),this.readyState==3&&no(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,ri(this))},r.Qa=function(f){this.g&&(this.response=f,ri(this))},r.ga=function(){this.g&&ri(this)};function ri(f){f.readyState=4,f.l=null,f.j=null,f.v=null,ca(f)}r.setRequestHeader=function(f,_){this.u.append(f,_)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var A=_.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=_.next();return f.join(`\r
`)};function ca(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function cs(f){let _="";return J(f,function(A,z){_+=z,_+=":",_+=A,_+=`\r
`}),_}function fa(f,_,A){e:{for(z in A){var z=!1;break e}z=!0}z||(A=cs(A),typeof f=="string"?A!=null&&encodeURIComponent(String(A)):Ct(f,_,A))}function Kt(f){Tt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Kt,Tt);var Fn=/^https?$/i,Si=["POST","PUT"];r=Kt.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,_,A,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jr.g(),this.v=this.o?Dt(this.o):Dt(Jr),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Ae){fs(this,Ae);return}if(f=A||"",A=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var de in z)A.set(de,z[de]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const Ae of z.keys())A.set(Ae,z.get(Ae));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(A.keys()).find(Ae=>Ae.toLowerCase()=="content-type"),de=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Si,_,void 0))||z||de||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ae,Ve]of A)this.g.setRequestHeader(Ae,Ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ro(this),this.u=!0,this.g.send(f),this.u=!1}catch(Ae){fs(this,Ae)}};function fs(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,ha(f),da(f)}function ha(f){f.A||(f.A=!0,Mt(f,"complete"),Mt(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Mt(this,"complete"),Mt(this,"abort"),da(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),da(this,!0)),Kt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?lc(this):this.bb())},r.bb=function(){lc(this)};function lc(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Jn(f)!=4||f.Z()!=2)){if(f.u&&Jn(f)==4)dr(f.Ea,0,f);else if(Mt(f,"readystatechange"),Jn(f)==4){f.h=!1;try{const Ve=f.Z();e:switch(Ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var A;if(!(A=_)){var z;if(z=Ve===0){var de=String(f.D).match(gl)[1]||null;!de&&d.self&&d.self.location&&(de=d.self.location.protocol.slice(0,-1)),z=!Fn.test(de?de.toLowerCase():"")}A=z}if(A)Mt(f,"complete"),Mt(f,"success");else{f.m=6;try{var Ae=2<Jn(f)?f.g.statusText:""}catch{Ae=""}f.l=Ae+" ["+f.Z()+"]",ha(f)}}finally{da(f)}}}}function da(f,_){if(f.g){ro(f);const A=f.g,z=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||Mt(f,"ready");try{A.onreadystatechange=z}catch{}}}function ro(f){f.I&&(d.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function Jn(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Re(_)}};function hs(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function uc(f){const _={};f=(f.g&&2<=Jn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<f.length;z++){if(L(f[z]))continue;var A=ee(f[z]);const de=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const Ae=_[de]||[];_[de]=Ae,Ae.push(A)}x(_,function(z){return z.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(f,_,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||_}function cc(f){this.Aa=0,this.i=[],this.j=new be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ds("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ds("baseRetryDelayMs",5e3,f),this.cb=ds("retryDelaySeedMs",1e4,f),this.Wa=ds("forwardChannelMaxRetries",2,f),this.wa=ds("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new pl(f&&f.concurrentRequestLimit),this.Da=new jr,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=cc.prototype,r.la=8,r.G=1,r.connect=function(f,_,A,z){b(0),this.W=f,this.H=_||{},A&&z!==void 0&&(this.H.OSID=A,this.H.OAID=z),this.F=this.X,this.I=yc(this,null,this.W),io(this)};function wl(f){if(fc(f),f.G==3){var _=f.U++,A=an(f.I);if(Ct(A,"SID",f.K),Ct(A,"RID",_),Ct(A,"TYPE","terminate"),ps(f,A),_=new Zr(f,f.j,_),_.L=2,_.v=us(an(A)),A=!1,d.navigator&&d.navigator.sendBeacon)try{A=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!A&&d.Image&&(new Image().src=_.v,A=!0),A||(_.g=_c(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Vr(_)}Al(f)}function pa(f){f.g&&(Sl(f),f.g.cancel(),f.g=null)}function fc(f){pa(f),f.u&&(d.clearTimeout(f.u),f.u=null),ma(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function io(f){if(!ml(f.h)&&!f.s){f.s=!0;var _=f.Ga;ge||Le(),xe||(ge(),xe=!0),Ue.add(_,f),f.B=0}}function Jh(f,_){return rc(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=le(R(f.Ga,f,_),gc(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const de=new Zr(this,this.j,f);let Ae=this.o;if(this.S&&(Ae?(Ae=C(Ae),K(Ae,this.S)):Ae=this.S),this.m!==null||this.O||(de.H=Ae,Ae=null),this.P)e:{for(var _=0,A=0;A<this.i.length;A++){t:{var z=this.i[A];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(_+=z,4096<_){_=A;break e}if(_===4096||A===this.i.length-1){_=A+1;break e}}_=1e3}else _=1e3;_=bl(this,de,_),A=an(this.I),Ct(A,"RID",f),Ct(A,"CVER",22),this.D&&Ct(A,"X-HTTP-Session-Id",this.D),ps(this,A),Ae&&(this.O?_="headers="+encodeURIComponent(String(cs(Ae)))+"&"+_:this.m&&fa(A,this.m,Ae)),oa(this.h,de),this.Ua&&Ct(A,"TYPE","init"),this.P?(Ct(A,"$req",_),Ct(A,"SID","null"),de.T=!0,ss(de,A,null)):ss(de,A,_),this.G=2}}else this.G==3&&(f?hc(this,f):this.i.length==0||ml(this.h)||hc(this))};function hc(f,_){var A;_?A=_.l:A=f.U++;const z=an(f.I);Ct(z,"SID",f.K),Ct(z,"RID",A),Ct(z,"AID",f.T),ps(f,z),f.m&&f.o&&fa(z,f.m,f.o),A=new Zr(f,f.j,A,f.B+1),f.m===null&&(A.H=f.o),_&&(f.i=_.D.concat(f.i)),_=bl(f,A,1e3),A.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),oa(f.h,A),ss(A,z,_)}function ps(f,_){f.H&&J(f.H,function(A,z){Ct(_,z,A)}),f.l&&Xs({},function(A,z){Ct(_,z,A)})}function bl(f,_,A){A=Math.min(f.i.length,A);var z=f.l?R(f.l.Na,f.l,f):null;e:{var de=f.i;let Ae=-1;for(;;){const Ve=["count="+A];Ae==-1?0<A?(Ae=de[0].g,Ve.push("ofs="+Ae)):Ae=0:Ve.push("ofs="+Ae);let Pt=!0;for(let gn=0;gn<A;gn++){let ut=de[gn].g;const Cn=de[gn].map;if(ut-=Ae,0>ut)Ae=Math.max(0,de[gn].g-100),Pt=!1;else try{El(Cn,Ve,"req"+ut+"_")}catch{z&&z(Cn)}}if(Pt){z=Ve.join("&");break e}}}return f=f.i.splice(0,A),_.D=f,z}function dc(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;ge||Le(),xe||(ge(),xe=!0),Ue.add(_,f),f.v=0}}function Tl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=le(R(f.Fa,f),gc(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,pc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=le(R(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,b(10),pa(this),pc(this))};function Sl(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function pc(f){f.g=new Zr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=an(f.qa);Ct(_,"RID","rpc"),Ct(_,"SID",f.K),Ct(_,"AID",f.T),Ct(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ct(_,"TO",f.ja),Ct(_,"TYPE","xmlhttp"),ps(f,_),f.m&&f.o&&fa(_,f.m,f.o),f.L&&(f.g.I=f.L);var A=f.g;f=f.ia,A.L=1,A.v=us(an(_)),A.m=null,A.P=!0,Ei(A,f)}r.Za=function(){this.C!=null&&(this.C=null,pa(this),Tl(this),b(19))};function ma(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function mc(f,_){var A=null;if(f.g==_){ma(f),Sl(f),f.g=null;var z=2}else if(sa(f.h,_))A=_.D,Ir(f.h,_),z=1;else return;if(f.G!=0){if(_.o)if(z==1){A=_.m?_.m.length:0,_=Date.now()-_.F;var de=f.B;z=Qn(),Mt(z,new Q(z,A)),io(f)}else dc(f);else if(de=_.s,de==3||de==0&&0<_.X||!(z==1&&Jh(f,_)||z==2&&Tl(f)))switch(A&&0<A.length&&(_=f.h,_.i=_.i.concat(A)),de){case 1:Ai(f,5);break;case 4:Ai(f,10);break;case 3:Ai(f,6);break;default:Ai(f,2)}}}function gc(f,_){let A=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(A*=2),A*_}function Ai(f,_){if(f.j.info("Error code "+_),_==2){var A=R(f.fb,f),z=f.Xa;const de=!z;z=new bi(z||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||la(z,"https"),us(z),de?vl(z.toString(),A):oc(z.toString(),A)}else b(2);f.G=0,f.l&&f.l.sa(_),Al(f),fc(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),b(2)):(this.j.info("Failed to ping google.com"),b(1))};function Al(f){if(f.G=0,f.ka=[],f.l){const _=Xn(f.h);(_.length!=0||f.i.length!=0)&&(B(f.ka,_),B(f.ka,f.i),f.h.i.length=0,j(f.i),f.i.length=0),f.l.ra()}}function yc(f,_,A){var z=A instanceof bi?an(A):new bi(A);if(z.g!="")_&&(z.g=_+"."+z.g),ls(z,z.s);else{var de=d.location;z=de.protocol,_=_?_+"."+de.hostname:de.hostname,de=+de.port;var Ae=new bi(null);z&&la(Ae,z),_&&(Ae.g=_),de&&ls(Ae,de),A&&(Ae.l=A),z=Ae}return A=f.D,_=f.ya,A&&_&&Ct(z,A,_),Ct(z,"VER",f.la),ps(f,z),z}function _c(f,_,A){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new Kt(new ni({eb:A})):new Kt(f.pa),_.Ha(f.J),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function vc(){}r=vc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ao(){}ao.prototype.g=function(f,_){return new Zn(f,_)};function Zn(f,_){Tt.call(this),this.g=new cc(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!L(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!L(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new ga(this)}I(Zn,Tt),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){wl(this.g)},Zn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.u&&(A={},A.__data__=me(f),f=A);_.i.push(new Yh(_.Ya++,f)),_.G==3&&io(_)},Zn.prototype.N=function(){this.g.l=null,delete this.j,wl(this.g),delete this.g,Zn.aa.N.call(this)};function Ec(f){pr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const A in _){f=A;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}I(Ec,pr);function wc(){rn.call(this),this.status=1}I(wc,rn);function ga(f){this.g=f}I(ga,vc),ga.prototype.ua=function(){Mt(this.g,"a")},ga.prototype.ta=function(f){Mt(this.g,new Ec(f))},ga.prototype.sa=function(f){Mt(this.g,new wc)},ga.prototype.ra=function(){Mt(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,FA=function(){return new ao},jA=function(){return Qn()},VA=jn,Zg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xe.NO_ERROR=0,Xe.TIMEOUT=8,Xe.HTTP_ERROR=6,$f=Xe,Dn.COMPLETE="complete",LA=Dn,At.EventType=ot,ot.OPEN="a",ot.CLOSE="b",ot.ERROR="c",ot.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,pu=At,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,UA=Kt}).apply(typeof xf<"u"?xf:typeof self<"u"?self:typeof window<"u"?window:{});const Kw="@firebase/firestore";class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");let al="10.14.0";const Fs=new Ay("@firebase/firestore");function cu(){return Fs.logLevel}function ze(r,...e){if(Fs.logLevel<=yt.DEBUG){const n=e.map(Vy);Fs.debug(`Firestore (${al}): ${r}`,...n)}}function ea(r,...e){if(Fs.logLevel<=yt.ERROR){const n=e.map(Vy);Fs.error(`Firestore (${al}): ${r}`,...n)}}function Ko(r,...e){if(Fs.logLevel<=yt.WARN){const n=e.map(Vy);Fs.warn(`Firestore (${al}): ${r}`,...n)}}function Vy(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Je(r="Unexpected state"){const e=`FIRESTORE (${al}) INTERNAL ASSERTION FAILED: `+r;throw ea(e),new Error(e)}function Lt(r,e){r||Je()}function rt(r,e){return r}const Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class qA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Hn.UNAUTHENTICATED)))}shutdown(){}}class sM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class oM{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Lt(this.o===void 0);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let l=new Qi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Qi,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Qi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Lt(typeof a.accessToken=="string"),new qA(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Lt(e===null||typeof e=="string"),new Hn(e)}}class lM{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class uM{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new lM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(Hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Lt(this.o===void 0);const a=l=>{l.error!=null&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ze("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>a(l)))};const o=l=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Lt(typeof n.token=="string"),this.R=n.token,new cM(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hM(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class zA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const o=hM(40);for(let l=0;l<o.length;++l)a.length<20&&o[l]<n&&(a+=e.charAt(o[l]%e.length))}return a}}function Ot(r,e){return r<e?-1:r>e?1:0}function Yo(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}class An{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fe(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Fe(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*n));return new An(n,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new nt(e)}static min(){return new nt(new An(0,0))}static max(){return new nt(new An(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Iu{constructor(e,n,a){n===void 0?n=0:n>e.length&&Je(),a===void 0?a=e.length-n:a>e.length-n&&Je(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Iu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Iu?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const l=e.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qt extends Iu{construct(e,n,a){return new Qt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Fe(Me.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new Qt(n)}static emptyPath(){return new Qt([])}}const dM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends Iu{construct(e,n,a){return new Un(e,n,a)}static isValidIdentifier(e){return dM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Un(["__name__"])}static fromServerFormat(e){const n=[];let a="",o=0;const l=()=>{if(a.length===0)throw new Fe(Me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Fe(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Fe(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(a+=d,o++):(l(),o++)}if(l(),c)throw new Fe(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(n)}static emptyPath(){return new Un([])}}class We{constructor(e){this.path=e}static fromPath(e){return new We(Qt.fromString(e))}static fromName(e){return new We(Qt.fromString(e).popFirst(5))}static empty(){return new We(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new We(new Qt(e.slice()))}}function pM(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=nt.fromTimestamp(a===1e9?new An(n+1,0):new An(n,a));return new Za(o,We.empty(),e)}function mM(r){return new Za(r.readTime,r.key,-1)}class Za{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Za(nt.min(),We.empty(),-1)}static max(){return new Za(nt.max(),We.empty(),-1)}}function gM(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=We.comparator(r.documentKey,e.documentKey),n!==0?n:Ot(r.largestBatchId,e.largestBatchId))}const yM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _M{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Fu(r){if(r.code!==Me.FAILED_PRECONDITION||r.message!==yM)throw r;ze("LocalStore","Unexpectedly lost primary lease")}class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Be(((a,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Be?n:Be.resolve(n)}catch(n){return Be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Be.reject(n)}static resolve(e){return new Be(((n,a)=>{n(e)}))}static reject(e){return new Be(((n,a)=>{a(e)}))}static waitFor(e){return new Be(((n,a)=>{let o=0,l=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&n()}),(p=>a(p)))})),c=!0,l===o&&n()}))}static or(e){let n=Be.resolve(!1);for(const a of e)n=n.next((o=>o?Be.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,l)=>{a.push(n.call(this,o,l))})),this.waitFor(a)}static mapArray(e,n){return new Be(((a,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next((y=>{c[g]=y,++d,d===l&&a(c)}),(y=>o(y)))}}))}static doWhile(e,n){return new Be(((a,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):a()};l()}))}}function vM(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qu(r){return r.name==="IndexedDbTransactionError"}class jy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ie(a),this.se=a=>n.writeSequenceNumber(a))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}jy.oe=-1;function xh(r){return r==null}function fh(r){return r===0&&1/r==-1/0}function EM(r){return typeof r=="number"&&Number.isInteger(r)&&!fh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Yw(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ys(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function HA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class tn{constructor(e,n){this.comparator=e,this.root=n||Bn.EMPTY}insert(e,n){return new tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Of(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Of(this.root,e,this.comparator,!1)}getReverseIterator(){return new Of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Of(this.root,e,this.comparator,!0)}}class Of{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?a(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bn{constructor(e,n,a,o,l){this.key=e,this.value=n,this.color=a??Bn.RED,this.left=o??Bn.EMPTY,this.right=l??Bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,l){return new Bn(e??this.key,n??this.value,a??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const l=a(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,a),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(e,n,a,o,l){return this}insert(e,n,a){return new Bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ln{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ww(this.data.getIterator())}getIteratorFrom(e){return new Ww(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=a.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ln(this.comparator);return n.data=e,n}}class Ww{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sr{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new Ln(Un.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class GA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new GA("Invalid base64 string: "+l):l}})(e);return new Vn(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const wM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(Lt(!!r),typeof r=="string"){let e=0;const n=wM.exec(r);if(Lt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:pn(r.seconds),nanos:pn(r.nanos)}}function pn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function qs(r){return typeof r=="string"?Vn.fromBase64String(r):Vn.fromUint8Array(r)}function Fy(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qy(r){const e=r.mapValue.fields.__previous_value__;return Fy(e)?qy(e):e}function xu(r){const e=es(r.mapValue.fields.__local_write_time__.timestampValue);return new An(e.seconds,e.nanos)}class bM{constructor(e,n,a,o,l,c,d,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}class Ou{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ou("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ou&&e.projectId===this.projectId&&e.database===this.database}}const Df={mapValue:{}};function zs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fy(r)?4:SM(r)?9007199254740991:TM(r)?10:11:Je()}function mi(r,e){if(r===e)return!0;const n=zs(r);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return xu(r).isEqual(xu(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=es(o.timestampValue),d=es(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return qs(o.bytesValue).isEqual(qs(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return pn(o.geoPointValue.latitude)===pn(l.geoPointValue.latitude)&&pn(o.geoPointValue.longitude)===pn(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return pn(o.integerValue)===pn(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=pn(o.doubleValue),d=pn(l.doubleValue);return c===d?fh(c)===fh(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return Yo(r.arrayValue.values||[],e.arrayValue.values||[],mi);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(Yw(c)!==Yw(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!mi(c[p],d[p])))return!1;return!0})(r,e);default:return Je()}}function Du(r,e){return(r.values||[]).find((n=>mi(n,e)))!==void 0}function Wo(r,e){if(r===e)return 0;const n=zs(r),a=zs(e);if(n!==a)return Ot(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=pn(l.integerValue||l.doubleValue),p=pn(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(r,e);case 3:return Qw(r.timestampValue,e.timestampValue);case 4:return Qw(xu(r),xu(e));case 5:return Ot(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=qs(l),p=qs(c);return d.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const y=Ot(d[g],p[g]);if(y!==0)return y}return Ot(d.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Ot(pn(l.latitude),pn(c.latitude));return d!==0?d:Ot(pn(l.longitude),pn(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return $w(r.arrayValue,e.arrayValue);case 10:return(function(l,c){var d,p,g,y;const w=l.fields||{},R=c.fields||{},H=(d=w.value)===null||d===void 0?void 0:d.arrayValue,I=(p=R.value)===null||p===void 0?void 0:p.arrayValue,j=Ot(((g=H?.values)===null||g===void 0?void 0:g.length)||0,((y=I?.values)===null||y===void 0?void 0:y.length)||0);return j!==0?j:$w(H,I)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Df.mapValue&&c===Df.mapValue)return 0;if(l===Df.mapValue)return 1;if(c===Df.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let w=0;w<p.length&&w<y.length;++w){const R=Ot(p[w],y[w]);if(R!==0)return R;const H=Wo(d[p[w]],g[y[w]]);if(H!==0)return H}return Ot(p.length,y.length)})(r.mapValue,e.mapValue);default:throw Je()}}function Qw(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ot(r,e);const n=es(r),a=es(e),o=Ot(n.seconds,a.seconds);return o!==0?o:Ot(n.nanos,a.nanos)}function $w(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const l=Wo(n[o],a[o]);if(l)return l}return Ot(n.length,a.length)}function Qo(r){return ey(r)}function ey(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=es(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return qs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return We.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const l of n.values||[])o?o=!1:a+=",",a+=ey(l);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of a)l?l=!1:o+=",",o+=`${c}:${ey(n.fields[c])}`;return o+"}"})(r.mapValue):Je()}function Xw(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ty(r){return!!r&&"integerValue"in r}function zy(r){return!!r&&"arrayValue"in r}function Jw(r){return!!r&&"nullValue"in r}function Zw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Xf(r){return!!r&&"mapValue"in r}function TM(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function vu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ys(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=vu(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function SM(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Xf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vu(n)}setAll(e){let n=Un.emptyPath(),a={},o=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=d.popLast()}c?a[d.lastSegment()]=vu(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,a,o)}delete(e){const n=this.field(e.popLast());Xf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Xf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Ys(n,((o,l)=>e[o]=l));for(const o of a)delete e[o]}clone(){return new hr(vu(this.value))}}function KA(r){const e=[];return Ys(r.fields,((n,a)=>{const o=new Un([n]);if(Xf(a)){const l=KA(a.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new Sr(e)}class Kn{constructor(e,n,a,o,l,c,d){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Kn(e,0,nt.min(),nt.min(),nt.min(),hr.empty(),0)}static newFoundDocument(e,n,a,o){return new Kn(e,1,n,nt.min(),a,o,0)}static newNoDocument(e,n){return new Kn(e,2,n,nt.min(),nt.min(),hr.empty(),0)}static newUnknownDocument(e,n){return new Kn(e,3,n,nt.min(),nt.min(),hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hh{constructor(e,n){this.position=e,this.inclusive=n}}function eb(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const l=e[o],c=r.position[o];if(l.field.isKeyField()?a=We.comparator(We.fromName(c.referenceValue),n.key):a=Wo(c,n.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function tb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!mi(r.position[n],e.position[n]))return!1;return!0}class dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function AM(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class YA{}class Tn extends YA{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new CM(e,n,a):n==="array-contains"?new OM(e,a):n==="in"?new DM(e,a):n==="not-in"?new NM(e,a):n==="array-contains-any"?new MM(e,a):new Tn(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new IM(e,a):new xM(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Wo(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(Wo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Qr extends YA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Qr(e,n)}matches(e){return WA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function WA(r){return r.op==="and"}function QA(r){return RM(r)&&WA(r)}function RM(r){for(const e of r.filters)if(e instanceof Qr)return!1;return!0}function ny(r){if(r instanceof Tn)return r.field.canonicalString()+r.op.toString()+Qo(r.value);if(QA(r))return r.filters.map((e=>ny(e))).join(",");{const e=r.filters.map((n=>ny(n))).join(",");return`${r.op}(${e})`}}function $A(r,e){return r instanceof Tn?(function(a,o){return o instanceof Tn&&a.op===o.op&&a.field.isEqual(o.field)&&mi(a.value,o.value)})(r,e):r instanceof Qr?(function(a,o){return o instanceof Qr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((l,c,d)=>l&&$A(c,o.filters[d])),!0):!1})(r,e):void Je()}function XA(r){return r instanceof Tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Qo(n.value)}`})(r):r instanceof Qr?(function(n){return n.op.toString()+" {"+n.getFilters().map(XA).join(" ,")+"}"})(r):"Filter"}class CM extends Tn{constructor(e,n,a){super(e,n,a),this.key=We.fromName(a.referenceValue)}matches(e){const n=We.comparator(e.key,this.key);return this.matchesComparison(n)}}class IM extends Tn{constructor(e,n){super(e,"in",n),this.keys=JA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class xM extends Tn{constructor(e,n){super(e,"not-in",n),this.keys=JA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function JA(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((a=>We.fromName(a.referenceValue)))}class OM extends Tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zy(n)&&Du(n.arrayValue,this.value)}}class DM extends Tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Du(this.value.arrayValue,n)}}class NM extends Tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Du(this.value.arrayValue,n)}}class MM extends Tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Du(this.value.arrayValue,a)))}}class PM{constructor(e,n=null,a=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function nb(r,e=null,n=[],a=[],o=null,l=null,c=null){return new PM(r,e,n,a,o,l,c)}function Hy(r){const e=rt(r);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>ny(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(l){return l.field.canonicalString()+l.dir})(a))).join(","),xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Qo(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Qo(a))).join(",")),e.ue=n}return e.ue}function Gy(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!AM(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!$A(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!tb(r.startAt,e.startAt)&&tb(r.endAt,e.endAt)}function ry(r){return We.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class zu{constructor(e,n=null,a=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function kM(r,e,n,a,o,l,c,d){return new zu(r,e,n,a,o,l,c,d)}function Oh(r){return new zu(r)}function rb(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ZA(r){return r.collectionGroup!==null}function Eu(r){const e=rt(r);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ln(Un.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new dh(l,a))})),n.has(Un.keyField().canonicalString())||e.ce.push(new dh(Un.keyField(),a))}return e.ce}function di(r){const e=rt(r);return e.le||(e.le=BM(e,Eu(r))),e.le}function BM(r,e){if(r.limitType==="F")return nb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new dh(o.field,l)}));const n=r.endAt?new hh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new hh(r.startAt.position,r.startAt.inclusive):null;return nb(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function iy(r,e){const n=r.filters.concat([e]);return new zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ay(r,e,n){return new zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Dh(r,e){return Gy(di(r),di(e))&&r.limitType===e.limitType}function eR(r){return`${Hy(di(r))}|lt:${r.limitType}`}function Bo(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>XA(o))).join(", ")}]`),xh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>Qo(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>Qo(o))).join(",")),`Target(${a})`})(di(r))}; limitType=${r.limitType})`}function Nh(r,e){return e.isFoundDocument()&&(function(a,o){const l=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):We.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)})(r,e)&&(function(a,o){for(const l of Eu(a))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const l of a.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(c,d,p){const g=eb(c,d,p);return c.inclusive?g<=0:g<0})(a.startAt,Eu(a),o)||a.endAt&&!(function(c,d,p){const g=eb(c,d,p);return c.inclusive?g>=0:g>0})(a.endAt,Eu(a),o))})(r,e)}function UM(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tR(r){return(e,n)=>{let a=!1;for(const o of Eu(r)){const l=LM(o,e,n);if(l!==0)return l;a=a||o.field.isKeyField()}return 0}}function LM(r,e,n){const a=r.field.isKeyField()?We.comparator(e.key,n.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Wo(p,g):Je()})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Je()}}class sl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,l]of a)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ys(this.inner,((n,a)=>{for(const[o,l]of a)e(o,l)}))}isEmpty(){return HA(this.inner)}size(){return this.innerSize}}const VM=new tn(We.comparator);function ta(){return VM}const nR=new tn(We.comparator);function mu(...r){let e=nR;for(const n of r)e=e.insert(n.key,n);return e}function rR(r){let e=nR;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Ms(){return wu()}function iR(){return wu()}function wu(){return new sl((r=>r.toString()),((r,e)=>r.isEqual(e)))}const jM=new tn(We.comparator),FM=new Ln(We.comparator);function mt(...r){let e=FM;for(const n of r)e=e.add(n);return e}const qM=new Ln(Ot);function zM(){return qM}function Ky(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function aR(r){return{integerValue:""+r}}function sR(r,e){return EM(e)?aR(e):Ky(r,e)}class Mh{constructor(){this._=void 0}}function HM(r,e,n){return r instanceof Nu?(function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Fy(l)&&(l=qy(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(n,e):r instanceof $o?lR(r,e):r instanceof Mu?uR(r,e):(function(o,l){const c=oR(o,l),d=ib(c)+ib(o.Pe);return ty(c)&&ty(o.Pe)?aR(d):Ky(o.serializer,d)})(r,e)}function GM(r,e,n){return r instanceof $o?lR(r,e):r instanceof Mu?uR(r,e):n}function oR(r,e){return r instanceof Pu?(function(a){return ty(a)||(function(l){return!!l&&"doubleValue"in l})(a)})(e)?e:{integerValue:0}:null}class Nu extends Mh{}class $o extends Mh{constructor(e){super(),this.elements=e}}function lR(r,e){const n=cR(e);for(const a of r.elements)n.some((o=>mi(o,a)))||n.push(a);return{arrayValue:{values:n}}}class Mu extends Mh{constructor(e){super(),this.elements=e}}function uR(r,e){let n=cR(e);for(const a of r.elements)n=n.filter((o=>!mi(o,a)));return{arrayValue:{values:n}}}class Pu extends Mh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function ib(r){return pn(r.integerValue||r.doubleValue)}function cR(r){return zy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Yy{constructor(e,n){this.field=e,this.transform=n}}function KM(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof $o&&o instanceof $o||a instanceof Mu&&o instanceof Mu?Yo(a.elements,o.elements,mi):a instanceof Pu&&o instanceof Pu?mi(a.Pe,o.Pe):a instanceof Nu&&o instanceof Nu})(r.transform,e.transform)}class YM{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ph{}function fR(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new kh(r.key,nr.none()):new Hu(r.key,r.data,nr.none());{const n=r.data,a=hr.empty();let o=new Ln(Un.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?a.delete(l):a.set(l,c),o=o.add(l)}return new is(r.key,a,new Sr(o.toArray()),nr.none())}}function WM(r,e,n){r instanceof Hu?(function(o,l,c){const d=o.value.clone(),p=sb(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,n):r instanceof is?(function(o,l,c){if(!Jf(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=sb(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(hR(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,e,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function bu(r,e,n,a){return r instanceof Hu?(function(l,c,d,p){if(!Jf(l.precondition,c))return d;const g=l.value.clone(),y=ob(l.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,n,a):r instanceof is?(function(l,c,d,p){if(!Jf(l.precondition,c))return d;const g=ob(l.fieldTransforms,p,c),y=c.data;return y.setAll(hR(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((w=>w.field)))})(r,e,n,a):(function(l,c,d){return Jf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,n)}function QM(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),l=oR(a.transform,o||null);l!=null&&(n===null&&(n=hr.empty()),n.set(a.field,l))}return n||null}function ab(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Yo(a,o,((l,c)=>KM(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Hu extends Ph{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class is extends Ph{constructor(e,n,a,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function hR(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function sb(r,e,n){const a=new Map;Lt(r.length===n.length);for(let o=0;o<n.length;o++){const l=r[o],c=l.transform,d=e.data.field(l.field);a.set(l.field,GM(c,d,n[o]))}return a}function ob(r,e,n){const a=new Map;for(const o of r){const l=o.transform,c=n.data.field(o.field);a.set(o.field,HM(l,c,e))}return a}class kh extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $M extends Ph{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class XM{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&WM(l,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=bu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=bu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=iR();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(o.key)?null:d;const p=fR(c,d);p!==null&&a.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(nt.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),mt())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((n,a)=>ab(n,a)))&&Yo(this.baseMutations,e.baseMutations,((n,a)=>ab(n,a)))}}class Wy{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Lt(e.mutations.length===a.length);let o=(function(){return jM})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,a[c].version);return new Wy(e,n,a,o)}}class JM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ZM{constructor(e,n){this.count=e,this.unchangedNames=n}}var wn,vt;function eP(r){switch(r){default:return Je();case Me.CANCELLED:case Me.UNKNOWN:case Me.DEADLINE_EXCEEDED:case Me.RESOURCE_EXHAUSTED:case Me.INTERNAL:case Me.UNAVAILABLE:case Me.UNAUTHENTICATED:return!1;case Me.INVALID_ARGUMENT:case Me.NOT_FOUND:case Me.ALREADY_EXISTS:case Me.PERMISSION_DENIED:case Me.FAILED_PRECONDITION:case Me.ABORTED:case Me.OUT_OF_RANGE:case Me.UNIMPLEMENTED:case Me.DATA_LOSS:return!0}}function dR(r){if(r===void 0)return ea("GRPC error has no .code"),Me.UNKNOWN;switch(r){case wn.OK:return Me.OK;case wn.CANCELLED:return Me.CANCELLED;case wn.UNKNOWN:return Me.UNKNOWN;case wn.DEADLINE_EXCEEDED:return Me.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return Me.RESOURCE_EXHAUSTED;case wn.INTERNAL:return Me.INTERNAL;case wn.UNAVAILABLE:return Me.UNAVAILABLE;case wn.UNAUTHENTICATED:return Me.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return Me.INVALID_ARGUMENT;case wn.NOT_FOUND:return Me.NOT_FOUND;case wn.ALREADY_EXISTS:return Me.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return Me.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return Me.FAILED_PRECONDITION;case wn.ABORTED:return Me.ABORTED;case wn.OUT_OF_RANGE:return Me.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return Me.UNIMPLEMENTED;case wn.DATA_LOSS:return Me.DATA_LOSS;default:return Je()}}(vt=wn||(wn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";function tP(){return new TextEncoder}const nP=new Bs([4294967295,4294967295],0);function lb(r){const e=tP().encode(r),n=new BA;return n.update(e),new Uint8Array(n.digest())}function ub(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Bs([n,a],0),new Bs([o,l],0)]}class Qy{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new gu(`Invalid padding: ${n}`);if(a<0)throw new gu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new gu(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new gu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Bs.fromNumber(this.Ie)}Ee(e,n,a){let o=e.add(n.multiply(Bs.fromNumber(a)));return o.compare(nP)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=lb(e),[a,o]=ub(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(a,o,l);if(!this.de(c))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Qy(l,o,n);return a.forEach((d=>c.insert(d))),c}insert(e){if(this.Ie===0)return;const n=lb(e),[a,o]=ub(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(a,o,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Bh{constructor(e,n,a,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Bh(nt.min(),o,new tn(Ot),ta(),mt())}}class Gu{constructor(e,n,a,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Gu(a,n,mt(),mt(),mt())}}class Zf{constructor(e,n,a,o){this.Re=e,this.removedTargetIds=n,this.key=a,this.Ve=o}}class pR{constructor(e,n){this.targetId=e,this.me=n}}class mR{constructor(e,n,a=Vn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class cb{constructor(){this.fe=0,this.ge=hb(),this.pe=Vn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=mt(),n=mt(),a=mt();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Je()}})),new Gu(this.pe,this.ye,e,n,a)}Ce(){this.we=!1,this.ge=hb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Lt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class rP{constructor(e){this.Le=e,this.Be=new Map,this.ke=ta(),this.qe=fb(),this.Qe=new tn(Ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const a=this.Ge(n);switch(e.state){case 0:this.ze(n)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),a.De(e.resumeToken));break;default:Je()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((a,o)=>{this.ze(o)&&n(o)}))}He(e){const n=e.targetId,a=e.me.count,o=this.Je(n);if(o){const l=o.target;if(ry(l))if(a===0){const c=new We(l.path);this.Ue(n,c,Kn.newNoDocument(c,nt.min()))}else Lt(a===1);else{const c=this.Ye(n);if(c!==a){const d=this.Ze(e),p=d?this.Xe(d,e,c):1;if(p!==0){this.je(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,g)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:l=0}=n;let c,d;try{c=qs(a).toUint8Array()}catch(p){if(p instanceof GA)return Ko("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Qy(c,o,l)}catch(p){return Ko(p instanceof gu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ie===0?null:d}Xe(e,n,a){return n.me.count===a-this.nt(e,n.targetId)?0:2}nt(e,n){const a=this.Le.getRemoteKeysForTarget(n);let o=0;return a.forEach((l=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,l,null),o++)})),o}rt(e){const n=new Map;this.Be.forEach(((l,c)=>{const d=this.Je(c);if(d){if(l.current&&ry(d.target)){const p=new We(d.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,Kn.newNoDocument(p,e))}l.be&&(n.set(c,l.ve()),l.Ce())}}));let a=mt();this.qe.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.Je(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(a=a.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const o=new Bh(e,n,this.Qe,this.ke,a);return this.ke=ta(),this.qe=fb(),this.Qe=new tn(Ot),o}$e(e,n){if(!this.ze(e))return;const a=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,a),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,a){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),a&&(this.ke=this.ke.insert(n,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new cb,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ln(Ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ze("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cb),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function fb(){return new tn(We.comparator)}function hb(){return new tn(We.comparator)}const iP={asc:"ASCENDING",desc:"DESCENDING"},aP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sP={and:"AND",or:"OR"};class oP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sy(r,e){return r.useProto3Json||xh(e)?e:{value:e}}function ph(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gR(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function lP(r,e){return ph(r,e.toTimestamp())}function pi(r){return Lt(!!r),nt.fromTimestamp((function(n){const a=es(n);return new An(a.seconds,a.nanos)})(r))}function $y(r,e){return oy(r,e).canonicalString()}function oy(r,e){const n=(function(o){return new Qt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function yR(r){const e=Qt.fromString(r);return Lt(bR(e)),e}function ly(r,e){return $y(r.databaseId,e.path)}function cm(r,e){const n=yR(e);if(n.get(1)!==r.databaseId.projectId)throw new Fe(Me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Fe(Me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new We(vR(n))}function _R(r,e){return $y(r.databaseId,e)}function uP(r){const e=yR(r);return e.length===4?Qt.emptyPath():vR(e)}function uy(r){return new Qt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function vR(r){return Lt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function db(r,e,n){return{name:ly(r,e),fields:n.value.mapValue.fields}}function cP(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Je()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Lt(y===void 0||typeof y=="string"),Vn.fromBase64String(y||"")):(Lt(y===void 0||y instanceof iM||y instanceof Uint8Array),Vn.fromUint8Array(y||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?Me.UNKNOWN:dR(g.code);return new Fe(y,g.message||"")})(c);n=new mR(a,o,l,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=cm(r,a.document.name),l=pi(a.document.updateTime),c=a.document.createTime?pi(a.document.createTime):nt.min(),d=new hr({mapValue:{fields:a.document.fields}}),p=Kn.newFoundDocument(o,l,c,d),g=a.targetIds||[],y=a.removedTargetIds||[];n=new Zf(g,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=cm(r,a.document),l=a.readTime?pi(a.readTime):nt.min(),c=Kn.newNoDocument(o,l),d=a.removedTargetIds||[];n=new Zf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=cm(r,a.document),l=a.removedTargetIds||[];n=new Zf([],l,o,null)}else{if(!("filter"in e))return Je();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:l}=a,c=new ZM(o,l),d=a.targetId;n=new pR(d,c)}}return n}function fP(r,e){let n;if(e instanceof Hu)n={update:db(r,e.key,e.value)};else if(e instanceof kh)n={delete:ly(r,e.key)};else if(e instanceof is)n={update:db(r,e.key,e.data),updateMask:EP(e.fieldMask)};else{if(!(e instanceof $M))return Je();n={verify:ly(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(l,c){const d=c.transform;if(d instanceof Nu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof $o)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Mu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Pu)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Je()})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:lP(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Je()})(r,e.precondition)),n}function hP(r,e){return r&&r.length>0?(Lt(e!==void 0),r.map((n=>(function(o,l){let c=o.updateTime?pi(o.updateTime):pi(l);return c.isEqual(nt.min())&&(c=pi(l)),new YM(c,o.transformResults||[])})(n,e)))):[]}function dP(r,e){return{documents:[_R(r,e.path)]}}function pP(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=_R(r,o);const l=(function(g){if(g.length!==0)return wR(Qr.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(R){return{field:Uo(R.field),direction:yP(R.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=sy(r,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{_t:n,parent:o}}function mP(r){let e=uP(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Lt(a===1);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(w){const R=ER(w);return R instanceof Qr&&QA(R)?R.getFilters():[R]})(n.where));let c=[];n.orderBy&&(c=(function(w){return w.map((R=>(function(I){return new dh(Lo(I.field),(function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(R)))})(n.orderBy));let d=null;n.limit&&(d=(function(w){let R;return R=typeof w=="object"?w.value:w,xh(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(w){const R=!!w.before,H=w.values||[];return new hh(H,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const R=!w.before,H=w.values||[];return new hh(H,R)})(n.endAt)),kM(e,o,c,l,d,"F",p,g)}function gP(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ER(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Lo(n.unaryFilter.field);return Tn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Lo(n.unaryFilter.field);return Tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Lo(n.unaryFilter.field);return Tn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(n.unaryFilter.field);return Tn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Je()}})(r):r.fieldFilter!==void 0?(function(n){return Tn.create(Lo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Qr.create(n.compositeFilter.filters.map((a=>ER(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Je()}})(n.compositeFilter.op))})(r):Je()}function yP(r){return iP[r]}function _P(r){return aP[r]}function vP(r){return sP[r]}function Uo(r){return{fieldPath:r.canonicalString()}}function Lo(r){return Un.fromServerFormat(r.fieldPath)}function wR(r){return r instanceof Tn?(function(n){if(n.op==="=="){if(Zw(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NAN"}};if(Jw(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Zw(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NAN"}};if(Jw(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(n.field),op:_P(n.op),value:n.value}}})(r):r instanceof Qr?(function(n){const a=n.getFilters().map((o=>wR(o)));return a.length===1?a[0]:{compositeFilter:{op:vP(n.op),filters:a}}})(r):Je()}function EP(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function bR(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ka{constructor(e,n,a,o,l=nt.min(),c=nt.min(),d=Vn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class wP{constructor(e){this.ct=e}}function bP(r){const e=mP({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ay(e,e.limit,"L"):e}class TP{constructor(){this.un=new SP}addToCollectionParentIndex(e,n){return this.un.add(n),Be.resolve()}getCollectionParents(e,n){return Be.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Be.resolve()}deleteFieldIndex(e,n){return Be.resolve()}deleteAllFieldIndexes(e){return Be.resolve()}createTargetIndexes(e,n){return Be.resolve()}getDocumentsMatchingTarget(e,n){return Be.resolve(null)}getIndexType(e,n){return Be.resolve(0)}getFieldIndexes(e,n){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,n){return Be.resolve(Za.min())}getMinOffsetFromCollectionGroup(e,n){return Be.resolve(Za.min())}updateCollectionGroup(e,n,a){return Be.resolve()}updateIndexEntries(e,n){return Be.resolve()}}class SP{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Ln(Qt.comparator),l=!o.has(a);return this.index[n]=o.add(a),l}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ln(Qt.comparator)).toArray()}}class Xo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Xo(0)}static kn(){return new Xo(-1)}}class AP{constructor(){this.changes=new sl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?Be.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class CP{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&bu(a.mutation,o,Sr.empty(),An.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,mt()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=mt()){const o=Ms();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((l=>{let c=mu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const a=Ms();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,mt())))}populateOverlays(e,n,a){const o=[];return a.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,a,o){let l=ta();const c=wu(),d=(function(){return wu()})();return n.forEach(((p,g)=>{const y=a.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof is)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),bu(y.mutation,g,y.mutation.getFieldMask(),An.now())):c.set(g.key,Sr.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>{var w;return d.set(g,new RP(y,(w=c.get(g))!==null&&w!==void 0?w:null))})),d)))}recalculateAndSaveOverlays(e,n){const a=wu();let o=new tn(((c,d)=>c-d)),l=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let y=a.get(p)||Sr.empty();y=d.applyToLocalView(g,y),a.set(p,y);const w=(o.get(d.batchId)||mt()).add(p);o=o.insert(d.batchId,w)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,y=p.value,w=iR();y.forEach((R=>{if(!l.has(R)){const H=fR(n.get(R),a.get(R));H!==null&&w.set(R,H),l=l.add(R)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return Be.waitFor(c)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(c){return We.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-l.size):Be.resolve(Ms());let d=-1,p=l;return c.next((g=>Be.forEach(g,((y,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(y)?Be.resolve():this.remoteDocumentCache.getEntry(e,y).next((R=>{p=p.insert(y,R)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,mt()))).next((y=>({batchId:d,changes:rR(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new We(n)).next((a=>{let o=mu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const l=n.collectionGroup;let c=mu();return this.indexManager.getCollectionParents(e,l).next((d=>Be.forEach(d,(p=>{const g=(function(w,R){return new zu(R,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((y=>{y.forEach(((w,R)=>{c=c.insert(w,R)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,l,o)))).next((c=>{l.forEach(((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,Kn.newInvalidDocument(y)))}));let d=mu();return c.forEach(((p,g)=>{const y=l.get(p);y!==void 0&&bu(y.mutation,g,Sr.empty(),An.now()),Nh(n,g)&&(d=d.insert(p,g))})),d}))}}class IP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Be.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:pi(o.createTime)}})(n)),Be.resolve()}getNamedQuery(e,n){return Be.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(o){return{name:o.name,query:bP(o.bundledQuery),readTime:pi(o.readTime)}})(n)),Be.resolve()}}class xP{constructor(){this.overlays=new tn(We.comparator),this.Ir=new Map}getOverlay(e,n){return Be.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ms();return Be.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&a.set(o,l)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,l)=>{this.ht(e,n,l)})),Be.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Ir.get(a);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(a)),Be.resolve()}getOverlaysForCollection(e,n,a){const o=Ms(),l=n.length+1,c=new We(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>a&&o.set(p.getKey(),p)}return Be.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let l=new tn(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let y=l.get(g.largestBatchId);y===null&&(y=Ms(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Ms(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=o)););return Be.resolve(d)}ht(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(a.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new JM(n,a));let l=this.Ir.get(n);l===void 0&&(l=mt(),this.Ir.set(n,l)),this.Ir.set(n,l.add(a.key))}}class OP{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return Be.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Be.resolve()}}class Xy{constructor(){this.Tr=new Ln(On.Er),this.dr=new Ln(On.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const a=new On(e,n);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Vr(new On(e,n))}mr(e,n){e.forEach((a=>this.removeReference(a,n)))}gr(e){const n=new We(new Qt([])),a=new On(n,e),o=new On(n,e+1),l=[];return this.dr.forEachInRange([a,o],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new We(new Qt([])),a=new On(n,e),o=new On(n,e+1);let l=mt();return this.dr.forEachInRange([a,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new On(e,0),a=this.Tr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class On{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return We.comparator(e.key,n.key)||Ot(e.wr,n.wr)}static Ar(e,n){return Ot(e.wr,n.wr)||We.comparator(e.key,n.key)}}class DP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ln(On.Er)}checkEmpty(e){return Be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new XM(l,n,a,o);this.mutationQueue.push(c);for(const d of o)this.br=this.br.add(new On(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Be.resolve(c)}lookupMutationBatch(e,n){return Be.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.vr(a),l=o<0?0:o;return Be.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new On(n,0),o=new On(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([a,o],(c=>{const d=this.Dr(c.wr);l.push(d)})),Be.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Ln(Ot);return n.forEach((o=>{const l=new On(o,0),c=new On(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(d=>{a=a.add(d.wr)}))})),Be.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let l=a;We.isDocumentKey(l)||(l=l.child(""));const c=new On(new We(l),0);let d=new Ln(Ot);return this.br.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.wr)),!0)}),c),Be.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((a=>{const o=this.Dr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Lt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return Be.forEach(n.mutations,(o=>{const l=new On(o.key,n.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=a}))}On(e){}containsKey(e,n){const a=new On(n,0),o=this.br.firstAfterOrEqual(a);return Be.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Be.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class NP{constructor(e){this.Mr=e,this.docs=(function(){return new tn(We.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),l=o?o.size:0,c=this.Mr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return Be.resolve(a?a.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let a=ta();return n.forEach((o=>{const l=this.docs.get(o);a=a.insert(o,l?l.document.mutableCopy():Kn.newInvalidDocument(o))})),Be.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let l=ta();const c=n.path,d=new We(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||gM(mM(y),a)<=0||(o.has(y.key)||Nh(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return Be.resolve(l)}getAllFromCollectionGroup(e,n,a,o){Je()}Or(e,n){return Be.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new MP(this)}getSize(e){return Be.resolve(this.size)}}class MP extends AP{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(a)})),Be.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class PP{constructor(e){this.persistence=e,this.Nr=new sl((n=>Hy(n)),Gy),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Xy,this.targetCount=0,this.kr=Xo.Bn()}forEachTarget(e,n){return this.Nr.forEach(((a,o)=>n(o))),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.Lr&&(this.Lr=n),Be.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Xo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Be.resolve()}updateTargetData(e,n){return this.Kn(n),Be.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,n,a){let o=0;const l=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=n&&a.get(d.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Be.waitFor(l).next((()=>o))}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,n){const a=this.Nr.get(n)||null;return Be.resolve(a)}addMatchingKeys(e,n,a){return this.Br.Rr(n,a),Be.resolve()}removeMatchingKeys(e,n,a){this.Br.mr(n,a);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),Be.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Be.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Br.yr(n);return Be.resolve(a)}containsKey(e,n){return Be.resolve(this.Br.containsKey(n))}}class kP{constructor(e,n){this.qr={},this.overlays={},this.Qr=new jy(0),this.Kr=!1,this.Kr=!0,this.$r=new OP,this.referenceDelegate=e(this),this.Ur=new PP(this),this.indexManager=new TP,this.remoteDocumentCache=(function(o){return new NP(o)})((a=>this.referenceDelegate.Wr(a))),this.serializer=new wP(n),this.Gr=new IP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.qr[e.toKey()];return a||(a=new DP(n,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,a){ze("MemoryPersistence","Starting transaction:",e);const o=new BP(this.Qr.next());return this.referenceDelegate.zr(),a(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,n){return Be.or(Object.values(this.qr).map((a=>()=>a.containsKey(e,n))))}}class BP extends _M{constructor(e){super(),this.currentSequenceNumber=e}}class Jy{constructor(e){this.persistence=e,this.Jr=new Xy,this.Yr=null}static Zr(e){return new Jy(e)}get Xr(){if(this.Yr)return this.Yr;throw Je()}addReference(e,n,a){return this.Jr.addReference(a,n),this.Xr.delete(a.toString()),Be.resolve()}removeReference(e,n,a){return this.Jr.removeReference(a,n),this.Xr.add(a.toString()),Be.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Be.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((o=>this.Xr.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>a.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.Xr,(a=>{const o=We.fromPath(a);return this.ei(e,o).next((l=>{l||n.removeEntry(o,nt.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((a=>{a?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return Be.or([()=>Be.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Zy{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.$i=a,this.Ui=o}static Wi(e,n){let a=mt(),o=mt();for(const l of n.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Zy(e,n.fromCache,a,o)}}class UP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class LP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return v2()?8:vM(Wn())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,a,o){const l={result:null};return this.Yi(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,n,o,a).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new UP;return this.Xi(e,n,c).next((d=>{if(l.result=d,this.zi)return this.es(e,n,c,d.size)}))})).next((()=>l.result))}es(e,n,a,o){return a.documentReadCount<this.ji?(cu()<=yt.DEBUG&&ze("QueryEngine","SDK will not create cache indexes for query:",Bo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Be.resolve()):(cu()<=yt.DEBUG&&ze("QueryEngine","Query:",Bo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.Hi*o?(cu()<=yt.DEBUG&&ze("QueryEngine","The SDK decides to create cache indexes for query:",Bo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(n))):Be.resolve())}Yi(e,n){if(rb(n))return Be.resolve(null);let a=di(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ay(n,null,"F"),a=di(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((l=>{const c=mt(...l);return this.Ji.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.ts(n,d);return this.ns(n,g,c,p.readTime)?this.Yi(e,ay(n,null,"F")):this.rs(e,g,n,p)}))))})))))}Zi(e,n,a,o){return rb(n)||o.isEqual(nt.min())?Be.resolve(null):this.Ji.getDocuments(e,a).next((l=>{const c=this.ts(n,l);return this.ns(n,c,a,o)?Be.resolve(null):(cu()<=yt.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Bo(n)),this.rs(e,c,n,pM(o,-1)).next((d=>d)))}))}ts(e,n){let a=new Ln(tR(e));return n.forEach(((o,l)=>{Nh(e,l)&&(a=a.add(l))})),a}ns(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,n,a){return cu()<=yt.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",Bo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Za.min(),a)}rs(e,n,a,o){return this.Ji.getDocumentsMatchingQuery(e,a,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}class VP{constructor(e,n,a,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new tn(Ot),this._s=new sl((l=>Hy(l)),Gy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function jP(r,e,n,a){return new VP(r,e,n,a)}async function TR(r,e){const n=rt(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((l=>(o=l,n.ls(e),n.mutationQueue.getAllMutationBatches(a)))).next((l=>{const c=[],d=[];let p=mt();for(const g of o){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(a,p).next((g=>({hs:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function FP(r,e){const n=rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,y){const w=g.batch,R=w.keys();let H=Be.resolve();return R.forEach((I=>{H=H.next((()=>y.getEntry(p,I))).next((j=>{const B=g.docVersions.get(I);Lt(B!==null),j.version.compareTo(B)<0&&(w.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),y.addEntry(j)))}))})),H.next((()=>d.mutationQueue.removeMutationBatch(p,w)))})(n,a,e,l).next((()=>l.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(d){let p=mt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function SR(r){const e=rt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function qP(r,e){const n=rt(r),a=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const d=[];e.targetChanges.forEach(((y,w)=>{const R=o.get(w);if(!R)return;d.push(n.Ur.removeMatchingKeys(l,y.removedDocuments,w).next((()=>n.Ur.addMatchingKeys(l,y.addedDocuments,w))));let H=R.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?H=H.withResumeToken(Vn.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):y.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(y.resumeToken,a)),o=o.insert(w,H),(function(j,B,O){return j.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(R,H,y)&&d.push(n.Ur.updateTargetData(l,H))}));let p=ta(),g=mt();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(zP(l,c,e.documentUpdates).next((y=>{p=y.Ps,g=y.Is}))),!a.isEqual(nt.min())){const y=n.Ur.getLastRemoteSnapshotVersion(l).next((w=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,a)));d.push(y)}return Be.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.os=o,l)))}function zP(r,e,n){let a=mt(),o=mt();return n.forEach((l=>a=a.add(l))),e.getEntries(r,a).next((l=>{let c=ta();return n.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(nt.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ze("LocalStore","Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Ps:c,Is:o}}))}function HP(r,e){const n=rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function GP(r,e){const n=rt(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Ur.getTargetData(a,e).next((l=>l?(o=l,Be.resolve(o)):n.Ur.allocateTargetId(a).next((c=>(o=new Ka(e,c,"TargetPurposeListen",a.currentSequenceNumber),n.Ur.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.os.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(a.targetId,a),n._s.set(e,a.targetId)),a}))}async function cy(r,e,n){const a=rt(r),o=a.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",l,(c=>a.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!qu(c))throw c;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}a.os=a.os.remove(e),a._s.delete(o.target)}function pb(r,e,n){const a=rt(r);let o=nt.min(),l=mt();return a.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,y){const w=rt(p),R=w._s.get(y);return R!==void 0?Be.resolve(w.os.get(R)):w.Ur.getTargetData(g,y)})(a,c,di(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>a.ss.getDocumentsMatchingQuery(c,e,n?o:nt.min(),n?l:mt()))).next((d=>(KP(a,UM(e),d),{documents:d,Ts:l})))))}function KP(r,e,n){let a=r.us.get(e)||nt.min();n.forEach(((o,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)})),r.us.set(e,a)}class mb{constructor(){this.activeTargetIds=zM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YP{constructor(){this.so=new mb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,a){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new mb,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class WP{_o(e){}shutdown(){}}class gb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nf=null;function fm(){return Nf===null?Nf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nf++,"0x"+Nf.toString(16)}const QP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class $P{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const zn="WebChannelConnection";class XP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+n.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(n,a,o,l,c){const d=fm(),p=this.xo(n,a.toUriEncodedString());ze("RestConnection",`Sending RPC '${n}' ${d}:`,p,o);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,l,c),this.No(n,p,g,o).then((y=>(ze("RestConnection",`Received RPC '${n}' ${d}: `,y),y)),(y=>{throw Ko("RestConnection",`RPC '${n}' ${d} failed with error: `,y,"url: ",p,"request:",o),y}))}Lo(n,a,o,l,c,d){return this.Mo(n,a,o,l,c)}Oo(n,a,o){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+al})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((l,c)=>n[c]=l)),o&&o.headers.forEach(((l,c)=>n[c]=l))}xo(n,a){const o=QP[n];return`${this.Do}/v1/${a}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,a,o){const l=fm();return new Promise(((c,d)=>{const p=new UA;p.setWithCredentials(!0),p.listenOnce(LA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case $f.NO_ERROR:const y=p.getResponseJson();ze(zn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case $f.TIMEOUT:ze(zn,`RPC '${e}' ${l} timed out`),d(new Fe(Me.DEADLINE_EXCEEDED,"Request time out"));break;case $f.HTTP_ERROR:const w=p.getStatus();if(ze(zn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const H=R?.error;if(H&&H.status&&H.message){const I=(function(B){const O=B.toLowerCase().replace(/_/g,"-");return Object.values(Me).indexOf(O)>=0?O:Me.UNKNOWN})(H.status);d(new Fe(I,H.message))}else d(new Fe(Me.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Fe(Me.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{ze(zn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(o);ze(zn,`RPC '${e}' ${l} sending request:`,o),p.send(n,"POST",g,a,15)}))}Bo(e,n,a){const o=fm(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=FA(),d=jA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const y=l.join("");ze(zn,`Creating RPC '${e}' stream ${o}: ${y}`,p);const w=c.createWebChannel(y,p);let R=!1,H=!1;const I=new $P({Io:B=>{H?ze(zn,`Not sending because RPC '${e}' stream ${o} is closed:`,B):(R||(ze(zn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),R=!0),ze(zn,`RPC '${e}' stream ${o} sending:`,B),w.send(B))},To:()=>w.close()}),j=(B,O,L)=>{B.listen(O,(F=>{try{L(F)}catch(G){setTimeout((()=>{throw G}),0)}}))};return j(w,pu.EventType.OPEN,(()=>{H||(ze(zn,`RPC '${e}' stream ${o} transport opened.`),I.yo())})),j(w,pu.EventType.CLOSE,(()=>{H||(H=!0,ze(zn,`RPC '${e}' stream ${o} transport closed`),I.So())})),j(w,pu.EventType.ERROR,(B=>{H||(H=!0,Ko(zn,`RPC '${e}' stream ${o} transport errored:`,B),I.So(new Fe(Me.UNAVAILABLE,"The operation could not be completed")))})),j(w,pu.EventType.MESSAGE,(B=>{var O;if(!H){const L=B.data[0];Lt(!!L);const F=L,G=F.error||((O=F[0])===null||O===void 0?void 0:O.error);if(G){ze(zn,`RPC '${e}' stream ${o} received error:`,G);const X=G.status;let J=(function(P){const K=wn[P];if(K!==void 0)return dR(K)})(X),x=G.message;J===void 0&&(J=Me.INTERNAL,x="Unknown error status: "+X+" with message "+G.message),H=!0,I.So(new Fe(J,x)),w.close()}else ze(zn,`RPC '${e}' stream ${o} received:`,L),I.bo(L)}})),j(d,VA.STAT_EVENT,(B=>{B.stat===Zg.PROXY?ze(zn,`RPC '${e}' stream ${o} detected buffering proxy`):B.stat===Zg.NOPROXY&&ze(zn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{I.wo()}),0),I}}function hm(){return typeof document<"u"?document:null}function Uh(r){return new oP(r,!0)}class AR{constructor(e,n,a=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=a,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-a);o>0&&ze("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class RR{constructor(e,n,a,o,l,c,d,p){this.ui=e,this.Ho=a,this.Jo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new AR(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Me.RESOURCE_EXHAUSTED?(ea(n.toString()),ea("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.Yo===n&&this.P_(a,o)}),(a=>{e((()=>{const o=new Fe(Me.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(o)}))}))}P_(e,n){const a=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{a((()=>this.listener.Eo()))})),this.stream.Ro((()=>{a((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{a((()=>this.I_(o)))})),this.stream.onMessage((o=>{a((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class JP extends RR{constructor(e,n,a,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,c),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=cP(this.serializer,e),a=(function(l){if(!("targetChange"in l))return nt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?nt.min():c.readTime?pi(c.readTime):nt.min()})(e);return this.listener.d_(n,a)}A_(e){const n={};n.database=uy(this.serializer),n.addTarget=(function(l,c){let d;const p=c.target;if(d=ry(p)?{documents:dP(l,p)}:{query:pP(l,p)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=gR(l,c.resumeToken);const g=sy(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(nt.min())>0){d.readTime=ph(l,c.snapshotVersion.toTimestamp());const g=sy(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const a=gP(this.serializer,e);a&&(n.labels=a),this.a_(n)}R_(e){const n={};n.database=uy(this.serializer),n.removeTarget=e,this.a_(n)}}class ZP extends RR{constructor(e,n,a,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,Lt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=hP(e.writeResults,e.commitTime),a=pi(e.commitTime);return this.listener.g_(a,n)}p_(){const e={};e.database=uy(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>fP(this.serializer,a)))};this.a_(n)}}class ek extends class{}{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Fe(Me.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,a,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,oy(n,a),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Fe(Me.UNKNOWN,l.toString())}))}Lo(e,n,a,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(e,oy(n,a),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Fe(Me.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class tk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ea(n),this.D_=!1):ze("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class nk{constructor(e,n,a,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{a.enqueueAndForget((async()=>{Ws(this)&&(ze("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const g=rt(p);g.L_.add(4),await Ku(g),g.q_.set("Unknown"),g.L_.delete(4),await Lh(g)})(this))}))})),this.q_=new tk(a,o)}}async function Lh(r){if(Ws(r))for(const e of r.B_)await e(!0)}async function Ku(r){for(const e of r.B_)await e(!1)}function CR(r,e){const n=rt(r);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),r_(n)?n_(n):ol(n).r_()&&t_(n,e))}function e_(r,e){const n=rt(r),a=ol(n);n.N_.delete(e),a.r_()&&IR(n,e),n.N_.size===0&&(a.r_()?a.o_():Ws(n)&&n.q_.set("Unknown"))}function t_(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ol(r).A_(e)}function IR(r,e){r.Q_.xe(e),ol(r).R_(e)}function n_(r){r.Q_=new rP({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),ol(r).start(),r.q_.v_()}function r_(r){return Ws(r)&&!ol(r).n_()&&r.N_.size>0}function Ws(r){return rt(r).L_.size===0}function xR(r){r.Q_=void 0}async function rk(r){r.q_.set("Online")}async function ik(r){r.N_.forEach(((e,n)=>{t_(r,e)}))}async function ak(r,e){xR(r),r_(r)?(r.q_.M_(e),n_(r)):r.q_.set("Unknown")}async function sk(r,e,n){if(r.q_.set("Online"),e instanceof mR&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.N_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.N_.delete(d),o.Q_.removeTarget(d))})(r,e)}catch(a){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),await mh(r,a)}else if(e instanceof Zf?r.Q_.Ke(e):e instanceof pR?r.Q_.He(e):r.Q_.We(e),!n.isEqual(nt.min()))try{const a=await SR(r.localStore);n.compareTo(a)>=0&&await(function(l,c){const d=l.Q_.rt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.N_.get(g);y&&l.N_.set(g,y.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const y=l.N_.get(p);if(!y)return;l.N_.set(p,y.withResumeToken(Vn.EMPTY_BYTE_STRING,y.snapshotVersion)),IR(l,p);const w=new Ka(y.target,p,g,y.sequenceNumber);t_(l,w)})),l.remoteSyncer.applyRemoteEvent(d)})(r,n)}catch(a){ze("RemoteStore","Failed to raise snapshot:",a),await mh(r,a)}}async function mh(r,e,n){if(!qu(e))throw e;r.L_.add(1),await Ku(r),r.q_.set("Offline"),n||(n=()=>SR(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ze("RemoteStore","Retrying IndexedDB access"),await n(),r.L_.delete(1),await Lh(r)}))}function OR(r,e){return e().catch((n=>mh(r,n,e)))}async function Vh(r){const e=rt(r),n=ts(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ok(e);)try{const o=await HP(e.localStore,a);if(o===null){e.O_.length===0&&n.o_();break}a=o.batchId,lk(e,o)}catch(o){await mh(e,o)}DR(e)&&NR(e)}function ok(r){return Ws(r)&&r.O_.length<10}function lk(r,e){r.O_.push(e);const n=ts(r);n.r_()&&n.V_&&n.m_(e.mutations)}function DR(r){return Ws(r)&&!ts(r).n_()&&r.O_.length>0}function NR(r){ts(r).start()}async function uk(r){ts(r).p_()}async function ck(r){const e=ts(r);for(const n of r.O_)e.m_(n.mutations)}async function fk(r,e,n){const a=r.O_.shift(),o=Wy.from(a,e,n);await OR(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Vh(r)}async function hk(r,e){e&&ts(r).V_&&await(async function(a,o){if((function(c){return eP(c)&&c!==Me.ABORTED})(o.code)){const l=a.O_.shift();ts(a).s_(),await OR(a,(()=>a.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Vh(a)}})(r,e),DR(r)&&NR(r)}async function yb(r,e){const n=rt(r);n.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const a=Ws(n);n.L_.add(3),await Ku(n),a&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Lh(n)}async function dk(r,e){const n=rt(r);e?(n.L_.delete(2),await Lh(n)):e||(n.L_.add(2),await Ku(n),n.q_.set("Unknown"))}function ol(r){return r.K_||(r.K_=(function(n,a,o){const l=rt(n);return l.w_(),new JP(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Eo:rk.bind(null,r),Ro:ik.bind(null,r),mo:ak.bind(null,r),d_:sk.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),r_(r)?n_(r):r.q_.set("Unknown")):(await r.K_.stop(),xR(r))}))),r.K_}function ts(r){return r.U_||(r.U_=(function(n,a,o){const l=rt(n);return l.w_(),new ZP(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:uk.bind(null,r),mo:hk.bind(null,r),f_:ck.bind(null,r),g_:fk.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await Vh(r)):(await r.U_.stop(),r.O_.length>0&&(ze("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}class i_{constructor(e,n,a,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=l,this.deferred=new Qi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,l){const c=Date.now()+a,d=new i_(e,n,c,o,l);return d.start(a),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(Me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a_(r,e){if(ea("AsyncQueue",`${e}: ${r}`),qu(r))return new Fe(Me.UNAVAILABLE,`${e}: ${r}`);throw r}class Ho{constructor(e){this.comparator=e?(n,a)=>e(n,a)||We.comparator(n.key,a.key):(n,a)=>We.comparator(n.key,a.key),this.keyedMap=mu(),this.sortedSet=new tn(this.comparator)}static emptySet(e){return new Ho(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=a.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Ho;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class _b{constructor(){this.W_=new tn(We.comparator)}track(e){const n=e.doc.key,a=this.W_.get(n);a?e.type!==0&&a.type===3?this.W_=this.W_.insert(n,e):e.type===3&&a.type!==1?this.W_=this.W_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.W_=this.W_.remove(n):e.type===1&&a.type===2?this.W_=this.W_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Je():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Jo{constructor(e,n,a,o,l,c,d,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Jo(e,n,Ho.emptySet(n),c,a,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class pk{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class mk{constructor(){this.queries=vb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,a){const o=rt(n),l=o.queries;o.queries=vb(),l.forEach(((c,d)=>{for(const p of d.j_)p.onError(a)}))})(this,new Fe(Me.ABORTED,"Firestore shutting down"))}}function vb(){return new sl((r=>eR(r)),Dh)}async function s_(r,e){const n=rt(r);let a=3;const o=e.query;let l=n.queries.get(o);l?!l.H_()&&e.J_()&&(a=2):(l=new pk,a=e.J_()?0:1);try{switch(a){case 0:l.z_=await n.onListen(o,!0);break;case 1:l.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=a_(c,`Initialization of query '${Bo(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&l_(n)}async function o_(r,e){const n=rt(r),a=e.query;let o=3;const l=n.queries.get(a);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function gk(r,e){const n=rt(r);let a=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const d of c.j_)d.X_(o)&&(a=!0);c.z_=o}}a&&l_(n)}function yk(r,e,n){const a=rt(r),o=a.queries.get(e);if(o)for(const l of o.j_)l.onError(n);a.queries.delete(e)}function l_(r){r.Y_.forEach((e=>{e.next()}))}var fy,Eb;(Eb=fy||(fy={})).ea="default",Eb.Cache="cache";class u_{constructor(e,n,a){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Jo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const a=n!=="Offline";return(!this.options._a||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Jo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==fy.Cache}}class MR{constructor(e){this.key=e}}class PR{constructor(e){this.key=e}}class _k{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=mt(),this.mutatedKeys=mt(),this.Aa=tR(e),this.Ra=new Ho(this.Aa)}get Va(){return this.Ta}ma(e,n){const a=n?n.fa:new _b,o=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,w)=>{const R=o.get(y),H=Nh(this.query,w)?w:null,I=!!R&&this.mutatedKeys.has(R.key),j=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let B=!1;R&&H?R.data.isEqual(H.data)?I!==j&&(a.track({type:3,doc:H}),B=!0):this.ga(R,H)||(a.track({type:2,doc:H}),B=!0,(p&&this.Aa(H,p)>0||g&&this.Aa(H,g)<0)&&(d=!0)):!R&&H?(a.track({type:0,doc:H}),B=!0):R&&!H&&(a.track({type:1,doc:R}),B=!0,(p||g)&&(d=!0)),B&&(H?(c=c.add(H),l=j?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),a.track({type:1,doc:y})}return{Ra:c,fa:a,ns:d,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((y,w)=>(function(H,I){const j=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return j(H)-j(I)})(y.type,w.type)||this.Aa(y.doc,w.doc))),this.pa(a),o=o!=null&&o;const d=n&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,g=p!==this.Ea;return this.Ea=p,c.length!==0||g?{snapshot:new Jo(this.query,e.Ra,l,c,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new _b,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=mt(),this.Ra.forEach((a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))}));const n=[];return e.forEach((a=>{this.da.has(a)||n.push(new PR(a))})),this.da.forEach((a=>{e.has(a)||n.push(new MR(a))})),n}ba(e){this.Ta=e.Ts,this.da=mt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Jo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class vk{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class Ek{constructor(e){this.key=e,this.va=!1}}class wk{constructor(e,n,a,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new sl((d=>eR(d)),Dh),this.Ma=new Map,this.xa=new Set,this.Oa=new tn(We.comparator),this.Na=new Map,this.La=new Xy,this.Ba={},this.ka=new Map,this.qa=Xo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function bk(r,e,n=!0){const a=jR(r);let o;const l=a.Fa.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await kR(a,e,n,!0),o}async function Tk(r,e){const n=jR(r);await kR(n,e,!0,!1)}async function kR(r,e,n,a){const o=await GP(r.localStore,di(e)),l=o.targetId,c=r.sharedClientState.addLocalQueryTarget(l,n);let d;return a&&(d=await Sk(r,e,l,c==="current",o.resumeToken)),r.isPrimaryClient&&n&&CR(r.remoteStore,o),d}async function Sk(r,e,n,a,o){r.Ka=(w,R,H)=>(async function(j,B,O,L){let F=B.view.ma(O);F.ns&&(F=await pb(j.localStore,B.query,!1).then((({documents:x})=>B.view.ma(x,F))));const G=L&&L.targetChanges.get(B.targetId),X=L&&L.targetMismatches.get(B.targetId)!=null,J=B.view.applyChanges(F,j.isPrimaryClient,G,X);return bb(j,B.targetId,J.wa),J.snapshot})(r,w,R,H);const l=await pb(r.localStore,e,!0),c=new _k(e,l.Ts),d=c.ma(l.documents),p=Gu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=c.applyChanges(d,r.isPrimaryClient,p);bb(r,n,g.wa);const y=new vk(e,n,c);return r.Fa.set(e,y),r.Ma.has(n)?r.Ma.get(n).push(e):r.Ma.set(n,[e]),g.snapshot}async function Ak(r,e,n){const a=rt(r),o=a.Fa.get(e),l=a.Ma.get(o.targetId);if(l.length>1)return a.Ma.set(o.targetId,l.filter((c=>!Dh(c,e)))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await cy(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&e_(a.remoteStore,o.targetId),hy(a,o.targetId)})).catch(Fu)):(hy(a,o.targetId),await cy(a.localStore,o.targetId,!0))}async function Rk(r,e){const n=rt(r),a=n.Fa.get(e),o=n.Ma.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),e_(n.remoteStore,a.targetId))}async function Ck(r,e,n){const a=Pk(r);try{const o=await(function(c,d){const p=rt(c),g=An.now(),y=d.reduce(((H,I)=>H.add(I.key)),mt());let w,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let I=ta(),j=mt();return p.cs.getEntries(H,y).next((B=>{I=B,I.forEach(((O,L)=>{L.isValidDocument()||(j=j.add(O))}))})).next((()=>p.localDocuments.getOverlayedDocuments(H,I))).next((B=>{w=B;const O=[];for(const L of d){const F=QM(L,w.get(L.key).overlayedDocument);F!=null&&O.push(new is(L.key,F,KA(F.value.mapValue),nr.exists(!0)))}return p.mutationQueue.addMutationBatch(H,g,O,d)})).next((B=>{R=B;const O=B.applyToLocalDocumentSet(w,j);return p.documentOverlayCache.saveOverlays(H,B.batchId,O)}))})).then((()=>({batchId:R.batchId,changes:rR(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Ba[c.currentUser.toKey()];g||(g=new tn(Ot)),g=g.insert(d,p),c.Ba[c.currentUser.toKey()]=g})(a,o.batchId,n),await Yu(a,o.changes),await Vh(a.remoteStore)}catch(o){const l=a_(o,"Failed to persist write");n.reject(l)}}async function BR(r,e){const n=rt(r);try{const a=await qP(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=n.Na.get(l);c&&(Lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?Lt(c.va):o.removedDocuments.size>0&&(Lt(c.va),c.va=!1))})),await Yu(n,a,e)}catch(a){await Fu(a)}}function wb(r,e,n){const a=rt(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Fa.forEach(((l,c)=>{const d=c.view.Z_(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=rt(c);p.onlineState=d;let g=!1;p.queries.forEach(((y,w)=>{for(const R of w.j_)R.Z_(d)&&(g=!0)})),g&&l_(p)})(a.eventManager,e),o.length&&a.Ca.d_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Ik(r,e,n){const a=rt(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Na.get(e),l=o&&o.key;if(l){let c=new tn(We.comparator);c=c.insert(l,Kn.newNoDocument(l,nt.min()));const d=mt().add(l),p=new Bh(nt.min(),new Map,new tn(Ot),c,d);await BR(a,p),a.Oa=a.Oa.remove(l),a.Na.delete(e),c_(a)}else await cy(a.localStore,e,!1).then((()=>hy(a,e,n))).catch(Fu)}async function xk(r,e){const n=rt(r),a=e.batch.batchId;try{const o=await FP(n.localStore,e);LR(n,a,null),UR(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Yu(n,o)}catch(o){await Fu(o)}}async function Ok(r,e,n){const a=rt(r);try{const o=await(function(c,d){const p=rt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return p.mutationQueue.lookupMutationBatch(g,d).next((w=>(Lt(w!==null),y=w.keys(),p.mutationQueue.removeMutationBatch(g,w)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>p.localDocuments.getDocuments(g,y)))}))})(a.localStore,e);LR(a,e,n),UR(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Yu(a,o)}catch(o){await Fu(o)}}function UR(r,e){(r.ka.get(e)||[]).forEach((n=>{n.resolve()})),r.ka.delete(e)}function LR(r,e,n){const a=rt(r);let o=a.Ba[a.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),a.Ba[a.currentUser.toKey()]=o}}function hy(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Ma.get(e))r.Fa.delete(a),n&&r.Ca.$a(a,n);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((a=>{r.La.containsKey(a)||VR(r,a)}))}function VR(r,e){r.xa.delete(e.path.canonicalString());const n=r.Oa.get(e);n!==null&&(e_(r.remoteStore,n),r.Oa=r.Oa.remove(e),r.Na.delete(n),c_(r))}function bb(r,e,n){for(const a of n)a instanceof MR?(r.La.addReference(a.key,e),Dk(r,a)):a instanceof PR?(ze("SyncEngine","Document no longer in limbo: "+a.key),r.La.removeReference(a.key,e),r.La.containsKey(a.key)||VR(r,a.key)):Je()}function Dk(r,e){const n=e.key,a=n.path.canonicalString();r.Oa.get(n)||r.xa.has(a)||(ze("SyncEngine","New document in limbo: "+n),r.xa.add(a),c_(r))}function c_(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const n=new We(Qt.fromString(e)),a=r.qa.next();r.Na.set(a,new Ek(n)),r.Oa=r.Oa.insert(n,a),CR(r.remoteStore,new Ka(di(Oh(n.path)),a,"TargetPurposeLimboResolution",jy.oe))}}async function Yu(r,e,n){const a=rt(r),o=[],l=[],c=[];a.Fa.isEmpty()||(a.Fa.forEach(((d,p)=>{c.push(a.Ka(p,e,n).then((g=>{var y;if((g||n)&&a.isPrimaryClient){const w=g?!g.fromCache:(y=n?.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;a.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Zy.Wi(p.targetId,g);l.push(w)}})))})),await Promise.all(c),a.Ca.d_(o),await(async function(p,g){const y=rt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Be.forEach(g,(R=>Be.forEach(R.$i,(H=>y.persistence.referenceDelegate.addReference(w,R.targetId,H))).next((()=>Be.forEach(R.Ui,(H=>y.persistence.referenceDelegate.removeReference(w,R.targetId,H)))))))))}catch(w){if(!qu(w))throw w;ze("LocalStore","Failed to update sequence numbers: "+w)}for(const w of g){const R=w.targetId;if(!w.fromCache){const H=y.os.get(R),I=H.snapshotVersion,j=H.withLastLimboFreeSnapshotVersion(I);y.os=y.os.insert(R,j)}}})(a.localStore,l))}async function Nk(r,e){const n=rt(r);if(!n.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const a=await TR(n.localStore,e);n.currentUser=e,(function(l,c){l.ka.forEach((d=>{d.forEach((p=>{p.reject(new Fe(Me.CANCELLED,c))}))})),l.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Yu(n,a.hs)}}function Mk(r,e){const n=rt(r),a=n.Na.get(e);if(a&&a.va)return mt().add(a.key);{let o=mt();const l=n.Ma.get(e);if(!l)return o;for(const c of l){const d=n.Fa.get(c);o=o.unionWith(d.view.Va)}return o}}function jR(r){const e=rt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=BR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ik.bind(null,e),e.Ca.d_=gk.bind(null,e.eventManager),e.Ca.$a=yk.bind(null,e.eventManager),e}function Pk(r){const e=rt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ok.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return jP(this.persistence,new LP,e.initialUser,this.serializer)}Ga(e){return new kP(Jy.Zr,this.serializer)}Wa(e){return new YP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class dy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>wb(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nk.bind(null,this.syncEngine),await dk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new mk})()}createDatastore(e){const n=Uh(e.databaseInfo.databaseId),a=(function(l){return new XP(l)})(e.databaseInfo);return(function(l,c,d,p){return new ek(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,l,c,d){return new nk(a,o,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>wb(this.syncEngine,n,0)),(function(){return gb.D()?new gb:new WP})())}createSyncEngine(e,n){return(function(o,l,c,d,p,g,y){const w=new wk(o,l,c,d,p,g);return y&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const l=rt(o);ze("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await Ku(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dy.provider={build:()=>new dy};class f_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ea("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class kk{constructor(e,n,a,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Hn.UNAUTHENTICATED,this.clientId=zA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,(async c=>{ze("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(a,(c=>(ze("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=a_(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function dm(r,e){r.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await TR(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Tb(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Bk(r);ze("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>yb(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>yb(e.remoteStore,o))),r._onlineComponents=e}async function Bk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{await dm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Me.FAILED_PRECONDITION||o.code===Me.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ko("Error using user provided cache. Falling back to memory cache: "+n),await dm(r,new gh)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),await dm(r,new gh);return r._offlineComponents}async function FR(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),await Tb(r,r._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),await Tb(r,new dy))),r._onlineComponents}function Uk(r){return FR(r).then((e=>e.syncEngine))}async function yh(r){const e=await FR(r),n=e.eventManager;return n.onListen=bk.bind(null,e.syncEngine),n.onUnlisten=Ak.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Tk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Rk.bind(null,e.syncEngine),n}function Lk(r,e,n={}){const a=new Qi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const y=new f_({next:R=>{y.Za(),c.enqueueAndForget((()=>o_(l,w)));const H=R.docs.has(d);!H&&R.fromCache?g.reject(new Fe(Me.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&R.fromCache&&p&&p.source==="server"?g.reject(new Fe(Me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),w=new u_(Oh(d.path),y,{includeMetadataChanges:!0,_a:!0});return s_(l,w)})(await yh(r),r.asyncQueue,e,n,a))),a.promise}function Vk(r,e,n={}){const a=new Qi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const y=new f_({next:R=>{y.Za(),c.enqueueAndForget((()=>o_(l,w))),R.fromCache&&p.source==="server"?g.reject(new Fe(Me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),w=new u_(d,y,{includeMetadataChanges:!0,_a:!0});return s_(l,w)})(await yh(r),r.asyncQueue,e,n,a))),a.promise}function qR(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Sb=new Map;function zR(r,e,n){if(!n)throw new Fe(Me.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jk(r,e,n,a){if(e===!0&&a===!0)throw new Fe(Me.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Ab(r){if(!We.isDocumentKey(r))throw new Fe(Me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Rb(r){if(We.isDocumentKey(r))throw new Fe(Me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Je()}function rr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Fe(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jh(r);throw new Fe(Me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}class Cb{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Fe(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qR((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Fe(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Fe(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Fe(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Fe(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cb(e),e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new aM;switch(a.type){case"firstParty":return new uM(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Fe(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=Sb.get(n);a&&(ze("ComponentProvider","Removing Datastore"),Sb.delete(n),a.terminate())})(this),Promise.resolve()}}function Fk(r,e,n,a={}){var o;const l=(r=rr(r,Fh))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),a.mockUserToken){let d,p;if(typeof a.mockUserToken=="string")d=a.mockUserToken,p=Hn.MOCK_USER;else{d=HS(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const g=a.mockUserToken.sub||a.mockUserToken.user_id;if(!g)throw new Fe(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Hn(g)}r._authCredentials=new sM(new qA(d,p))}}class Qs{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Qs(this.firestore,e,this._query)}}class Yn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yn(this.firestore,e,this._key)}}class Xa extends Qs{constructor(e,n,a){super(e,n,Oh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yn(this.firestore,null,new We(e))}withConverter(e){return new Xa(this.firestore,e,this._path)}}function Gn(r,e,...n){if(r=$t(r),zR("collection","path",e),r instanceof Fh){const a=Qt.fromString(e,...n);return Rb(a),new Xa(r,null,a)}{if(!(r instanceof Yn||r instanceof Xa))throw new Fe(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Qt.fromString(e,...n));return Rb(a),new Xa(r.firestore,null,a)}}function zt(r,e,...n){if(r=$t(r),arguments.length===1&&(e=zA.newId()),zR("doc","path",e),r instanceof Fh){const a=Qt.fromString(e,...n);return Ab(a),new Yn(r,null,new We(a))}{if(!(r instanceof Yn||r instanceof Xa))throw new Fe(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Qt.fromString(e,...n));return Ab(a),new Yn(r.firestore,r instanceof Xa?r.converter:null,new We(a))}}class Ib{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new AR(this,"async_queue_retry"),this.Vu=()=>{const a=hm();a&&ze("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const n=hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Qi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!qu(e))throw e;ze("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((a=>{this.Eu=a,this.du=!1;const o=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(a);throw ea("INTERNAL UNHANDLED ERROR: ",o),a})).then((a=>(this.du=!1,a))))));return this.mu=n,n}enqueueAfterDelay(e,n,a){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=i_.createAndSchedule(this,e,n,a,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&Je()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function xb(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const l of a)if(l in o&&typeof o[l]=="function")return!0;return!1})(r,["next","error","complete"])}class gi extends Fh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new Ib,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ib(e),this._firestoreClient=void 0,await e}}}function qk(r,e){const n=typeof r=="object"?r:Cy(),a=typeof r=="string"?r:"(default)",o=Th(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const l=FS("firestore");l&&Fk(o,...l)}return o}function Wu(r){if(r._terminated)throw new Fe(Me.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||zk(r),r._firestoreClient}function zk(r){var e,n,a;const o=r._freezeSettings(),l=(function(d,p,g,y){return new bM(d,p,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,qR(y.experimentalLongPollingOptions),y.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new kk(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&(function(d){const p=d?._online.build();return{_offline:d?._offline.build(p),_online:p}})(r._componentsProvider))}class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(Vn.fromBase64String(e))}catch(n){throw new Fe(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zo(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Qu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Fe(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ll{constructor(e){this._methodName=e}}class h_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fe(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fe(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}class d_{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==o[l])return!1;return!0})(this._values,e._values)}}const Hk=/^__.*__$/;class Gk{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hu(e,this.data,n,this.fieldTransforms)}}class HR{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GR(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class qh{constructor(e,n,a,o,l,c){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new qh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:a,xu:!1});return o.Ou(e),o}Nu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:a,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return _h(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(GR(this.Cu)&&Hk.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Kk{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Uh(e)}Qu(e,n,a,o=!1){return new qh({Cu:e,methodName:n,qu:a,path:Un.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $u(r){const e=r._freezeSettings(),n=Uh(r._databaseId);return new Kk(r._databaseId,!!e.ignoreUndefinedProperties,n)}function p_(r,e,n,a,o,l={}){const c=r.Qu(l.merge||l.mergeFields?2:0,e,n,o);__("Data must be an object, but it was:",c,a);const d=WR(a,c);let p,g;if(l.merge)p=new Sr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const w of l.mergeFields){const R=py(e,w,n);if(!c.contains(R))throw new Fe(Me.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);$R(y,R)||y.push(R)}p=new Sr(y),g=c.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,g=c.fieldTransforms;return new Gk(new hr(d),p,g)}class zh extends ll{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zh}}function Yk(r,e,n){return new qh({Cu:3,qu:e.settings.qu,methodName:r._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class m_ extends ll{_toFieldTransform(e){return new Yy(e.path,new Nu)}isEqual(e){return e instanceof m_}}class g_ extends ll{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=Yk(this,e,!0),a=this.Ku.map((l=>ul(l,n))),o=new $o(a);return new Yy(e.path,o)}isEqual(e){return e instanceof g_&&Au(this.Ku,e.Ku)}}class y_ extends ll{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Pu(e.serializer,sR(e.serializer,this.$u));return new Yy(e.path,n)}isEqual(e){return e instanceof y_&&this.$u===e.$u}}function KR(r,e,n,a){const o=r.Qu(1,e,n);__("Data must be an object, but it was:",o,a);const l=[],c=hr.empty();Ys(a,((p,g)=>{const y=v_(e,p,n);g=$t(g);const w=o.Nu(y);if(g instanceof zh)l.push(y);else{const R=ul(g,w);R!=null&&(l.push(y),c.set(y,R))}}));const d=new Sr(l);return new HR(c,d,o.fieldTransforms)}function YR(r,e,n,a,o,l){const c=r.Qu(1,e,n),d=[py(e,a,n)],p=[o];if(l.length%2!=0)throw new Fe(Me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<l.length;R+=2)d.push(py(e,l[R])),p.push(l[R+1]);const g=[],y=hr.empty();for(let R=d.length-1;R>=0;--R)if(!$R(g,d[R])){const H=d[R];let I=p[R];I=$t(I);const j=c.Nu(H);if(I instanceof zh)g.push(H);else{const B=ul(I,j);B!=null&&(g.push(H),y.set(H,B))}}const w=new Sr(g);return new HR(y,w,c.fieldTransforms)}function Wk(r,e,n,a=!1){return ul(n,r.Qu(a?4:3,e))}function ul(r,e){if(QR(r=$t(r)))return __("Unsupported field value:",e,r),WR(r,e);if(r instanceof ll)return(function(a,o){if(!GR(o.Cu))throw o.Bu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(a,o){const l=[];let c=0;for(const d of a){let p=ul(d,o.Lu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(r,e)}return(function(a,o){if((a=$t(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return sR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=An.fromDate(a);return{timestampValue:ph(o.serializer,l)}}if(a instanceof An){const l=new An(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ph(o.serializer,l)}}if(a instanceof h_)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Zo)return{bytesValue:gR(o.serializer,a._byteString)};if(a instanceof Yn){const l=o.databaseId,c=a.firestore._databaseId;if(!c.isEqual(l))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$y(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof d_)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Bu("VectorValues must only contain numeric values.");return Ky(d.serializer,p)}))}}}}}})(a,o);throw o.Bu(`Unsupported field value: ${jh(a)}`)})(r,e)}function WR(r,e){const n={};return HA(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ys(r,((a,o)=>{const l=ul(o,e.Mu(a));l!=null&&(n[a]=l)})),{mapValue:{fields:n}}}function QR(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof An||r instanceof h_||r instanceof Zo||r instanceof Yn||r instanceof ll||r instanceof d_)}function __(r,e,n){if(!QR(n)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(n)){const a=jh(n);throw a==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+a)}}function py(r,e,n){if((e=$t(e))instanceof Qu)return e._internalPath;if(typeof e=="string")return v_(r,e);throw _h("Field path arguments must be of type string or ",r,!1,void 0,n)}const Qk=new RegExp("[~\\*/\\[\\]]");function v_(r,e,n){if(e.search(Qk)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Qu(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function _h(r,e,n,a,o){const l=a&&!a.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${a}`),c&&(p+=` in document ${o}`),p+=")"),new Fe(Me.INVALID_ARGUMENT,d+r+p)}function $R(r,e){return r.some((n=>n.isEqual(e)))}class XR{constructor(e,n,a,o,l){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $k(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $k extends XR{data(){return super.data()}}function E_(r,e){return typeof e=="string"?v_(r,e):e instanceof Qu?e._internalPath:e._delegate._internalPath}function JR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Fe(Me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class w_{}class Xk extends w_{}function Ps(r,e,...n){let a=[];e instanceof w_&&a.push(e),a=a.concat(n),(function(l){const c=l.filter((p=>p instanceof b_)).length,d=l.filter((p=>p instanceof Hh)).length;if(c>1||c>0&&d>0)throw new Fe(Me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class Hh extends Xk{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Hh(e,n,a)}_apply(e){const n=this._parse(e);return ZR(e._query,n),new Qs(e.firestore,e.converter,iy(e._query,n))}_parse(e){const n=$u(e.firestore);return(function(l,c,d,p,g,y,w){let R;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Fe(Me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Db(w,y);const H=[];for(const I of w)H.push(Ob(p,l,I));R={arrayValue:{values:H}}}else R=Ob(p,l,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Db(w,y),R=Wk(d,c,w,y==="in"||y==="not-in");return Tn.create(g,y,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Gr(r,e,n){const a=e,o=E_("where",r);return Hh._create(o,a,n)}class b_ extends w_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new b_(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Qr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)ZR(c,p),c=iy(c,p)})(e._query,n),new Qs(e.firestore,e.converter,iy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ob(r,e,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new Fe(Me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZA(e)&&n.indexOf("/")!==-1)throw new Fe(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(Qt.fromString(n));if(!We.isDocumentKey(a))throw new Fe(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Xw(r,new We(a))}if(n instanceof Yn)return Xw(r,n._key);throw new Fe(Me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(n)}.`)}function Db(r,e){if(!Array.isArray(r)||r.length===0)throw new Fe(Me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZR(r,e){const n=(function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Fe(Me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Fe(Me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Jk{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Je()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Ys(e,((o,l)=>{a[o]=this.convertValue(l,n)})),a}convertVectorValue(e){var n,a,o;const l=(o=(a=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map((c=>pn(c.doubleValue)));return new d_(l)}convertGeoPoint(e){return new h_(pn(e.latitude),pn(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=qy(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const n=es(e);return new An(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Qt.fromString(e);Lt(bR(a));const o=new Ou(a.get(1),a.get(3)),l=new We(a.popFirst(5));return o.isEqual(n)||ea(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function T_(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}class yu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class e1 extends XR{constructor(e,n,a,o,l,c){super(e,n,a,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(E_("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class eh extends e1{data(e={}){return super.data(e)}}class t1{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new yu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new eh(this._firestore,this._userDataWriter,a.key,a,new yu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new eh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new yu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new eh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new yu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:Zk(d.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Zk(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function vh(r){r=rr(r,Yn);const e=rr(r.firestore,gi);return Lk(Wu(e),r._key).then((n=>r1(e,r,n)))}class S_ extends Jk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Yn(this.firestore,null,n)}}function my(r){r=rr(r,Qs);const e=rr(r.firestore,gi),n=Wu(e),a=new S_(e);return JR(r._query),Vk(n,r._query).then((o=>new t1(e,a,r,o)))}function A_(r,e,n){r=rr(r,Yn);const a=rr(r.firestore,gi),o=T_(r.converter,e,n);return Xu(a,[p_($u(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,nr.none())])}function fr(r,e,n,...a){r=rr(r,Yn);const o=rr(r.firestore,gi),l=$u(o);let c;return c=typeof(e=$t(e))=="string"||e instanceof Qu?YR(l,"updateDoc",r._key,e,n,a):KR(l,"updateDoc",r._key,e),Xu(o,[c.toMutation(r._key,nr.exists(!0))])}function Nb(r){return Xu(rr(r.firestore,gi),[new kh(r._key,nr.none())])}function n1(r,e){const n=rr(r.firestore,gi),a=zt(r),o=T_(r.converter,e);return Xu(n,[p_($u(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,nr.exists(!1))]).then((()=>a))}function Kr(r,...e){var n,a,o;r=$t(r);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||xb(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(xb(e[c])){const w=e[c];e[c]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[c+1]=(a=w.error)===null||a===void 0?void 0:a.bind(w),e[c+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,y;if(r instanceof Yn)g=rr(r.firestore,gi),y=Oh(r._key.path),p={next:w=>{e[c]&&e[c](r1(g,r,w))},error:e[c+1],complete:e[c+2]};else{const w=rr(r,Qs);g=rr(w.firestore,gi),y=w._query;const R=new S_(g);p={next:H=>{e[c]&&e[c](new t1(g,R,w,H))},error:e[c+1],complete:e[c+2]},JR(r._query)}return(function(R,H,I,j){const B=new f_(j),O=new u_(H,B,I);return R.asyncQueue.enqueueAndForget((async()=>s_(await yh(R),O))),()=>{B.Za(),R.asyncQueue.enqueueAndForget((async()=>o_(await yh(R),O)))}})(Wu(g),y,d,p)}function Xu(r,e){return(function(a,o){const l=new Qi;return a.asyncQueue.enqueueAndForget((async()=>Ck(await Uk(a),o,l))),l.promise})(Wu(r),e)}function r1(r,e,n){const a=n.docs.get(e._key),o=new S_(r);return new e1(r,o,e._key,a,new yu(n.hasPendingWrites,n.fromCache),e.converter)}class eB{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=$u(e)}set(e,n,a){this._verifyNotCommitted();const o=pm(e,this._firestore),l=T_(o.converter,n,a),c=p_(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,a);return this._mutations.push(c.toMutation(o._key,nr.none())),this}update(e,n,a,...o){this._verifyNotCommitted();const l=pm(e,this._firestore);let c;return c=typeof(n=$t(n))=="string"||n instanceof Qu?YR(this._dataReader,"WriteBatch.update",l._key,n,a,o):KR(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,nr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=pm(e,this._firestore);return this._mutations=this._mutations.concat(new kh(n._key,nr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(Me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pm(r,e){if((r=$t(r)).firestore!==e)throw new Fe(Me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function fu(){return new m_("serverTimestamp")}function tB(...r){return new g_("arrayUnion",r)}function Hr(r){return new y_("increment",r)}function th(r){return Wu(r=rr(r,gi)),new eB(r,(e=>Xu(r,e)))}(function(e,n=!0){(function(o){al=o})(Gs),Vs(new Ja("firestore",((a,{instanceIdentifier:o,options:l})=>{const c=a.getProvider("app").getImmediate(),d=new gi(new oM(a.getProvider("auth-internal")),new fM(a.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Fe(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ou(g.options.projectId,y)})(c,o),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),hi(Kw,"4.7.3",e),hi(Kw,"4.7.3","esm2017")})();var nB="firebase",rB="10.14.1";hi(nB,rB,"app");const i1="firebasestorage.googleapis.com",a1="storageBucket",iB=120*1e3,aB=600*1e3;class un extends yi{constructor(e,n,a=0){super(mm(e),`Firebase Storage: ${n} (${mm(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,un.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return mm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function mm(r){return"storage/"+r}function R_(){const r="An unknown error occurred, please check the error payload for server response.";return new un(ln.UNKNOWN,r)}function sB(r){return new un(ln.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function oB(r){return new un(ln.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function lB(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new un(ln.UNAUTHENTICATED,r)}function uB(){return new un(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function cB(r){return new un(ln.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function fB(){return new un(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hB(){return new un(ln.CANCELED,"User canceled the upload/download.")}function dB(r){return new un(ln.INVALID_URL,"Invalid URL '"+r+"'.")}function pB(r){return new un(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function mB(){return new un(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+a1+"' property when initializing the app?")}function gB(){return new un(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function yB(){return new un(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function _B(r){return new un(ln.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gy(r){return new un(ln.INVALID_ARGUMENT,r)}function s1(){return new un(ln.APP_DELETED,"The Firebase app was deleted.")}function vB(r){return new un(ln.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Tu(r,e){return new un(ln.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function hu(r){throw new un(ln.INTERNAL_ERROR,"Internal error: "+r)}class Ar{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=Ar.makeFromUrl(e,n)}catch{return new Ar(e,"")}if(a.path==="")return a;throw pB(e)}static makeFromUrl(e,n){let a=null;const o="([A-Za-z0-9.\\-_]+)";function l(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(G){G.path_=decodeURIComponent(G.path)}const y="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",H=new RegExp(`^https?://${w}/${y}/b/${o}/o${R}`,"i"),I={bucket:1,path:3},j=n===i1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,B="([^?#]*)",O=new RegExp(`^https?://${j}/${o}/${B}`,"i"),F=[{regex:d,indices:p,postModify:l},{regex:H,indices:I,postModify:g},{regex:O,indices:{bucket:1,path:2},postModify:g}];for(let G=0;G<F.length;G++){const X=F[G],J=X.regex.exec(e);if(J){const x=J[X.indices.bucket];let C=J[X.indices.path];C||(C=""),a=new Ar(x,C),X.postModify(a);break}}if(a==null)throw dB(e);return a}}class EB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function wB(r,e,n){let a=1,o=null,l=null,c=!1,d=0;function p(){return d===2}let g=!1;function y(...B){g||(g=!0,e.apply(null,B))}function w(B){o=setTimeout(()=>{o=null,r(H,p())},B)}function R(){l&&clearTimeout(l)}function H(B,...O){if(g){R();return}if(B){R(),y.call(null,B,...O);return}if(p()||c){R(),y.call(null,B,...O);return}a<64&&(a*=2);let F;d===1?(d=2,F=0):F=(a+Math.random())*1e3,w(F)}let I=!1;function j(B){I||(I=!0,R(),!g&&(o!==null?(B||(d=2),clearTimeout(o),w(0)):B||(d=1)))}return w(0),l=setTimeout(()=>{c=!0,j(!0)},n),j}function bB(r){r(!1)}function TB(r){return r!==void 0}function SB(r){return typeof r=="object"&&!Array.isArray(r)}function C_(r){return typeof r=="string"||r instanceof String}function Mb(r){return I_()&&r instanceof Blob}function I_(){return typeof Blob<"u"}function Pb(r,e,n,a){if(a<e)throw gy(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>n)throw gy(`Invalid value for '${r}'. Expected ${n} or less.`)}function x_(r,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${r}`}function o1(r){const e=encodeURIComponent;let n="?";for(const a in r)if(r.hasOwnProperty(a)){const o=e(a)+"="+e(r[a]);n=n+o+"&"}return n=n.slice(0,-1),n}var Us;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Us||(Us={}));function AB(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return n||o||l}class RB{constructor(e,n,a,o,l,c,d,p,g,y,w,R=!0){this.url_=e,this.method_=n,this.headers_=a,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=y,this.connectionFactory_=w,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,I)=>{this.resolve_=H,this.reject_=I,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Mf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Us.NO_ERROR,p=l.getStatus();if(!d||AB(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Us.ABORT;a(!1,new Mf(!1,null,y));return}const g=this.successCodes_.indexOf(p)!==-1;a(!0,new Mf(g,l))})},n=(a,o)=>{const l=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());TB(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=R_();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?s1():hB();c(p)}else{const p=fB();c(p)}};this.canceled_?n(!1,new Mf(!1,null,!0)):this.backoffId_=wB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Mf{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function CB(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function IB(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function xB(r,e){e&&(r["X-Firebase-GMPID"]=e)}function OB(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function DB(r,e,n,a,o,l,c=!0){const d=o1(r.urlParams),p=r.url+d,g=Object.assign({},r.headers);return xB(g,e),CB(g,n),IB(g,l),OB(g,a),new RB(p,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,c)}function NB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function MB(...r){const e=NB();if(e!==void 0){const n=new e;for(let a=0;a<r.length;a++)n.append(r[a]);return n.getBlob()}else{if(I_())return new Blob(r);throw new un(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function PB(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}function kB(r){if(typeof atob>"u")throw _B("base-64");return atob(r)}const fi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class gm{constructor(e,n){this.data=e,this.contentType=n||null}}function BB(r,e){switch(r){case fi.RAW:return new gm(l1(e));case fi.BASE64:case fi.BASE64URL:return new gm(u1(r,e));case fi.DATA_URL:return new gm(LB(e),VB(e))}throw R_()}function l1(r){const e=[];for(let n=0;n<r.length;n++){let a=r.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=a,c=r.charCodeAt(++n);a=65536|(l&1023)<<10|c&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function UB(r){let e;try{e=decodeURIComponent(r)}catch{throw Tu(fi.DATA_URL,"Malformed data URL.")}return l1(e)}function u1(r,e){switch(r){case fi.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Tu(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case fi.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Tu(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kB(e)}catch(o){throw o.message.includes("polyfill")?o:Tu(r,"Invalid character found")}const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}class c1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Tu(fi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=jB(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function LB(r){const e=new c1(r);return e.base64?u1(fi.BASE64,e.rest):UB(e.rest)}function VB(r){return new c1(r).contentType}function jB(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class Ga{constructor(e,n){let a=0,o="";Mb(e)?(this.data_=e,a=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Mb(this.data_)){const a=this.data_,o=PB(a,e,n);return o===null?null:new Ga(o)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new Ga(a,!0)}}static getBlob(...e){if(I_()){const n=e.map(a=>a instanceof Ga?a.data_:a);return new Ga(MB.apply(null,n))}else{const n=e.map(c=>C_(c)?BB(fi.RAW,c).data:c.data_);let a=0;n.forEach(c=>{a+=c.byteLength});const o=new Uint8Array(a);let l=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)o[l++]=c[d]}),new Ga(o,!0)}}uploadData(){return this.data_}}function f1(r){let e;try{e=JSON.parse(r)}catch{return null}return SB(e)?e:null}function FB(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function qB(r,e){const n=e.split("/").filter(a=>a.length>0).join("/");return r.length===0?n:r+"/"+n}function h1(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function zB(r,e){return e}class tr{constructor(e,n,a,o){this.server=e,this.local=n||e,this.writable=!!a,this.xform=o||zB}}let Pf=null;function HB(r){return!C_(r)||r.length<2?r:h1(r)}function d1(){if(Pf)return Pf;const r=[];r.push(new tr("bucket")),r.push(new tr("generation")),r.push(new tr("metageneration")),r.push(new tr("name","fullPath",!0));function e(l,c){return HB(c)}const n=new tr("name");n.xform=e,r.push(n);function a(l,c){return c!==void 0?Number(c):c}const o=new tr("size");return o.xform=a,r.push(o),r.push(new tr("timeCreated")),r.push(new tr("updated")),r.push(new tr("md5Hash",null,!0)),r.push(new tr("cacheControl",null,!0)),r.push(new tr("contentDisposition",null,!0)),r.push(new tr("contentEncoding",null,!0)),r.push(new tr("contentLanguage",null,!0)),r.push(new tr("contentType",null,!0)),r.push(new tr("metadata","customMetadata",!0)),Pf=r,Pf}function GB(r,e){function n(){const a=r.bucket,o=r.fullPath,l=new Ar(a,o);return e._makeStorageReference(l)}Object.defineProperty(r,"ref",{get:n})}function KB(r,e,n){const a={};a.type="file";const o=n.length;for(let l=0;l<o;l++){const c=n[l];a[c.local]=c.xform(a,e[c.server])}return GB(a,r),a}function p1(r,e,n){const a=f1(e);return a===null?null:KB(r,a,n)}function YB(r,e,n,a){const o=f1(e);if(o===null||!C_(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const y=r.bucket,w=r.fullPath,R="/b/"+c(y)+"/o/"+c(w),H=x_(R,n,a),I=o1({alt:"media",token:g});return H+I})[0]}function WB(r,e){const n={},a=e.length;for(let o=0;o<a;o++){const l=e[o];l.writable&&(n[l.server]=r[l.local])}return JSON.stringify(n)}class m1{constructor(e,n,a,o){this.url=e,this.method=n,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function g1(r){if(!r)throw R_()}function QB(r,e){function n(a,o){const l=p1(r,o,e);return g1(l!==null),l}return n}function $B(r,e){function n(a,o){const l=p1(r,o,e);return g1(l!==null),YB(l,o,r.host,r._protocol)}return n}function y1(r){function e(n,a){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=uB():o=lB():n.getStatus()===402?o=oB(r.bucket):n.getStatus()===403?o=cB(r.path):o=a,o.status=n.getStatus(),o.serverResponse=a.serverResponse,o}return e}function XB(r){const e=y1(r);function n(a,o){let l=e(a,o);return a.getStatus()===404&&(l=sB(r.path)),l.serverResponse=o.serverResponse,l}return n}function JB(r,e,n){const a=e.fullServerUrl(),o=x_(a,r.host,r._protocol),l="GET",c=r.maxOperationRetryTime,d=new m1(o,l,$B(r,n),c);return d.errorHandler=XB(e),d}function ZB(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function eU(r,e,n){const a=Object.assign({},n);return a.fullPath=r.path,a.size=e.size(),a.contentType||(a.contentType=ZB(null,e)),a}function tU(r,e,n,a,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let F="";for(let G=0;G<2;G++)F=F+Math.random().toString().slice(2);return F}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const g=eU(e,a,o),y=WB(g,n),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,R=`\r
--`+p+"--",H=Ga.getBlob(w,a,R);if(H===null)throw gB();const I={name:g.fullPath},j=x_(l,r.host,r._protocol),B="POST",O=r.maxUploadRetryTime,L=new m1(j,B,QB(r,n),O);return L.urlParams=I,L.headers=c,L.body=H.uploadData(),L.errorHandler=y1(e),L}class nU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,o){if(this.sent_)throw hu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class rU extends nU{initXhr(){this.xhr_.responseType="text"}}function _1(){return new rU}class Hs{constructor(e,n){this._service=e,n instanceof Ar?this._location=n:this._location=Ar.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hs(e,n)}get root(){const e=new Ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return h1(this._location.path)}get storage(){return this._service}get parent(){const e=FB(this._location.path);if(e===null)return null;const n=new Ar(this._location.bucket,e);return new Hs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw vB(e)}}function iU(r,e,n){r._throwIfRoot("uploadBytes");const a=tU(r.storage,r._location,d1(),new Ga(e,!0),n);return r.storage.makeRequestWithTokens(a,_1).then(o=>({metadata:o,ref:r}))}function aU(r){r._throwIfRoot("getDownloadURL");const e=JB(r.storage,r._location,d1());return r.storage.makeRequestWithTokens(e,_1).then(n=>{if(n===null)throw yB();return n})}function sU(r,e){const n=qB(r._location.path,e),a=new Ar(r._location.bucket,n);return new Hs(r.storage,a)}function oU(r){return/^[A-Za-z]+:\/\//.test(r)}function lU(r,e){return new Hs(r,e)}function v1(r,e){if(r instanceof O_){const n=r;if(n._bucket==null)throw mB();const a=new Hs(n,n._bucket);return e!=null?v1(a,e):a}else return e!==void 0?sU(r,e):r}function uU(r,e){if(e&&oU(e)){if(r instanceof O_)return lU(r,e);throw gy("To use ref(service, url), the first argument must be a Storage instance.")}else return v1(r,e)}function kb(r,e){const n=e?.[a1];return n==null?null:Ar.makeFromBucketSpec(n,r)}function cU(r,e,n,a={}){r.host=`${e}:${n}`,r._protocol="http";const{mockUserToken:o}=a;o&&(r._overrideAuthToken=typeof o=="string"?o:HS(o,r.app.options.projectId))}class O_{constructor(e,n,a,o,l){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=i1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iB,this._maxUploadRetryTime=aB,this._requests=new Set,o!=null?this._bucket=Ar.makeFromBucketSpec(o,this._host):this._bucket=kb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,e):this._bucket=kb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Pb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Pb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hs(this,e)}_makeRequest(e,n,a,o,l=!0){if(this._deleted)return new EB(s1());{const c=DB(e,this._appId,a,o,n,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,o).getPromise()}}const Bb="@firebase/storage",Ub="0.13.2";const E1="storage";function fU(r,e,n){return r=$t(r),iU(r,e,n)}function hU(r){return r=$t(r),aU(r)}function dU(r,e){return r=$t(r),uU(r,e)}function w1(r=Cy(),e){r=$t(r);const a=Th(r,E1).getImmediate({identifier:e}),o=FS("storage");return o&&pU(a,...o),a}function pU(r,e,n,a={}){cU(r,e,n,a)}function mU(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new O_(n,a,o,e,Gs)}function gU(){Vs(new Ja(E1,mU,"PUBLIC").setMultipleInstances(!0)),hi(Bb,Ub,""),hi(Bb,Ub,"esm2017")}gU();const yU={apiKey:"AIzaSyBqt53TJftgH6TTgxcMPMH1g3H6ZbEbsSM",authDomain:"swasthya-sakhi-2e7bd.firebaseapp.com",projectId:"swasthya-sakhi-2e7bd",storageBucket:"swasthya-sakhi-2e7bd.firebasestorage.app",messagingSenderId:"934869387204",appId:"1:934869387204:web:73e7c831d852dca3f34691"},D_=YS(yU),Gt=WN(D_),ct=qk(D_);w1(D_);new qi;const _U=()=>Y.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",textAlign:"center"},children:[Y.jsx("div",{style:{fontSize:"6rem",marginBottom:"1rem"},children:""}),Y.jsx("h1",{style:{color:"#2E7D32",fontSize:"3.5rem",margin:"0.5rem 0"},children:"Swasthya Sakhi"}),Y.jsx("p",{style:{fontSize:"1.5rem",color:"#444",maxWidth:"600px",margin:"1rem 0 2rem"},children:"Affordable Healthcare for Everyone  Medicines, Consultations, Ambulance & More"}),Y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",width:"100%",maxWidth:"400px"},children:[Y.jsx(rh,{to:"/register",style:{textDecoration:"none"},children:Y.jsx("button",{style:{width:"100%",padding:"1.2rem",fontSize:"1.3rem",background:"#4CAF50",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:"Register Now"})}),Y.jsx(rh,{to:"/login",style:{textDecoration:"none"},children:Y.jsx("button",{style:{width:"100%",padding:"1.2rem",fontSize:"1.3rem",background:"white",color:"#2E7D32",border:"2px solid #4CAF50",borderRadius:"12px",cursor:"pointer"},children:"Already Registered? Login"})})]})]}),vU=()=>{const[r,e]=ue.useState(""),[n,a]=ue.useState(""),[o,l]=ue.useState("phone"),[c,d]=ue.useState(null),[p,g]=ue.useState(!1),[y,w]=ue.useState(""),R=ue.useRef(null),H=rs();ue.useEffect(()=>()=>{window.recaptchaVerifier&&(window.recaptchaVerifier.clear(),window.recaptchaVerifier=null)},[]);const I=async()=>{if(r.length!==10){w("Enter 10-digit phone number");return}g(!0),w("");try{window.recaptchaVerifier||(window.recaptchaVerifier=new xA(Gt,R.current,{size:"invisible"}));const O=`+91${r}`,L=await OA(Gt,O,window.recaptchaVerifier);d(L),l("otp")}catch(O){w(O.message||"Failed to send OTP")}finally{g(!1)}},j=async()=>{if(n.length!==6){w("Enter 6-digit OTP");return}g(!0),w("");try{const O=$a.credential(c.verificationId,n);await Py(Gt,O),H("/",{replace:!0})}catch(O){w(O.message||"Invalid OTP"),console.error("OTP verification error:",O)}finally{g(!1)}},B=async()=>{alert("Google Sign-In coming soon  currently using phone OTP")};return Y.jsxs("div",{style:{maxWidth:480,margin:"3rem auto",padding:"0 1rem"},children:[Y.jsx("div",{ref:R,style:{display:"none"}}),Y.jsxs("div",{style:{background:"white",padding:"2.5rem",borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,0.1)"},children:[Y.jsx("h1",{style:{color:"#2E7D32",textAlign:"center",marginBottom:"1.5rem"},children:"Login"}),y&&Y.jsx("div",{style:{color:"red",marginBottom:"1rem",textAlign:"center"},children:y}),o==="phone"?Y.jsxs(Y.Fragment,{children:[Y.jsx("input",{placeholder:"Phone (10 digits)",value:r,onChange:O=>e(O.target.value.replace(/\D/g,"")),maxLength:10,style:{width:"100%",padding:"12px",margin:"8px 0",borderRadius:8,border:"1px solid #ddd"}}),Y.jsx("button",{onClick:I,disabled:p,style:{width:"100%",padding:"14px",marginTop:"1rem",background:p?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:12},children:p?"Sending...":"Send OTP"}),Y.jsxs("button",{onClick:B,style:{width:"100%",padding:"14px",marginTop:"1.5rem",background:"#4285F4",color:"white",border:"none",borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[Y.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",style:{width:"20px"}}),"Continue with Google"]})]}):Y.jsxs(Y.Fragment,{children:[Y.jsxs("p",{children:["OTP sent to +91",r]}),Y.jsx("input",{value:n,onChange:O=>a(O.target.value.replace(/\D/g,"")),maxLength:6,placeholder:"Enter OTP",style:{width:"100%",padding:"14px",marginBottom:"1rem",textAlign:"center",borderRadius:8,border:"1px solid #ddd"}}),Y.jsx("button",{onClick:j,disabled:p,style:{width:"100%",padding:"14px",background:p?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:12},children:p?"Verifying...":"Verify & Login"}),Y.jsx("button",{onClick:()=>l("phone"),style:{width:"100%",marginTop:"1rem",background:"none",border:"none",color:"#2E7D32"},children:"Back"})]})]})]})},EU=()=>{const[r,e]=ue.useState({name:"",phone:"",email:"",password:"",confirmPassword:"",role:"customer",location:"",state:"",city:"",pincode:"",licenseNumber:""}),[n,a]=ue.useState("form"),[o,l]=ue.useState(""),[c,d]=ue.useState(null),[p,g]=ue.useState(!1),[y,w]=ue.useState(""),R=ue.useRef(null),H=ue.useRef(null),I=rs();ue.useEffect(()=>(H.current||(H.current=new xA(Gt,R.current,{size:"invisible"})),()=>{H.current&&(H.current.clear(),H.current=null)}),[]),ue.useEffect(()=>{r.role==="customer"&&!r.location&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(F=>{const{latitude:G,longitude:X}=F.coords;e(J=>({...J,location:`Lat: ${G.toFixed(4)}, Lng: ${X.toFixed(4)} (auto-detected)`}))},F=>{console.warn("Geolocation denied or unavailable:",F)})},[r.role]);const j=F=>{e({...r,[F.target.name]:F.target.value})},B=()=>r.name.trim()?r.phone.length!==10?"Enter valid 10-digit phone":r.email.includes("@")?r.password.length<6?"Password must be at least 6 characters":r.password!==r.confirmPassword?"Passwords do not match":r.role==="customer"&&!r.location.trim()?"Location is required for customers":r.role!=="customer"&&(!r.state.trim()||!r.city.trim()||!r.pincode.trim()||!r.licenseNumber.trim())?"All role-specific fields are required":null:"Valid email is required":"Name is required",O=async()=>{const F=B();if(F){w(F);return}g(!0),w("");try{const G=`+91${r.phone}`,X=await OA(Gt,G,H.current);d(X),a("otp")}catch(G){w(G.message||"Failed to send OTP. Try again."),console.error(G)}finally{g(!1)}},L=async()=>{if(o.length!==6){w("Please enter 6-digit OTP");return}g(!0),w("");try{const F=$a.credential(c.verificationId,o),X=(await Py(Gt,F)).user;await A_(zt(ct,"users",X.uid),{uid:X.uid,name:r.name.trim(),phoneNumber:X.phoneNumber,email:r.email.trim(),role:r.role,createdAt:new Date().toISOString(),...r.role==="customer"?{location:r.location.trim()}:{},...r.role!=="customer"?{state:r.state.trim(),city:r.city.trim(),pincode:r.pincode.trim(),licenseNumber:r.licenseNumber.trim(),verificationStatus:"pending"}:{}}),I(`/${r.role}-portal`,{replace:!0})}catch(F){w(F.message||"Registration failed"),console.error(F)}finally{g(!1)}};return Y.jsxs("div",{style:{maxWidth:500,margin:"2.5rem auto",padding:"0 1rem"},children:[Y.jsx("div",{ref:R,style:{position:"absolute",left:"-9999px",top:"-9999px"}}),Y.jsxs("div",{style:{background:"white",padding:"2rem 2.5rem",borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,0.12)"},children:[Y.jsx("h1",{style:{color:"#2E7D32",textAlign:"center",marginBottom:"1.8rem",fontSize:"2rem"},children:"Create Account"}),y&&Y.jsx("div",{style:{color:"#c62828",background:"#ffebee",padding:"0.9rem",borderRadius:8,marginBottom:"1.5rem",textAlign:"center"},children:y}),n==="form"?Y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[Y.jsx("input",{name:"name",placeholder:"Full Name *",value:r.name,onChange:j,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),Y.jsx("input",{name:"phone",placeholder:"Phone (10 digits) *",value:r.phone,onChange:F=>e({...r,phone:F.target.value.replace(/\D/g,"")}),maxLength:10,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),Y.jsx("input",{name:"email",type:"email",placeholder:"Email *",value:r.email,onChange:j,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),Y.jsx("input",{name:"password",type:"password",placeholder:"Password (min 6 chars) *",value:r.password,onChange:j,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),Y.jsx("input",{name:"confirmPassword",type:"password",placeholder:"Confirm Password *",value:r.confirmPassword,onChange:j,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),Y.jsxs("select",{name:"role",value:r.role,onChange:j,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"},children:[Y.jsx("option",{value:"customer",children:"Customer"}),Y.jsx("option",{value:"doctor",children:"Doctor"}),Y.jsx("option",{value:"delivery",children:"Delivery Partner"}),Y.jsx("option",{value:"medical",children:"Medical Business"})]}),r.role==="customer"&&Y.jsxs("div",{children:[Y.jsx("input",{name:"location",placeholder:"Your Location / Area *",value:r.location,onChange:j,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),Y.jsx("small",{style:{color:"#666",display:"block",marginTop:"0.4rem"},children:"Allow browser location permission for auto-detection (optional)"})]}),r.role!=="customer"&&Y.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[Y.jsx("input",{name:"state",placeholder:"State *",value:r.state,onChange:j,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),Y.jsx("input",{name:"city",placeholder:"City *",value:r.city,onChange:j,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),Y.jsx("input",{name:"pincode",placeholder:"Pincode *",value:r.pincode,onChange:j,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),Y.jsx("input",{name:"licenseNumber",placeholder:r.role==="doctor"?"Medical License Number *":r.role==="delivery"?"Driving License Number *":"Trade License / GST Number *",value:r.licenseNumber,onChange:j,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}})]}),Y.jsx("button",{onClick:O,disabled:p,style:{marginTop:"1.5rem",padding:"14px",background:p?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:12,fontSize:"1.1rem",fontWeight:"bold",cursor:p?"not-allowed":"pointer"},children:p?"Sending OTP...":"Verify Phone & Register"})]}):Y.jsxs("div",{style:{textAlign:"center"},children:[Y.jsxs("p",{style:{marginBottom:"1.2rem",fontSize:"1.1rem"},children:["OTP sent to ",Y.jsxs("strong",{children:["+91 ",r.phone]})]}),Y.jsx("input",{value:o,onChange:F=>l(F.target.value.replace(/\D/g,"")),maxLength:6,placeholder:"Enter 6-digit OTP",style:{width:"100%",padding:"14px",fontSize:"1.3rem",textAlign:"center",marginBottom:"1.2rem",borderRadius:8,border:"1px solid #ddd"}}),Y.jsx("button",{onClick:L,disabled:p,style:{width:"100%",padding:"14px",background:p?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:12,fontSize:"1.1rem",fontWeight:"bold",cursor:p?"not-allowed":"pointer"},children:p?"Verifying...":"Complete Registration"}),Y.jsx("button",{onClick:()=>a("form"),style:{marginTop:"1rem",background:"none",border:"none",color:"#2E7D32",cursor:"pointer"},children:" Back to Form"})]})]})]})},wU=({balance:r})=>{const[e,n]=ue.useState(""),[a,o]=ue.useState(!1),l=()=>{if(!e||e<10)return alert("Minimum amount is 10");o(!0);const c={key:"rzp_test_SHC6eokXMSzjRW",amount:Number(e)*100,currency:"INR",name:"Swasthya Sakhi",description:"Wallet Top-up",handler:function(p){o(!1),n(""),alert("Payment successful! Updating your balance...")},prefill:{contact:Gt.currentUser.phoneNumber||""},notes:{userId:Gt.currentUser.uid,type:"wallet_recharge"},theme:{color:"#2563eb"}},d=new window.Razorpay(c);d.open(),d.on("payment.failed",()=>o(!1))};return Y.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",marginBottom:"20px"},children:[Y.jsx("h3",{style:{margin:"0 0 10px 0"},children:" Your Wallet"}),Y.jsxs("p",{style:{fontSize:"24px",fontWeight:"bold",color:"#1e293b"},children:["",r||0]}),Y.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[Y.jsx("input",{type:"number",value:e,onChange:c=>n(c.target.value),placeholder:"Enter amount",style:{flexGrow:1,padding:"10px",borderRadius:"8px",border:"1px solid #ddd"}}),Y.jsx("button",{onClick:l,disabled:a,style:{padding:"10px 20px",background:"#2563eb",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:a?"Processing...":"Add Money"})]})]})},bU=()=>{const[r,e]=ue.useState([]),[n,a]=ue.useState([]),[o,l]=ue.useState([]),[c,d]=ue.useState("All"),[p,g]=ue.useState([]),[y,w]=ue.useState(null),[R,H]=ue.useState(!0),[I,j]=ue.useState([]),B=rs(),[O,L]=ue.useState([]),[F,G]=ue.useState(!1),[X,J]=ue.useState(!1),[x,C]=ue.useState(!1),[P,K]=ue.useState(!1),ee=["All",...new Set(r.map(D=>D.category||"General"))],k=c==="All"?r:r.filter(D=>(D.category||"General")===c),$=D=>{l(ce=>ce.find(Te=>Te.id===D.id)?ce.map(Te=>Te.id===D.id?{...Te,quantity:(Te.quantity||1)+1}:Te):[...ce,{...D,quantity:1}])};ue.useEffect(()=>{const D=Ps(Gn(ct,"medicines"));return Kr(D,pe=>{const Te=[];pe.forEach(V=>Te.push({id:V.id,...V.data()})),Te.length>0&&e(Te)})},[]),ue.useEffect(()=>{(async()=>{try{(await navigator.mediaDevices.enumerateDevices()).some(Te=>Te.kind==="videoinput"||Te.kind==="audioinput")&&navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(Te=>{Te.getTracks().forEach(V=>V.stop())}).catch(()=>{console.log("audio and video inactive")})}catch(ce){console.log("Hardware cleanup skipped:",ce)}})()},[]),ue.useEffect(()=>{const D=Gt.currentUser;if(!D){H(!1);return}const ce=ge(D.uid),pe=ke(),Te=Ke(D.uid);return ae(D.uid),()=>{ce(),pe(),Te()}},[]);const Ke=D=>{const ce=Ps(Gn(ct,"orders"),Gr("userId","==",D));return Kr(ce,pe=>{const Te=[];pe.forEach(q=>{Te.push({id:q.id,...q.data()})});const V=Te.sort((q,Ee)=>{const Pe=q.createdAt?new Date(q.createdAt):new Date(0);return(Ee.createdAt?new Date(Ee.createdAt):new Date(0))-Pe});L(V)})},ke=()=>{const D=Ps(Gn(ct,"users"),Gr("role","==","doctor"),Gr("online","==",!0));return Kr(D,ce=>{const pe=[];ce.forEach(Te=>pe.push({id:Te.id,...Te.data()})),a(pe)})},ae=D=>{const ce=zt(ct,"users",D);return Kr(ce,pe=>{pe.exists()&&w(pe.data()),H(!1)})},ge=D=>{const ce=Ps(Gn(ct,"bookings"),Gr("customerId","==",D));return Kr(ce,pe=>{const Te=[],V=[];pe.forEach(q=>{const Ee={id:q.id,...q.data()};Te.push(Ee),Ee.prescriptions&&Array.isArray(Ee.prescriptions)&&Ee.prescriptions.forEach(Pe=>{V.push({...Pe,doctorName:Ee.doctorName||"Doctor",bookingId:Ee.id,sortDate:xe(Pe.uploadedAt||Ee.updatedAt||Ee.createdAt)})})}),g(Te.sort((q,Ee)=>xe(Ee.updatedAt||Ee.createdAt)-xe(q.updatedAt||q.createdAt))),j(V.sort((q,Ee)=>Ee.sortDate-q.sortDate))})},xe=D=>D?D instanceof Date?D:typeof D=="string"?new Date(D):D.toDate?D.toDate():new Date(0):new Date(0),Ue=async(D,ce,pe)=>{if((y?.walletBalance||0)<pe){alert(`Insufficient balance! Consultation cost is ${pe}. Please top up your wallet.`);return}if(D&&ce&&pe)try{const V=th(ct),q=zt(ct,"users",Gt.currentUser.uid),Ee=zt(ct,"users",D);V.update(q,{walletBalance:Hr(-pe)}),V.update(Ee,{waitingBalance:Hr(.9*pe)});const Pe=zt(Gn(ct,"bookings"));V.set(Pe,{customerId:Gt.currentUser.uid,doctorId:D,customerName:y?.name||"Customer",doctorName:ce,createdAt:new Date().toISOString(),status:"pending",amountPaid:pe,paymentStatus:"escrow"});const Qe=zt(Gn(ct,"transactions"));V.set(Qe,{userId:Gt.currentUser.uid,amount:pe,type:"debit",description:`Consultation Fee (Held for Dr. ${ce})`,date:new Date().toISOString()});const je=zt(Gn(ct,"transactions"));V.set(je,{userId:D,amount:pe,type:"pending_credit",description:`Incoming Consultation from ${y?.name||"Customer"} (Awaiting Completion)`,date:new Date().toISOString()}),await V.commit(),alert(" Payment held in escrow. Booking request sent!")}catch(V){console.error("Booking error:",V),alert(`Failed: ${V.message}`)}},Le=D=>{if(!D)return alert("File not found");const ce=document.createElement("a");ce.href=D,ce.target="_blank",ce.rel="noopener noreferrer",document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)},ne=async()=>{const D=o.reduce((pe,Te)=>pe+Te.price*Te.quantity,0);if((y?.walletBalance||0)<D)return alert("Insufficient balance!");try{const pe=zt(ct,"users",Gt.currentUser.uid);await fr(pe,{walletBalance:Hr(-D)}),await n1(Gn(ct,"orders"),{userId:Gt.currentUser.uid,items:o,totalAmount:D,status:"paid",createdAt:new Date().toISOString()}),l([]),alert(" Order placed successfully!")}catch(pe){alert("Error: "+pe.message)}},ve=({roomId:D,bookingId:ce})=>{const[pe,Te]=ue.useState(null);if(ue.useEffect(()=>Kr(zt(ct,"videoRooms",D),Ee=>{const Pe=Ee.data();Te(Pe?.status)}),[D]),pe==="completed")return Y.jsx("span",{style:{color:"#10B981"},children:" Completed"});const V=pe==="active";return Y.jsx("button",{onClick:()=>B(`/video-call/${D}?booking=${ce}`),disabled:!V,style:{width:"100%",padding:"12px",marginTop:"8px",background:V?"#10B981":"#6b7280",color:"white",border:"none",borderRadius:"8px",fontWeight:500},children:V?" Join Call Now":" Doctor Preparing..."})},Z=D=>{if(!D)return"";try{return D.toDate?D.toDate().toLocaleString():new Date(D).toLocaleString()}catch{return""}},ie=({children:D})=>Y.jsx("div",{style:{background:"#fff",padding:20,borderRadius:12,marginBottom:20,boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:D}),he=()=>window.location.href="tel:108",te=D=>{if(!D||typeof D!="number")return"0s";const ce=Math.floor(D),pe=Math.floor(ce/60),Te=ce%60;return`${pe}m ${Te}s`};return R?Y.jsx("div",{style:{textAlign:"center",padding:"50px"},children:"Loading..."}):Y.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"20px",background:"#f8fafc",minHeight:"100vh"},children:[Y.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[Y.jsx("h1",{style:{color:"#1e293b",marginBottom:"8px"},children:"Swasthya Sakhi"}),Y.jsxs("p",{style:{color:"#64748b"},children:["Welcome, ",y?.name||"Customer"]})]}),Y.jsx(wU,{balance:y?.walletBalance||0}),Y.jsx("div",{style:{marginBottom:"30px"},children:Y.jsx("button",{onClick:he,style:{width:"100%",padding:"16px",background:"#dc2626",color:"white",border:"none",borderRadius:"12px",fontSize:"18px",fontWeight:600,cursor:"pointer"},children:" Emergency Ambulance 108"})}),o.length>0&&Y.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:[Y.jsx("h3",{style:{margin:"0 0 10px 0"},children:" Your Cart"}),o.map(D=>Y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px"},children:[Y.jsxs("span",{children:[D.name," (x",D.quantity,")"]}),Y.jsxs("span",{children:["",D.price*D.quantity]})]},D.id)),Y.jsx("hr",{style:{margin:"15px 0",border:"0",borderTop:"1px solid #eee"}}),Y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",marginBottom:"15px"},children:[Y.jsx("span",{children:"Total:"}),Y.jsxs("span",{children:["",o.reduce((D,ce)=>D+ce.price*ce.quantity,0)]})]}),Y.jsx("button",{onClick:ne,style:{width:"100%",padding:"12px",background:"#059669",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold"},children:"Pay from Wallet"})]}),p.length>0&&p.filter(D=>D.status==="accepted").map(D=>Y.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",marginBottom:"16px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:[Y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Y.jsxs("div",{children:[Y.jsx("p",{style:{margin:"0 0 4px 0",fontWeight:600},children:D.doctorName}),Y.jsx("p",{style:{color:"#64748b",margin:0,fontSize:"14px"},children:new Date(D.createdAt).toLocaleString()})]}),Y.jsx("span",{style:{padding:"6px 12px",borderRadius:"20px",background:"#059669",color:"white",fontSize:"12px",fontWeight:500},children:"ACCEPTED"})]}),D.videoRoomId&&Y.jsx(ve,{roomId:D.videoRoomId,bookingId:D.id})]},D.id)),Y.jsxs("div",{style:{marginBottom:"40px"},children:[Y.jsxs("h2",{style:{color:"#1e293b",marginBottom:"20px"},children:[" Online Doctors (",n.length,")"]}),n.length===0?Y.jsx("div",{style:{textAlign:"center",padding:"60px 20px",background:"white",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:Y.jsx("p",{style:{color:"#64748b"},children:"No doctors online right now"})}):Y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"20px"},children:n.map(D=>Y.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:[Y.jsxs("div",{children:[Y.jsx("h3",{style:{margin:"0 0 8px 0",color:"#1e293b"},children:D.name}),Y.jsx("p",{style:{color:"#64748b",margin:"0 0 12px 0"},children:D.specialization}),Y.jsxs("p",{style:{fontWeight:600,color:"#059669",margin:"0 0 16px 0"},children:["",D.rate||100]})]}),Y.jsx("button",{onClick:()=>Ue(D.id,D.name,D.rate),style:{width:"100%",padding:"14px",background:"#2563eb",color:"white",border:"none",borderRadius:"8px",fontWeight:500,cursor:"pointer"},children:"Book Consultation"})]},D.id))})]}),Y.jsxs(ie,{children:[Y.jsxs("div",{onClick:()=>J(D=>!D),style:{display:"flex",justifyContent:"space-between",cursor:"pointer"},children:[Y.jsx("h3",{style:{color:"#1e293b"},children:" Pharmacy"}),Y.jsx("span",{children:X?"":""})]}),X&&Y.jsx(Y.Fragment,{children:Y.jsxs("div",{className:"medicine-container",style:{display:"flex",gap:"20px",flexDirection:window.innerWidth<768?"column":"row",alignItems:"flex-start"},children:[Y.jsxs("div",{style:{width:window.innerWidth<768?"100%":"200px",flexShrink:0,background:"white",padding:"15px",borderRadius:"12px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",position:window.innerWidth<768?"relative":"sticky",top:"20px",zIndex:10,overflowX:"auto",display:window.innerWidth<768?"flex":"block",gap:"10px"},children:[Y.jsx("p",{style:{fontWeight:"bold",marginBottom:window.innerWidth<768?"0":"10px",color:"#64748b",fontSize:"12px",textTransform:"uppercase",alignSelf:"center"},children:window.innerWidth<768?"":"Categories"}),Y.jsx("div",{style:{display:window.innerWidth<768?"flex":"block",gap:"8px",width:"100%"},children:ee.map(D=>Y.jsx("div",{onClick:()=>d(D),style:{padding:"10px 15px",cursor:"pointer",borderRadius:"8px",marginBottom:window.innerWidth<768?"0":"4px",background:c===D?"#2563eb":"#f8fafc",color:c===D?"white":"#1e293b",fontWeight:"600",fontSize:"14px",whiteSpace:"nowrap",transition:"0.2s",border:c===D?"none":"1px solid #e2e8f0"},children:D},D))})]}),Y.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[Y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"12px"},children:k.map(D=>Y.jsxs("div",{style:{background:"white",padding:"15px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",border:"1px solid #f1f5f9",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Y.jsxs("div",{children:[Y.jsx("h3",{style:{margin:"0 0 5px 0",fontSize:"15px",color:"#1e293b"},children:D.name}),Y.jsx("span",{style:{fontSize:"10px",background:"#f1f5f9",padding:"2px 6px",borderRadius:"10px",color:"#64748b"},children:D.category||"General"})]}),Y.jsxs("div",{children:[Y.jsxs("p",{style:{fontSize:"18px",fontWeight:"bold",color:"#059669",margin:"10px 0"},children:["",D.price]}),Y.jsx("button",{onClick:()=>$(D),style:{width:"100%",padding:"8px",background:"#2563eb",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500"},children:"Add"})]})]},D.id))}),k.length===0&&Y.jsx("p",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No medicines found."})]})]})})]}),Y.jsxs(ie,{children:[Y.jsxs("div",{onClick:()=>G(D=>!D),style:{display:"flex",justifyContent:"space-between",cursor:"pointer"},children:[Y.jsxs("h3",{children:[" My Medicine Orders (",O.length,")"]}),Y.jsx("span",{children:F?"":""})]}),F&&Y.jsx(Y.Fragment,{children:Y.jsxs("div",{style:{marginBottom:"40px"},children:[Y.jsx("h2",{style:{color:"#1e293b",marginBottom:"20px"}}),O.length===0?Y.jsx("p",{style:{color:"#64748b",background:"white",padding:"20px",borderRadius:"12px",textAlign:"center"},children:"No orders found yet."}):Y.jsx("div",{style:{display:"grid",gap:"15px"},children:O.map(D=>Y.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",borderLeft:"5px solid #059669"},children:[Y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[Y.jsxs("span",{style:{fontWeight:"bold",color:"#64748b"},children:["Order #",D.id.slice(-6).toUpperCase()]}),Y.jsx("span",{style:{fontSize:"12px",color:"#94a3b8"},children:Z(D.createdAt)})]}),Y.jsx("div",{style:{background:"#f8fafc",padding:"10px",borderRadius:"8px"},children:D.items?.map((ce,pe)=>Y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px"},children:[Y.jsxs("span",{children:[ce.name," x",ce.quantity]}),Y.jsxs("span",{children:["",ce.price*ce.quantity]})]},pe))}),Y.jsxs("p",{style:{textAlign:"right",fontWeight:"bold",marginTop:"10px",margin:0},children:["Total Paid: ",D.totalAmount]})]},D.id))})]})})]}),Y.jsxs(ie,{children:[Y.jsxs("div",{onClick:()=>C(D=>!D),style:{display:"flex",justifyContent:"space-between",cursor:"pointer"},children:[Y.jsxs("h3",{children:[" My Bookings (",p.length,")"]}),Y.jsx("span",{children:x?"":""})]}),x&&Y.jsx(Y.Fragment,{children:p.length===0?Y.jsx("div",{style:{textAlign:"center",padding:"60px 20px",background:"white",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:Y.jsx("p",{style:{color:"#64748b"},children:"No bookings yet"})}):p.map(D=>Y.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",marginBottom:"16px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:[Y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Y.jsxs("div",{children:[Y.jsx("p",{style:{margin:"0 0 4px 0",fontWeight:600},children:D.doctorName}),Y.jsx("p",{style:{color:"#64748b",margin:0,fontSize:"14px"},children:new Date(D.createdAt).toLocaleString()})]}),Y.jsx("span",{style:{padding:"6px 12px",borderRadius:"20px",background:D.status==="accepted"?"#059669":D.status==="pending"?"#f59e0b":"#dc2626",color:"white",fontSize:"12px",fontWeight:500},children:D.status.toUpperCase()})]}),D.status==="completed"&&Y.jsxs("p",{style:{color:"#059669",fontSize:"14px",marginTop:"10px",fontWeight:500},children:[" Completed - Duration: ",te(D.callDurationSeconds)]}),D.prescriptions&&D.prescriptions.length>0&&Y.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginTop:"12px"},children:D.prescriptions.map((ce,pe)=>Y.jsxs("button",{onClick:()=>Le(ce.url),style:{padding:"6px 12px",background:"#eff6ff",color:"#2563eb",border:"1px solid #bfdbfe",borderRadius:"6px",fontSize:"12px",fontWeight:"bold",cursor:"pointer"},children:[" ",ce.name?.slice(0,20),"..."]},pe))}),D.status==="accepted"&&D.videoRoomId&&Y.jsx(ve,{roomId:D.videoRoomId,bookingId:D.id})]},D.id))})]}),Y.jsxs(ie,{children:[Y.jsxs("div",{onClick:()=>K(D=>!D),style:{display:"flex",justifyContent:"space-between",cursor:"pointer"},children:[Y.jsxs("h3",{children:[" My Prescriptions (",I.length,")"]}),Y.jsx("span",{children:P?"":""})]}),P&&Y.jsx(Y.Fragment,{children:I.length>0?Y.jsx("div",{children:Y.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px"},children:I.map((D,ce)=>Y.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:[Y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[Y.jsx("h4",{style:{margin:0},children:D.doctorName}),Y.jsx("span",{style:{fontSize:"11px",color:"#64748b"},children:D.uploadedAt?new Date(D.uploadedAt).toLocaleDateString():"Recent"})]}),Y.jsx("p",{style:{fontSize:"13px",color:"#475569",marginBottom:"15px"},children:D.name||"Prescription"}),Y.jsx("button",{onClick:()=>Le(D.url),style:{width:"100%",padding:"10px",background:"#059669",color:"white",border:"none",borderRadius:"8px",fontWeight:500,cursor:"pointer"},children:" Download File"})]},ce))})}):Y.jsx("div",{style:{textAlign:"center",padding:"60px 20px",background:"white",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:Y.jsx("p",{style:{color:"#64748b"},children:"No Prescriptions to Show"})})})]})]})},TU=()=>{const[r,e]=ue.useState(!1),[n,a]=ue.useState({name:"",phoneNumber:"",licenseNumber:"",waitingBalance:0,accumulatedBalance:0}),[o,l]=ue.useState({sun:{from:"",to:""},mon:{from:"",to:""},tue:{from:"",to:""},wed:{from:"",to:""},thu:{from:"",to:""},fri:{from:"",to:""},sat:{from:"",to:""}}),[c,d]=ue.useState([]),[p,g]=ue.useState([]),[y,w]=ue.useState(!0),[R,H]=ue.useState(null),[I,j]=ue.useState(!1),B=rs(),O=w1(),[L,F]=ue.useState(!1),[G,X]=ue.useState(""),[J,x]=ue.useState(""),C=async ke=>{ke.preventDefault();const ae=parseFloat(G);if(!J.includes("@")){alert("Please enter a valid UPI ID (e.g., name@upi)");return}if(ae<=0||ae>n.accumulatedBalance){alert("Invalid amount. Ensure it's greater than 0 and less than your total balance.");return}try{const ge=th(ct),xe=zt(ct,"users",Gt.currentUser.uid),Ue=zt(Gn(ct,"payout_requests"));ge.set(Ue,{doctorId:Gt.currentUser.uid,doctorName:n.name,amount:ae,upiId:J,status:"pending",createdAt:new Date().toISOString()}),ge.update(xe,{accumulatedBalance:Hr(-ae)}),await ge.commit(),alert("Withdrawal request submitted! Funds will be sent to "+J),F(!1),X(""),x("")}catch(ge){console.error("Withdrawal error:",ge),alert("Request failed. Please try again.")}};ue.useEffect(()=>{y||(async()=>{const ae=Gt.currentUser;if(ae)try{const ge=Ps(Gn(ct,"bookings"),Gr("doctorId","==",ae.uid),Gr("status","==","completed"),Gr("paymentStatus","==","escrow")),xe=await my(ge);if(xe.empty)return;const Ue=th(ct);let Le=0;xe.forEach(ne=>{const ve=ne.data(),Z=ve.amountPaid||0,ie=ve.callDurationSeconds||0,he=zt(ct,"users",ae.uid),te=zt(ct,"users",ve.customerId),D=ne.ref;ie>=30?Ue.update(he,{waitingBalance:Hr(-.9*Z),accumulatedBalance:Hr(.9*Z)}):(Ue.update(te,{walletBalance:Hr(Z)}),Ue.update(he,{waitingBalance:Hr(-.9*Z)})),Ue.update(D,{paymentStatus:"complete"}),Le++}),Le>0&&(await Ue.commit(),console.log(`Processed ${Le} pending payments.`))}catch(ge){console.error("Payment processing error:",ge)}})()},[y]),ue.useEffect(()=>{const ke=Gt.currentUser;if(ke){const ae=zt(ct,"users",ke.uid),ge=Kr(ae,xe=>{if(xe.exists()){const Ue=xe.data();a({name:Ue.name||"Dr. Unknown",phoneNumber:Ue.phoneNumber||"",licenseNumber:Ue.licenseNumber||"",waitingBalance:Ue.waitingBalance||0,accumulatedBalance:Ue.accumulatedBalance||0}),e(Ue.online||!1),l(Ue.schedule||o)}w(!1)});return P(ke.uid),K(ke.uid),()=>ge()}},[]),ue.useEffect(()=>{(async()=>{try{(await navigator.mediaDevices.enumerateDevices()).some(xe=>xe.kind==="videoinput"||xe.kind==="audioinput")&&navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(xe=>{xe.getTracks().forEach(Ue=>Ue.stop())}).catch(()=>{console.log("audio and video inactive")})}catch(ae){console.log("Hardware cleanup skipped:",ae)}})()},[]);const P=ke=>{const ae=Ps(Gn(ct,"bookings"),Gr("doctorId","==",ke),Gr("status","in",["pending","accepted"]));return Kr(ae,ge=>{const xe=[];ge.forEach(Ue=>xe.push({id:Ue.id,...Ue.data()})),d(xe)})},K=ke=>{const ae=Ps(Gn(ct,"bookings"),Gr("doctorId","==",ke),Gr("status","==","completed"));return Kr(ae,ge=>{const xe=[];ge.forEach(Ue=>xe.push({id:Ue.id,...Ue.data()})),g(xe)})},ee=async()=>{try{await fr(zt(ct,"users",Gt.currentUser.uid),{online:!r}),e(!r)}catch{H("Status update failed")}},k=async()=>{try{await fr(zt(ct,"users",Gt.currentUser.uid),{schedule:o})}catch{H("Schedule save failed")}},$=async(ke,ae)=>{try{const ge=ke.target.files[0];if(!ge)return;if(!["application/pdf","image/jpeg","image/png","image/jpg","image/heic","image/heif"].includes(ge.type)){alert("Only PDF or image files are allowed");return}const Ue=dU(O,`prescriptions/${ae}/${Date.now()}_${ge.name}`);await fU(Ue,ge);const Le=await hU(Ue),ne=zt(ct,"bookings",ae);await fr(ne,{prescriptions:tB({name:ge.name,url:Le,type:ge.type,uploadedAt:new Date().toISOString()}),prescriptionCount:Hr(1),prescriptionNote:"Prescription added"}),alert("Prescription uploaded successfully")}catch(ge){console.error("Upload failed",ge),alert("Upload failed")}},Ke=async(ke,ae)=>{try{const ge=zt(ct,"bookings",ke),Ue=(await vh(ge)).data();if(ae==="accepted"){const Le=`room-${ke}`;await A_(zt(ct,"videoRooms",Le),{bookingId:ke,doctorId:Gt.currentUser.uid,status:"active",users:{[Gt.currentUser.uid]:"doctor"},createdAt:new Date().toISOString()},{merge:!0}),await fr(ge,{status:"accepted",videoRoomId:Le,updatedAt:new Date().toISOString()}),B(`/video-call/${Le}?booking=${ke}`)}else if(ae==="declined"){const Le=th(ct),ne=zt(ct,"users",Ue.customerId),ve=zt(ct,"users",Gt.currentUser.uid);Le.update(ne,{walletBalance:Hr(Ue.amountPaid)}),Le.update(ve,{waitingBalance:Hr(-Ue.amountPaid)}),Le.update(ge,{status:"declined"}),await Le.commit(),alert("Booking declined and customer refunded.")}else await fr(ge,{status:ae})}catch(ge){H("Action failed: "+ge.message)}};return y?Y.jsx("div",{style:{padding:40},children:"Loading..."}):Y.jsxs("div",{style:{maxWidth:600,margin:"0 auto",padding:20},children:[Y.jsx("h1",{style:{textAlign:"center"},children:"Doctor Portal"}),Y.jsxs("div",{style:{display:"flex",gap:15,marginBottom:20},children:[Y.jsxs("div",{style:{flex:1,background:"#059669",color:"white",padding:15,borderRadius:12,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[Y.jsx("p",{style:{margin:0,fontSize:12,opacity:.8},children:"Accumulated Balance"}),Y.jsxs("h2",{style:{margin:"5px 0"},children:["",n.accumulatedBalance]})]}),Y.jsxs("div",{style:{flex:1,background:"#f59e0b",color:"white",padding:15,borderRadius:12,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[Y.jsx("p",{style:{margin:0,fontSize:12,opacity:.8},children:"Waiting Balance"}),Y.jsxs("h2",{style:{margin:"5px 0"},children:["",n.waitingBalance]})]})]}),Y.jsx("button",{onClick:()=>F(!0),style:{width:"100%",padding:"12px",background:"#059669",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",marginBottom:"20px",cursor:"pointer"},children:"Request UPI Withdrawal"}),L&&Y.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:Y.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"16px",width:"90%",maxWidth:"400px",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},children:[Y.jsx("h2",{style:{marginTop:0},children:"Withdraw Funds"}),Y.jsxs("p",{style:{color:"#64748b",fontSize:"14px"},children:["Available: ",Y.jsxs("b",{children:["",n.accumulatedBalance]})]}),Y.jsxs("form",{onSubmit:C,children:[Y.jsxs("div",{style:{marginBottom:"15px"},children:[Y.jsx("label",{style:{display:"block",fontSize:"12px",marginBottom:"5px",fontWeight:"bold"},children:"Amount ()"}),Y.jsx("input",{type:"number",required:!0,placeholder:"Min 100",value:G,onChange:ke=>X(ke.target.value),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #cbd5e1"}})]}),Y.jsxs("div",{style:{marginBottom:"20px"},children:[Y.jsx("label",{style:{display:"block",fontSize:"12px",marginBottom:"5px",fontWeight:"bold"},children:"UPI ID"}),Y.jsx("input",{type:"text",required:!0,placeholder:"doctorname@okaxis",value:J,onChange:ke=>x(ke.target.value),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #cbd5e1"}})]}),Y.jsxs("div",{style:{display:"flex",gap:"10px"},children:[Y.jsx("button",{type:"button",onClick:()=>F(!1),style:{flex:1,padding:"12px",background:"#f1f5f9",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Cancel"}),Y.jsx("button",{type:"submit",style:{flex:1,padding:"12px",background:"#059669",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Confirm"})]})]})]})}),Y.jsxs(kf,{children:[Y.jsx("h3",{children:" Profile"}),Y.jsxs("p",{children:[Y.jsx("b",{children:"Name:"})," ",n.name]}),Y.jsxs("p",{children:[Y.jsx("b",{children:"Phone:"})," ",n.phoneNumber]}),Y.jsxs("p",{children:[Y.jsx("b",{children:"License:"})," ",n.licenseNumber]}),Y.jsx("button",{onClick:ee,style:Bf(r?"#dc2626":"#059669"),children:r?"Go Offline":"Go Online"})]}),Y.jsxs(kf,{children:[Y.jsxs("div",{onClick:()=>j(ke=>!ke),style:{display:"flex",justifyContent:"space-between",cursor:"pointer"},children:[Y.jsx("h3",{children:" Weekly Schedule"}),Y.jsx("span",{children:I?"":""})]}),I&&Y.jsxs(Y.Fragment,{children:[Object.keys(o).map(ke=>Y.jsxs("div",{style:{display:"flex",gap:8,marginBottom:10},children:[Y.jsx("b",{style:{width:50},children:ke}),Y.jsx("input",{type:"time",value:o[ke].from,onChange:ae=>l(ge=>({...ge,[ke]:{...ge[ke],from:ae.target.value}}))}),Y.jsx("input",{type:"time",value:o[ke].to,onChange:ae=>l(ge=>({...ge,[ke]:{...ge[ke],to:ae.target.value}}))})]},ke)),Y.jsx("button",{onClick:k,style:Bf("#2563eb"),children:"Save Schedule"})]})]}),Y.jsx("h3",{children:" Active Consultations"}),c.map(ke=>Y.jsxs(kf,{children:[Y.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[Y.jsx("b",{children:ke.customerName}),Y.jsxs("b",{style:{color:"#059669"},children:["",ke.amountPaid]})]}),Y.jsx("p",{children:new Date(ke.createdAt).toLocaleString()}),ke.status==="pending"&&Y.jsxs("div",{style:{display:"flex",gap:10},children:[Y.jsx("button",{onClick:()=>Ke(ke.id,"accepted"),style:Bf("#059669"),children:"Accept"}),Y.jsx("button",{onClick:()=>Ke(ke.id,"declined"),style:Bf("#dc2626"),children:"Decline"})]})]},ke.id)),Y.jsx("h3",{style:{marginTop:30},children:" Completed Consultations"}),p.length===0&&Y.jsx("p",{children:"No completed bookings"}),p.map(ke=>Y.jsx(kf,{children:Y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[Y.jsxs("div",{children:[Y.jsx("b",{children:ke.customerName}),Y.jsx("p",{style:{fontSize:13,opacity:.7},children:ke.callEndedAt?.toDate?.().toLocaleString()||"N/A"}),Y.jsxs("p",{style:{fontSize:13,fontWeight:"bold",color:"#2563eb"},children:[" Duration: ",Math.floor((ke.callDurationSeconds||0)/60),"m ",(ke.callDurationSeconds||0)%60,"s"]}),ke.prescriptionCount>0&&Y.jsxs("p",{style:{fontSize:12,color:"#059669",marginTop:6},children:[" ",ke.prescriptionCount," prescription",ke.prescriptionCount>1?"s":""," added"]})]}),Y.jsx("button",{onClick:()=>document.getElementById(`upload-${ke.id}`).click(),style:{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,background:"#2563eb",color:"#fff",borderRadius:"50%",cursor:"pointer",fontSize:24,fontWeight:"bold",border:"none",boxShadow:"0 2px 4px rgba(37, 99, 235, 0.3)"},children:"+"}),Y.jsx("input",{id:`upload-${ke.id}`,type:"file",accept:".pdf,image/*,.heic,.heif",style:{display:"none"},onChange:ae=>$(ae,ke.id)})]})},ke.id)),R&&Y.jsx("p",{style:{color:"red"},children:R})]})},kf=({children:r})=>Y.jsx("div",{style:{background:"#fff",padding:20,borderRadius:12,marginBottom:20,boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:r}),Bf=r=>({background:r,color:"#fff",padding:12,border:"none",borderRadius:8,cursor:"pointer",width:"100%"});var Uf={exports:{}},ym,Lb;function SU(){if(Lb)return ym;Lb=1;var r=1e3,e=r*60,n=e*60,a=n*24,o=a*7,l=a*365.25;ym=function(y,w){w=w||{};var R=typeof y;if(R==="string"&&y.length>0)return c(y);if(R==="number"&&isFinite(y))return w.long?p(y):d(y);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(y))};function c(y){if(y=String(y),!(y.length>100)){var w=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(w){var R=parseFloat(w[1]),H=(w[2]||"ms").toLowerCase();switch(H){case"years":case"year":case"yrs":case"yr":case"y":return R*l;case"weeks":case"week":case"w":return R*o;case"days":case"day":case"d":return R*a;case"hours":case"hour":case"hrs":case"hr":case"h":return R*n;case"minutes":case"minute":case"mins":case"min":case"m":return R*e;case"seconds":case"second":case"secs":case"sec":case"s":return R*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return R;default:return}}}}function d(y){var w=Math.abs(y);return w>=a?Math.round(y/a)+"d":w>=n?Math.round(y/n)+"h":w>=e?Math.round(y/e)+"m":w>=r?Math.round(y/r)+"s":y+"ms"}function p(y){var w=Math.abs(y);return w>=a?g(y,w,a,"day"):w>=n?g(y,w,n,"hour"):w>=e?g(y,w,e,"minute"):w>=r?g(y,w,r,"second"):y+" ms"}function g(y,w,R,H){var I=w>=R*1.5;return Math.round(y/R)+" "+H+(I?"s":"")}return ym}var _m,Vb;function AU(){if(Vb)return _m;Vb=1;function r(e){a.debug=a,a.default=a,a.coerce=g,a.disable=d,a.enable=l,a.enabled=p,a.humanize=SU(),a.destroy=y,Object.keys(e).forEach(w=>{a[w]=e[w]}),a.names=[],a.skips=[],a.formatters={};function n(w){let R=0;for(let H=0;H<w.length;H++)R=(R<<5)-R+w.charCodeAt(H),R|=0;return a.colors[Math.abs(R)%a.colors.length]}a.selectColor=n;function a(w){let R,H=null,I,j;function B(...O){if(!B.enabled)return;const L=B,F=Number(new Date),G=F-(R||F);L.diff=G,L.prev=R,L.curr=F,R=F,O[0]=a.coerce(O[0]),typeof O[0]!="string"&&O.unshift("%O");let X=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,(x,C)=>{if(x==="%%")return"%";X++;const P=a.formatters[C];if(typeof P=="function"){const K=O[X];x=P.call(L,K),O.splice(X,1),X--}return x}),a.formatArgs.call(L,O),(L.log||a.log).apply(L,O)}return B.namespace=w,B.useColors=a.useColors(),B.color=a.selectColor(w),B.extend=o,B.destroy=a.destroy,Object.defineProperty(B,"enabled",{enumerable:!0,configurable:!1,get:()=>H!==null?H:(I!==a.namespaces&&(I=a.namespaces,j=a.enabled(w)),j),set:O=>{H=O}}),typeof a.init=="function"&&a.init(B),B}function o(w,R){const H=a(this.namespace+(typeof R>"u"?":":R)+w);return H.log=this.log,H}function l(w){a.save(w),a.namespaces=w,a.names=[],a.skips=[];const R=(typeof w=="string"?w:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const H of R)H[0]==="-"?a.skips.push(H.slice(1)):a.names.push(H)}function c(w,R){let H=0,I=0,j=-1,B=0;for(;H<w.length;)if(I<R.length&&(R[I]===w[H]||R[I]==="*"))R[I]==="*"?(j=I,B=H,I++):(H++,I++);else if(j!==-1)I=j+1,B++,H=B;else return!1;for(;I<R.length&&R[I]==="*";)I++;return I===R.length}function d(){const w=[...a.names,...a.skips.map(R=>"-"+R)].join(",");return a.enable(""),w}function p(w){for(const R of a.skips)if(c(w,R))return!1;for(const R of a.names)if(c(w,R))return!0;return!1}function g(w){return w instanceof Error?w.stack||w.message:w}function y(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a.enable(a.load()),a}return _m=r,_m}var jb;function RU(){return jb||(jb=1,(function(r,e){var n={};e.formatArgs=o,e.save=l,e.load=c,e.useColors=a,e.storage=d(),e.destroy=(()=>{let g=!1;return()=>{g||(g=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let g;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(g=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(g[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(g){if(g[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+g[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const y="color: "+this.color;g.splice(1,0,y,"color: inherit");let w=0,R=0;g[0].replace(/%[a-zA-Z%]/g,H=>{H!=="%%"&&(w++,H==="%c"&&(R=w))}),g.splice(R,0,y)}e.log=console.debug||console.log||(()=>{});function l(g){try{g?e.storage.setItem("debug",g):e.storage.removeItem("debug")}catch{}}function c(){let g;try{g=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!g&&typeof et<"u"&&"env"in et&&(g=n.DEBUG),g}function d(){try{return localStorage}catch{}}r.exports=AU()(e);const{formatters:p}=r.exports;p.j=function(g){try{return JSON.stringify(g)}catch(y){return"[UnexpectedJSONParseError]: "+y.message}}})(Uf,Uf.exports)),Uf.exports}var vm,Fb;function CU(){return Fb||(Fb=1,vm=function(){if(typeof globalThis>"u")return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}),vm}var Lf={exports:{}},Vf={exports:{}},Em={},qb;function Ju(){return qb||(qb=1,(function(r){Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},n={};n.byteLength=y,n.toByteArray=R,n.fromByteArray=j;for(var a=[],o=[],l=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=c.length;d<p;++d)a[d]=c[d],o[c.charCodeAt(d)]=d;o[45]=62,o[95]=63;function g(L){var F=L.length;if(F%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var G=L.indexOf("=");G===-1&&(G=F);var X=G===F?0:4-G%4;return[G,X]}function y(L){var F=g(L),G=F[0],X=F[1];return(G+X)*3/4-X}function w(L,F,G){return(F+G)*3/4-G}function R(L){var F,G=g(L),X=G[0],J=G[1],x=new l(w(L,X,J)),C=0,P=J>0?X-4:X,K;for(K=0;K<P;K+=4)F=o[L.charCodeAt(K)]<<18|o[L.charCodeAt(K+1)]<<12|o[L.charCodeAt(K+2)]<<6|o[L.charCodeAt(K+3)],x[C++]=F>>16&255,x[C++]=F>>8&255,x[C++]=F&255;return J===2&&(F=o[L.charCodeAt(K)]<<2|o[L.charCodeAt(K+1)]>>4,x[C++]=F&255),J===1&&(F=o[L.charCodeAt(K)]<<10|o[L.charCodeAt(K+1)]<<4|o[L.charCodeAt(K+2)]>>2,x[C++]=F>>8&255,x[C++]=F&255),x}function H(L){return a[L>>18&63]+a[L>>12&63]+a[L>>6&63]+a[L&63]}function I(L,F,G){for(var X,J=[],x=F;x<G;x+=3)X=(L[x]<<16&16711680)+(L[x+1]<<8&65280)+(L[x+2]&255),J.push(H(X));return J.join("")}function j(L){for(var F,G=L.length,X=G%3,J=[],x=16383,C=0,P=G-X;C<P;C+=x)J.push(I(L,C,C+x>P?P:C+x));return X===1?(F=L[G-1],J.push(a[F>>2]+a[F<<4&63]+"==")):X===2&&(F=(L[G-2]<<8)+L[G-1],J.push(a[F>>10]+a[F>>4&63]+a[F<<2&63]+"=")),J.join("")}var B={};B.read=function(L,F,G,X,J){var x,C,P=J*8-X-1,K=(1<<P)-1,ee=K>>1,k=-7,$=G?J-1:0,Ke=G?-1:1,ke=L[F+$];for($+=Ke,x=ke&(1<<-k)-1,ke>>=-k,k+=P;k>0;x=x*256+L[F+$],$+=Ke,k-=8);for(C=x&(1<<-k)-1,x>>=-k,k+=X;k>0;C=C*256+L[F+$],$+=Ke,k-=8);if(x===0)x=1-ee;else{if(x===K)return C?NaN:(ke?-1:1)*(1/0);C=C+Math.pow(2,X),x=x-ee}return(ke?-1:1)*C*Math.pow(2,x-X)},B.write=function(L,F,G,X,J,x){var C,P,K,ee=x*8-J-1,k=(1<<ee)-1,$=k>>1,Ke=J===23?Math.pow(2,-24)-Math.pow(2,-77):0,ke=X?0:x-1,ae=X?1:-1,ge=F<0||F===0&&1/F<0?1:0;for(F=Math.abs(F),isNaN(F)||F===1/0?(P=isNaN(F)?1:0,C=k):(C=Math.floor(Math.log(F)/Math.LN2),F*(K=Math.pow(2,-C))<1&&(C--,K*=2),C+$>=1?F+=Ke/K:F+=Ke*Math.pow(2,1-$),F*K>=2&&(C++,K/=2),C+$>=k?(P=0,C=k):C+$>=1?(P=(F*K-1)*Math.pow(2,J),C=C+$):(P=F*Math.pow(2,$-1)*Math.pow(2,J),C=0));J>=8;L[G+ke]=P&255,ke+=ae,P/=256,J-=8);for(C=C<<J|P,ee+=J;ee>0;L[G+ke]=C&255,ke+=ae,C/=256,ee-=8);L[G+ke-ae]|=ge*128};(function(L){const F=n,G=B,X=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;L.Buffer=k,L.SlowBuffer=Z,L.INSPECT_MAX_BYTES=50;const J=2147483647;L.kMaxLength=J;const{Uint8Array:x,ArrayBuffer:C,SharedArrayBuffer:P}=globalThis;k.TYPED_ARRAY_SUPPORT=K(),!k.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function K(){try{const M=new x(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,x.prototype),Object.setPrototypeOf(M,v),M.foo()===42}catch{return!1}}Object.defineProperty(k.prototype,"parent",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.buffer}}),Object.defineProperty(k.prototype,"offset",{enumerable:!0,get:function(){if(k.isBuffer(this))return this.byteOffset}});function ee(M){if(M>J)throw new RangeError('The value "'+M+'" is invalid for option "size"');const v=new x(M);return Object.setPrototypeOf(v,k.prototype),v}function k(M,v,b){if(typeof M=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ae(M)}return $(M,v,b)}k.poolSize=8192;function $(M,v,b){if(typeof M=="string")return ge(M,v);if(C.isView(M))return Ue(M);if(M==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M);if(rn(M,C)||M&&rn(M.buffer,C)||typeof P<"u"&&(rn(M,P)||M&&rn(M.buffer,P)))return Le(M,v,b);if(typeof M=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=M.valueOf&&M.valueOf();if(Q!=null&&Q!==M)return k.from(Q,v,b);const le=ne(M);if(le)return le;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof M[Symbol.toPrimitive]=="function")return k.from(M[Symbol.toPrimitive]("string"),v,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof M)}k.from=function(M,v,b){return $(M,v,b)},Object.setPrototypeOf(k.prototype,x.prototype),Object.setPrototypeOf(k,x);function Ke(M){if(typeof M!="number")throw new TypeError('"size" argument must be of type number');if(M<0)throw new RangeError('The value "'+M+'" is invalid for option "size"')}function ke(M,v,b){return Ke(M),M<=0?ee(M):v!==void 0?typeof b=="string"?ee(M).fill(v,b):ee(M).fill(v):ee(M)}k.alloc=function(M,v,b){return ke(M,v,b)};function ae(M){return Ke(M),ee(M<0?0:ve(M)|0)}k.allocUnsafe=function(M){return ae(M)},k.allocUnsafeSlow=function(M){return ae(M)};function ge(M,v){if((typeof v!="string"||v==="")&&(v="utf8"),!k.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const b=ie(M,v)|0;let Q=ee(b);const le=Q.write(M,v);return le!==b&&(Q=Q.slice(0,le)),Q}function xe(M){const v=M.length<0?0:ve(M.length)|0,b=ee(v);for(let Q=0;Q<v;Q+=1)b[Q]=M[Q]&255;return b}function Ue(M){if(rn(M,x)){const v=new x(M);return Le(v.buffer,v.byteOffset,v.byteLength)}return xe(M)}function Le(M,v,b){if(v<0||M.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(M.byteLength<v+(b||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return v===void 0&&b===void 0?Q=new x(M):b===void 0?Q=new x(M,v):Q=new x(M,v,b),Object.setPrototypeOf(Q,k.prototype),Q}function ne(M){if(k.isBuffer(M)){const v=ve(M.length)|0,b=ee(v);return b.length===0||M.copy(b,0,0,v),b}if(M.length!==void 0)return typeof M.length!="number"||jn(M.length)?ee(0):xe(M);if(M.type==="Buffer"&&Array.isArray(M.data))return xe(M.data)}function ve(M){if(M>=J)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+J.toString(16)+" bytes");return M|0}function Z(M){return+M!=M&&(M=0),k.alloc(+M)}k.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==k.prototype},k.compare=function(v,b){if(rn(v,x)&&(v=k.from(v,v.offset,v.byteLength)),rn(b,x)&&(b=k.from(b,b.offset,b.byteLength)),!k.isBuffer(v)||!k.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===b)return 0;let Q=v.length,le=b.length;for(let be=0,Oe=Math.min(Q,le);be<Oe;++be)if(v[be]!==b[be]){Q=v[be],le=b[be];break}return Q<le?-1:le<Q?1:0},k.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},k.concat=function(v,b){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return k.alloc(0);let Q;if(b===void 0)for(b=0,Q=0;Q<v.length;++Q)b+=v[Q].length;const le=k.allocUnsafe(b);let be=0;for(Q=0;Q<v.length;++Q){let Oe=v[Q];if(rn(Oe,x))be+Oe.length>le.length?(k.isBuffer(Oe)||(Oe=k.from(Oe)),Oe.copy(le,be)):x.prototype.set.call(le,Oe,be);else if(k.isBuffer(Oe))Oe.copy(le,be);else throw new TypeError('"list" argument must be an Array of Buffers');be+=Oe.length}return le};function ie(M,v){if(k.isBuffer(M))return M.length;if(C.isView(M)||rn(M,C))return M.byteLength;if(typeof M!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof M);const b=M.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&b===0)return 0;let le=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return St(M).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return ot(M).length;default:if(le)return Q?-1:St(M).length;v=(""+v).toLowerCase(),le=!0}}k.byteLength=ie;function he(M,v,b){let Q=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,v>>>=0,b<=v))return"";for(M||(M="utf8");;)switch(M){case"hex":return Xt(this,v,b);case"utf8":case"utf-8":return Qe(this,v,b);case"ascii":return cn(this,v,b);case"latin1":case"binary":return Ie(this,v,b);case"base64":return Pe(this,v,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return en(this,v,b);default:if(Q)throw new TypeError("Unknown encoding: "+M);M=(M+"").toLowerCase(),Q=!0}}k.prototype._isBuffer=!0;function te(M,v,b){const Q=M[v];M[v]=M[b],M[b]=Q}k.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<v;b+=2)te(this,b,b+1);return this},k.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<v;b+=4)te(this,b,b+3),te(this,b+1,b+2);return this},k.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<v;b+=8)te(this,b,b+7),te(this,b+1,b+6),te(this,b+2,b+5),te(this,b+3,b+4);return this},k.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?Qe(this,0,v):he.apply(this,arguments)},k.prototype.toLocaleString=k.prototype.toString,k.prototype.equals=function(v){if(!k.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:k.compare(this,v)===0},k.prototype.inspect=function(){let v="";const b=L.INSPECT_MAX_BYTES;return v=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(v+=" ... "),"<Buffer "+v+">"},X&&(k.prototype[X]=k.prototype.inspect),k.prototype.compare=function(v,b,Q,le,be){if(rn(v,x)&&(v=k.from(v,v.offset,v.byteLength)),!k.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(b===void 0&&(b=0),Q===void 0&&(Q=v?v.length:0),le===void 0&&(le=0),be===void 0&&(be=this.length),b<0||Q>v.length||le<0||be>this.length)throw new RangeError("out of range index");if(le>=be&&b>=Q)return 0;if(le>=be)return-1;if(b>=Q)return 1;if(b>>>=0,Q>>>=0,le>>>=0,be>>>=0,this===v)return 0;let Oe=be-le,at=Q-b;const Rt=Math.min(Oe,at),kt=this.slice(le,be),Et=v.slice(b,Q);for(let Xe=0;Xe<Rt;++Xe)if(kt[Xe]!==Et[Xe]){Oe=kt[Xe],at=Et[Xe];break}return Oe<at?-1:at<Oe?1:0};function D(M,v,b,Q,le){if(M.length===0)return-1;if(typeof b=="string"?(Q=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,jn(b)&&(b=le?0:M.length-1),b<0&&(b=M.length+b),b>=M.length){if(le)return-1;b=M.length-1}else if(b<0)if(le)b=0;else return-1;if(typeof v=="string"&&(v=k.from(v,Q)),k.isBuffer(v))return v.length===0?-1:ce(M,v,b,Q,le);if(typeof v=="number")return v=v&255,typeof x.prototype.indexOf=="function"?le?x.prototype.indexOf.call(M,v,b):x.prototype.lastIndexOf.call(M,v,b):ce(M,[v],b,Q,le);throw new TypeError("val must be string, number or Buffer")}function ce(M,v,b,Q,le){let be=1,Oe=M.length,at=v.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(M.length<2||v.length<2)return-1;be=2,Oe/=2,at/=2,b/=2}function Rt(Et,Xe){return be===1?Et[Xe]:Et.readUInt16BE(Xe*be)}let kt;if(le){let Et=-1;for(kt=b;kt<Oe;kt++)if(Rt(M,kt)===Rt(v,Et===-1?0:kt-Et)){if(Et===-1&&(Et=kt),kt-Et+1===at)return Et*be}else Et!==-1&&(kt-=kt-Et),Et=-1}else for(b+at>Oe&&(b=Oe-at),kt=b;kt>=0;kt--){let Et=!0;for(let Xe=0;Xe<at;Xe++)if(Rt(M,kt+Xe)!==Rt(v,Xe)){Et=!1;break}if(Et)return kt}return-1}k.prototype.includes=function(v,b,Q){return this.indexOf(v,b,Q)!==-1},k.prototype.indexOf=function(v,b,Q){return D(this,v,b,Q,!0)},k.prototype.lastIndexOf=function(v,b,Q){return D(this,v,b,Q,!1)};function pe(M,v,b,Q){b=Number(b)||0;const le=M.length-b;Q?(Q=Number(Q),Q>le&&(Q=le)):Q=le;const be=v.length;Q>be/2&&(Q=be/2);let Oe;for(Oe=0;Oe<Q;++Oe){const at=parseInt(v.substr(Oe*2,2),16);if(jn(at))return Oe;M[b+Oe]=at}return Oe}function Te(M,v,b,Q){return pr(St(v,M.length-b),M,b,Q)}function V(M,v,b,Q){return pr(Dt(v),M,b,Q)}function q(M,v,b,Q){return pr(ot(v),M,b,Q)}function Ee(M,v,b,Q){return pr(At(v,M.length-b),M,b,Q)}k.prototype.write=function(v,b,Q,le){if(b===void 0)le="utf8",Q=this.length,b=0;else if(Q===void 0&&typeof b=="string")le=b,Q=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(Q)?(Q=Q>>>0,le===void 0&&(le="utf8")):(le=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const be=this.length-b;if((Q===void 0||Q>be)&&(Q=be),v.length>0&&(Q<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");let Oe=!1;for(;;)switch(le){case"hex":return pe(this,v,b,Q);case"utf8":case"utf-8":return Te(this,v,b,Q);case"ascii":case"latin1":case"binary":return V(this,v,b,Q);case"base64":return q(this,v,b,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,v,b,Q);default:if(Oe)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Oe=!0}},k.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Pe(M,v,b){return v===0&&b===M.length?F.fromByteArray(M):F.fromByteArray(M.slice(v,b))}function Qe(M,v,b){b=Math.min(M.length,b);const Q=[];let le=v;for(;le<b;){const be=M[le];let Oe=null,at=be>239?4:be>223?3:be>191?2:1;if(le+at<=b){let Rt,kt,Et,Xe;switch(at){case 1:be<128&&(Oe=be);break;case 2:Rt=M[le+1],(Rt&192)===128&&(Xe=(be&31)<<6|Rt&63,Xe>127&&(Oe=Xe));break;case 3:Rt=M[le+1],kt=M[le+2],(Rt&192)===128&&(kt&192)===128&&(Xe=(be&15)<<12|(Rt&63)<<6|kt&63,Xe>2047&&(Xe<55296||Xe>57343)&&(Oe=Xe));break;case 4:Rt=M[le+1],kt=M[le+2],Et=M[le+3],(Rt&192)===128&&(kt&192)===128&&(Et&192)===128&&(Xe=(be&15)<<18|(Rt&63)<<12|(kt&63)<<6|Et&63,Xe>65535&&Xe<1114112&&(Oe=Xe))}}Oe===null?(Oe=65533,at=1):Oe>65535&&(Oe-=65536,Q.push(Oe>>>10&1023|55296),Oe=56320|Oe&1023),Q.push(Oe),le+=at}return Ze(Q)}const je=4096;function Ze(M){const v=M.length;if(v<=je)return String.fromCharCode.apply(String,M);let b="",Q=0;for(;Q<v;)b+=String.fromCharCode.apply(String,M.slice(Q,Q+=je));return b}function cn(M,v,b){let Q="";b=Math.min(M.length,b);for(let le=v;le<b;++le)Q+=String.fromCharCode(M[le]&127);return Q}function Ie(M,v,b){let Q="";b=Math.min(M.length,b);for(let le=v;le<b;++le)Q+=String.fromCharCode(M[le]);return Q}function Xt(M,v,b){const Q=M.length;(!v||v<0)&&(v=0),(!b||b<0||b>Q)&&(b=Q);let le="";for(let be=v;be<b;++be)le+=Xr[M[be]];return le}function en(M,v,b){const Q=M.slice(v,b);let le="";for(let be=0;be<Q.length-1;be+=2)le+=String.fromCharCode(Q[be]+Q[be+1]*256);return le}k.prototype.slice=function(v,b){const Q=this.length;v=~~v,b=b===void 0?Q:~~b,v<0?(v+=Q,v<0&&(v=0)):v>Q&&(v=Q),b<0?(b+=Q,b<0&&(b=0)):b>Q&&(b=Q),b<v&&(b=v);const le=this.subarray(v,b);return Object.setPrototypeOf(le,k.prototype),le};function wt(M,v,b){if(M%1!==0||M<0)throw new RangeError("offset is not uint");if(M+v>b)throw new RangeError("Trying to access beyond buffer length")}k.prototype.readUintLE=k.prototype.readUIntLE=function(v,b,Q){v=v>>>0,b=b>>>0,Q||wt(v,b,this.length);let le=this[v],be=1,Oe=0;for(;++Oe<b&&(be*=256);)le+=this[v+Oe]*be;return le},k.prototype.readUintBE=k.prototype.readUIntBE=function(v,b,Q){v=v>>>0,b=b>>>0,Q||wt(v,b,this.length);let le=this[v+--b],be=1;for(;b>0&&(be*=256);)le+=this[v+--b]*be;return le},k.prototype.readUint8=k.prototype.readUInt8=function(v,b){return v=v>>>0,b||wt(v,1,this.length),this[v]},k.prototype.readUint16LE=k.prototype.readUInt16LE=function(v,b){return v=v>>>0,b||wt(v,2,this.length),this[v]|this[v+1]<<8},k.prototype.readUint16BE=k.prototype.readUInt16BE=function(v,b){return v=v>>>0,b||wt(v,2,this.length),this[v]<<8|this[v+1]},k.prototype.readUint32LE=k.prototype.readUInt32LE=function(v,b){return v=v>>>0,b||wt(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},k.prototype.readUint32BE=k.prototype.readUInt32BE=function(v,b){return v=v>>>0,b||wt(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},k.prototype.readBigUInt64LE=Qn(function(v){v=v>>>0,se(v,"offset");const b=this[v],Q=this[v+7];(b===void 0||Q===void 0)&&me(v,this.length-8);const le=b+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,be=this[++v]+this[++v]*2**8+this[++v]*2**16+Q*2**24;return BigInt(le)+(BigInt(be)<<BigInt(32))}),k.prototype.readBigUInt64BE=Qn(function(v){v=v>>>0,se(v,"offset");const b=this[v],Q=this[v+7];(b===void 0||Q===void 0)&&me(v,this.length-8);const le=b*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],be=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+Q;return(BigInt(le)<<BigInt(32))+BigInt(be)}),k.prototype.readIntLE=function(v,b,Q){v=v>>>0,b=b>>>0,Q||wt(v,b,this.length);let le=this[v],be=1,Oe=0;for(;++Oe<b&&(be*=256);)le+=this[v+Oe]*be;return be*=128,le>=be&&(le-=Math.pow(2,8*b)),le},k.prototype.readIntBE=function(v,b,Q){v=v>>>0,b=b>>>0,Q||wt(v,b,this.length);let le=b,be=1,Oe=this[v+--le];for(;le>0&&(be*=256);)Oe+=this[v+--le]*be;return be*=128,Oe>=be&&(Oe-=Math.pow(2,8*b)),Oe},k.prototype.readInt8=function(v,b){return v=v>>>0,b||wt(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},k.prototype.readInt16LE=function(v,b){v=v>>>0,b||wt(v,2,this.length);const Q=this[v]|this[v+1]<<8;return Q&32768?Q|4294901760:Q},k.prototype.readInt16BE=function(v,b){v=v>>>0,b||wt(v,2,this.length);const Q=this[v+1]|this[v]<<8;return Q&32768?Q|4294901760:Q},k.prototype.readInt32LE=function(v,b){return v=v>>>0,b||wt(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},k.prototype.readInt32BE=function(v,b){return v=v>>>0,b||wt(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},k.prototype.readBigInt64LE=Qn(function(v){v=v>>>0,se(v,"offset");const b=this[v],Q=this[v+7];(b===void 0||Q===void 0)&&me(v,this.length-8);const le=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(Q<<24);return(BigInt(le)<<BigInt(32))+BigInt(b+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),k.prototype.readBigInt64BE=Qn(function(v){v=v>>>0,se(v,"offset");const b=this[v],Q=this[v+7];(b===void 0||Q===void 0)&&me(v,this.length-8);const le=(b<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(le)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+Q)}),k.prototype.readFloatLE=function(v,b){return v=v>>>0,b||wt(v,4,this.length),G.read(this,v,!0,23,4)},k.prototype.readFloatBE=function(v,b){return v=v>>>0,b||wt(v,4,this.length),G.read(this,v,!1,23,4)},k.prototype.readDoubleLE=function(v,b){return v=v>>>0,b||wt(v,8,this.length),G.read(this,v,!0,52,8)},k.prototype.readDoubleBE=function(v,b){return v=v>>>0,b||wt(v,8,this.length),G.read(this,v,!1,52,8)};function bt(M,v,b,Q,le,be){if(!k.isBuffer(M))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>le||v<be)throw new RangeError('"value" argument is out of bounds');if(b+Q>M.length)throw new RangeError("Index out of range")}k.prototype.writeUintLE=k.prototype.writeUIntLE=function(v,b,Q,le){if(v=+v,b=b>>>0,Q=Q>>>0,!le){const at=Math.pow(2,8*Q)-1;bt(this,v,b,Q,at,0)}let be=1,Oe=0;for(this[b]=v&255;++Oe<Q&&(be*=256);)this[b+Oe]=v/be&255;return b+Q},k.prototype.writeUintBE=k.prototype.writeUIntBE=function(v,b,Q,le){if(v=+v,b=b>>>0,Q=Q>>>0,!le){const at=Math.pow(2,8*Q)-1;bt(this,v,b,Q,at,0)}let be=Q-1,Oe=1;for(this[b+be]=v&255;--be>=0&&(Oe*=256);)this[b+be]=v/Oe&255;return b+Q},k.prototype.writeUint8=k.prototype.writeUInt8=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,1,255,0),this[b]=v&255,b+1},k.prototype.writeUint16LE=k.prototype.writeUInt16LE=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,2,65535,0),this[b]=v&255,this[b+1]=v>>>8,b+2},k.prototype.writeUint16BE=k.prototype.writeUInt16BE=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,2,65535,0),this[b]=v>>>8,this[b+1]=v&255,b+2},k.prototype.writeUint32LE=k.prototype.writeUInt32LE=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,4,4294967295,0),this[b+3]=v>>>24,this[b+2]=v>>>16,this[b+1]=v>>>8,this[b]=v&255,b+4},k.prototype.writeUint32BE=k.prototype.writeUInt32BE=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,4,4294967295,0),this[b]=v>>>24,this[b+1]=v>>>16,this[b+2]=v>>>8,this[b+3]=v&255,b+4};function _t(M,v,b,Q,le){W(v,Q,le,M,b,7);let be=Number(v&BigInt(4294967295));M[b++]=be,be=be>>8,M[b++]=be,be=be>>8,M[b++]=be,be=be>>8,M[b++]=be;let Oe=Number(v>>BigInt(32)&BigInt(4294967295));return M[b++]=Oe,Oe=Oe>>8,M[b++]=Oe,Oe=Oe>>8,M[b++]=Oe,Oe=Oe>>8,M[b++]=Oe,b}function nn(M,v,b,Q,le){W(v,Q,le,M,b,7);let be=Number(v&BigInt(4294967295));M[b+7]=be,be=be>>8,M[b+6]=be,be=be>>8,M[b+5]=be,be=be>>8,M[b+4]=be;let Oe=Number(v>>BigInt(32)&BigInt(4294967295));return M[b+3]=Oe,Oe=Oe>>8,M[b+2]=Oe,Oe=Oe>>8,M[b+1]=Oe,Oe=Oe>>8,M[b]=Oe,b+8}k.prototype.writeBigUInt64LE=Qn(function(v,b=0){return _t(this,v,b,BigInt(0),BigInt("0xffffffffffffffff"))}),k.prototype.writeBigUInt64BE=Qn(function(v,b=0){return nn(this,v,b,BigInt(0),BigInt("0xffffffffffffffff"))}),k.prototype.writeIntLE=function(v,b,Q,le){if(v=+v,b=b>>>0,!le){const Rt=Math.pow(2,8*Q-1);bt(this,v,b,Q,Rt-1,-Rt)}let be=0,Oe=1,at=0;for(this[b]=v&255;++be<Q&&(Oe*=256);)v<0&&at===0&&this[b+be-1]!==0&&(at=1),this[b+be]=(v/Oe>>0)-at&255;return b+Q},k.prototype.writeIntBE=function(v,b,Q,le){if(v=+v,b=b>>>0,!le){const Rt=Math.pow(2,8*Q-1);bt(this,v,b,Q,Rt-1,-Rt)}let be=Q-1,Oe=1,at=0;for(this[b+be]=v&255;--be>=0&&(Oe*=256);)v<0&&at===0&&this[b+be+1]!==0&&(at=1),this[b+be]=(v/Oe>>0)-at&255;return b+Q},k.prototype.writeInt8=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,1,127,-128),v<0&&(v=255+v+1),this[b]=v&255,b+1},k.prototype.writeInt16LE=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,2,32767,-32768),this[b]=v&255,this[b+1]=v>>>8,b+2},k.prototype.writeInt16BE=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,2,32767,-32768),this[b]=v>>>8,this[b+1]=v&255,b+2},k.prototype.writeInt32LE=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,4,2147483647,-2147483648),this[b]=v&255,this[b+1]=v>>>8,this[b+2]=v>>>16,this[b+3]=v>>>24,b+4},k.prototype.writeInt32BE=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[b]=v>>>24,this[b+1]=v>>>16,this[b+2]=v>>>8,this[b+3]=v&255,b+4},k.prototype.writeBigInt64LE=Qn(function(v,b=0){return _t(this,v,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),k.prototype.writeBigInt64BE=Qn(function(v,b=0){return nn(this,v,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Tt(M,v,b,Q,le,be){if(b+Q>M.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function Mt(M,v,b,Q,le){return v=+v,b=b>>>0,le||Tt(M,v,b,4),G.write(M,v,b,Q,23,4),b+4}k.prototype.writeFloatLE=function(v,b,Q){return Mt(this,v,b,!0,Q)},k.prototype.writeFloatBE=function(v,b,Q){return Mt(this,v,b,!1,Q)};function Vt(M,v,b,Q,le){return v=+v,b=b>>>0,le||Tt(M,v,b,8),G.write(M,v,b,Q,52,8),b+8}k.prototype.writeDoubleLE=function(v,b,Q){return Vt(this,v,b,!0,Q)},k.prototype.writeDoubleBE=function(v,b,Q){return Vt(this,v,b,!1,Q)},k.prototype.copy=function(v,b,Q,le){if(!k.isBuffer(v))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!le&&le!==0&&(le=this.length),b>=v.length&&(b=v.length),b||(b=0),le>0&&le<Q&&(le=Q),le===Q||v.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(le<0)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),v.length-b<le-Q&&(le=v.length-b+Q);const be=le-Q;return this===v&&typeof x.prototype.copyWithin=="function"?this.copyWithin(b,Q,le):x.prototype.set.call(v,this.subarray(Q,le),b),be},k.prototype.fill=function(v,b,Q,le){if(typeof v=="string"){if(typeof b=="string"?(le=b,b=0,Q=this.length):typeof Q=="string"&&(le=Q,Q=this.length),le!==void 0&&typeof le!="string")throw new TypeError("encoding must be a string");if(typeof le=="string"&&!k.isEncoding(le))throw new TypeError("Unknown encoding: "+le);if(v.length===1){const Oe=v.charCodeAt(0);(le==="utf8"&&Oe<128||le==="latin1")&&(v=Oe)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(b<0||this.length<b||this.length<Q)throw new RangeError("Out of range index");if(Q<=b)return this;b=b>>>0,Q=Q===void 0?this.length:Q>>>0,v||(v=0);let be;if(typeof v=="number")for(be=b;be<Q;++be)this[be]=v;else{const Oe=k.isBuffer(v)?v:k.from(v,le),at=Oe.length;if(at===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(be=0;be<Q-b;++be)this[be+b]=Oe[be%at]}return this};const dr={};function N(M,v,b){dr[M]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${M}]`,this.stack,delete this.name}get code(){return M}set code(le){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:le,writable:!0})}toString(){return`${this.name} [${M}]: ${this.message}`}}}N("ERR_BUFFER_OUT_OF_BOUNDS",function(M){return M?`${M} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),N("ERR_INVALID_ARG_TYPE",function(M,v){return`The "${M}" argument must be of type number. Received type ${typeof v}`},TypeError),N("ERR_OUT_OF_RANGE",function(M,v,b){let Q=`The value of "${M}" is out of range.`,le=b;return Number.isInteger(b)&&Math.abs(b)>2**32?le=E(String(b)):typeof b=="bigint"&&(le=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(le=E(le)),le+="n"),Q+=` It must be ${v}. Received ${le}`,Q},RangeError);function E(M){let v="",b=M.length;const Q=M[0]==="-"?1:0;for(;b>=Q+4;b-=3)v=`_${M.slice(b-3,b)}${v}`;return`${M.slice(0,b)}${v}`}function T(M,v,b){se(v,"offset"),(M[v]===void 0||M[v+b]===void 0)&&me(v,M.length-(b+1))}function W(M,v,b,Q,le,be){if(M>b||M<v){const Oe=typeof v=="bigint"?"n":"";let at;throw v===0||v===BigInt(0)?at=`>= 0${Oe} and < 2${Oe} ** ${(be+1)*8}${Oe}`:at=`>= -(2${Oe} ** ${(be+1)*8-1}${Oe}) and < 2 ** ${(be+1)*8-1}${Oe}`,new dr.ERR_OUT_OF_RANGE("value",at,M)}T(Q,le,be)}function se(M,v){if(typeof M!="number")throw new dr.ERR_INVALID_ARG_TYPE(v,"number",M)}function me(M,v,b){throw Math.floor(M)!==M?(se(M,b),new dr.ERR_OUT_OF_RANGE("offset","an integer",M)):v<0?new dr.ERR_BUFFER_OUT_OF_BOUNDS:new dr.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${v}`,M)}const Re=/[^+/0-9A-Za-z-_]/g;function it(M){if(M=M.split("=")[0],M=M.trim().replace(Re,""),M.length<2)return"";for(;M.length%4!==0;)M=M+"=";return M}function St(M,v){v=v||1/0;let b;const Q=M.length;let le=null;const be=[];for(let Oe=0;Oe<Q;++Oe){if(b=M.charCodeAt(Oe),b>55295&&b<57344){if(!le){if(b>56319){(v-=3)>-1&&be.push(239,191,189);continue}else if(Oe+1===Q){(v-=3)>-1&&be.push(239,191,189);continue}le=b;continue}if(b<56320){(v-=3)>-1&&be.push(239,191,189),le=b;continue}b=(le-55296<<10|b-56320)+65536}else le&&(v-=3)>-1&&be.push(239,191,189);if(le=null,b<128){if((v-=1)<0)break;be.push(b)}else if(b<2048){if((v-=2)<0)break;be.push(b>>6|192,b&63|128)}else if(b<65536){if((v-=3)<0)break;be.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((v-=4)<0)break;be.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return be}function Dt(M){const v=[];for(let b=0;b<M.length;++b)v.push(M.charCodeAt(b)&255);return v}function At(M,v){let b,Q,le;const be=[];for(let Oe=0;Oe<M.length&&!((v-=2)<0);++Oe)b=M.charCodeAt(Oe),Q=b>>8,le=b%256,be.push(le),be.push(Q);return be}function ot(M){return F.toByteArray(it(M))}function pr(M,v,b,Q){let le;for(le=0;le<Q&&!(le+b>=v.length||le>=M.length);++le)v[le+b]=M[le];return le}function rn(M,v){return M instanceof v||M!=null&&M.constructor!=null&&M.constructor.name!=null&&M.constructor.name===v.name}function jn(M){return M!==M}const Xr=(function(){const M="0123456789abcdef",v=new Array(256);for(let b=0;b<16;++b){const Q=b*16;for(let le=0;le<16;++le)v[Q+le]=M[b]+M[le]}return v})();function Qn(M){return typeof BigInt>"u"?as:M}function as(){throw new Error("BigInt not supported")}})(e);const O=e.Buffer;r.Blob=e.Blob,r.BlobOptions=e.BlobOptions,r.Buffer=e.Buffer,r.File=e.File,r.FileOptions=e.FileOptions,r.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,r.SlowBuffer=e.SlowBuffer,r.TranscodeEncoding=e.TranscodeEncoding,r.atob=e.atob,r.btoa=e.btoa,r.constants=e.constants,r.default=O,r.isAscii=e.isAscii,r.isUtf8=e.isUtf8,r.kMaxLength=e.kMaxLength,r.kStringMaxLength=e.kStringMaxLength,r.resolveObjectURL=e.resolveObjectURL,r.transcode=e.transcode})(Em)),Em}var zb;function b1(){return zb||(zb=1,(function(r,e){var n=Ju(),a=n.Buffer;function o(c,d){for(var p in c)d[p]=c[p]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?r.exports=n:(o(n,e),e.Buffer=l);function l(c,d,p){return a(c,d,p)}l.prototype=Object.create(a.prototype),o(a,l),l.from=function(c,d,p){if(typeof c=="number")throw new TypeError("Argument must not be a number");return a(c,d,p)},l.alloc=function(c,d,p){if(typeof c!="number")throw new TypeError("Argument must be a number");var g=a(c);return d!==void 0?typeof p=="string"?g.fill(d,p):g.fill(d):g.fill(0),g},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return a(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(c)}})(Vf,Vf.exports)),Vf.exports}var Hb;function IU(){if(Hb)return Lf.exports;Hb=1;var r=65536,e=4294967295;function n(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var a=b1().Buffer,o=Yr.crypto||Yr.msCrypto;o&&o.getRandomValues?Lf.exports=l:Lf.exports=n;function l(c,d){if(c>e)throw new RangeError("requested too many random bytes");var p=a.allocUnsafe(c);if(c>0)if(c>r)for(var g=0;g<c;g+=r)o.getRandomValues(p.slice(g,g+r));else o.getRandomValues(p);return typeof d=="function"?et.nextTick(function(){d(null,p)}):p}return Lf.exports}var jf={exports:{}},Ff={exports:{}},Gb;function T1(){if(Gb)return Ff.exports;Gb=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(X,J,x){return Function.prototype.apply.call(X,J,x)},n;r&&typeof r.ownKeys=="function"?n=r.ownKeys:Object.getOwnPropertySymbols?n=function(X){return Object.getOwnPropertyNames(X).concat(Object.getOwnPropertySymbols(X))}:n=function(X){return Object.getOwnPropertyNames(X)};function a(G){console&&console.warn&&console.warn(G)}var o=Number.isNaN||function(X){return X!==X};function l(){l.init.call(this)}Ff.exports=l,Ff.exports.once=O,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var c=10;function d(G){if(typeof G!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof G)}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(G){if(typeof G!="number"||G<0||o(G))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+G+".");c=G}}),l.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(X){if(typeof X!="number"||X<0||o(X))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+X+".");return this._maxListeners=X,this};function p(G){return G._maxListeners===void 0?l.defaultMaxListeners:G._maxListeners}l.prototype.getMaxListeners=function(){return p(this)},l.prototype.emit=function(X){for(var J=[],x=1;x<arguments.length;x++)J.push(arguments[x]);var C=X==="error",P=this._events;if(P!==void 0)C=C&&P.error===void 0;else if(!C)return!1;if(C){var K;if(J.length>0&&(K=J[0]),K instanceof Error)throw K;var ee=new Error("Unhandled error."+(K?" ("+K.message+")":""));throw ee.context=K,ee}var k=P[X];if(k===void 0)return!1;if(typeof k=="function")e(k,this,J);else for(var $=k.length,Ke=I(k,$),x=0;x<$;++x)e(Ke[x],this,J);return!0};function g(G,X,J,x){var C,P,K;if(d(J),P=G._events,P===void 0?(P=G._events=Object.create(null),G._eventsCount=0):(P.newListener!==void 0&&(G.emit("newListener",X,J.listener?J.listener:J),P=G._events),K=P[X]),K===void 0)K=P[X]=J,++G._eventsCount;else if(typeof K=="function"?K=P[X]=x?[J,K]:[K,J]:x?K.unshift(J):K.push(J),C=p(G),C>0&&K.length>C&&!K.warned){K.warned=!0;var ee=new Error("Possible EventEmitter memory leak detected. "+K.length+" "+String(X)+" listeners added. Use emitter.setMaxListeners() to increase limit");ee.name="MaxListenersExceededWarning",ee.emitter=G,ee.type=X,ee.count=K.length,a(ee)}return G}l.prototype.addListener=function(X,J){return g(this,X,J,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(X,J){return g(this,X,J,!0)};function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(G,X,J){var x={fired:!1,wrapFn:void 0,target:G,type:X,listener:J},C=y.bind(x);return C.listener=J,x.wrapFn=C,C}l.prototype.once=function(X,J){return d(J),this.on(X,w(this,X,J)),this},l.prototype.prependOnceListener=function(X,J){return d(J),this.prependListener(X,w(this,X,J)),this},l.prototype.removeListener=function(X,J){var x,C,P,K,ee;if(d(J),C=this._events,C===void 0)return this;if(x=C[X],x===void 0)return this;if(x===J||x.listener===J)--this._eventsCount===0?this._events=Object.create(null):(delete C[X],C.removeListener&&this.emit("removeListener",X,x.listener||J));else if(typeof x!="function"){for(P=-1,K=x.length-1;K>=0;K--)if(x[K]===J||x[K].listener===J){ee=x[K].listener,P=K;break}if(P<0)return this;P===0?x.shift():j(x,P),x.length===1&&(C[X]=x[0]),C.removeListener!==void 0&&this.emit("removeListener",X,ee||J)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(X){var J,x,C;if(x=this._events,x===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[X]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete x[X]),this;if(arguments.length===0){var P=Object.keys(x),K;for(C=0;C<P.length;++C)K=P[C],K!=="removeListener"&&this.removeAllListeners(K);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(J=x[X],typeof J=="function")this.removeListener(X,J);else if(J!==void 0)for(C=J.length-1;C>=0;C--)this.removeListener(X,J[C]);return this};function R(G,X,J){var x=G._events;if(x===void 0)return[];var C=x[X];return C===void 0?[]:typeof C=="function"?J?[C.listener||C]:[C]:J?B(C):I(C,C.length)}l.prototype.listeners=function(X){return R(this,X,!0)},l.prototype.rawListeners=function(X){return R(this,X,!1)},l.listenerCount=function(G,X){return typeof G.listenerCount=="function"?G.listenerCount(X):H.call(G,X)},l.prototype.listenerCount=H;function H(G){var X=this._events;if(X!==void 0){var J=X[G];if(typeof J=="function")return 1;if(J!==void 0)return J.length}return 0}l.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function I(G,X){for(var J=new Array(X),x=0;x<X;++x)J[x]=G[x];return J}function j(G,X){for(;X+1<G.length;X++)G[X]=G[X+1];G.pop()}function B(G){for(var X=new Array(G.length),J=0;J<X.length;++J)X[J]=G[J].listener||G[J];return X}function O(G,X){return new Promise(function(J,x){function C(K){G.removeListener(X,P),x(K)}function P(){typeof G.removeListener=="function"&&G.removeListener("error",C),J([].slice.call(arguments))}F(G,X,P,{once:!0}),X!=="error"&&L(G,C,{once:!0})})}function L(G,X,J){typeof G.on=="function"&&F(G,"error",X,J)}function F(G,X,J,x){if(typeof G.on=="function")x.once?G.once(X,J):G.on(X,J);else if(typeof G.addEventListener=="function")G.addEventListener(X,function C(P){x.once&&G.removeEventListener(X,C),J(P)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof G)}return Ff.exports}var wm,Kb;function S1(){return Kb||(Kb=1,wm=T1().EventEmitter),wm}var bm={},Tm={},Sm,Yb;function A1(){return Yb||(Yb=1,Sm=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),a=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var o=42;e[n]=o;for(var l in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,n);if(d.value!==o||d.enumerable!==!0)return!1}return!0}),Sm}var Am,Wb;function Gh(){if(Wb)return Am;Wb=1;var r=A1();return Am=function(){return r()&&!!Symbol.toStringTag},Am}var Rm,Qb;function R1(){return Qb||(Qb=1,Rm=Object),Rm}var Cm,$b;function xU(){return $b||($b=1,Cm=Error),Cm}var Im,Xb;function OU(){return Xb||(Xb=1,Im=EvalError),Im}var xm,Jb;function DU(){return Jb||(Jb=1,xm=RangeError),xm}var Om,Zb;function NU(){return Zb||(Zb=1,Om=ReferenceError),Om}var Dm,eT;function C1(){return eT||(eT=1,Dm=SyntaxError),Dm}var Nm,tT;function Zu(){return tT||(tT=1,Nm=TypeError),Nm}var Mm,nT;function MU(){return nT||(nT=1,Mm=URIError),Mm}var Pm,rT;function PU(){return rT||(rT=1,Pm=Math.abs),Pm}var km,iT;function kU(){return iT||(iT=1,km=Math.floor),km}var Bm,aT;function BU(){return aT||(aT=1,Bm=Math.max),Bm}var Um,sT;function UU(){return sT||(sT=1,Um=Math.min),Um}var Lm,oT;function LU(){return oT||(oT=1,Lm=Math.pow),Lm}var Vm,lT;function VU(){return lT||(lT=1,Vm=Math.round),Vm}var jm,uT;function jU(){return uT||(uT=1,jm=Number.isNaN||function(e){return e!==e}),jm}var Fm,cT;function FU(){if(cT)return Fm;cT=1;var r=jU();return Fm=function(n){return r(n)||n===0?n:n<0?-1:1},Fm}var qm,fT;function qU(){return fT||(fT=1,qm=Object.getOwnPropertyDescriptor),qm}var zm,hT;function cl(){if(hT)return zm;hT=1;var r=qU();if(r)try{r([],"length")}catch{r=null}return zm=r,zm}var Hm,dT;function Kh(){if(dT)return Hm;dT=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return Hm=r,Hm}var Gm,pT;function zU(){if(pT)return Gm;pT=1;var r=typeof Symbol<"u"&&Symbol,e=A1();return Gm=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Gm}var Km,mT;function I1(){return mT||(mT=1,Km=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Km}var Ym,gT;function x1(){if(gT)return Ym;gT=1;var r=R1();return Ym=r.getPrototypeOf||null,Ym}var Wm,yT;function HU(){if(yT)return Wm;yT=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,a="[object Function]",o=function(p,g){for(var y=[],w=0;w<p.length;w+=1)y[w]=p[w];for(var R=0;R<g.length;R+=1)y[R+p.length]=g[R];return y},l=function(p,g){for(var y=[],w=g,R=0;w<p.length;w+=1,R+=1)y[R]=p[w];return y},c=function(d,p){for(var g="",y=0;y<d.length;y+=1)g+=d[y],y+1<d.length&&(g+=p);return g};return Wm=function(p){var g=this;if(typeof g!="function"||e.apply(g)!==a)throw new TypeError(r+g);for(var y=l(arguments,1),w,R=function(){if(this instanceof w){var O=g.apply(this,o(y,arguments));return Object(O)===O?O:this}return g.apply(p,o(y,arguments))},H=n(0,g.length-y.length),I=[],j=0;j<H;j++)I[j]="$"+j;if(w=Function("binder","return function ("+c(I,",")+"){ return binder.apply(this,arguments); }")(R),g.prototype){var B=function(){};B.prototype=g.prototype,w.prototype=new B,B.prototype=null}return w},Wm}var Qm,_T;function ec(){if(_T)return Qm;_T=1;var r=HU();return Qm=Function.prototype.bind||r,Qm}var $m,vT;function N_(){return vT||(vT=1,$m=Function.prototype.call),$m}var Xm,ET;function M_(){return ET||(ET=1,Xm=Function.prototype.apply),Xm}var Jm,wT;function GU(){return wT||(wT=1,Jm=typeof Reflect<"u"&&Reflect&&Reflect.apply),Jm}var Zm,bT;function O1(){if(bT)return Zm;bT=1;var r=ec(),e=M_(),n=N_(),a=GU();return Zm=a||r.call(n,e),Zm}var eg,TT;function P_(){if(TT)return eg;TT=1;var r=ec(),e=Zu(),n=N_(),a=O1();return eg=function(l){if(l.length<1||typeof l[0]!="function")throw new e("a function is required");return a(r,n,l)},eg}var tg,ST;function KU(){if(ST)return tg;ST=1;var r=P_(),e=cl(),n;try{n=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var a=!!n&&e&&e(Object.prototype,"__proto__"),o=Object,l=o.getPrototypeOf;return tg=a&&typeof a.get=="function"?r([a.get]):typeof l=="function"?function(d){return l(d==null?d:o(d))}:!1,tg}var ng,AT;function k_(){if(AT)return ng;AT=1;var r=I1(),e=x1(),n=KU();return ng=r?function(o){return r(o)}:e?function(o){if(!o||typeof o!="object"&&typeof o!="function")throw new TypeError("getProto: not an object");return e(o)}:n?function(o){return n(o)}:null,ng}var rg,RT;function D1(){if(RT)return rg;RT=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=ec();return rg=n.call(r,e),rg}var ig,CT;function N1(){if(CT)return ig;CT=1;var r,e=R1(),n=xU(),a=OU(),o=DU(),l=NU(),c=C1(),d=Zu(),p=MU(),g=PU(),y=kU(),w=BU(),R=UU(),H=LU(),I=VU(),j=FU(),B=Function,O=function(pe){try{return B('"use strict"; return ('+pe+").constructor;")()}catch{}},L=cl(),F=Kh(),G=function(){throw new d},X=L?(function(){try{return arguments.callee,G}catch{try{return L(arguments,"callee").get}catch{return G}}})():G,J=zU()(),x=k_(),C=x1(),P=I1(),K=M_(),ee=N_(),k={},$=typeof Uint8Array>"u"||!x?r:x(Uint8Array),Ke={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":J&&x?x([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":k,"%AsyncGenerator%":k,"%AsyncGeneratorFunction%":k,"%AsyncIteratorPrototype%":k,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":a,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":B,"%GeneratorFunction%":k,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":J&&x?x(x([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!J||!x?r:x(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":L,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":o,"%ReferenceError%":l,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!J||!x?r:x(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":J&&x?x(""[Symbol.iterator]()):r,"%Symbol%":J?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":X,"%TypedArray%":$,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":ee,"%Function.prototype.apply%":K,"%Object.defineProperty%":F,"%Object.getPrototypeOf%":C,"%Math.abs%":g,"%Math.floor%":y,"%Math.max%":w,"%Math.min%":R,"%Math.pow%":H,"%Math.round%":I,"%Math.sign%":j,"%Reflect.getPrototypeOf%":P};if(x)try{null.error}catch(pe){var ke=x(x(pe));Ke["%Error.prototype%"]=ke}var ae=function pe(Te){var V;if(Te==="%AsyncFunction%")V=O("async function () {}");else if(Te==="%GeneratorFunction%")V=O("function* () {}");else if(Te==="%AsyncGeneratorFunction%")V=O("async function* () {}");else if(Te==="%AsyncGenerator%"){var q=pe("%AsyncGeneratorFunction%");q&&(V=q.prototype)}else if(Te==="%AsyncIteratorPrototype%"){var Ee=pe("%AsyncGenerator%");Ee&&x&&(V=x(Ee.prototype))}return Ke[Te]=V,V},ge={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xe=ec(),Ue=D1(),Le=xe.call(ee,Array.prototype.concat),ne=xe.call(K,Array.prototype.splice),ve=xe.call(ee,String.prototype.replace),Z=xe.call(ee,String.prototype.slice),ie=xe.call(ee,RegExp.prototype.exec),he=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,te=/\\(\\)?/g,D=function(Te){var V=Z(Te,0,1),q=Z(Te,-1);if(V==="%"&&q!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(q==="%"&&V!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var Ee=[];return ve(Te,he,function(Pe,Qe,je,Ze){Ee[Ee.length]=je?ve(Ze,te,"$1"):Qe||Pe}),Ee},ce=function(Te,V){var q=Te,Ee;if(Ue(ge,q)&&(Ee=ge[q],q="%"+Ee[0]+"%"),Ue(Ke,q)){var Pe=Ke[q];if(Pe===k&&(Pe=ae(q)),typeof Pe>"u"&&!V)throw new d("intrinsic "+Te+" exists, but is not available. Please file an issue!");return{alias:Ee,name:q,value:Pe}}throw new c("intrinsic "+Te+" does not exist!")};return ig=function(Te,V){if(typeof Te!="string"||Te.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof V!="boolean")throw new d('"allowMissing" argument must be a boolean');if(ie(/^%?[^%]*%?$/,Te)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var q=D(Te),Ee=q.length>0?q[0]:"",Pe=ce("%"+Ee+"%",V),Qe=Pe.name,je=Pe.value,Ze=!1,cn=Pe.alias;cn&&(Ee=cn[0],ne(q,Le([0,1],cn)));for(var Ie=1,Xt=!0;Ie<q.length;Ie+=1){var en=q[Ie],wt=Z(en,0,1),bt=Z(en,-1);if((wt==='"'||wt==="'"||wt==="`"||bt==='"'||bt==="'"||bt==="`")&&wt!==bt)throw new c("property names with quotes must have matching quotes");if((en==="constructor"||!Xt)&&(Ze=!0),Ee+="."+en,Qe="%"+Ee+"%",Ue(Ke,Qe))je=Ke[Qe];else if(je!=null){if(!(en in je)){if(!V)throw new d("base intrinsic for "+Te+" exists, but the property is not available.");return}if(L&&Ie+1>=q.length){var _t=L(je,en);Xt=!!_t,Xt&&"get"in _t&&!("originalValue"in _t.get)?je=_t.get:je=je[en]}else Xt=Ue(je,en),je=je[en];Xt&&!Ze&&(Ke[Qe]=je)}}return je},ig}var ag,IT;function tc(){if(IT)return ag;IT=1;var r=N1(),e=P_(),n=e([r("%String.prototype.indexOf%")]);return ag=function(o,l){var c=r(o,!!l);return typeof c=="function"&&n(o,".prototype.")>-1?e([c]):c},ag}var sg,xT;function YU(){if(xT)return sg;xT=1;var r=Gh()(),e=tc(),n=e("Object.prototype.toString"),a=function(d){return r&&d&&typeof d=="object"&&Symbol.toStringTag in d?!1:n(d)==="[object Arguments]"},o=function(d){return a(d)?!0:d!==null&&typeof d=="object"&&"length"in d&&typeof d.length=="number"&&d.length>=0&&n(d)!=="[object Array]"&&"callee"in d&&n(d.callee)==="[object Function]"},l=(function(){return a(arguments)})();return a.isLegacyArguments=o,sg=l?a:o,sg}var og,OT;function WU(){if(OT)return og;OT=1;var r=tc(),e=Gh()(),n=D1(),a=cl(),o;if(e){var l=r("RegExp.prototype.exec"),c={},d=function(){throw c},p={toString:d,valueOf:d};typeof Symbol.toPrimitive=="symbol"&&(p[Symbol.toPrimitive]=d),o=function(R){if(!R||typeof R!="object")return!1;var H=a(R,"lastIndex"),I=H&&n(H,"value");if(!I)return!1;try{l(R,p)}catch(j){return j===c}}}else{var g=r("Object.prototype.toString"),y="[object RegExp]";o=function(R){return!R||typeof R!="object"&&typeof R!="function"?!1:g(R)===y}}return og=o,og}var lg,DT;function QU(){if(DT)return lg;DT=1;var r=tc(),e=WU(),n=r("RegExp.prototype.exec"),a=Zu();return lg=function(l){if(!e(l))throw new a("`regex` must be a RegExp");return function(d){return n(l,d)!==null}},lg}var ug,NT;function $U(){if(NT)return ug;NT=1;const r=(function*(){}).constructor;return ug=()=>r,ug}var cg,MT;function XU(){if(MT)return cg;MT=1;var r=tc(),e=QU(),n=e(/^\s*(?:function)?\*/),a=Gh()(),o=k_(),l=r("Object.prototype.toString"),c=r("Function.prototype.toString"),d=$U();return cg=function(g){if(typeof g!="function")return!1;if(n(c(g)))return!0;if(!a){var y=l(g);return y==="[object GeneratorFunction]"}if(!o)return!1;var w=d();return w&&o(g)===w.prototype},cg}var fg,PT;function JU(){if(PT)return fg;PT=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,a;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw a}}),a={},e(function(){throw 42},null,n)}catch(L){L!==a&&(e=null)}else e=null;var o=/^\s*class\b/,l=function(F){try{var G=r.call(F);return o.test(G)}catch{return!1}},c=function(F){try{return l(F)?!1:(r.call(F),!0)}catch{return!1}},d=Object.prototype.toString,p="[object Object]",g="[object Function]",y="[object GeneratorFunction]",w="[object HTMLAllCollection]",R="[object HTML document.all class]",H="[object HTMLCollection]",I=typeof Symbol=="function"&&!!Symbol.toStringTag,j=!(0 in[,]),B=function(){return!1};if(typeof document=="object"){var O=document.all;d.call(O)===d.call(document.all)&&(B=function(F){if((j||!F)&&(typeof F>"u"||typeof F=="object"))try{var G=d.call(F);return(G===w||G===R||G===H||G===p)&&F("")==null}catch{}return!1})}return fg=e?function(F){if(B(F))return!0;if(!F||typeof F!="function"&&typeof F!="object")return!1;try{e(F,null,n)}catch(G){if(G!==a)return!1}return!l(F)&&c(F)}:function(F){if(B(F))return!0;if(!F||typeof F!="function"&&typeof F!="object")return!1;if(I)return c(F);if(l(F))return!1;var G=d.call(F);return G!==g&&G!==y&&!/^\[object HTML/.test(G)?!1:c(F)},fg}var hg,kT;function ZU(){if(kT)return hg;kT=1;var r=JU(),e=Object.prototype.toString,n=Object.prototype.hasOwnProperty,a=function(p,g,y){for(var w=0,R=p.length;w<R;w++)n.call(p,w)&&(y==null?g(p[w],w,p):g.call(y,p[w],w,p))},o=function(p,g,y){for(var w=0,R=p.length;w<R;w++)y==null?g(p.charAt(w),w,p):g.call(y,p.charAt(w),w,p)},l=function(p,g,y){for(var w in p)n.call(p,w)&&(y==null?g(p[w],w,p):g.call(y,p[w],w,p))};function c(d){return e.call(d)==="[object Array]"}return hg=function(p,g,y){if(!r(g))throw new TypeError("iterator must be a function");var w;arguments.length>=3&&(w=y),c(p)?a(p,g,w):typeof p=="string"?o(p,g,w):l(p,g,w)},hg}var dg,BT;function eL(){return BT||(BT=1,dg=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),dg}var pg,UT;function tL(){if(UT)return pg;UT=1;var r=eL(),e=typeof globalThis>"u"?Yr:globalThis;return pg=function(){for(var a=[],o=0;o<r.length;o++)typeof e[r[o]]=="function"&&(a[a.length]=r[o]);return a},pg}var mg={exports:{}},gg,LT;function nL(){if(LT)return gg;LT=1;var r=Kh(),e=C1(),n=Zu(),a=cl();return gg=function(l,c,d){if(!l||typeof l!="object"&&typeof l!="function")throw new n("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var p=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,y=arguments.length>5?arguments[5]:null,w=arguments.length>6?arguments[6]:!1,R=!!a&&a(l,c);if(r)r(l,c,{configurable:y===null&&R?R.configurable:!y,enumerable:p===null&&R?R.enumerable:!p,value:d,writable:g===null&&R?R.writable:!g});else if(w||!p&&!g&&!y)l[c]=d;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},gg}var yg,VT;function rL(){if(VT)return yg;VT=1;var r=Kh(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},yg=e,yg}var _g,jT;function iL(){if(jT)return _g;jT=1;var r=N1(),e=nL(),n=rL()(),a=cl(),o=Zu(),l=r("%Math.floor%");return _g=function(d,p){if(typeof d!="function")throw new o("`fn` is not a function");if(typeof p!="number"||p<0||p>4294967295||l(p)!==p)throw new o("`length` must be a positive 32-bit integer");var g=arguments.length>2&&!!arguments[2],y=!0,w=!0;if("length"in d&&a){var R=a(d,"length");R&&!R.configurable&&(y=!1),R&&!R.writable&&(w=!1)}return(y||w||!g)&&(n?e(d,"length",p,!0,!0):e(d,"length",p)),d},_g}var vg,FT;function aL(){if(FT)return vg;FT=1;var r=ec(),e=M_(),n=O1();return vg=function(){return n(r,e,arguments)},vg}var qT;function sL(){return qT||(qT=1,(function(r){var e=iL(),n=Kh(),a=P_(),o=aL();r.exports=function(c){var d=a(arguments),p=c.length-(arguments.length-1);return e(d,1+(p>0?p:0),!0)},n?n(r.exports,"apply",{value:o}):r.exports.apply=o})(mg)),mg.exports}var Eg,zT;function M1(){if(zT)return Eg;zT=1;var r=ZU(),e=tL(),n=sL(),a=tc(),o=cl(),l=k_(),c=a("Object.prototype.toString"),d=Gh()(),p=typeof globalThis>"u"?Yr:globalThis,g=e(),y=a("String.prototype.slice"),w=a("Array.prototype.indexOf",!0)||function(B,O){for(var L=0;L<B.length;L+=1)if(B[L]===O)return L;return-1},R={__proto__:null};d&&o&&l?r(g,function(j){var B=new p[j];if(Symbol.toStringTag in B&&l){var O=l(B),L=o(O,Symbol.toStringTag);if(!L&&O){var F=l(O);L=o(F,Symbol.toStringTag)}if(L&&L.get){var G=n(L.get);R["$"+j]=G}}}):r(g,function(j){var B=new p[j],O=B.slice||B.set;if(O){var L=n(O);R["$"+j]=L}});var H=function(B){var O=!1;return r(R,function(L,F){if(!O)try{"$"+L(B)===F&&(O=y(F,1))}catch{}}),O},I=function(B){var O=!1;return r(R,function(L,F){if(!O)try{L(B),O=y(F,1)}catch{}}),O};return Eg=function(B){if(!B||typeof B!="object")return!1;if(!d){var O=y(c(B),8,-1);return w(g,O)>-1?O:O!=="Object"?!1:I(B)}return o?H(B):null},Eg}var wg,HT;function oL(){if(HT)return wg;HT=1;var r=M1();return wg=function(n){return!!r(n)},wg}var GT;function lL(){return GT||(GT=1,(function(r){var e=YU(),n=XU(),a=M1(),o=oL();function l(Ie){return Ie.call.bind(Ie)}var c=typeof BigInt<"u",d=typeof Symbol<"u",p=l(Object.prototype.toString),g=l(Number.prototype.valueOf),y=l(String.prototype.valueOf),w=l(Boolean.prototype.valueOf);if(c)var R=l(BigInt.prototype.valueOf);if(d)var H=l(Symbol.prototype.valueOf);function I(Ie,Xt){if(typeof Ie!="object")return!1;try{return Xt(Ie),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=n,r.isTypedArray=o;function j(Ie){return typeof Promise<"u"&&Ie instanceof Promise||Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"&&typeof Ie.catch=="function"}r.isPromise=j;function B(Ie){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ie):o(Ie)||Z(Ie)}r.isArrayBufferView=B;function O(Ie){return a(Ie)==="Uint8Array"}r.isUint8Array=O;function L(Ie){return a(Ie)==="Uint8ClampedArray"}r.isUint8ClampedArray=L;function F(Ie){return a(Ie)==="Uint16Array"}r.isUint16Array=F;function G(Ie){return a(Ie)==="Uint32Array"}r.isUint32Array=G;function X(Ie){return a(Ie)==="Int8Array"}r.isInt8Array=X;function J(Ie){return a(Ie)==="Int16Array"}r.isInt16Array=J;function x(Ie){return a(Ie)==="Int32Array"}r.isInt32Array=x;function C(Ie){return a(Ie)==="Float32Array"}r.isFloat32Array=C;function P(Ie){return a(Ie)==="Float64Array"}r.isFloat64Array=P;function K(Ie){return a(Ie)==="BigInt64Array"}r.isBigInt64Array=K;function ee(Ie){return a(Ie)==="BigUint64Array"}r.isBigUint64Array=ee;function k(Ie){return p(Ie)==="[object Map]"}k.working=typeof Map<"u"&&k(new Map);function $(Ie){return typeof Map>"u"?!1:k.working?k(Ie):Ie instanceof Map}r.isMap=$;function Ke(Ie){return p(Ie)==="[object Set]"}Ke.working=typeof Set<"u"&&Ke(new Set);function ke(Ie){return typeof Set>"u"?!1:Ke.working?Ke(Ie):Ie instanceof Set}r.isSet=ke;function ae(Ie){return p(Ie)==="[object WeakMap]"}ae.working=typeof WeakMap<"u"&&ae(new WeakMap);function ge(Ie){return typeof WeakMap>"u"?!1:ae.working?ae(Ie):Ie instanceof WeakMap}r.isWeakMap=ge;function xe(Ie){return p(Ie)==="[object WeakSet]"}xe.working=typeof WeakSet<"u"&&xe(new WeakSet);function Ue(Ie){return xe(Ie)}r.isWeakSet=Ue;function Le(Ie){return p(Ie)==="[object ArrayBuffer]"}Le.working=typeof ArrayBuffer<"u"&&Le(new ArrayBuffer);function ne(Ie){return typeof ArrayBuffer>"u"?!1:Le.working?Le(Ie):Ie instanceof ArrayBuffer}r.isArrayBuffer=ne;function ve(Ie){return p(Ie)==="[object DataView]"}ve.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ve(new DataView(new ArrayBuffer(1),0,1));function Z(Ie){return typeof DataView>"u"?!1:ve.working?ve(Ie):Ie instanceof DataView}r.isDataView=Z;var ie=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function he(Ie){return p(Ie)==="[object SharedArrayBuffer]"}function te(Ie){return typeof ie>"u"?!1:(typeof he.working>"u"&&(he.working=he(new ie)),he.working?he(Ie):Ie instanceof ie)}r.isSharedArrayBuffer=te;function D(Ie){return p(Ie)==="[object AsyncFunction]"}r.isAsyncFunction=D;function ce(Ie){return p(Ie)==="[object Map Iterator]"}r.isMapIterator=ce;function pe(Ie){return p(Ie)==="[object Set Iterator]"}r.isSetIterator=pe;function Te(Ie){return p(Ie)==="[object Generator]"}r.isGeneratorObject=Te;function V(Ie){return p(Ie)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=V;function q(Ie){return I(Ie,g)}r.isNumberObject=q;function Ee(Ie){return I(Ie,y)}r.isStringObject=Ee;function Pe(Ie){return I(Ie,w)}r.isBooleanObject=Pe;function Qe(Ie){return c&&I(Ie,R)}r.isBigIntObject=Qe;function je(Ie){return d&&I(Ie,H)}r.isSymbolObject=je;function Ze(Ie){return q(Ie)||Ee(Ie)||Pe(Ie)||Qe(Ie)||je(Ie)}r.isBoxedPrimitive=Ze;function cn(Ie){return typeof Uint8Array<"u"&&(ne(Ie)||te(Ie))}r.isAnyArrayBuffer=cn,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ie){Object.defineProperty(r,Ie,{enumerable:!1,value:function(){throw new Error(Ie+" is not supported in userland")}})})})(Tm)),Tm}var bg,KT;function uL(){return KT||(KT=1,bg=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),bg}var qf={exports:{}},YT;function fl(){return YT||(YT=1,typeof Object.create=="function"?qf.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:qf.exports=function(e,n){if(n){e.super_=n;var a=function(){};a.prototype=n.prototype,e.prototype=new a,e.prototype.constructor=e}}),qf.exports}var WT;function P1(){return WT||(WT=1,(function(r){var e={},n=Object.getOwnPropertyDescriptors||function(ie){for(var he=Object.keys(ie),te={},D=0;D<he.length;D++)te[he[D]]=Object.getOwnPropertyDescriptor(ie,he[D]);return te},a=/%[sdj%]/g;r.format=function(Z){if(!J(Z)){for(var ie=[],he=0;he<arguments.length;he++)ie.push(d(arguments[he]));return ie.join(" ")}for(var he=1,te=arguments,D=te.length,ce=String(Z).replace(a,function(Te){if(Te==="%%")return"%";if(he>=D)return Te;switch(Te){case"%s":return String(te[he++]);case"%d":return Number(te[he++]);case"%j":try{return JSON.stringify(te[he++])}catch{return"[Circular]"}default:return Te}}),pe=te[he];he<D;pe=te[++he])F(pe)||!K(pe)?ce+=" "+pe:ce+=" "+d(pe);return ce},r.deprecate=function(Z,ie){if(typeof et<"u"&&et.noDeprecation===!0)return Z;if(typeof et>"u")return function(){return r.deprecate(Z,ie).apply(this,arguments)};var he=!1;function te(){if(!he){if(et.throwDeprecation)throw new Error(ie);et.traceDeprecation?console.trace(ie):console.error(ie),he=!0}return Z.apply(this,arguments)}return te};var o={},l=/^$/;if(e.NODE_DEBUG){var c=e.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),l=new RegExp("^"+c+"$","i")}r.debuglog=function(Z){if(Z=Z.toUpperCase(),!o[Z])if(l.test(Z)){var ie=et.pid;o[Z]=function(){var he=r.format.apply(r,arguments);console.error("%s %d: %s",Z,ie,he)}}else o[Z]=function(){};return o[Z]};function d(Z,ie){var he={seen:[],stylize:g};return arguments.length>=3&&(he.depth=arguments[2]),arguments.length>=4&&(he.colors=arguments[3]),L(ie)?he.showHidden=ie:ie&&r._extend(he,ie),C(he.showHidden)&&(he.showHidden=!1),C(he.depth)&&(he.depth=2),C(he.colors)&&(he.colors=!1),C(he.customInspect)&&(he.customInspect=!0),he.colors&&(he.stylize=p),w(he,Z,he.depth)}r.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function p(Z,ie){var he=d.styles[ie];return he?"\x1B["+d.colors[he][0]+"m"+Z+"\x1B["+d.colors[he][1]+"m":Z}function g(Z,ie){return Z}function y(Z){var ie={};return Z.forEach(function(he,te){ie[he]=!0}),ie}function w(Z,ie,he){if(Z.customInspect&&ie&&$(ie.inspect)&&ie.inspect!==r.inspect&&!(ie.constructor&&ie.constructor.prototype===ie)){var te=ie.inspect(he,Z);return J(te)||(te=w(Z,te,he)),te}var D=R(Z,ie);if(D)return D;var ce=Object.keys(ie),pe=y(ce);if(Z.showHidden&&(ce=Object.getOwnPropertyNames(ie)),k(ie)&&(ce.indexOf("message")>=0||ce.indexOf("description")>=0))return H(ie);if(ce.length===0){if($(ie)){var Te=ie.name?": "+ie.name:"";return Z.stylize("[Function"+Te+"]","special")}if(P(ie))return Z.stylize(RegExp.prototype.toString.call(ie),"regexp");if(ee(ie))return Z.stylize(Date.prototype.toString.call(ie),"date");if(k(ie))return H(ie)}var V="",q=!1,Ee=["{","}"];if(O(ie)&&(q=!0,Ee=["[","]"]),$(ie)){var Pe=ie.name?": "+ie.name:"";V=" [Function"+Pe+"]"}if(P(ie)&&(V=" "+RegExp.prototype.toString.call(ie)),ee(ie)&&(V=" "+Date.prototype.toUTCString.call(ie)),k(ie)&&(V=" "+H(ie)),ce.length===0&&(!q||ie.length==0))return Ee[0]+V+Ee[1];if(he<0)return P(ie)?Z.stylize(RegExp.prototype.toString.call(ie),"regexp"):Z.stylize("[Object]","special");Z.seen.push(ie);var Qe;return q?Qe=I(Z,ie,he,pe,ce):Qe=ce.map(function(je){return j(Z,ie,he,pe,je,q)}),Z.seen.pop(),B(Qe,V,Ee)}function R(Z,ie){if(C(ie))return Z.stylize("undefined","undefined");if(J(ie)){var he="'"+JSON.stringify(ie).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Z.stylize(he,"string")}if(X(ie))return Z.stylize(""+ie,"number");if(L(ie))return Z.stylize(""+ie,"boolean");if(F(ie))return Z.stylize("null","null")}function H(Z){return"["+Error.prototype.toString.call(Z)+"]"}function I(Z,ie,he,te,D){for(var ce=[],pe=0,Te=ie.length;pe<Te;++pe)Ue(ie,String(pe))?ce.push(j(Z,ie,he,te,String(pe),!0)):ce.push("");return D.forEach(function(V){V.match(/^\d+$/)||ce.push(j(Z,ie,he,te,V,!0))}),ce}function j(Z,ie,he,te,D,ce){var pe,Te,V;if(V=Object.getOwnPropertyDescriptor(ie,D)||{value:ie[D]},V.get?V.set?Te=Z.stylize("[Getter/Setter]","special"):Te=Z.stylize("[Getter]","special"):V.set&&(Te=Z.stylize("[Setter]","special")),Ue(te,D)||(pe="["+D+"]"),Te||(Z.seen.indexOf(V.value)<0?(F(he)?Te=w(Z,V.value,null):Te=w(Z,V.value,he-1),Te.indexOf(`
`)>-1&&(ce?Te=Te.split(`
`).map(function(q){return"  "+q}).join(`
`).slice(2):Te=`
`+Te.split(`
`).map(function(q){return"   "+q}).join(`
`))):Te=Z.stylize("[Circular]","special")),C(pe)){if(ce&&D.match(/^\d+$/))return Te;pe=JSON.stringify(""+D),pe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(pe=pe.slice(1,-1),pe=Z.stylize(pe,"name")):(pe=pe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),pe=Z.stylize(pe,"string"))}return pe+": "+Te}function B(Z,ie,he){var te=Z.reduce(function(D,ce){return ce.indexOf(`
`)>=0,D+ce.replace(/\u001b\[\d\d?m/g,"").length+1},0);return te>60?he[0]+(ie===""?"":ie+`
 `)+" "+Z.join(`,
  `)+" "+he[1]:he[0]+ie+" "+Z.join(", ")+" "+he[1]}r.types=lL();function O(Z){return Array.isArray(Z)}r.isArray=O;function L(Z){return typeof Z=="boolean"}r.isBoolean=L;function F(Z){return Z===null}r.isNull=F;function G(Z){return Z==null}r.isNullOrUndefined=G;function X(Z){return typeof Z=="number"}r.isNumber=X;function J(Z){return typeof Z=="string"}r.isString=J;function x(Z){return typeof Z=="symbol"}r.isSymbol=x;function C(Z){return Z===void 0}r.isUndefined=C;function P(Z){return K(Z)&&ke(Z)==="[object RegExp]"}r.isRegExp=P,r.types.isRegExp=P;function K(Z){return typeof Z=="object"&&Z!==null}r.isObject=K;function ee(Z){return K(Z)&&ke(Z)==="[object Date]"}r.isDate=ee,r.types.isDate=ee;function k(Z){return K(Z)&&(ke(Z)==="[object Error]"||Z instanceof Error)}r.isError=k,r.types.isNativeError=k;function $(Z){return typeof Z=="function"}r.isFunction=$;function Ke(Z){return Z===null||typeof Z=="boolean"||typeof Z=="number"||typeof Z=="string"||typeof Z=="symbol"||typeof Z>"u"}r.isPrimitive=Ke,r.isBuffer=uL();function ke(Z){return Object.prototype.toString.call(Z)}function ae(Z){return Z<10?"0"+Z.toString(10):Z.toString(10)}var ge=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function xe(){var Z=new Date,ie=[ae(Z.getHours()),ae(Z.getMinutes()),ae(Z.getSeconds())].join(":");return[Z.getDate(),ge[Z.getMonth()],ie].join(" ")}r.log=function(){console.log("%s - %s",xe(),r.format.apply(r,arguments))},r.inherits=fl(),r._extend=function(Z,ie){if(!ie||!K(ie))return Z;for(var he=Object.keys(ie),te=he.length;te--;)Z[he[te]]=ie[he[te]];return Z};function Ue(Z,ie){return Object.prototype.hasOwnProperty.call(Z,ie)}var Le=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(ie){if(typeof ie!="function")throw new TypeError('The "original" argument must be of type Function');if(Le&&ie[Le]){var he=ie[Le];if(typeof he!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(he,Le,{value:he,enumerable:!1,writable:!1,configurable:!0}),he}function he(){for(var te,D,ce=new Promise(function(V,q){te=V,D=q}),pe=[],Te=0;Te<arguments.length;Te++)pe.push(arguments[Te]);pe.push(function(V,q){V?D(V):te(q)});try{ie.apply(this,pe)}catch(V){D(V)}return ce}return Object.setPrototypeOf(he,Object.getPrototypeOf(ie)),Le&&Object.defineProperty(he,Le,{value:he,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(he,n(ie))},r.promisify.custom=Le;function ne(Z,ie){if(!Z){var he=new Error("Promise was rejected with a falsy value");he.reason=Z,Z=he}return ie(Z)}function ve(Z){if(typeof Z!="function")throw new TypeError('The "original" argument must be of type Function');function ie(){for(var he=[],te=0;te<arguments.length;te++)he.push(arguments[te]);var D=he.pop();if(typeof D!="function")throw new TypeError("The last argument must be of type Function");var ce=this,pe=function(){return D.apply(ce,arguments)};Z.apply(this,he).then(function(Te){et.nextTick(pe.bind(null,null,Te))},function(Te){et.nextTick(ne.bind(null,Te,pe))})}return Object.setPrototypeOf(ie,Object.getPrototypeOf(Z)),Object.defineProperties(ie,n(Z)),ie}r.callbackify=ve})(bm)),bm}var Tg,QT;function cL(){if(QT)return Tg;QT=1;function r(I,j){var B=Object.keys(I);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(I);j&&(O=O.filter(function(L){return Object.getOwnPropertyDescriptor(I,L).enumerable})),B.push.apply(B,O)}return B}function e(I){for(var j=1;j<arguments.length;j++){var B=arguments[j]!=null?arguments[j]:{};j%2?r(Object(B),!0).forEach(function(O){n(I,O,B[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(B)):r(Object(B)).forEach(function(O){Object.defineProperty(I,O,Object.getOwnPropertyDescriptor(B,O))})}return I}function n(I,j,B){return j=c(j),j in I?Object.defineProperty(I,j,{value:B,enumerable:!0,configurable:!0,writable:!0}):I[j]=B,I}function a(I,j){if(!(I instanceof j))throw new TypeError("Cannot call a class as a function")}function o(I,j){for(var B=0;B<j.length;B++){var O=j[B];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(I,c(O.key),O)}}function l(I,j,B){return j&&o(I.prototype,j),Object.defineProperty(I,"prototype",{writable:!1}),I}function c(I){var j=d(I,"string");return typeof j=="symbol"?j:String(j)}function d(I,j){if(typeof I!="object"||I===null)return I;var B=I[Symbol.toPrimitive];if(B!==void 0){var O=B.call(I,j);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}var p=Ju(),g=p.Buffer,y=P1(),w=y.inspect,R=w&&w.custom||"inspect";function H(I,j,B){g.prototype.copy.call(I,j,B)}return Tg=(function(){function I(){a(this,I),this.head=null,this.tail=null,this.length=0}return l(I,[{key:"push",value:function(B){var O={data:B,next:null};this.length>0?this.tail.next=O:this.head=O,this.tail=O,++this.length}},{key:"unshift",value:function(B){var O={data:B,next:this.head};this.length===0&&(this.tail=O),this.head=O,++this.length}},{key:"shift",value:function(){if(this.length!==0){var B=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,B}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(B){if(this.length===0)return"";for(var O=this.head,L=""+O.data;O=O.next;)L+=B+O.data;return L}},{key:"concat",value:function(B){if(this.length===0)return g.alloc(0);for(var O=g.allocUnsafe(B>>>0),L=this.head,F=0;L;)H(L.data,O,F),F+=L.data.length,L=L.next;return O}},{key:"consume",value:function(B,O){var L;return B<this.head.data.length?(L=this.head.data.slice(0,B),this.head.data=this.head.data.slice(B)):B===this.head.data.length?L=this.shift():L=O?this._getString(B):this._getBuffer(B),L}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(B){var O=this.head,L=1,F=O.data;for(B-=F.length;O=O.next;){var G=O.data,X=B>G.length?G.length:B;if(X===G.length?F+=G:F+=G.slice(0,B),B-=X,B===0){X===G.length?(++L,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=G.slice(X));break}++L}return this.length-=L,F}},{key:"_getBuffer",value:function(B){var O=g.allocUnsafe(B),L=this.head,F=1;for(L.data.copy(O),B-=L.data.length;L=L.next;){var G=L.data,X=B>G.length?G.length:B;if(G.copy(O,O.length-B,0,X),B-=X,B===0){X===G.length?(++F,L.next?this.head=L.next:this.head=this.tail=null):(this.head=L,L.data=G.slice(X));break}++F}return this.length-=F,O}},{key:R,value:function(B,O){return w(this,e(e({},O),{},{depth:0,customInspect:!1}))}}]),I})(),Tg}var Sg,$T;function k1(){if($T)return Sg;$T=1;function r(c,d){var p=this,g=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return g||y?(d?d(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,et.nextTick(o,this,c)):et.nextTick(o,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(w){!d&&w?p._writableState?p._writableState.errorEmitted?et.nextTick(n,p):(p._writableState.errorEmitted=!0,et.nextTick(e,p,w)):et.nextTick(e,p,w):d?(et.nextTick(n,p),d(w)):et.nextTick(n,p)}),this)}function e(c,d){o(c,d),n(c)}function n(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(c,d){c.emit("error",d)}function l(c,d){var p=c._readableState,g=c._writableState;p&&p.autoDestroy||g&&g.autoDestroy?c.destroy(d):c.emit("error",d)}return Sg={destroy:r,undestroy:a,errorOrDestroy:l},Sg}var Ag={},XT;function hl(){if(XT)return Ag;XT=1;function r(d,p){d.prototype=Object.create(p.prototype),d.prototype.constructor=d,d.__proto__=p}var e={};function n(d,p,g){g||(g=Error);function y(R,H,I){return typeof p=="string"?p:p(R,H,I)}var w=(function(R){r(H,R);function H(I,j,B){return R.call(this,y(I,j,B))||this}return H})(g);w.prototype.name=g.name,w.prototype.code=d,e[d]=w}function a(d,p){if(Array.isArray(d)){var g=d.length;return d=d.map(function(y){return String(y)}),g>2?"one of ".concat(p," ").concat(d.slice(0,g-1).join(", "),", or ")+d[g-1]:g===2?"one of ".concat(p," ").concat(d[0]," or ").concat(d[1]):"of ".concat(p," ").concat(d[0])}else return"of ".concat(p," ").concat(String(d))}function o(d,p,g){return d.substr(0,p.length)===p}function l(d,p,g){return(g===void 0||g>d.length)&&(g=d.length),d.substring(g-p.length,g)===p}function c(d,p,g){return typeof g!="number"&&(g=0),g+p.length>d.length?!1:d.indexOf(p,g)!==-1}return n("ERR_INVALID_OPT_VALUE",function(d,p){return'The value "'+p+'" is invalid for option "'+d+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(d,p,g){var y;typeof p=="string"&&o(p,"not ")?(y="must not be",p=p.replace(/^not /,"")):y="must be";var w;if(l(d," argument"))w="The ".concat(d," ").concat(y," ").concat(a(p,"type"));else{var R=c(d,".")?"property":"argument";w='The "'.concat(d,'" ').concat(R," ").concat(y," ").concat(a(p,"type"))}return w+=". Received type ".concat(typeof g),w},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(d){return"The "+d+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(d){return"Cannot call "+d+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(d){return"Unknown encoding: "+d},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Ag.codes=e,Ag}var Rg,JT;function B1(){if(JT)return Rg;JT=1;var r=hl().codes.ERR_INVALID_OPT_VALUE;function e(a,o,l){return a.highWaterMark!=null?a.highWaterMark:o?a[l]:null}function n(a,o,l,c){var d=e(o,c,l);if(d!=null){if(!(isFinite(d)&&Math.floor(d)===d)||d<0){var p=c?l:"highWaterMark";throw new r(p,d)}return Math.floor(d)}return a.objectMode?16:16*1024}return Rg={getHighWaterMark:n},Rg}var Cg,ZT;function fL(){if(ZT)return Cg;ZT=1,Cg=r;function r(n,a){if(e("noDeprecation"))return n;var o=!1;function l(){if(!o){if(e("throwDeprecation"))throw new Error(a);e("traceDeprecation")?console.trace(a):console.warn(a),o=!0}return n.apply(this,arguments)}return l}function e(n){try{if(!Yr.localStorage)return!1}catch{return!1}var a=Yr.localStorage[n];return a==null?!1:String(a).toLowerCase()==="true"}return Cg}var Ig,eS;function U1(){if(eS)return Ig;eS=1,Ig=C;function r(te){var D=this;this.next=null,this.entry=null,this.finish=function(){he(D,te)}}var e;C.WritableState=J;var n={deprecate:fL()},a=S1(),o=Ju().Buffer,l=(typeof Yr<"u"?Yr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(te){return o.from(te)}function d(te){return o.isBuffer(te)||te instanceof l}var p=k1(),g=B1(),y=g.getHighWaterMark,w=hl().codes,R=w.ERR_INVALID_ARG_TYPE,H=w.ERR_METHOD_NOT_IMPLEMENTED,I=w.ERR_MULTIPLE_CALLBACK,j=w.ERR_STREAM_CANNOT_PIPE,B=w.ERR_STREAM_DESTROYED,O=w.ERR_STREAM_NULL_VALUES,L=w.ERR_STREAM_WRITE_AFTER_END,F=w.ERR_UNKNOWN_ENCODING,G=p.errorOrDestroy;fl()(C,a);function X(){}function J(te,D,ce){e=e||el(),te=te||{},typeof ce!="boolean"&&(ce=D instanceof e),this.objectMode=!!te.objectMode,ce&&(this.objectMode=this.objectMode||!!te.writableObjectMode),this.highWaterMark=y(this,te,"writableHighWaterMark",ce),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var pe=te.decodeStrings===!1;this.decodeStrings=!pe,this.defaultEncoding=te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Te){ae(D,Te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}J.prototype.getBuffer=function(){for(var D=this.bufferedRequest,ce=[];D;)ce.push(D),D=D.next;return ce},(function(){try{Object.defineProperty(J.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var x;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(D){return x.call(this,D)?!0:this!==C?!1:D&&D._writableState instanceof J}})):x=function(D){return D instanceof this};function C(te){e=e||el();var D=this instanceof e;if(!D&&!x.call(C,this))return new C(te);this._writableState=new J(te,this,D),this.writable=!0,te&&(typeof te.write=="function"&&(this._write=te.write),typeof te.writev=="function"&&(this._writev=te.writev),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.final=="function"&&(this._final=te.final)),a.call(this)}C.prototype.pipe=function(){G(this,new j)};function P(te,D){var ce=new L;G(te,ce),et.nextTick(D,ce)}function K(te,D,ce,pe){var Te;return ce===null?Te=new O:typeof ce!="string"&&!D.objectMode&&(Te=new R("chunk",["string","Buffer"],ce)),Te?(G(te,Te),et.nextTick(pe,Te),!1):!0}C.prototype.write=function(te,D,ce){var pe=this._writableState,Te=!1,V=!pe.objectMode&&d(te);return V&&!o.isBuffer(te)&&(te=c(te)),typeof D=="function"&&(ce=D,D=null),V?D="buffer":D||(D=pe.defaultEncoding),typeof ce!="function"&&(ce=X),pe.ending?P(this,ce):(V||K(this,pe,te,ce))&&(pe.pendingcb++,Te=k(this,pe,V,te,D,ce)),Te},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var te=this._writableState;te.corked&&(te.corked--,!te.writing&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&Ue(this,te))},C.prototype.setDefaultEncoding=function(D){if(typeof D=="string"&&(D=D.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((D+"").toLowerCase())>-1))throw new F(D);return this._writableState.defaultEncoding=D,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ee(te,D,ce){return!te.objectMode&&te.decodeStrings!==!1&&typeof D=="string"&&(D=o.from(D,ce)),D}Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function k(te,D,ce,pe,Te,V){if(!ce){var q=ee(D,pe,Te);pe!==q&&(ce=!0,Te="buffer",pe=q)}var Ee=D.objectMode?1:pe.length;D.length+=Ee;var Pe=D.length<D.highWaterMark;if(Pe||(D.needDrain=!0),D.writing||D.corked){var Qe=D.lastBufferedRequest;D.lastBufferedRequest={chunk:pe,encoding:Te,isBuf:ce,callback:V,next:null},Qe?Qe.next=D.lastBufferedRequest:D.bufferedRequest=D.lastBufferedRequest,D.bufferedRequestCount+=1}else $(te,D,!1,Ee,pe,Te,V);return Pe}function $(te,D,ce,pe,Te,V,q){D.writelen=pe,D.writecb=q,D.writing=!0,D.sync=!0,D.destroyed?D.onwrite(new B("write")):ce?te._writev(Te,D.onwrite):te._write(Te,V,D.onwrite),D.sync=!1}function Ke(te,D,ce,pe,Te){--D.pendingcb,ce?(et.nextTick(Te,pe),et.nextTick(Z,te,D),te._writableState.errorEmitted=!0,G(te,pe)):(Te(pe),te._writableState.errorEmitted=!0,G(te,pe),Z(te,D))}function ke(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}function ae(te,D){var ce=te._writableState,pe=ce.sync,Te=ce.writecb;if(typeof Te!="function")throw new I;if(ke(ce),D)Ke(te,ce,pe,D,Te);else{var V=Le(ce)||te.destroyed;!V&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&Ue(te,ce),pe?et.nextTick(ge,te,ce,V,Te):ge(te,ce,V,Te)}}function ge(te,D,ce,pe){ce||xe(te,D),D.pendingcb--,pe(),Z(te,D)}function xe(te,D){D.length===0&&D.needDrain&&(D.needDrain=!1,te.emit("drain"))}function Ue(te,D){D.bufferProcessing=!0;var ce=D.bufferedRequest;if(te._writev&&ce&&ce.next){var pe=D.bufferedRequestCount,Te=new Array(pe),V=D.corkedRequestsFree;V.entry=ce;for(var q=0,Ee=!0;ce;)Te[q]=ce,ce.isBuf||(Ee=!1),ce=ce.next,q+=1;Te.allBuffers=Ee,$(te,D,!0,D.length,Te,"",V.finish),D.pendingcb++,D.lastBufferedRequest=null,V.next?(D.corkedRequestsFree=V.next,V.next=null):D.corkedRequestsFree=new r(D),D.bufferedRequestCount=0}else{for(;ce;){var Pe=ce.chunk,Qe=ce.encoding,je=ce.callback,Ze=D.objectMode?1:Pe.length;if($(te,D,!1,Ze,Pe,Qe,je),ce=ce.next,D.bufferedRequestCount--,D.writing)break}ce===null&&(D.lastBufferedRequest=null)}D.bufferedRequest=ce,D.bufferProcessing=!1}C.prototype._write=function(te,D,ce){ce(new H("_write()"))},C.prototype._writev=null,C.prototype.end=function(te,D,ce){var pe=this._writableState;return typeof te=="function"?(ce=te,te=null,D=null):typeof D=="function"&&(ce=D,D=null),te!=null&&this.write(te,D),pe.corked&&(pe.corked=1,this.uncork()),pe.ending||ie(this,pe,ce),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Le(te){return te.ending&&te.length===0&&te.bufferedRequest===null&&!te.finished&&!te.writing}function ne(te,D){te._final(function(ce){D.pendingcb--,ce&&G(te,ce),D.prefinished=!0,te.emit("prefinish"),Z(te,D)})}function ve(te,D){!D.prefinished&&!D.finalCalled&&(typeof te._final=="function"&&!D.destroyed?(D.pendingcb++,D.finalCalled=!0,et.nextTick(ne,te,D)):(D.prefinished=!0,te.emit("prefinish")))}function Z(te,D){var ce=Le(D);if(ce&&(ve(te,D),D.pendingcb===0&&(D.finished=!0,te.emit("finish"),D.autoDestroy))){var pe=te._readableState;(!pe||pe.autoDestroy&&pe.endEmitted)&&te.destroy()}return ce}function ie(te,D,ce){D.ending=!0,Z(te,D),ce&&(D.finished?et.nextTick(ce):te.once("finish",ce)),D.ended=!0,te.writable=!1}function he(te,D,ce){var pe=te.entry;for(te.entry=null;pe;){var Te=pe.callback;D.pendingcb--,Te(ce),pe=pe.next}D.corkedRequestsFree.next=te}return Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(D){this._writableState&&(this._writableState.destroyed=D)}}),C.prototype.destroy=p.destroy,C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(te,D){D(te)},Ig}var xg,tS;function el(){if(tS)return xg;tS=1;var r=Object.keys||function(g){var y=[];for(var w in g)y.push(w);return y};xg=c;var e=L1(),n=U1();fl()(c,e);for(var a=r(n.prototype),o=0;o<a.length;o++){var l=a[o];c.prototype[l]||(c.prototype[l]=n.prototype[l])}function c(g){if(!(this instanceof c))return new c(g);e.call(this,g),n.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function d(){this._writableState.ended||et.nextTick(p,this)}function p(g){g.end()}return Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),xg}var Og={},nS;function rS(){if(nS)return Og;nS=1;var r=b1().Buffer,e=r.isEncoding||function(O){switch(O=""+O,O&&O.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(O){if(!O)return"utf8";for(var L;;)switch(O){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return O;default:if(L)return;O=(""+O).toLowerCase(),L=!0}}function a(O){var L=n(O);if(typeof L!="string"&&(r.isEncoding===e||!e(O)))throw new Error("Unknown encoding: "+O);return L||O}Og.StringDecoder=o;function o(O){this.encoding=a(O);var L;switch(this.encoding){case"utf16le":this.text=w,this.end=R,L=4;break;case"utf8":this.fillLast=p,L=4;break;case"base64":this.text=H,this.end=I,L=3;break;default:this.write=j,this.end=B;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(L)}o.prototype.write=function(O){if(O.length===0)return"";var L,F;if(this.lastNeed){if(L=this.fillLast(O),L===void 0)return"";F=this.lastNeed,this.lastNeed=0}else F=0;return F<O.length?L?L+this.text(O,F):this.text(O,F):L||""},o.prototype.end=y,o.prototype.text=g,o.prototype.fillLast=function(O){if(this.lastNeed<=O.length)return O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,O.length),this.lastNeed-=O.length};function l(O){return O<=127?0:O>>5===6?2:O>>4===14?3:O>>3===30?4:O>>6===2?-1:-2}function c(O,L,F){var G=L.length-1;if(G<F)return 0;var X=l(L[G]);return X>=0?(X>0&&(O.lastNeed=X-1),X):--G<F||X===-2?0:(X=l(L[G]),X>=0?(X>0&&(O.lastNeed=X-2),X):--G<F||X===-2?0:(X=l(L[G]),X>=0?(X>0&&(X===2?X=0:O.lastNeed=X-3),X):0))}function d(O,L,F){if((L[0]&192)!==128)return O.lastNeed=0,"";if(O.lastNeed>1&&L.length>1){if((L[1]&192)!==128)return O.lastNeed=1,"";if(O.lastNeed>2&&L.length>2&&(L[2]&192)!==128)return O.lastNeed=2,""}}function p(O){var L=this.lastTotal-this.lastNeed,F=d(this,O);if(F!==void 0)return F;if(this.lastNeed<=O.length)return O.copy(this.lastChar,L,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);O.copy(this.lastChar,L,0,O.length),this.lastNeed-=O.length}function g(O,L){var F=c(this,O,L);if(!this.lastNeed)return O.toString("utf8",L);this.lastTotal=F;var G=O.length-(F-this.lastNeed);return O.copy(this.lastChar,0,G),O.toString("utf8",L,G)}function y(O){var L=O&&O.length?this.write(O):"";return this.lastNeed?L+"":L}function w(O,L){if((O.length-L)%2===0){var F=O.toString("utf16le",L);if(F){var G=F.charCodeAt(F.length-1);if(G>=55296&&G<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1],F.slice(0,-1)}return F}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=O[O.length-1],O.toString("utf16le",L,O.length-1)}function R(O){var L=O&&O.length?this.write(O):"";if(this.lastNeed){var F=this.lastTotal-this.lastNeed;return L+this.lastChar.toString("utf16le",0,F)}return L}function H(O,L){var F=(O.length-L)%3;return F===0?O.toString("base64",L):(this.lastNeed=3-F,this.lastTotal=3,F===1?this.lastChar[0]=O[O.length-1]:(this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1]),O.toString("base64",L,O.length-F))}function I(O){var L=O&&O.length?this.write(O):"";return this.lastNeed?L+this.lastChar.toString("base64",0,3-this.lastNeed):L}function j(O){return O.toString(this.encoding)}function B(O){return O&&O.length?this.write(O):""}return Og}var Dg,iS;function B_(){if(iS)return Dg;iS=1;var r=hl().codes.ERR_STREAM_PREMATURE_CLOSE;function e(l){var c=!1;return function(){if(!c){c=!0;for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];l.apply(this,p)}}}function n(){}function a(l){return l.setHeader&&typeof l.abort=="function"}function o(l,c,d){if(typeof c=="function")return o(l,null,c);c||(c={}),d=e(d||n);var p=c.readable||c.readable!==!1&&l.readable,g=c.writable||c.writable!==!1&&l.writable,y=function(){l.writable||R()},w=l._writableState&&l._writableState.finished,R=function(){g=!1,w=!0,p||d.call(l)},H=l._readableState&&l._readableState.endEmitted,I=function(){p=!1,H=!0,g||d.call(l)},j=function(F){d.call(l,F)},B=function(){var F;if(p&&!H)return(!l._readableState||!l._readableState.ended)&&(F=new r),d.call(l,F);if(g&&!w)return(!l._writableState||!l._writableState.ended)&&(F=new r),d.call(l,F)},O=function(){l.req.on("finish",R)};return a(l)?(l.on("complete",R),l.on("abort",B),l.req?O():l.on("request",O)):g&&!l._writableState&&(l.on("end",y),l.on("close",y)),l.on("end",I),l.on("finish",R),c.error!==!1&&l.on("error",j),l.on("close",B),function(){l.removeListener("complete",R),l.removeListener("abort",B),l.removeListener("request",O),l.req&&l.req.removeListener("finish",R),l.removeListener("end",y),l.removeListener("close",y),l.removeListener("finish",R),l.removeListener("end",I),l.removeListener("error",j),l.removeListener("close",B)}}return Dg=o,Dg}var Ng,aS;function hL(){if(aS)return Ng;aS=1;var r;function e(F,G,X){return G=n(G),G in F?Object.defineProperty(F,G,{value:X,enumerable:!0,configurable:!0,writable:!0}):F[G]=X,F}function n(F){var G=a(F,"string");return typeof G=="symbol"?G:String(G)}function a(F,G){if(typeof F!="object"||F===null)return F;var X=F[Symbol.toPrimitive];if(X!==void 0){var J=X.call(F,G);if(typeof J!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(F)}var o=B_(),l=Symbol("lastResolve"),c=Symbol("lastReject"),d=Symbol("error"),p=Symbol("ended"),g=Symbol("lastPromise"),y=Symbol("handlePromise"),w=Symbol("stream");function R(F,G){return{value:F,done:G}}function H(F){var G=F[l];if(G!==null){var X=F[w].read();X!==null&&(F[g]=null,F[l]=null,F[c]=null,G(R(X,!1)))}}function I(F){et.nextTick(H,F)}function j(F,G){return function(X,J){F.then(function(){if(G[p]){X(R(void 0,!0));return}G[y](X,J)},J)}}var B=Object.getPrototypeOf(function(){}),O=Object.setPrototypeOf((r={get stream(){return this[w]},next:function(){var G=this,X=this[d];if(X!==null)return Promise.reject(X);if(this[p])return Promise.resolve(R(void 0,!0));if(this[w].destroyed)return new Promise(function(P,K){et.nextTick(function(){G[d]?K(G[d]):P(R(void 0,!0))})});var J=this[g],x;if(J)x=new Promise(j(J,this));else{var C=this[w].read();if(C!==null)return Promise.resolve(R(C,!1));x=new Promise(this[y])}return this[g]=x,x}},e(r,Symbol.asyncIterator,function(){return this}),e(r,"return",function(){var G=this;return new Promise(function(X,J){G[w].destroy(null,function(x){if(x){J(x);return}X(R(void 0,!0))})})}),r),B),L=function(G){var X,J=Object.create(O,(X={},e(X,w,{value:G,writable:!0}),e(X,l,{value:null,writable:!0}),e(X,c,{value:null,writable:!0}),e(X,d,{value:null,writable:!0}),e(X,p,{value:G._readableState.endEmitted,writable:!0}),e(X,y,{value:function(C,P){var K=J[w].read();K?(J[g]=null,J[l]=null,J[c]=null,C(R(K,!1))):(J[l]=C,J[c]=P)},writable:!0}),X));return J[g]=null,o(G,function(x){if(x&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"){var C=J[c];C!==null&&(J[g]=null,J[l]=null,J[c]=null,C(x)),J[d]=x;return}var P=J[l];P!==null&&(J[g]=null,J[l]=null,J[c]=null,P(R(void 0,!0))),J[p]=!0}),G.on("readable",I.bind(null,J)),J};return Ng=L,Ng}var Mg,sS;function dL(){return sS||(sS=1,Mg=function(){throw new Error("Readable.from is not available in the browser")}),Mg}var Pg,oS;function L1(){if(oS)return Pg;oS=1,Pg=P;var r;P.ReadableState=C,T1().EventEmitter;var e=function(q,Ee){return q.listeners(Ee).length},n=S1(),a=Ju().Buffer,o=(typeof Yr<"u"?Yr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function l(V){return a.from(V)}function c(V){return a.isBuffer(V)||V instanceof o}var d=P1(),p;d&&d.debuglog?p=d.debuglog("stream"):p=function(){};var g=cL(),y=k1(),w=B1(),R=w.getHighWaterMark,H=hl().codes,I=H.ERR_INVALID_ARG_TYPE,j=H.ERR_STREAM_PUSH_AFTER_EOF,B=H.ERR_METHOD_NOT_IMPLEMENTED,O=H.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,L,F,G;fl()(P,n);var X=y.errorOrDestroy,J=["error","close","destroy","pause","resume"];function x(V,q,Ee){if(typeof V.prependListener=="function")return V.prependListener(q,Ee);!V._events||!V._events[q]?V.on(q,Ee):Array.isArray(V._events[q])?V._events[q].unshift(Ee):V._events[q]=[Ee,V._events[q]]}function C(V,q,Ee){r=r||el(),V=V||{},typeof Ee!="boolean"&&(Ee=q instanceof r),this.objectMode=!!V.objectMode,Ee&&(this.objectMode=this.objectMode||!!V.readableObjectMode),this.highWaterMark=R(this,V,"readableHighWaterMark",Ee),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.destroyed=!1,this.defaultEncoding=V.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,V.encoding&&(L||(L=rS().StringDecoder),this.decoder=new L(V.encoding),this.encoding=V.encoding)}function P(V){if(r=r||el(),!(this instanceof P))return new P(V);var q=this instanceof r;this._readableState=new C(V,this,q),this.readable=!0,V&&(typeof V.read=="function"&&(this._read=V.read),typeof V.destroy=="function"&&(this._destroy=V.destroy)),n.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(q){this._readableState&&(this._readableState.destroyed=q)}}),P.prototype.destroy=y.destroy,P.prototype._undestroy=y.undestroy,P.prototype._destroy=function(V,q){q(V)},P.prototype.push=function(V,q){var Ee=this._readableState,Pe;return Ee.objectMode?Pe=!0:typeof V=="string"&&(q=q||Ee.defaultEncoding,q!==Ee.encoding&&(V=a.from(V,q),q=""),Pe=!0),K(this,V,q,!1,Pe)},P.prototype.unshift=function(V){return K(this,V,null,!0,!1)};function K(V,q,Ee,Pe,Qe){p("readableAddChunk",q);var je=V._readableState;if(q===null)je.reading=!1,ae(V,je);else{var Ze;if(Qe||(Ze=k(je,q)),Ze)X(V,Ze);else if(je.objectMode||q&&q.length>0)if(typeof q!="string"&&!je.objectMode&&Object.getPrototypeOf(q)!==a.prototype&&(q=l(q)),Pe)je.endEmitted?X(V,new O):ee(V,je,q,!0);else if(je.ended)X(V,new j);else{if(je.destroyed)return!1;je.reading=!1,je.decoder&&!Ee?(q=je.decoder.write(q),je.objectMode||q.length!==0?ee(V,je,q,!1):Ue(V,je)):ee(V,je,q,!1)}else Pe||(je.reading=!1,Ue(V,je))}return!je.ended&&(je.length<je.highWaterMark||je.length===0)}function ee(V,q,Ee,Pe){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,V.emit("data",Ee)):(q.length+=q.objectMode?1:Ee.length,Pe?q.buffer.unshift(Ee):q.buffer.push(Ee),q.needReadable&&ge(V)),Ue(V,q)}function k(V,q){var Ee;return!c(q)&&typeof q!="string"&&q!==void 0&&!V.objectMode&&(Ee=new I("chunk",["string","Buffer","Uint8Array"],q)),Ee}P.prototype.isPaused=function(){return this._readableState.flowing===!1},P.prototype.setEncoding=function(V){L||(L=rS().StringDecoder);var q=new L(V);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ee=this._readableState.buffer.head,Pe="";Ee!==null;)Pe+=q.write(Ee.data),Ee=Ee.next;return this._readableState.buffer.clear(),Pe!==""&&this._readableState.buffer.push(Pe),this._readableState.length=Pe.length,this};var $=1073741824;function Ke(V){return V>=$?V=$:(V--,V|=V>>>1,V|=V>>>2,V|=V>>>4,V|=V>>>8,V|=V>>>16,V++),V}function ke(V,q){return V<=0||q.length===0&&q.ended?0:q.objectMode?1:V!==V?q.flowing&&q.length?q.buffer.head.data.length:q.length:(V>q.highWaterMark&&(q.highWaterMark=Ke(V)),V<=q.length?V:q.ended?q.length:(q.needReadable=!0,0))}P.prototype.read=function(V){p("read",V),V=parseInt(V,10);var q=this._readableState,Ee=V;if(V!==0&&(q.emittedReadable=!1),V===0&&q.needReadable&&((q.highWaterMark!==0?q.length>=q.highWaterMark:q.length>0)||q.ended))return p("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?ce(this):ge(this),null;if(V=ke(V,q),V===0&&q.ended)return q.length===0&&ce(this),null;var Pe=q.needReadable;p("need readable",Pe),(q.length===0||q.length-V<q.highWaterMark)&&(Pe=!0,p("length less than watermark",Pe)),q.ended||q.reading?(Pe=!1,p("reading or ended",Pe)):Pe&&(p("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||(V=ke(Ee,q)));var Qe;return V>0?Qe=D(V,q):Qe=null,Qe===null?(q.needReadable=q.length<=q.highWaterMark,V=0):(q.length-=V,q.awaitDrain=0),q.length===0&&(q.ended||(q.needReadable=!0),Ee!==V&&q.ended&&ce(this)),Qe!==null&&this.emit("data",Qe),Qe};function ae(V,q){if(p("onEofChunk"),!q.ended){if(q.decoder){var Ee=q.decoder.end();Ee&&Ee.length&&(q.buffer.push(Ee),q.length+=q.objectMode?1:Ee.length)}q.ended=!0,q.sync?ge(V):(q.needReadable=!1,q.emittedReadable||(q.emittedReadable=!0,xe(V)))}}function ge(V){var q=V._readableState;p("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(p("emitReadable",q.flowing),q.emittedReadable=!0,et.nextTick(xe,V))}function xe(V){var q=V._readableState;p("emitReadable_",q.destroyed,q.length,q.ended),!q.destroyed&&(q.length||q.ended)&&(V.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,te(V)}function Ue(V,q){q.readingMore||(q.readingMore=!0,et.nextTick(Le,V,q))}function Le(V,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){var Ee=q.length;if(p("maybeReadMore read 0"),V.read(0),Ee===q.length)break}q.readingMore=!1}P.prototype._read=function(V){X(this,new B("_read()"))},P.prototype.pipe=function(V,q){var Ee=this,Pe=this._readableState;switch(Pe.pipesCount){case 0:Pe.pipes=V;break;case 1:Pe.pipes=[Pe.pipes,V];break;default:Pe.pipes.push(V);break}Pe.pipesCount+=1,p("pipe count=%d opts=%j",Pe.pipesCount,q);var Qe=(!q||q.end!==!1)&&V!==et.stdout&&V!==et.stderr,je=Qe?cn:Tt;Pe.endEmitted?et.nextTick(je):Ee.once("end",je),V.on("unpipe",Ze);function Ze(Mt,Vt){p("onunpipe"),Mt===Ee&&Vt&&Vt.hasUnpiped===!1&&(Vt.hasUnpiped=!0,en())}function cn(){p("onend"),V.end()}var Ie=ne(Ee);V.on("drain",Ie);var Xt=!1;function en(){p("cleanup"),V.removeListener("close",_t),V.removeListener("finish",nn),V.removeListener("drain",Ie),V.removeListener("error",bt),V.removeListener("unpipe",Ze),Ee.removeListener("end",cn),Ee.removeListener("end",Tt),Ee.removeListener("data",wt),Xt=!0,Pe.awaitDrain&&(!V._writableState||V._writableState.needDrain)&&Ie()}Ee.on("data",wt);function wt(Mt){p("ondata");var Vt=V.write(Mt);p("dest.write",Vt),Vt===!1&&((Pe.pipesCount===1&&Pe.pipes===V||Pe.pipesCount>1&&Te(Pe.pipes,V)!==-1)&&!Xt&&(p("false write response, pause",Pe.awaitDrain),Pe.awaitDrain++),Ee.pause())}function bt(Mt){p("onerror",Mt),Tt(),V.removeListener("error",bt),e(V,"error")===0&&X(V,Mt)}x(V,"error",bt);function _t(){V.removeListener("finish",nn),Tt()}V.once("close",_t);function nn(){p("onfinish"),V.removeListener("close",_t),Tt()}V.once("finish",nn);function Tt(){p("unpipe"),Ee.unpipe(V)}return V.emit("pipe",Ee),Pe.flowing||(p("pipe resume"),Ee.resume()),V};function ne(V){return function(){var Ee=V._readableState;p("pipeOnDrain",Ee.awaitDrain),Ee.awaitDrain&&Ee.awaitDrain--,Ee.awaitDrain===0&&e(V,"data")&&(Ee.flowing=!0,te(V))}}P.prototype.unpipe=function(V){var q=this._readableState,Ee={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return V&&V!==q.pipes?this:(V||(V=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,V&&V.emit("unpipe",this,Ee),this);if(!V){var Pe=q.pipes,Qe=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var je=0;je<Qe;je++)Pe[je].emit("unpipe",this,{hasUnpiped:!1});return this}var Ze=Te(q.pipes,V);return Ze===-1?this:(q.pipes.splice(Ze,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),V.emit("unpipe",this,Ee),this)},P.prototype.on=function(V,q){var Ee=n.prototype.on.call(this,V,q),Pe=this._readableState;return V==="data"?(Pe.readableListening=this.listenerCount("readable")>0,Pe.flowing!==!1&&this.resume()):V==="readable"&&!Pe.endEmitted&&!Pe.readableListening&&(Pe.readableListening=Pe.needReadable=!0,Pe.flowing=!1,Pe.emittedReadable=!1,p("on readable",Pe.length,Pe.reading),Pe.length?ge(this):Pe.reading||et.nextTick(Z,this)),Ee},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(V,q){var Ee=n.prototype.removeListener.call(this,V,q);return V==="readable"&&et.nextTick(ve,this),Ee},P.prototype.removeAllListeners=function(V){var q=n.prototype.removeAllListeners.apply(this,arguments);return(V==="readable"||V===void 0)&&et.nextTick(ve,this),q};function ve(V){var q=V._readableState;q.readableListening=V.listenerCount("readable")>0,q.resumeScheduled&&!q.paused?q.flowing=!0:V.listenerCount("data")>0&&V.resume()}function Z(V){p("readable nexttick read 0"),V.read(0)}P.prototype.resume=function(){var V=this._readableState;return V.flowing||(p("resume"),V.flowing=!V.readableListening,ie(this,V)),V.paused=!1,this};function ie(V,q){q.resumeScheduled||(q.resumeScheduled=!0,et.nextTick(he,V,q))}function he(V,q){p("resume",q.reading),q.reading||V.read(0),q.resumeScheduled=!1,V.emit("resume"),te(V),q.flowing&&!q.reading&&V.read(0)}P.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function te(V){var q=V._readableState;for(p("flow",q.flowing);q.flowing&&V.read()!==null;);}P.prototype.wrap=function(V){var q=this,Ee=this._readableState,Pe=!1;V.on("end",function(){if(p("wrapped end"),Ee.decoder&&!Ee.ended){var Ze=Ee.decoder.end();Ze&&Ze.length&&q.push(Ze)}q.push(null)}),V.on("data",function(Ze){if(p("wrapped data"),Ee.decoder&&(Ze=Ee.decoder.write(Ze)),!(Ee.objectMode&&Ze==null)&&!(!Ee.objectMode&&(!Ze||!Ze.length))){var cn=q.push(Ze);cn||(Pe=!0,V.pause())}});for(var Qe in V)this[Qe]===void 0&&typeof V[Qe]=="function"&&(this[Qe]=(function(cn){return function(){return V[cn].apply(V,arguments)}})(Qe));for(var je=0;je<J.length;je++)V.on(J[je],this.emit.bind(this,J[je]));return this._read=function(Ze){p("wrapped _read",Ze),Pe&&(Pe=!1,V.resume())},this},typeof Symbol=="function"&&(P.prototype[Symbol.asyncIterator]=function(){return F===void 0&&(F=hL()),F(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){this._readableState&&(this._readableState.flowing=q)}}),P._fromList=D,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function D(V,q){if(q.length===0)return null;var Ee;return q.objectMode?Ee=q.buffer.shift():!V||V>=q.length?(q.decoder?Ee=q.buffer.join(""):q.buffer.length===1?Ee=q.buffer.first():Ee=q.buffer.concat(q.length),q.buffer.clear()):Ee=q.buffer.consume(V,q.decoder),Ee}function ce(V){var q=V._readableState;p("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,et.nextTick(pe,q,V))}function pe(V,q){if(p("endReadableNT",V.endEmitted,V.length),!V.endEmitted&&V.length===0&&(V.endEmitted=!0,q.readable=!1,q.emit("end"),V.autoDestroy)){var Ee=q._writableState;(!Ee||Ee.autoDestroy&&Ee.finished)&&q.destroy()}}typeof Symbol=="function"&&(P.from=function(V,q){return G===void 0&&(G=dL()),G(P,V,q)});function Te(V,q){for(var Ee=0,Pe=V.length;Ee<Pe;Ee++)if(V[Ee]===q)return Ee;return-1}return Pg}var kg,lS;function V1(){if(lS)return kg;lS=1,kg=d;var r=hl().codes,e=r.ERR_METHOD_NOT_IMPLEMENTED,n=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=r.ERR_TRANSFORM_WITH_LENGTH_0,l=el();fl()(d,l);function c(y,w){var R=this._transformState;R.transforming=!1;var H=R.writecb;if(H===null)return this.emit("error",new n);R.writechunk=null,R.writecb=null,w!=null&&this.push(w),H(y);var I=this._readableState;I.reading=!1,(I.needReadable||I.length<I.highWaterMark)&&this._read(I.highWaterMark)}function d(y){if(!(this instanceof d))return new d(y);l.call(this,y),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",p)}function p(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(w,R){g(y,w,R)}):g(this,null,null)}d.prototype.push=function(y,w){return this._transformState.needTransform=!1,l.prototype.push.call(this,y,w)},d.prototype._transform=function(y,w,R){R(new e("_transform()"))},d.prototype._write=function(y,w,R){var H=this._transformState;if(H.writecb=R,H.writechunk=y,H.writeencoding=w,!H.transforming){var I=this._readableState;(H.needTransform||I.needReadable||I.length<I.highWaterMark)&&this._read(I.highWaterMark)}},d.prototype._read=function(y){var w=this._transformState;w.writechunk!==null&&!w.transforming?(w.transforming=!0,this._transform(w.writechunk,w.writeencoding,w.afterTransform)):w.needTransform=!0},d.prototype._destroy=function(y,w){l.prototype._destroy.call(this,y,function(R){w(R)})};function g(y,w,R){if(w)return y.emit("error",w);if(R!=null&&y.push(R),y._writableState.length)throw new o;if(y._transformState.transforming)throw new a;return y.push(null)}return kg}var Bg,uS;function pL(){if(uS)return Bg;uS=1,Bg=e;var r=V1();fl()(e,r);function e(n){if(!(this instanceof e))return new e(n);r.call(this,n)}return e.prototype._transform=function(n,a,o){o(null,n)},Bg}var Ug,cS;function mL(){if(cS)return Ug;cS=1;var r;function e(R){var H=!1;return function(){H||(H=!0,R.apply(void 0,arguments))}}var n=hl().codes,a=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function l(R){if(R)throw R}function c(R){return R.setHeader&&typeof R.abort=="function"}function d(R,H,I,j){j=e(j);var B=!1;R.on("close",function(){B=!0}),r===void 0&&(r=B_()),r(R,{readable:H,writable:I},function(L){if(L)return j(L);B=!0,j()});var O=!1;return function(L){if(!B&&!O){if(O=!0,c(R))return R.abort();if(typeof R.destroy=="function")return R.destroy();j(L||new o("pipe"))}}}function p(R){R()}function g(R,H){return R.pipe(H)}function y(R){return!R.length||typeof R[R.length-1]!="function"?l:R.pop()}function w(){for(var R=arguments.length,H=new Array(R),I=0;I<R;I++)H[I]=arguments[I];var j=y(H);if(Array.isArray(H[0])&&(H=H[0]),H.length<2)throw new a("streams");var B,O=H.map(function(L,F){var G=F<H.length-1,X=F>0;return d(L,G,X,function(J){B||(B=J),J&&O.forEach(p),!G&&(O.forEach(p),j(B))})});return H.reduce(g)}return Ug=w,Ug}var fS;function gL(){return fS||(fS=1,(function(r,e){e=r.exports=L1(),e.Stream=e,e.Readable=e,e.Writable=U1(),e.Duplex=el(),e.Transform=V1(),e.PassThrough=pL(),e.finished=B_(),e.pipeline=mL()})(jf,jf.exports)),jf.exports}var Lg,hS;function yL(){if(hS)return Lg;hS=1;let r;return Lg=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Yr):e=>(r||(r=Promise.resolve())).then(e).catch(n=>setTimeout(()=>{throw n},0)),Lg}var Vg,dS;function _L(){if(dS)return Vg;dS=1;function r(n,a){for(const o in a)Object.defineProperty(n,o,{value:a[o],enumerable:!0,configurable:!0});return n}function e(n,a,o){if(!n||typeof n=="string")throw new TypeError("Please pass an Error to err-code");o||(o={}),typeof a=="object"&&(o=a,a=""),a&&(o.code=a);try{return r(n,o)}catch{o.message=n.message,o.stack=n.stack;const c=function(){};return c.prototype=Object.create(Object.getPrototypeOf(n)),r(new c,o)}}return Vg=e,Vg}var jg,pS;function vL(){if(pS)return jg;pS=1;const r=RU()("simple-peer"),e=CU(),n=IU(),a=gL(),o=yL(),l=_L(),{Buffer:c}=Ju(),d=64*1024,p=5*1e3,g=5*1e3;function y(H){return H.replace(/a=ice-options:trickle\s\n/g,"")}function w(H){console.warn(H)}class R extends a.Duplex{constructor(I){if(I=Object.assign({allowHalfOpen:!1},I),super(I),this._id=n(4).toString("hex").slice(0,7),this._debug("new peer %o",I),this.channelName=I.initiator?I.channelName||n(20).toString("hex"):null,this.initiator=I.initiator||!1,this.channelConfig=I.channelConfig||R.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},R.config,I.config),this.offerOptions=I.offerOptions||{},this.answerOptions=I.answerOptions||{},this.sdpTransform=I.sdpTransform||(j=>j),this.streams=I.streams||(I.stream?[I.stream]:[]),this.trickle=I.trickle!==void 0?I.trickle:!0,this.allowHalfTrickle=I.allowHalfTrickle!==void 0?I.allowHalfTrickle:!1,this.iceCompleteTimeout=I.iceCompleteTimeout||p,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=I.wrtc&&typeof I.wrtc=="object"?I.wrtc:e(),!this._wrtc)throw l(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(j){this.destroy(l(j,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=j=>{this._onIceCandidate(j)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(j=>{this.destroy(l(j,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=j=>{this._setupData(j)},this.streams&&this.streams.forEach(j=>{this.addStream(j)}),this._pc.ontrack=j=>{this._onTrack(j)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(I){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof I=="string")try{I=JSON.parse(I)}catch{I={}}this._debug("signal()"),I.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),I.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(I.transceiverRequest.kind,I.transceiverRequest.init)),I.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(I.candidate):this._pendingCandidates.push(I.candidate)),I.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(I)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(j=>{this._addIceCandidate(j)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(j=>{this.destroy(l(j,"ERR_SET_REMOTE_DESCRIPTION"))}),!I.sdp&&!I.candidate&&!I.renegotiate&&!I.transceiverRequest&&this.destroy(l(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(I){const j=new this._wrtc.RTCIceCandidate(I);this._pc.addIceCandidate(j).catch(B=>{!j.address||j.address.endsWith(".local")?w("Ignoring unsupported ICE candidate."):this.destroy(l(B,"ERR_ADD_ICE_CANDIDATE"))})}send(I){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(I)}}addTransceiver(I,j){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(I,j),this._needsNegotiation()}catch(B){this.destroy(l(B,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:I,init:j}})}}addStream(I){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),I.getTracks().forEach(j=>{this.addTrack(j,I)})}}addTrack(I,j){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const B=this._senderMap.get(I)||new Map;let O=B.get(j);if(!O)O=this._pc.addTrack(I,j),B.set(j,O),this._senderMap.set(I,B),this._needsNegotiation();else throw O.removed?l(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):l(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(I,j,B){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const O=this._senderMap.get(I),L=O?O.get(B):null;if(!L)throw l(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");j&&this._senderMap.set(j,O),L.replaceTrack!=null?L.replaceTrack(j):this.destroy(l(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(I,j){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const B=this._senderMap.get(I),O=B?B.get(j):null;if(!O)throw l(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{O.removed=!0,this._pc.removeTrack(O)}catch(L){L.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(O):this.destroy(l(L,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(I){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),I.getTracks().forEach(j=>{this.removeTrack(j,I)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,o(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(I){this._destroy(I,()=>{})}_destroy(I,j){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",I&&(I.message||I)),o(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",I&&(I.message||I)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,I&&this.emit("error",I),this.emit("close"),j()}))}_setupData(I){if(!I.channel)return this.destroy(l(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=I.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=d),this.channelName=this._channel.label,this._channel.onmessage=B=>{this._onChannelMessage(B)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=B=>{const O=B.error instanceof Error?B.error:new Error(`Datachannel error: ${B.message} ${B.filename}:${B.lineno}:${B.colno}`);this.destroy(l(O,"ERR_DATA_CHANNEL"))};let j=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(j&&this._onChannelClose(),j=!0):j=!1},g)}_read(){}_write(I,j,B){if(this.destroyed)return B(l(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(I)}catch(O){return this.destroy(l(O,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>d?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=B):B(null)}else this._debug("write before connect"),this._chunk=I,this._cb=B}_onFinish(){if(this.destroyed)return;const I=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?I():this.once("connect",I)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(I=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(I.sdp=y(I.sdp)),I.sdp=this.sdpTransform(I.sdp);const j=()=>{if(this.destroyed)return;const L=this._pc.localDescription||I;this._debug("signal"),this.emit("signal",{type:L.type,sdp:L.sdp})},B=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?j():this.once("_iceComplete",j))},O=L=>{this.destroy(l(L,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(I).then(B).catch(O)}).catch(I=>{this.destroy(l(I,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(I=>{!I.mid&&I.sender.track&&!I.requested&&(I.requested=!0,this.addTransceiver(I.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(I=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(I.sdp=y(I.sdp)),I.sdp=this.sdpTransform(I.sdp);const j=()=>{if(this.destroyed)return;const L=this._pc.localDescription||I;this._debug("signal"),this.emit("signal",{type:L.type,sdp:L.sdp}),this.initiator||this._requestMissingTransceivers()},B=()=>{this.destroyed||(this.trickle||this._iceComplete?j():this.once("_iceComplete",j))},O=L=>{this.destroy(l(L,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(I).then(B).catch(O)}).catch(I=>{this.destroy(l(I,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(l(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const I=this._pc.iceConnectionState,j=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",I,j),this.emit("iceStateChange",I,j),(I==="connected"||I==="completed")&&(this._pcReady=!0,this._maybeReady()),I==="failed"&&this.destroy(l(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),I==="closed"&&this.destroy(l(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(I){const j=B=>(Object.prototype.toString.call(B.values)==="[object Array]"&&B.values.forEach(O=>{Object.assign(B,O)}),B);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(B=>{const O=[];B.forEach(L=>{O.push(j(L))}),I(null,O)},B=>I(B)):this._pc.getStats.length>0?this._pc.getStats(B=>{if(this.destroyed)return;const O=[];B.result().forEach(L=>{const F={};L.names().forEach(G=>{F[G]=L.stat(G)}),F.id=L.id,F.type=L.type,F.timestamp=L.timestamp,O.push(j(F))}),I(null,O)},B=>I(B)):I(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const I=()=>{this.destroyed||this.getStats((j,B)=>{if(this.destroyed)return;j&&(B=[]);const O={},L={},F={};let G=!1;B.forEach(J=>{(J.type==="remotecandidate"||J.type==="remote-candidate")&&(O[J.id]=J),(J.type==="localcandidate"||J.type==="local-candidate")&&(L[J.id]=J),(J.type==="candidatepair"||J.type==="candidate-pair")&&(F[J.id]=J)});const X=J=>{G=!0;let x=L[J.localCandidateId];x&&(x.ip||x.address)?(this.localAddress=x.ip||x.address,this.localPort=Number(x.port)):x&&x.ipAddress?(this.localAddress=x.ipAddress,this.localPort=Number(x.portNumber)):typeof J.googLocalAddress=="string"&&(x=J.googLocalAddress.split(":"),this.localAddress=x[0],this.localPort=Number(x[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let C=O[J.remoteCandidateId];C&&(C.ip||C.address)?(this.remoteAddress=C.ip||C.address,this.remotePort=Number(C.port)):C&&C.ipAddress?(this.remoteAddress=C.ipAddress,this.remotePort=Number(C.portNumber)):typeof J.googRemoteAddress=="string"&&(C=J.googRemoteAddress.split(":"),this.remoteAddress=C[0],this.remotePort=Number(C[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(B.forEach(J=>{J.type==="transport"&&J.selectedCandidatePairId&&X(F[J.selectedCandidatePairId]),(J.type==="googCandidatePair"&&J.googActiveConnection==="true"||(J.type==="candidatepair"||J.type==="candidate-pair")&&J.selected)&&X(J)}),!G&&(!Object.keys(F).length||Object.keys(L).length)){setTimeout(I,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(x){return this.destroy(l(x,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const J=this._cb;this._cb=null,J(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};I()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>d||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(I=>{this._pc.removeTrack(I),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(I){this.destroyed||(I.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:I.candidate.candidate,sdpMLineIndex:I.candidate.sdpMLineIndex,sdpMid:I.candidate.sdpMid}}):!I.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),I.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(I){if(this.destroyed)return;let j=I.data;j instanceof ArrayBuffer&&(j=c.from(j)),this.push(j)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const I=this._cb;this._cb=null,I(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(I){this.destroyed||I.streams.forEach(j=>{this._debug("on track"),this.emit("track",I.track,j),this._remoteTracks.push({track:I.track,stream:j}),!this._remoteStreams.some(B=>B.id===j.id)&&(this._remoteStreams.push(j),o(()=>{this._debug("on stream"),this.emit("stream",j)}))})}_debug(){const I=[].slice.call(arguments);I[0]="["+this._id+"] "+I[0],r.apply(null,I)}}return R.WEBRTC_SUPPORT=!!e(),R.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},R.channelConfig={},jg=R,jg}var EL=vL();const wL=mS(EL),bL=()=>{const{roomId:r}=cx(),e=rs(),n=r.replace("room-",""),a=ue.useRef(null),o=ue.useRef(null),l=ue.useRef(null),c=ue.useRef(null),d=ue.useRef(null),p=ue.useRef(null),g=ue.useRef(!1),y=ue.useRef(null),w=ue.useRef(null),[R,H]=ue.useState("loading"),[I,j]=ue.useState("waiting"),[B,O]=ue.useState(""),[L,F]=ue.useState(0),[G,X]=ue.useState(!1),[J,x]=ue.useState(!1),C=ae=>{const ge=String(Math.floor(ae/3600)).padStart(2,"0"),xe=String(Math.floor(ae%3600/60)).padStart(2,"0"),Ue=String(ae%60).padStart(2,"0");return`${ge}:${xe}:${Ue}`},P=ue.useCallback(()=>{k(),p.current&&(p.current(),p.current=null),l.current&&(l.current.destroy(),l.current=null),w.current&&(clearInterval(w.current),w.current=null),o.current&&(o.current.srcObject=null),g.current=!1,j("waiting")},[]),K=async()=>{if(!d.current)return;const[ae,ge]=await Promise.all([my(Gn(d.current,"doctorCandidates")),my(Gn(d.current,"customerCandidates"))]);await Promise.all([...ae.docs.map(xe=>Nb(xe.ref)),...ge.docs.map(xe=>Nb(xe.ref))]),await fr(d.current,{offer:null,answer:null})},ee=ue.useCallback(async(ae,ge)=>{if(g.current||!c.current)return;g.current=!0;const xe=new wL({initiator:ae,trickle:!0,stream:c.current,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"}]}});l.current=xe,xe.on("stream",async Le=>{o.current.srcObject=Le,o.current.play().catch(()=>{}),j("active"),y.current||(y.current=Date.now(),w.current=setInterval(()=>{const ne=Math.floor((Date.now()-y.current)/1e3);F(ne)},1e3),await fr(zt(ct,"bookings",n),{status:"in_call",callStartedAt:fu()}))}),xe.on("signal",async Le=>{if(d.current){if(Le.type==="offer")await fr(d.current,{offer:Le});else if(Le.type==="answer")await fr(d.current,{answer:Le});else if(Le.candidate){const ne=ae?"doctorCandidates":"customerCandidates";await n1(Gn(d.current,ne),Le)}}});const Ue=ae?"customerCandidates":"doctorCandidates";Kr(Gn(d.current,Ue),Le=>{Le.docChanges().forEach(ne=>{ne.type==="added"&&xe.signal(ne.doc.data())})}),ge&&xe.signal(ge),xe.on("close",async()=>{if(d.current)try{await fr(d.current,{ended:!0,active:!1,endedAt:fu()})}catch{}P()}),xe.on("error",()=>{P(),d.current&&fr(d.current,{ended:!0,endedAt:fu()}).catch(()=>{})})},[n,P]),k=ue.useCallback(()=>{c.current&&(c.current.getTracks().forEach(ae=>{ae.stop()}),c.current=null)},[]);ue.useEffect(()=>((async()=>{const ge=Gt.currentUser;if(!ge)return;const xe=zt(ct,"bookings",n),Ue=await vh(xe);if(Ue.exists()&&Ue.data().status==="completed"){j("completed"),O("Booking already completed");return}const ne=(await vh(zt(ct,"users",ge.uid))).data()?.role||"customer";H(ne);const ve=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});c.current=ve,a.current.srcObject=ve,d.current=zt(ct,"videoRooms",r),await A_(d.current,{active:!0},{merge:!0}),p.current=Kr(d.current,Z=>{const ie=Z.data();if(ie){if(ie.ended){if(!y.current&&ie.callStartedAt&&ie.callEndedAt){const he=ie.callStartedAt.toMillis?ie.callStartedAt.toMillis():Date.now(),te=ie.callEndedAt.toMillis?ie.callEndedAt.toMillis():Date.now(),D=Math.max(0,Math.floor((te-he)/1e3));F(D)}c.current&&(c.current.getTracks().forEach(he=>he.stop()),c.current=null),P(),window.location.href="/"}ne==="doctor"&&!ie.offer&&!g.current&&ee(!0),ne==="customer"&&ie.offer&&!g.current&&ee(!1,ie.offer),ne==="doctor"&&ie.answer&&l.current&&!l.current._answered&&(l.current.signal(ie.answer),l.current._answered=!0)}})})(),()=>{c.current&&(c.current.getTracks().forEach(ge=>ge.stop()),c.current=null),P(),c.current?.getTracks().forEach(ge=>ge.stop())}),[n,r,ee,P,e]);const $=()=>{const ae=c.current?.getAudioTracks()[0];ae&&(ae.enabled=!ae.enabled,X(!ae.enabled))},Ke=()=>{const ae=c.current?.getVideoTracks()[0];ae&&(ae.enabled=!ae.enabled,x(!ae.enabled))},ke=async()=>{try{const ae=Date.now(),ge=y.current?Math.floor((ae-y.current)/1e3):L;await fr(zt(ct,"bookings",n),{status:"completed",callEndedAt:fu(),callDurationSeconds:ge}),d.current&&await fr(d.current,{ended:!0,active:!1,endedAt:fu()}),await K(),P(),window.location.href="/"}catch(ae){console.error("Error ending call:",ae),P(),window.location.href="/"}};return I==="completed"?Y.jsx("h2",{style:{color:"#4caf50",textAlign:"center"},children:" Booking Completed"}):Y.jsxs("div",{style:{background:"#000",height:"100vh",position:"relative"},children:[Y.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",transform:"none",WebkitTransform:"none"}}),Y.jsxs("div",{style:{position:"absolute",top:12,left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.6)",color:"#fff",padding:"6px 14px",borderRadius:20,fontSize:14},children:[" ",C(L)]}),Y.jsx("video",{ref:a,autoPlay:!0,muted:!0,playsInline:!0,style:{position:"absolute",bottom:90,right:20,width:120,height:160,borderRadius:12,border:"2px solid #fff",objectFit:"cover",transform:"none",WebkitTransform:"none"}}),Y.jsxs("div",{style:{position:"absolute",bottom:20,width:"100%",display:"flex",justifyContent:"center",gap:12},children:[Y.jsx("button",{onClick:$,children:G?"Unmute":"Mute"}),Y.jsx("button",{onClick:Ke,children:J?"Video On":"Video Off"}),Y.jsx("button",{onClick:ke,style:{background:"red",color:"#fff"},children:"End"})]})]})};function TL(){const r=rs(),[e,n]=ue.useState(null),[a,o]=ue.useState(null),[l,c]=ue.useState(!0);return ue.useEffect(()=>{const d=TD(Gt,async p=>{if(c(!0),p){const g=zt(ct,"users",p.uid),y=await vh(g);if(y.exists()){const w=y.data();n(p),o(w.role);const R=window.location.pathname,H=R.startsWith(`/${w.role}-portal`),I=R.startsWith("/video-call"),j=R==="/login"||R==="/register";w.role&&w.phoneNumber&&!H&&!I&&!j&&(w.role==="customer"?r("/customer-portal",{replace:!0}):w.verificationStatus==="approved"?r(`/${w.role}-portal`,{replace:!0}):(console.log("USER NOT VERIFIED - REDIRECTING TO HOME PAGE"),r("/",{replace:!0}),alert("Your account is currently under verification. Please wait for admin approval.")))}else n(p)}else n(null),o(null);c(!1)});return()=>d()},[r]),l?Y.jsxs("div",{style:{padding:"4rem",textAlign:"center"},children:[Y.jsx("div",{style:{fontSize:"3rem"},children:""}),Y.jsx("h2",{children:"Loading Swasthya Sakhi..."})]}):Y.jsxs(Y.Fragment,{children:[e&&Y.jsx("header",{className:"app-header",style:{background:"linear-gradient(135deg, #4CAF50, #45a049)",color:"white",padding:"1rem 1.5rem",position:"sticky",top:0,zIndex:1e3,boxShadow:"0 2px 10px rgba(0,0,0,0.15)"},children:Y.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",maxWidth:"1400px",margin:"0 auto",gap:"1rem"},children:[Y.jsxs("div",{style:{flex:"1 1 auto",minWidth:"200px"},children:[Y.jsx("h1",{style:{margin:0,fontSize:"clamp(1.4rem, 4vw, 1.8rem)"},children:" Swasthya Sakhi"}),Y.jsx("p",{className:"tagline",style:{margin:"0.25rem 0 0",fontSize:"clamp(0.85rem, 3vw, 1rem)",opacity:.9},children:"Affordable Healthcare for Everyone"})]}),Y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flex:"0 0 auto",flexWrap:"wrap",justifyContent:"flex-end"},children:[Y.jsx("span",{style:{fontSize:"clamp(0.9rem, 3.5vw, 1.1rem)",fontWeight:500,whiteSpace:"nowrap"},children:a?`${a.charAt(0).toUpperCase()+a.slice(1)} Portal`:"Portal"}),Y.jsx("button",{onClick:async()=>{await Gt.signOut(),r("/",{replace:!0})},style:{padding:"0.6rem 1.2rem",background:"rgba(255,255,255,0.2)",color:"white",border:"1px solid rgba(255,255,255,0.4)",borderRadius:"8px",fontSize:"clamp(0.9rem, 3.5vw, 1rem)",cursor:"pointer",transition:"all 0.2s",whiteSpace:"nowrap"},children:"Logout"})]})]})}),Y.jsxs(Ax,{children:[Y.jsx(Fa,{path:"/",element:Y.jsx(_U,{})}),Y.jsx(Fa,{path:"/login",element:Y.jsx(vU,{})}),Y.jsx(Fa,{path:"/register",element:Y.jsx(EU,{})}),Y.jsx(Fa,{path:"/customer-portal",element:e?Y.jsx(bU,{}):Y.jsx(Rf,{to:"/",replace:!0})}),Y.jsx(Fa,{path:"/doctor-portal",element:e?Y.jsx(TU,{}):Y.jsx(Rf,{to:"/",replace:!0})}),Y.jsx(Fa,{path:"/video-call/:roomId",element:e?Y.jsx(bL,{isDoctor:a==="doctor",userId:e.uid}):Y.jsx(Rf,{to:"/",replace:!0})}),Y.jsx(Fa,{path:"*",element:Y.jsx(Rf,{to:"/",replace:!0})})]})]})}function SL(){return Y.jsx(Qx,{children:Y.jsx("div",{className:"App",children:Y.jsx(TL,{})})})}CI.createRoot(document.getElementById("root")).render(Y.jsx(SL,{}));
