(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var zp={exports:{}},au={};var WE;function lI(){if(WE)return au;WE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:r,type:a,key:c,ref:o!==void 0?o:null,props:l}}return au.Fragment=e,au.jsx=n,au.jsxs=n,au}var $E;function uI(){return $E||($E=1,zp.exports=lI()),zp.exports}var ne=uI(),Hp={exports:{}};function cI(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fS={exports:{}},dn=fS.exports={},ii,ai;function Bg(){throw new Error("setTimeout has not been defined")}function Lg(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ii=setTimeout:ii=Bg}catch{ii=Bg}try{typeof clearTimeout=="function"?ai=clearTimeout:ai=Lg}catch{ai=Lg}})();function hS(r){if(ii===setTimeout)return setTimeout(r,0);if((ii===Bg||!ii)&&setTimeout)return ii=setTimeout,setTimeout(r,0);try{return ii(r,0)}catch{try{return ii.call(null,r,0)}catch{return ii.call(this,r,0)}}}function fI(r){if(ai===clearTimeout)return clearTimeout(r);if((ai===Lg||!ai)&&clearTimeout)return ai=clearTimeout,clearTimeout(r);try{return ai(r)}catch{try{return ai.call(null,r)}catch{return ai.call(this,r)}}}var Vi=[],Lo=!1,Os,Vf=-1;function hI(){!Lo||!Os||(Lo=!1,Os.length?Vi=Os.concat(Vi):Vf=-1,Vi.length&&dS())}function dS(){if(!Lo){var r=hS(hI);Lo=!0;for(var e=Vi.length;e;){for(Os=Vi,Vi=[];++Vf<e;)Os&&Os[Vf].run();Vf=-1,e=Vi.length}Os=null,Lo=!1,fI(r)}}dn.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Vi.push(new pS(r,e)),Vi.length===1&&!Lo&&hS(dS)};function pS(r,e){this.fun=r,this.array=e}pS.prototype.run=function(){this.fun.apply(null,this.array)};dn.title="browser";dn.browser=!0;dn.env={};dn.argv=[];dn.version="";dn.versions={};function Zi(){}dn.on=Zi;dn.addListener=Zi;dn.once=Zi;dn.off=Zi;dn.removeListener=Zi;dn.removeAllListeners=Zi;dn.emit=Zi;dn.prependListener=Zi;dn.prependOnceListener=Zi;dn.listeners=function(r){return[]};dn.binding=function(r){throw new Error("process.binding is not supported")};dn.cwd=function(){return"/"};dn.chdir=function(r){throw new Error("process.chdir is not supported")};dn.umask=function(){return 0};var dI=fS.exports;const et=cI(dI);var tt={},XE;function pI(){if(XE)return tt;XE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),R=Symbol.iterator;function z(re){return re===null||typeof re!="object"?null:(re=R&&re[R]||re["@@iterator"],typeof re=="function"?re:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,U={};function D(re,_e,$){this.props=re,this.context=_e,this.refs=U,this.updater=$||I}D.prototype.isReactComponent={},D.prototype.setState=function(re,_e){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,_e,"setState")},D.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function L(){}L.prototype=D.prototype;function j(re,_e,$){this.props=re,this.context=_e,this.refs=U,this.updater=$||I}var G=j.prototype=new L;G.constructor=j,V(G,D.prototype),G.isPureReactComponent=!0;var X=Array.isArray;function J(){}var x={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function O(re,_e,$){var ae=$.ref;return{$$typeof:r,type:re,key:_e,ref:ae!==void 0?ae:null,props:$}}function H(re,_e){return O(re.type,_e,re.props)}function W(re){return typeof re=="object"&&re!==null&&re.$$typeof===r}function N(re){var _e={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function($){return _e[$]})}var M=/\/+/g;function Ue(re,_e){return typeof re=="object"&&re!==null&&re.key!=null?N(""+re.key):_e.toString(36)}function Be(re){switch(re.status){case"fulfilled":return re.value;case"rejected":throw re.reason;default:switch(typeof re.status=="string"?re.then(J,J):(re.status="pending",re.then(function(_e){re.status==="pending"&&(re.status="fulfilled",re.value=_e)},function(_e){re.status==="pending"&&(re.status="rejected",re.reason=_e)})),re.status){case"fulfilled":return re.value;case"rejected":throw re.reason}}throw re}function le(re,_e,$,ae,he){var Z=typeof re;(Z==="undefined"||Z==="boolean")&&(re=null);var te=!1;if(re===null)te=!0;else switch(Z){case"bigint":case"string":case"number":te=!0;break;case"object":switch(re.$$typeof){case r:case e:te=!0;break;case y:return te=re._init,le(te(re._payload),_e,$,ae,he)}}if(te)return he=he(re),te=ae===""?"."+Ue(re,0):ae,X(he)?($="",te!=null&&($=te.replace(M,"$&/")+"/"),le(he,_e,$,"",function(Ne){return Ne})):he!=null&&(W(he)&&(he=H(he,$+(he.key==null||re&&re.key===he.key?"":(""+he.key).replace(M,"$&/")+"/")+te)),_e.push(he)),1;te=0;var ve=ae===""?".":ae+":";if(X(re))for(var Re=0;Re<re.length;Re++)ae=re[Re],Z=ve+Ue(ae,Re),te+=le(ae,_e,$,Z,he);else if(Re=z(re),typeof Re=="function")for(re=Re.call(re),Re=0;!(ae=re.next()).done;)ae=ae.value,Z=ve+Ue(ae,Re++),te+=le(ae,_e,$,Z,he);else if(Z==="object"){if(typeof re.then=="function")return le(Be(re),_e,$,ae,he);throw _e=String(re),Error("Objects are not valid as a React child (found: "+(_e==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":_e)+"). If you meant to render a collection of children, use an array instead.")}return te}function Se(re,_e,$){if(re==null)return re;var ae=[],he=0;return le(re,ae,"","",function(Z){return _e.call($,Z,he++)}),ae}function ke(re){if(re._status===-1){var _e=re._result;_e=_e(),_e.then(function($){(re._status===0||re._status===-1)&&(re._status=1,re._result=$)},function($){(re._status===0||re._status===-1)&&(re._status=2,re._result=$)}),re._status===-1&&(re._status=0,re._result=_e)}if(re._status===1)return re._result.default;throw re._result}var Ve=typeof reportError=="function"?reportError:function(re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var _e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof re=="object"&&re!==null&&typeof re.message=="string"?String(re.message):String(re),error:re});if(!window.dispatchEvent(_e))return}else if(typeof et=="object"&&typeof et.emit=="function"){et.emit("uncaughtException",re);return}console.error(re)},je={map:Se,forEach:function(re,_e,$){Se(re,function(){_e.apply(this,arguments)},$)},count:function(re){var _e=0;return Se(re,function(){_e++}),_e},toArray:function(re){return Se(re,function(_e){return _e})||[]},only:function(re){if(!W(re))throw Error("React.Children.only expected to receive a single React element child.");return re}};return tt.Activity=w,tt.Children=je,tt.Component=D,tt.Fragment=n,tt.Profiler=o,tt.PureComponent=j,tt.StrictMode=a,tt.Suspense=p,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,tt.__COMPILER_RUNTIME={__proto__:null,c:function(re){return x.H.useMemoCache(re)}},tt.cache=function(re){return function(){return re.apply(null,arguments)}},tt.cacheSignal=function(){return null},tt.cloneElement=function(re,_e,$){if(re==null)throw Error("The argument must be a React element, but you passed "+re+".");var ae=V({},re.props),he=re.key;if(_e!=null)for(Z in _e.key!==void 0&&(he=""+_e.key),_e)!C.call(_e,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&_e.ref===void 0||(ae[Z]=_e[Z]);var Z=arguments.length-2;if(Z===1)ae.children=$;else if(1<Z){for(var te=Array(Z),ve=0;ve<Z;ve++)te[ve]=arguments[ve+2];ae.children=te}return O(re.type,he,ae)},tt.createContext=function(re){return re={$$typeof:c,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null},re.Provider=re,re.Consumer={$$typeof:l,_context:re},re},tt.createElement=function(re,_e,$){var ae,he={},Z=null;if(_e!=null)for(ae in _e.key!==void 0&&(Z=""+_e.key),_e)C.call(_e,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(he[ae]=_e[ae]);var te=arguments.length-2;if(te===1)he.children=$;else if(1<te){for(var ve=Array(te),Re=0;Re<te;Re++)ve[Re]=arguments[Re+2];he.children=ve}if(re&&re.defaultProps)for(ae in te=re.defaultProps,te)he[ae]===void 0&&(he[ae]=te[ae]);return O(re,Z,he)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(re){return{$$typeof:d,render:re}},tt.isValidElement=W,tt.lazy=function(re){return{$$typeof:y,_payload:{_status:-1,_result:re},_init:ke}},tt.memo=function(re,_e){return{$$typeof:g,type:re,compare:_e===void 0?null:_e}},tt.startTransition=function(re){var _e=x.T,$={};x.T=$;try{var ae=re(),he=x.S;he!==null&&he($,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(J,Ve)}catch(Z){Ve(Z)}finally{_e!==null&&$.types!==null&&(_e.types=$.types),x.T=_e}},tt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},tt.use=function(re){return x.H.use(re)},tt.useActionState=function(re,_e,$){return x.H.useActionState(re,_e,$)},tt.useCallback=function(re,_e){return x.H.useCallback(re,_e)},tt.useContext=function(re){return x.H.useContext(re)},tt.useDebugValue=function(){},tt.useDeferredValue=function(re,_e){return x.H.useDeferredValue(re,_e)},tt.useEffect=function(re,_e){return x.H.useEffect(re,_e)},tt.useEffectEvent=function(re){return x.H.useEffectEvent(re)},tt.useId=function(){return x.H.useId()},tt.useImperativeHandle=function(re,_e,$){return x.H.useImperativeHandle(re,_e,$)},tt.useInsertionEffect=function(re,_e){return x.H.useInsertionEffect(re,_e)},tt.useLayoutEffect=function(re,_e){return x.H.useLayoutEffect(re,_e)},tt.useMemo=function(re,_e){return x.H.useMemo(re,_e)},tt.useOptimistic=function(re,_e){return x.H.useOptimistic(re,_e)},tt.useReducer=function(re,_e,$){return x.H.useReducer(re,_e,$)},tt.useRef=function(re){return x.H.useRef(re)},tt.useState=function(re){return x.H.useState(re)},tt.useSyncExternalStore=function(re,_e,$){return x.H.useSyncExternalStore(re,_e,$)},tt.useTransition=function(){return x.H.useTransition()},tt.version="19.2.4",tt}var JE;function hy(){return JE||(JE=1,Hp.exports=pI()),Hp.exports}var ue=hy(),Gp={exports:{}},su={},Kp={exports:{}},Yp={};var ZE;function mI(){return ZE||(ZE=1,(function(r){function e(le,Se){var ke=le.length;le.push(Se);e:for(;0<ke;){var Ve=ke-1>>>1,je=le[Ve];if(0<o(je,Se))le[Ve]=Se,le[ke]=je,ke=Ve;else break e}}function n(le){return le.length===0?null:le[0]}function a(le){if(le.length===0)return null;var Se=le[0],ke=le.pop();if(ke!==Se){le[0]=ke;e:for(var Ve=0,je=le.length,re=je>>>1;Ve<re;){var _e=2*(Ve+1)-1,$=le[_e],ae=_e+1,he=le[ae];if(0>o($,ke))ae<je&&0>o(he,$)?(le[Ve]=he,le[ae]=ke,Ve=ae):(le[Ve]=$,le[_e]=ke,Ve=_e);else if(ae<je&&0>o(he,ke))le[Ve]=he,le[ae]=ke,Ve=ae;else break e}}return Se}function o(le,Se){var ke=le.sortIndex-Se.sortIndex;return ke!==0?ke:le.id-Se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,w=null,R=3,z=!1,I=!1,V=!1,U=!1,D=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function G(le){for(var Se=n(g);Se!==null;){if(Se.callback===null)a(g);else if(Se.startTime<=le)a(g),Se.sortIndex=Se.expirationTime,e(p,Se);else break;Se=n(g)}}function X(le){if(V=!1,G(le),!I)if(n(p)!==null)I=!0,J||(J=!0,N());else{var Se=n(g);Se!==null&&Be(X,Se.startTime-le)}}var J=!1,x=-1,C=5,O=-1;function H(){return U?!0:!(r.unstable_now()-O<C)}function W(){if(U=!1,J){var le=r.unstable_now();O=le;var Se=!0;try{e:{I=!1,V&&(V=!1,L(x),x=-1),z=!0;var ke=R;try{t:{for(G(le),w=n(p);w!==null&&!(w.expirationTime>le&&H());){var Ve=w.callback;if(typeof Ve=="function"){w.callback=null,R=w.priorityLevel;var je=Ve(w.expirationTime<=le);if(le=r.unstable_now(),typeof je=="function"){w.callback=je,G(le),Se=!0;break t}w===n(p)&&a(p),G(le)}else a(p);w=n(p)}if(w!==null)Se=!0;else{var re=n(g);re!==null&&Be(X,re.startTime-le),Se=!1}}break e}finally{w=null,R=ke,z=!1}Se=void 0}}finally{Se?N():J=!1}}}var N;if(typeof j=="function")N=function(){j(W)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Ue=M.port2;M.port1.onmessage=W,N=function(){Ue.postMessage(null)}}else N=function(){D(W,0)};function Be(le,Se){x=D(function(){le(r.unstable_now())},Se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(le){le.callback=null},r.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<le?Math.floor(1e3/le):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(le){switch(R){case 1:case 2:case 3:var Se=3;break;default:Se=R}var ke=R;R=Se;try{return le()}finally{R=ke}},r.unstable_requestPaint=function(){U=!0},r.unstable_runWithPriority=function(le,Se){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ke=R;R=le;try{return Se()}finally{R=ke}},r.unstable_scheduleCallback=function(le,Se,ke){var Ve=r.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?Ve+ke:Ve):ke=Ve,le){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=ke+je,le={id:y++,callback:Se,priorityLevel:le,startTime:ke,expirationTime:je,sortIndex:-1},ke>Ve?(le.sortIndex=ke,e(g,le),n(p)===null&&le===n(g)&&(V?(L(x),x=-1):V=!0,Be(X,ke-Ve))):(le.sortIndex=je,e(p,le),I||z||(I=!0,J||(J=!0,N()))),le},r.unstable_shouldYield=H,r.unstable_wrapCallback=function(le){var Se=R;return function(){var ke=R;R=Se;try{return le.apply(this,arguments)}finally{R=ke}}}})(Yp)),Yp}var ew;function gI(){return ew||(ew=1,Kp.exports=mI()),Kp.exports}var Qp={exports:{}},jn={};var tw;function yI(){if(tw)return jn;tw=1;var r=hy();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:y}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,jn.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,y)},jn.flushSync=function(p){var g=c.T,y=a.p;try{if(c.T=null,a.p=2,p)return p()}finally{c.T=g,a.p=y,a.d.f()}},jn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},jn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},jn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,w=d(y,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,z=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:R,fetchPriority:z}):y==="script"&&a.d.X(p,{crossOrigin:w,integrity:R,fetchPriority:z,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},jn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},jn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,w=d(y,g.crossOrigin);a.d.L(p,y,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},jn.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=d(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},jn.requestFormReset=function(p){a.d.r(p)},jn.unstable_batchedUpdates=function(p,g){return p(g)},jn.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},jn.useFormStatus=function(){return c.H.useHostTransitionStatus()},jn.version="19.2.4",jn}var nw;function _I(){if(nw)return Qp.exports;nw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qp.exports=yI(),Qp.exports}var rw;function vI(){if(rw)return su;rw=1;var r=gI(),e=hy(),n=_I();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function d(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(l(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=l(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,u=i;;){var h=s.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===s)return p(h),t;if(m===u)return p(h),i;m=m.sibling}throw Error(a(188))}if(s.return!==u.return)s=h,u=m;else{for(var S=!1,B=h.child;B;){if(B===s){S=!0,s=h,u=m;break}if(B===u){S=!0,u=h,s=m;break}B=B.sibling}if(!S){for(B=m.child;B;){if(B===s){S=!0,s=m,u=h;break}if(B===u){S=!0,u=m,s=h;break}B=B.sibling}if(!S)throw Error(a(189))}}if(s.alternate!==u)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,R=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),D=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),j=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function N(t){return t===null||typeof t!="object"?null:(t=W&&t[W]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function Ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case D:return"Profiler";case U:return"StrictMode";case X:return"Suspense";case J:return"SuspenseList";case O:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case j:return t.displayName||"Context";case L:return(t._context.displayName||"Context")+".Consumer";case G:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Ue(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return Ue(t(i))}catch{}}return null}var Be=Array.isArray,le=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke={pending:!1,data:null,method:null,action:null},Ve=[],je=-1;function re(t){return{current:t}}function _e(t){0>je||(t.current=Ve[je],Ve[je]=null,je--)}function $(t,i){je++,Ve[je]=t.current,t.current=i}var ae=re(null),he=re(null),Z=re(null),te=re(null);function ve(t,i){switch($(Z,i),$(he,t),$(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?_E(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=_E(i),t=vE(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}_e(ae),$(ae,t)}function Re(){_e(ae),_e(he),_e(Z)}function Ne(t){t.memoizedState!==null&&$(te,t);var i=ae.current,s=vE(i,t.type);i!==s&&($(he,t),$(ae,s))}function F(t){he.current===t&&(_e(ae),_e(he)),te.current===t&&(_e(te),tu._currentValue=ke)}var K,be;function Pe(t){if(K===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);K=i&&i[1]||"",be=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+K+t+be}var $e=!1;function Fe(t,i){if(!t||$e)return"";$e=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var Oe=function(){throw Error()};if(Object.defineProperty(Oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Oe,[])}catch(Ee){var ge=Ee}Reflect.construct(t,[],Oe)}else{try{Oe.call()}catch(Ee){ge=Ee}t.call(Oe.prototype)}}else{try{throw Error()}catch(Ee){ge=Ee}(Oe=t())&&typeof Oe.catch=="function"&&Oe.catch(function(){})}}catch(Ee){if(Ee&&ge&&typeof Ee.stack=="string")return[Ee.stack,ge.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),S=m[0],B=m[1];if(S&&B){var ee=S.split(`
`),me=B.split(`
`);for(h=u=0;u<ee.length&&!ee[u].includes("DetermineComponentFrameRoot");)u++;for(;h<me.length&&!me[h].includes("DetermineComponentFrameRoot");)h++;if(u===ee.length||h===me.length)for(u=ee.length-1,h=me.length-1;1<=u&&0<=h&&ee[u]!==me[h];)h--;for(;1<=u&&0<=h;u--,h--)if(ee[u]!==me[h]){if(u!==1||h!==1)do if(u--,h--,0>h||ee[u]!==me[h]){var Ae=`
`+ee[u].replace(" at new "," at ");return t.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",t.displayName)),Ae}while(1<=u&&0<=h);break}}}finally{$e=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Pe(s):""}function Ze(t,i){switch(t.tag){case 26:case 27:case 5:return Pe(t.type);case 16:return Pe("Lazy");case 13:return t.child!==i&&i!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return Fe(t.type,!1);case 11:return Fe(t.type.render,!1);case 1:return Fe(t.type,!0);case 31:return Pe("Activity");default:return""}}function on(t){try{var i="",s=null;do i+=Ze(t,s),s=t,t=t.return;while(t);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ce=Object.prototype.hasOwnProperty,Yt=r.unstable_scheduleCallback,$t=r.unstable_cancelCallback,Et=r.unstable_shouldYield,wt=r.unstable_requestPaint,yt=r.unstable_now,Zt=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,Nt=r.unstable_UserBlockingPriority,Lt=r.unstable_NormalPriority,cr=r.unstable_LowPriority,P=r.unstable_IdlePriority,E=r.log,T=r.unstable_setDisableYieldValue,Y=null,ie=null;function de(t){if(typeof E=="function"&&T(t),ie&&typeof ie.setStrictMode=="function")try{ie.setStrictMode(Y,t)}catch{}}var Te=Math.clz32?Math.clz32:Ot,it=Math.log,Tt=Math.LN2;function Ot(t){return t>>>=0,t===0?32:31-(it(t)/Tt|0)|0}var St=256,ot=262144,fr=4194304;function en(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ln(t,i,s){var u=t.pendingLanes;if(u===0)return 0;var h=0,m=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var B=u&134217727;return B!==0?(u=B&~m,u!==0?h=en(u):(S&=B,S!==0?h=en(S):s||(s=B&~t,s!==0&&(h=en(s))))):(B=u&~m,B!==0?h=en(B):S!==0?h=en(S):s||(s=u&~t,s!==0&&(h=en(s)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,s=i&-i,m>=s||m===32&&(s&4194048)!==0)?i:h}function Yr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Qn(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rs(){var t=fr;return fr<<=1,(fr&62914560)===0&&(fr=4194304),t}function k(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function v(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function b(t,i,s,u,h,m){var S=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var B=t.entanglements,ee=t.expirationTimes,me=t.hiddenUpdates;for(s=S&~s;0<s;){var Ae=31-Te(s),Oe=1<<Ae;B[Ae]=0,ee[Ae]=-1;var ge=me[Ae];if(ge!==null)for(me[Ae]=null,Ae=0;Ae<ge.length;Ae++){var Ee=ge[Ae];Ee!==null&&(Ee.lane&=-536870913)}s&=~Oe}u!==0&&Q(t,u,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(S&~i))}function Q(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-Te(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|s&261930}function oe(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var u=31-Te(s),h=1<<u;h&i|t[u]&i&&(t[u]|=i),s&=~h}}function ye(t,i){var s=i&-i;return s=(s&42)!==0?1:Ie(s),(s&(t.suspendedLanes|i))!==0?0:s}function Ie(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function at(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function At(){var t=Se.p;return t!==0?t:(t=window.event,t===void 0?32:qE(t.type))}function Pt(t,i){var s=Se.p;try{return Se.p=t,i()}finally{Se.p=s}}var vt=Math.random().toString(36).slice(2),Xe="__reactFiber$"+vt,xn="__reactProps$"+vt,Qr="__reactContainer$"+vt,ta="__reactEvents$"+vt,Wr="__reactListeners$"+vt,Ju="__reactHandles$"+vt,fl="__reactResources$"+vt,mi="__reactMarker$"+vt;function is(t){delete t[Xe],delete t[xn],delete t[ta],delete t[Wr],delete t[Ju]}function gi(t){var i=t[Xe];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Qr]||s[Xe]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=RE(t);t!==null;){if(s=t[Xe])return s;t=RE(t)}return i}t=s,s=t.parentNode}return null}function yi(t){if(t=t[Xe]||t[Qr]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function as(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function Lr(t){var i=t[fl];return i||(i=t[fl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ln(t){t[mi]=!0}var Qs=new Set,na={};function Wn(t,i){$r(t,i),$r(t+"Capture",i)}function $r(t,i){for(na[t]=i,t=0;t<i.length;t++)Qs.add(i[t])}var Hh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hl={},dl={};function Zu(t){return Ce.call(dl,t)?!0:Ce.call(hl,t)?!1:Hh.test(t)?dl[t]=!0:(hl[t]=!0,!1)}function ra(t,i,s){if(Zu(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function ia(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function Rr(t,i,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+u)}}function $n(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ec(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gh(t,i,s){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,m=u.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(S){s=""+S,m.call(this,S)}}),Object.defineProperty(t,i,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(S){s=""+S},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ws(t){if(!t._valueTracker){var i=ec(t)?"checked":"value";t._valueTracker=Gh(t,i,""+t[i])}}function pl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return t&&(u=ec(t)?t.checked?"true":"false":t.value),t=u,t!==s?(i.setValue(t),!0):!1}function $s(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _i=/[\n"\\]/g;function tn(t){return t.replace(_i,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function aa(t,i,s,u,h,m,S,B){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),i!=null?S==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+$n(i)):t.value!==""+$n(i)&&(t.value=""+$n(i)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),i!=null?Xs(t,S,$n(i)):s!=null?Xs(t,S,$n(s)):u!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?t.name=""+$n(B):t.removeAttribute("name")}function ss(t,i,s,u,h,m,S,B){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Ws(t);return}s=s!=null?""+$n(s):"",i=i!=null?""+$n(i):s,B||i===t.value||(t.value=i),t.defaultValue=i}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=B?t.checked:!!u,t.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),Ws(t)}function Xs(t,i,s){i==="number"&&$s(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Rt(t,i,s,u){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&u&&(t[s].defaultSelected=!0)}else{for(s=""+$n(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function os(t,i,s){if(i!=null&&(i=""+$n(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+$n(s):""}function sa(t,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(a(92));if(Be(u)){if(1<u.length)throw Error(a(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=$n(i),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u),Ws(t)}function Cr(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var Kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ml(t,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,s):typeof s!="number"||s===0||Kh.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function tc(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var h in i)u=i[h],i.hasOwnProperty(h)&&s[h]!==u&&ml(t,h,u)}else for(var m in i)i.hasOwnProperty(m)&&ml(t,m,i[m])}function gl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xr(t){return Qh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Sn(){}var Js=null;function Zs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vi=null,hr=null;function nc(t){var i=yi(t);if(i&&(t=i.stateNode)){var s=t[xn]||null;e:switch(t=i.stateNode,i.type){case"input":if(aa(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+tn(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==t&&u.form===t.form){var h=u[xn]||null;if(!h)throw Error(a(90));aa(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===t.form&&pl(u)}break e;case"textarea":os(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Rt(t,!!s.multiple,i,!1)}}}var yl=!1;function rc(t,i,s){if(yl)return t(i,s);yl=!0;try{var u=t(i);return u}finally{if(yl=!1,(vi!==null||hr!==null)&&(Zc(),vi&&(i=vi,t=hr,hr=vi=null,nc(i),t)))for(i=0;i<t.length;i++)nc(t[i])}}function tr(t,i){var s=t.stateNode;if(s===null)return null;var u=s[xn]||null;if(u===null)return null;s=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_l=!1;if(Vr)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){_l=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{_l=!1}var dr=null,eo=null,Zr=null;function oa(){if(Zr)return Zr;var t,i=eo,s=i.length,u,h="value"in dr?dr.value:dr.textContent,m=h.length;for(t=0;t<s&&i[t]===h[t];t++);var S=s-t;for(u=1;u<=S&&i[s-u]===h[m-u];u++);return Zr=h.slice(t,1<u?1-u:void 0)}function ls(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function la(){return!0}function zt(){return!1}function Vn(t){function i(s,u,h,m,S){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var B in t)t.hasOwnProperty(B)&&(s=t[B],this[B]=s?s(m):m[B]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?la:zt,this.isPropagationStopped=zt,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=la)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=la)},persist:function(){},isPersistent:la}),i}var Ei={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=Vn(Ei),ua=w({},Ei,{view:0,detail:0}),ic=Vn(ua),ca,to,Xn,cs=w({},ua,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ha,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xn&&(Xn&&t.type==="mousemove"?(ca=t.screenX-Xn.screenX,to=t.screenY-Xn.screenY):to=ca=0,Xn=t),ca)},movementY:function(t){return"movementY"in t?t.movementY:to}}),ac=Vn(cs),fs=w({},cs,{dataTransfer:0}),sc=Vn(fs),vl=w({},ua,{relatedTarget:0}),fa=Vn(vl),oc=w({},Ei,{animationName:0,elapsedTime:0,pseudoElement:0}),no=Vn(oc),Wh=w({},Ei,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lc=Vn(Wh),hs=w({},Ei,{data:0}),El=Vn(hs),uc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=bl[t])?!!i[t]:!1}function ha(){return cc}var fc=w({},ua,{key:function(t){if(t.key){var i=uc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ls(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ha,charCode:function(t){return t.type==="keypress"?ls(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ls(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),hc=Vn(fc),wi=w({},cs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tl=Vn(wi),dc=w({},ua,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ha}),pc=Vn(dc),mc=w({},Ei,{propertyName:0,elapsedTime:0,pseudoElement:0}),ro=Vn(mc),Jn=w({},cs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gc=Vn(Jn),yc=w({},Ei,{newState:0,oldState:0}),da=Vn(yc),f=[9,13,27,32],_=Vr&&"CompositionEvent"in window,A=null;Vr&&"documentMode"in document&&(A=document.documentMode);var q=Vr&&"TextEvent"in window&&!A,fe=Vr&&(!_||A&&8<A&&11>=A),we=" ",Le=!1;function Mt(t,i){switch(t){case"keyup":return f.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ut=!1;function An(t,i){switch(t){case"compositionend":return pn(i);case"keypress":return i.which!==32?null:(Le=!0,we);case"textInput":return t=i.data,t===we&&Le?null:t;default:return null}}function Rn(t,i){if(ut)return t==="compositionend"||!_&&Mt(t,i)?(t=oa(),Zr=eo=dr=null,ut=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return fe&&i.locale!=="ko"?null:i.data;default:return null}}var pa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nr(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!pa[t.type]:i==="textarea"}function ds(t,i,s,u){vi?hr?hr.push(u):hr=[u]:vi=u,i=of(i,"onChange"),0<i.length&&(s=new us("onChange","change",null,s,u),t.push({event:s,listeners:i}))}var bi=null,Sl=null;function k1(t){hE(t,0)}function _c(t){var i=as(t);if(pl(i))return t}function D_(t,i){if(t==="change")return i}var N_=!1;if(Vr){var $h;if(Vr){var Xh="oninput"in document;if(!Xh){var M_=document.createElement("div");M_.setAttribute("oninput","return;"),Xh=typeof M_.oninput=="function"}$h=Xh}else $h=!1;N_=$h&&(!document.documentMode||9<document.documentMode)}function P_(){bi&&(bi.detachEvent("onpropertychange",k_),Sl=bi=null)}function k_(t){if(t.propertyName==="value"&&_c(Sl)){var i=[];ds(i,Sl,t,Zs(t)),rc(k1,i)}}function U1(t,i,s){t==="focusin"?(P_(),bi=i,Sl=s,bi.attachEvent("onpropertychange",k_)):t==="focusout"&&P_()}function B1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _c(Sl)}function L1(t,i){if(t==="click")return _c(i)}function V1(t,i){if(t==="input"||t==="change")return _c(i)}function j1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pr=typeof Object.is=="function"?Object.is:j1;function Al(t,i){if(pr(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!Ce.call(i,h)||!pr(t[h],i[h]))return!1}return!0}function U_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function B_(t,i){var s=U_(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=i&&u>=i)return{node:s,offset:i-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=U_(s)}}function L_(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?L_(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function V_(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=$s(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=$s(t.document)}return i}function Jh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var F1=Vr&&"documentMode"in document&&11>=document.documentMode,io=null,Zh=null,Rl=null,ed=!1;function j_(t,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;ed||io==null||io!==$s(u)||(u=io,"selectionStart"in u&&Jh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Rl&&Al(Rl,u)||(Rl=u,u=of(Zh,"onSelect"),0<u.length&&(i=new us("onSelect","select",null,i,s),t.push({event:i,listeners:u}),i.target=io)))}function ps(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var ao={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionrun:ps("Transition","TransitionRun"),transitionstart:ps("Transition","TransitionStart"),transitioncancel:ps("Transition","TransitionCancel"),transitionend:ps("Transition","TransitionEnd")},td={},F_={};Vr&&(F_=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function ms(t){if(td[t])return td[t];if(!ao[t])return t;var i=ao[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in F_)return td[t]=i[s];return t}var q_=ms("animationend"),z_=ms("animationiteration"),H_=ms("animationstart"),q1=ms("transitionrun"),z1=ms("transitionstart"),H1=ms("transitioncancel"),G_=ms("transitionend"),K_=new Map,nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nd.push("scrollEnd");function jr(t,i){K_.set(t,i),Wn(i,[t])}var vc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof et=="object"&&typeof et.emit=="function"){et.emit("uncaughtException",t);return}console.error(t)},Ir=[],so=0,rd=0;function Ec(){for(var t=so,i=rd=so=0;i<t;){var s=Ir[i];Ir[i++]=null;var u=Ir[i];Ir[i++]=null;var h=Ir[i];Ir[i++]=null;var m=Ir[i];if(Ir[i++]=null,u!==null&&h!==null){var S=u.pending;S===null?h.next=h:(h.next=S.next,S.next=h),u.pending=h}m!==0&&Y_(s,h,m)}}function wc(t,i,s,u){Ir[so++]=t,Ir[so++]=i,Ir[so++]=s,Ir[so++]=u,rd|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function id(t,i,s,u){return wc(t,i,s,u),bc(t)}function gs(t,i){return wc(t,null,null,i),bc(t)}function Y_(t,i,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var h=!1,m=t.return;m!==null;)m.childLanes|=s,u=m.alternate,u!==null&&(u.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&i!==null&&(h=31-Te(s),t=m.hiddenUpdates,u=t[h],u===null?t[h]=[i]:u.push(i),i.lane=s|536870912),m):null}function bc(t){if(50<Ql)throw Ql=0,dp=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var oo={};function G1(t,i,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(t,i,s,u){return new G1(t,i,s,u)}function ad(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ti(t,i){var s=t.alternate;return s===null?(s=mr(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function Q_(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Tc(t,i,s,u,h,m){var S=0;if(u=t,typeof t=="function")ad(t)&&(S=1);else if(typeof t=="string")S=$C(t,s,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case O:return t=mr(31,s,i,h),t.elementType=O,t.lanes=m,t;case V:return ys(s.children,h,m,i);case U:S=8,h|=24;break;case D:return t=mr(12,s,i,h|2),t.elementType=D,t.lanes=m,t;case X:return t=mr(13,s,i,h),t.elementType=X,t.lanes=m,t;case J:return t=mr(19,s,i,h),t.elementType=J,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j:S=10;break e;case L:S=9;break e;case G:S=11;break e;case x:S=14;break e;case C:S=16,u=null;break e}S=29,s=Error(a(130,t===null?"null":typeof t,"")),u=null}return i=mr(S,s,i,h),i.elementType=t,i.type=u,i.lanes=m,i}function ys(t,i,s,u){return t=mr(7,t,u,i),t.lanes=s,t}function sd(t,i,s){return t=mr(6,t,null,i),t.lanes=s,t}function W_(t){var i=mr(18,null,null,0);return i.stateNode=t,i}function od(t,i,s){return i=mr(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var $_=new WeakMap;function xr(t,i){if(typeof t=="object"&&t!==null){var s=$_.get(t);return s!==void 0?s:(i={value:t,source:i,stack:on(i)},$_.set(t,i),i)}return{value:t,source:i,stack:on(i)}}var lo=[],uo=0,Sc=null,Cl=0,Or=[],Dr=0,ma=null,ei=1,ti="";function Si(t,i){lo[uo++]=Cl,lo[uo++]=Sc,Sc=t,Cl=i}function X_(t,i,s){Or[Dr++]=ei,Or[Dr++]=ti,Or[Dr++]=ma,ma=t;var u=ei;t=ti;var h=32-Te(u)-1;u&=~(1<<h),s+=1;var m=32-Te(i)+h;if(30<m){var S=h-h%5;m=(u&(1<<S)-1).toString(32),u>>=S,h-=S,ei=1<<32-Te(i)+h|s<<h|u,ti=m+t}else ei=1<<m|s<<h|u,ti=t}function ld(t){t.return!==null&&(Si(t,1),X_(t,1,0))}function ud(t){for(;t===Sc;)Sc=lo[--uo],lo[uo]=null,Cl=lo[--uo],lo[uo]=null;for(;t===ma;)ma=Or[--Dr],Or[Dr]=null,ti=Or[--Dr],Or[Dr]=null,ei=Or[--Dr],Or[Dr]=null}function J_(t,i){Or[Dr++]=ei,Or[Dr++]=ti,Or[Dr++]=ma,ei=i.id,ti=i.overflow,ma=t}var On=null,Ht=null,mt=!1,ga=null,Nr=!1,cd=Error(a(519));function ya(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Il(xr(i,t)),cd}function Z_(t){var i=t.stateNode,s=t.type,u=t.memoizedProps;switch(i[Xe]=t,i[xn]=u,s){case"dialog":ft("cancel",i),ft("close",i);break;case"iframe":case"object":case"embed":ft("load",i);break;case"video":case"audio":for(s=0;s<$l.length;s++)ft($l[s],i);break;case"source":ft("error",i);break;case"img":case"image":case"link":ft("error",i),ft("load",i);break;case"details":ft("toggle",i);break;case"input":ft("invalid",i),ss(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ft("invalid",i);break;case"textarea":ft("invalid",i),sa(i,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||gE(i.textContent,s)?(u.popover!=null&&(ft("beforetoggle",i),ft("toggle",i)),u.onScroll!=null&&ft("scroll",i),u.onScrollEnd!=null&&ft("scrollend",i),u.onClick!=null&&(i.onclick=Sn),i=!0):i=!1,i||ya(t,!0)}function ev(t){for(On=t.return;On;)switch(On.tag){case 5:case 31:case 13:Nr=!1;return;case 27:case 3:Nr=!0;return;default:On=On.return}}function co(t){if(t!==On)return!1;if(!mt)return ev(t),mt=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Ip(t.type,t.memoizedProps)),s=!s),s&&Ht&&ya(t),ev(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Ht=AE(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Ht=AE(t)}else i===27?(i=Ht,Da(t.type)?(t=Mp,Mp=null,Ht=t):Ht=i):Ht=On?Pr(t.stateNode.nextSibling):null;return!0}function _s(){Ht=On=null,mt=!1}function fd(){var t=ga;return t!==null&&(sr===null?sr=t:sr.push.apply(sr,t),ga=null),t}function Il(t){ga===null?ga=[t]:ga.push(t)}var hd=re(null),vs=null,Ai=null;function _a(t,i,s){$(hd,i._currentValue),i._currentValue=s}function Ri(t){t._currentValue=hd.current,_e(hd)}function dd(t,i,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===s)break;t=t.return}}function pd(t,i,s,u){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var S=h.child;m=m.firstContext;e:for(;m!==null;){var B=m;m=h;for(var ee=0;ee<i.length;ee++)if(B.context===i[ee]){m.lanes|=s,B=m.alternate,B!==null&&(B.lanes|=s),dd(m.return,s,t),u||(S=null);break e}m=B.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(a(341));S.lanes|=s,m=S.alternate,m!==null&&(m.lanes|=s),dd(S,s,t),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===t){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function fo(t,i,s,u){t=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var B=h.type;pr(h.pendingProps.value,S.value)||(t!==null?t.push(B):t=[B])}}else if(h===te.current){if(S=h.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(tu):t=[tu])}h=h.return}t!==null&&pd(i,t,s,u),i.flags|=262144}function Ac(t){for(t=t.firstContext;t!==null;){if(!pr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Es(t){vs=t,Ai=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Dn(t){return tv(vs,t)}function Rc(t,i){return vs===null&&Es(t),tv(t,i)}function tv(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ai===null){if(t===null)throw Error(a(308));Ai=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Ai=Ai.next=i;return s}var K1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},Y1=r.unstable_scheduleCallback,Q1=r.unstable_NormalPriority,mn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function md(){return{controller:new K1,data:new Map,refCount:0}}function xl(t){t.refCount--,t.refCount===0&&Y1(Q1,function(){t.controller.abort()})}var Ol=null,gd=0,ho=0,po=null;function W1(t,i){if(Ol===null){var s=Ol=[];gd=0,ho=vp(),po={status:"pending",value:void 0,then:function(u){s.push(u)}}}return gd++,i.then(nv,nv),i}function nv(){if(--gd===0&&Ol!==null){po!==null&&(po.status="fulfilled");var t=Ol;Ol=null,ho=0,po=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function $1(t,i){var s=[],u={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(u.status="rejected",u.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),u}var rv=le.S;le.S=function(t,i){j0=yt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&W1(t,i),rv!==null&&rv(t,i)};var ws=re(null);function yd(){var t=ws.current;return t!==null?t:qt.pooledCache}function Cc(t,i){i===null?$(ws,ws.current):$(ws,i.pool)}function iv(){var t=yd();return t===null?null:{parent:mn._currentValue,pool:t}}var mo=Error(a(460)),_d=Error(a(474)),Ic=Error(a(542)),xc={then:function(){}};function av(t){return t=t.status,t==="fulfilled"||t==="rejected"}function sv(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Sn,Sn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,lv(t),t;default:if(typeof i.status=="string")i.then(Sn,Sn);else{if(t=qt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=u}},function(u){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,lv(t),t}throw Ts=i,mo}}function bs(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ts=s,mo):s}}var Ts=null;function ov(){if(Ts===null)throw Error(a(459));var t=Ts;return Ts=null,t}function lv(t){if(t===mo||t===Ic)throw Error(a(483))}var go=null,Dl=0;function Oc(t){var i=Dl;return Dl+=1,go===null&&(go=[]),sv(go,t,i)}function Nl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Dc(t,i){throw i.$$typeof===R?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function uv(t){function i(ce,se){if(t){var pe=ce.deletions;pe===null?(ce.deletions=[se],ce.flags|=16):pe.push(se)}}function s(ce,se){if(!t)return null;for(;se!==null;)i(ce,se),se=se.sibling;return null}function u(ce){for(var se=new Map;ce!==null;)ce.key!==null?se.set(ce.key,ce):se.set(ce.index,ce),ce=ce.sibling;return se}function h(ce,se){return ce=Ti(ce,se),ce.index=0,ce.sibling=null,ce}function m(ce,se,pe){return ce.index=pe,t?(pe=ce.alternate,pe!==null?(pe=pe.index,pe<se?(ce.flags|=67108866,se):pe):(ce.flags|=67108866,se)):(ce.flags|=1048576,se)}function S(ce){return t&&ce.alternate===null&&(ce.flags|=67108866),ce}function B(ce,se,pe,xe){return se===null||se.tag!==6?(se=sd(pe,ce.mode,xe),se.return=ce,se):(se=h(se,pe),se.return=ce,se)}function ee(ce,se,pe,xe){var Ye=pe.type;return Ye===V?Ae(ce,se,pe.props.children,xe,pe.key):se!==null&&(se.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===C&&bs(Ye)===se.type)?(se=h(se,pe.props),Nl(se,pe),se.return=ce,se):(se=Tc(pe.type,pe.key,pe.props,null,ce.mode,xe),Nl(se,pe),se.return=ce,se)}function me(ce,se,pe,xe){return se===null||se.tag!==4||se.stateNode.containerInfo!==pe.containerInfo||se.stateNode.implementation!==pe.implementation?(se=od(pe,ce.mode,xe),se.return=ce,se):(se=h(se,pe.children||[]),se.return=ce,se)}function Ae(ce,se,pe,xe,Ye){return se===null||se.tag!==7?(se=ys(pe,ce.mode,xe,Ye),se.return=ce,se):(se=h(se,pe),se.return=ce,se)}function Oe(ce,se,pe){if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return se=sd(""+se,ce.mode,pe),se.return=ce,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case z:return pe=Tc(se.type,se.key,se.props,null,ce.mode,pe),Nl(pe,se),pe.return=ce,pe;case I:return se=od(se,ce.mode,pe),se.return=ce,se;case C:return se=bs(se),Oe(ce,se,pe)}if(Be(se)||N(se))return se=ys(se,ce.mode,pe,null),se.return=ce,se;if(typeof se.then=="function")return Oe(ce,Oc(se),pe);if(se.$$typeof===j)return Oe(ce,Rc(ce,se),pe);Dc(ce,se)}return null}function ge(ce,se,pe,xe){var Ye=se!==null?se.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Ye!==null?null:B(ce,se,""+pe,xe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case z:return pe.key===Ye?ee(ce,se,pe,xe):null;case I:return pe.key===Ye?me(ce,se,pe,xe):null;case C:return pe=bs(pe),ge(ce,se,pe,xe)}if(Be(pe)||N(pe))return Ye!==null?null:Ae(ce,se,pe,xe,null);if(typeof pe.then=="function")return ge(ce,se,Oc(pe),xe);if(pe.$$typeof===j)return ge(ce,se,Rc(ce,pe),xe);Dc(ce,pe)}return null}function Ee(ce,se,pe,xe,Ye){if(typeof xe=="string"&&xe!==""||typeof xe=="number"||typeof xe=="bigint")return ce=ce.get(pe)||null,B(se,ce,""+xe,Ye);if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case z:return ce=ce.get(xe.key===null?pe:xe.key)||null,ee(se,ce,xe,Ye);case I:return ce=ce.get(xe.key===null?pe:xe.key)||null,me(se,ce,xe,Ye);case C:return xe=bs(xe),Ee(ce,se,pe,xe,Ye)}if(Be(xe)||N(xe))return ce=ce.get(pe)||null,Ae(se,ce,xe,Ye,null);if(typeof xe.then=="function")return Ee(ce,se,pe,Oc(xe),Ye);if(xe.$$typeof===j)return Ee(ce,se,pe,Rc(se,xe),Ye);Dc(se,xe)}return null}function ze(ce,se,pe,xe){for(var Ye=null,Ct=null,Ke=se,lt=se=0,dt=null;Ke!==null&&lt<pe.length;lt++){Ke.index>lt?(dt=Ke,Ke=null):dt=Ke.sibling;var It=ge(ce,Ke,pe[lt],xe);if(It===null){Ke===null&&(Ke=dt);break}t&&Ke&&It.alternate===null&&i(ce,Ke),se=m(It,se,lt),Ct===null?Ye=It:Ct.sibling=It,Ct=It,Ke=dt}if(lt===pe.length)return s(ce,Ke),mt&&Si(ce,lt),Ye;if(Ke===null){for(;lt<pe.length;lt++)Ke=Oe(ce,pe[lt],xe),Ke!==null&&(se=m(Ke,se,lt),Ct===null?Ye=Ke:Ct.sibling=Ke,Ct=Ke);return mt&&Si(ce,lt),Ye}for(Ke=u(Ke);lt<pe.length;lt++)dt=Ee(Ke,ce,lt,pe[lt],xe),dt!==null&&(t&&dt.alternate!==null&&Ke.delete(dt.key===null?lt:dt.key),se=m(dt,se,lt),Ct===null?Ye=dt:Ct.sibling=dt,Ct=dt);return t&&Ke.forEach(function(Ua){return i(ce,Ua)}),mt&&Si(ce,lt),Ye}function We(ce,se,pe,xe){if(pe==null)throw Error(a(151));for(var Ye=null,Ct=null,Ke=se,lt=se=0,dt=null,It=pe.next();Ke!==null&&!It.done;lt++,It=pe.next()){Ke.index>lt?(dt=Ke,Ke=null):dt=Ke.sibling;var Ua=ge(ce,Ke,It.value,xe);if(Ua===null){Ke===null&&(Ke=dt);break}t&&Ke&&Ua.alternate===null&&i(ce,Ke),se=m(Ua,se,lt),Ct===null?Ye=Ua:Ct.sibling=Ua,Ct=Ua,Ke=dt}if(It.done)return s(ce,Ke),mt&&Si(ce,lt),Ye;if(Ke===null){for(;!It.done;lt++,It=pe.next())It=Oe(ce,It.value,xe),It!==null&&(se=m(It,se,lt),Ct===null?Ye=It:Ct.sibling=It,Ct=It);return mt&&Si(ce,lt),Ye}for(Ke=u(Ke);!It.done;lt++,It=pe.next())It=Ee(Ke,ce,lt,It.value,xe),It!==null&&(t&&It.alternate!==null&&Ke.delete(It.key===null?lt:It.key),se=m(It,se,lt),Ct===null?Ye=It:Ct.sibling=It,Ct=It);return t&&Ke.forEach(function(oI){return i(ce,oI)}),mt&&Si(ce,lt),Ye}function Ft(ce,se,pe,xe){if(typeof pe=="object"&&pe!==null&&pe.type===V&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case z:e:{for(var Ye=pe.key;se!==null;){if(se.key===Ye){if(Ye=pe.type,Ye===V){if(se.tag===7){s(ce,se.sibling),xe=h(se,pe.props.children),xe.return=ce,ce=xe;break e}}else if(se.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===C&&bs(Ye)===se.type){s(ce,se.sibling),xe=h(se,pe.props),Nl(xe,pe),xe.return=ce,ce=xe;break e}s(ce,se);break}else i(ce,se);se=se.sibling}pe.type===V?(xe=ys(pe.props.children,ce.mode,xe,pe.key),xe.return=ce,ce=xe):(xe=Tc(pe.type,pe.key,pe.props,null,ce.mode,xe),Nl(xe,pe),xe.return=ce,ce=xe)}return S(ce);case I:e:{for(Ye=pe.key;se!==null;){if(se.key===Ye)if(se.tag===4&&se.stateNode.containerInfo===pe.containerInfo&&se.stateNode.implementation===pe.implementation){s(ce,se.sibling),xe=h(se,pe.children||[]),xe.return=ce,ce=xe;break e}else{s(ce,se);break}else i(ce,se);se=se.sibling}xe=od(pe,ce.mode,xe),xe.return=ce,ce=xe}return S(ce);case C:return pe=bs(pe),Ft(ce,se,pe,xe)}if(Be(pe))return ze(ce,se,pe,xe);if(N(pe)){if(Ye=N(pe),typeof Ye!="function")throw Error(a(150));return pe=Ye.call(pe),We(ce,se,pe,xe)}if(typeof pe.then=="function")return Ft(ce,se,Oc(pe),xe);if(pe.$$typeof===j)return Ft(ce,se,Rc(ce,pe),xe);Dc(ce,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,se!==null&&se.tag===6?(s(ce,se.sibling),xe=h(se,pe),xe.return=ce,ce=xe):(s(ce,se),xe=sd(pe,ce.mode,xe),xe.return=ce,ce=xe),S(ce)):s(ce,se)}return function(ce,se,pe,xe){try{Dl=0;var Ye=Ft(ce,se,pe,xe);return go=null,Ye}catch(Ke){if(Ke===mo||Ke===Ic)throw Ke;var Ct=mr(29,Ke,null,ce.mode);return Ct.lanes=xe,Ct.return=ce,Ct}}}var Ss=uv(!0),cv=uv(!1),va=!1;function vd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ed(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ea(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wa(t,i,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Dt&2)!==0){var h=u.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),u.pending=i,i=bc(t),Y_(t,null,s),i}return wc(t,u,i,s),bc(t)}function Ml(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,oe(t,s)}}function wd(t,i){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var S={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?h=m=S:m=m.next=S,s=s.next}while(s!==null);m===null?h=m=i:m=m.next=i}else h=m=i;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var bd=!1;function Pl(){if(bd){var t=po;if(t!==null)throw t}}function kl(t,i,s,u){bd=!1;var h=t.updateQueue;va=!1;var m=h.firstBaseUpdate,S=h.lastBaseUpdate,B=h.shared.pending;if(B!==null){h.shared.pending=null;var ee=B,me=ee.next;ee.next=null,S===null?m=me:S.next=me,S=ee;var Ae=t.alternate;Ae!==null&&(Ae=Ae.updateQueue,B=Ae.lastBaseUpdate,B!==S&&(B===null?Ae.firstBaseUpdate=me:B.next=me,Ae.lastBaseUpdate=ee))}if(m!==null){var Oe=h.baseState;S=0,Ae=me=ee=null,B=m;do{var ge=B.lane&-536870913,Ee=ge!==B.lane;if(Ee?(ht&ge)===ge:(u&ge)===ge){ge!==0&&ge===ho&&(bd=!0),Ae!==null&&(Ae=Ae.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var ze=t,We=B;ge=i;var Ft=s;switch(We.tag){case 1:if(ze=We.payload,typeof ze=="function"){Oe=ze.call(Ft,Oe,ge);break e}Oe=ze;break e;case 3:ze.flags=ze.flags&-65537|128;case 0:if(ze=We.payload,ge=typeof ze=="function"?ze.call(Ft,Oe,ge):ze,ge==null)break e;Oe=w({},Oe,ge);break e;case 2:va=!0}}ge=B.callback,ge!==null&&(t.flags|=64,Ee&&(t.flags|=8192),Ee=h.callbacks,Ee===null?h.callbacks=[ge]:Ee.push(ge))}else Ee={lane:ge,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Ae===null?(me=Ae=Ee,ee=Oe):Ae=Ae.next=Ee,S|=ge;if(B=B.next,B===null){if(B=h.shared.pending,B===null)break;Ee=B,B=Ee.next,Ee.next=null,h.lastBaseUpdate=Ee,h.shared.pending=null}}while(!0);Ae===null&&(ee=Oe),h.baseState=ee,h.firstBaseUpdate=me,h.lastBaseUpdate=Ae,m===null&&(h.shared.lanes=0),Ra|=S,t.lanes=S,t.memoizedState=Oe}}function fv(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function hv(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)fv(s[t],i)}var yo=re(null),Nc=re(0);function dv(t,i){t=ki,$(Nc,t),$(yo,i),ki=t|i.baseLanes}function Td(){$(Nc,ki),$(yo,yo.current)}function Sd(){ki=Nc.current,_e(yo),_e(Nc)}var gr=re(null),Mr=null;function ba(t){var i=t.alternate;$(un,un.current&1),$(gr,t),Mr===null&&(i===null||yo.current!==null||i.memoizedState!==null)&&(Mr=t)}function Ad(t){$(un,un.current),$(gr,t),Mr===null&&(Mr=t)}function pv(t){t.tag===22?($(un,un.current),$(gr,t),Mr===null&&(Mr=t)):Ta()}function Ta(){$(un,un.current),$(gr,gr.current)}function yr(t){_e(gr),Mr===t&&(Mr=null),_e(un)}var un=re(0);function Mc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Dp(s)||Np(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ci=0,st=null,Vt=null,gn=null,Pc=!1,_o=!1,As=!1,kc=0,Ul=0,vo=null,X1=0;function nn(){throw Error(a(321))}function Rd(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!pr(t[s],i[s]))return!1;return!0}function Cd(t,i,s,u,h,m){return Ci=m,st=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,le.H=t===null||t.memoizedState===null?Xv:qd,As=!1,m=s(u,h),As=!1,_o&&(m=gv(i,s,u,h)),mv(t),m}function mv(t){le.H=Vl;var i=Vt!==null&&Vt.next!==null;if(Ci=0,gn=Vt=st=null,Pc=!1,Ul=0,vo=null,i)throw Error(a(300));t===null||yn||(t=t.dependencies,t!==null&&Ac(t)&&(yn=!0))}function gv(t,i,s,u){st=t;var h=0;do{if(_o&&(vo=null),Ul=0,_o=!1,25<=h)throw Error(a(301));if(h+=1,gn=Vt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}le.H=Jv,m=i(s,u)}while(_o);return m}function J1(){var t=le.H,i=t.useState()[0];return i=typeof i.then=="function"?Bl(i):i,t=t.useState()[0],(Vt!==null?Vt.memoizedState:null)!==t&&(st.flags|=1024),i}function Id(){var t=kc!==0;return kc=0,t}function xd(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Od(t){if(Pc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Pc=!1}Ci=0,gn=Vt=st=null,_o=!1,Ul=kc=0,vo=null}function Zn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?st.memoizedState=gn=t:gn=gn.next=t,gn}function cn(){if(Vt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var i=gn===null?st.memoizedState:gn.next;if(i!==null)gn=i,Vt=t;else{if(t===null)throw st.alternate===null?Error(a(467)):Error(a(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},gn===null?st.memoizedState=gn=t:gn=gn.next=t}return gn}function Uc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(t){var i=Ul;return Ul+=1,vo===null&&(vo=[]),t=sv(vo,t,i),i=st,(gn===null?i.memoizedState:gn.next)===null&&(i=i.alternate,le.H=i===null||i.memoizedState===null?Xv:qd),t}function Bc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Bl(t);if(t.$$typeof===j)return Dn(t)}throw Error(a(438,String(t)))}function Dd(t){var i=null,s=st.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=st.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Uc(),st.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),u=0;u<t;u++)s[u]=H;return i.index++,s}function Ii(t,i){return typeof i=="function"?i(t):i}function Lc(t){var i=cn();return Nd(i,Vt,t)}function Nd(t,i,s){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=s;var h=t.baseQueue,m=u.pending;if(m!==null){if(h!==null){var S=h.next;h.next=m.next,m.next=S}i.baseQueue=h=m,u.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{i=h.next;var B=S=null,ee=null,me=i,Ae=!1;do{var Oe=me.lane&-536870913;if(Oe!==me.lane?(ht&Oe)===Oe:(Ci&Oe)===Oe){var ge=me.revertLane;if(ge===0)ee!==null&&(ee=ee.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Oe===ho&&(Ae=!0);else if((Ci&ge)===ge){me=me.next,ge===ho&&(Ae=!0);continue}else Oe={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ee===null?(B=ee=Oe,S=m):ee=ee.next=Oe,st.lanes|=ge,Ra|=ge;Oe=me.action,As&&s(m,Oe),m=me.hasEagerState?me.eagerState:s(m,Oe)}else ge={lane:Oe,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ee===null?(B=ee=ge,S=m):ee=ee.next=ge,st.lanes|=Oe,Ra|=Oe;me=me.next}while(me!==null&&me!==i);if(ee===null?S=m:ee.next=B,!pr(m,t.memoizedState)&&(yn=!0,Ae&&(s=po,s!==null)))throw s;t.memoizedState=m,t.baseState=S,t.baseQueue=ee,u.lastRenderedState=m}return h===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Md(t){var i=cn(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var u=s.dispatch,h=s.pending,m=i.memoizedState;if(h!==null){s.pending=null;var S=h=h.next;do m=t(m,S.action),S=S.next;while(S!==h);pr(m,i.memoizedState)||(yn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),s.lastRenderedState=m}return[m,u]}function yv(t,i,s){var u=st,h=cn(),m=mt;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=i();var S=!pr((Vt||h).memoizedState,s);if(S&&(h.memoizedState=s,yn=!0),h=h.queue,Ud(Ev.bind(null,u,h,t),[t]),h.getSnapshot!==i||S||gn!==null&&gn.memoizedState.tag&1){if(u.flags|=2048,Eo(9,{destroy:void 0},vv.bind(null,u,h,s,i),null),qt===null)throw Error(a(349));m||(Ci&127)!==0||_v(u,i,s)}return s}function _v(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=st.updateQueue,i===null?(i=Uc(),st.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function vv(t,i,s,u){i.value=s,i.getSnapshot=u,wv(i)&&bv(t)}function Ev(t,i,s){return s(function(){wv(i)&&bv(t)})}function wv(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!pr(t,s)}catch{return!0}}function bv(t){var i=gs(t,2);i!==null&&or(i,t,2)}function Pd(t){var i=Zn();if(typeof t=="function"){var s=t;if(t=s(),As){de(!0);try{s()}finally{de(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},i}function Tv(t,i,s,u){return t.baseState=s,Nd(t,Vt,typeof u=="function"?u:Ii)}function Z1(t,i,s,u,h){if(Fc(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};le.T!==null?s(!0):m.isTransition=!1,u(m),s=i.pending,s===null?(m.next=i.pending=m,Sv(i,m)):(m.next=s.next,i.pending=s.next=m)}}function Sv(t,i){var s=i.action,u=i.payload,h=t.state;if(i.isTransition){var m=le.T,S={};le.T=S;try{var B=s(h,u),ee=le.S;ee!==null&&ee(S,B),Av(t,i,B)}catch(me){kd(t,i,me)}finally{m!==null&&S.types!==null&&(m.types=S.types),le.T=m}}else try{m=s(h,u),Av(t,i,m)}catch(me){kd(t,i,me)}}function Av(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){Rv(t,i,u)},function(u){return kd(t,i,u)}):Rv(t,i,s)}function Rv(t,i,s){i.status="fulfilled",i.value=s,Cv(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,Sv(t,s)))}function kd(t,i,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,Cv(i),i=i.next;while(i!==u)}t.action=null}function Cv(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Iv(t,i){return i}function xv(t,i){if(mt){var s=qt.formState;if(s!==null){e:{var u=st;if(mt){if(Ht){t:{for(var h=Ht,m=Nr;h.nodeType!==8;){if(!m){h=null;break t}if(h=Pr(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Ht=Pr(h.nextSibling),u=h.data==="F!";break e}}ya(u)}u=!1}u&&(i=s[0])}}return s=Zn(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Iv,lastRenderedState:i},s.queue=u,s=Qv.bind(null,st,u),u.dispatch=s,u=Pd(!1),m=Fd.bind(null,st,!1,u.queue),u=Zn(),h={state:i,dispatch:null,action:t,pending:null},u.queue=h,s=Z1.bind(null,st,h,m,s),h.dispatch=s,u.memoizedState=t,[i,s,!1]}function Ov(t){var i=cn();return Dv(i,Vt,t)}function Dv(t,i,s){if(i=Nd(t,i,Iv)[0],t=Lc(Ii)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Bl(i)}catch(S){throw S===mo?Ic:S}else u=i;i=cn();var h=i.queue,m=h.dispatch;return s!==i.memoizedState&&(st.flags|=2048,Eo(9,{destroy:void 0},eC.bind(null,h,s),null)),[u,m,t]}function eC(t,i){t.action=i}function Nv(t){var i=cn(),s=Vt;if(s!==null)return Dv(i,s,t);cn(),i=i.memoizedState,s=cn();var u=s.queue.dispatch;return s.memoizedState=t,[i,u,!1]}function Eo(t,i,s,u){return t={tag:t,create:s,deps:u,inst:i,next:null},i=st.updateQueue,i===null&&(i=Uc(),st.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,i.lastEffect=t),t}function Mv(){return cn().memoizedState}function Vc(t,i,s,u){var h=Zn();st.flags|=t,h.memoizedState=Eo(1|i,{destroy:void 0},s,u===void 0?null:u)}function jc(t,i,s,u){var h=cn();u=u===void 0?null:u;var m=h.memoizedState.inst;Vt!==null&&u!==null&&Rd(u,Vt.memoizedState.deps)?h.memoizedState=Eo(i,m,s,u):(st.flags|=t,h.memoizedState=Eo(1|i,m,s,u))}function Pv(t,i){Vc(8390656,8,t,i)}function Ud(t,i){jc(2048,8,t,i)}function tC(t){st.flags|=4;var i=st.updateQueue;if(i===null)i=Uc(),st.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function kv(t){var i=cn().memoizedState;return tC({ref:i,nextImpl:t}),function(){if((Dt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function Uv(t,i){return jc(4,2,t,i)}function Bv(t,i){return jc(4,4,t,i)}function Lv(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Vv(t,i,s){s=s!=null?s.concat([t]):null,jc(4,4,Lv.bind(null,i,t),s)}function Bd(){}function jv(t,i){var s=cn();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&Rd(i,u[1])?u[0]:(s.memoizedState=[t,i],t)}function Fv(t,i){var s=cn();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&Rd(i,u[1]))return u[0];if(u=t(),As){de(!0);try{t()}finally{de(!1)}}return s.memoizedState=[u,i],u}function Ld(t,i,s){return s===void 0||(Ci&1073741824)!==0&&(ht&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=q0(),st.lanes|=t,Ra|=t,s)}function qv(t,i,s,u){return pr(s,i)?s:yo.current!==null?(t=Ld(t,s,u),pr(t,i)||(yn=!0),t):(Ci&42)===0||(Ci&1073741824)!==0&&(ht&261930)===0?(yn=!0,t.memoizedState=s):(t=q0(),st.lanes|=t,Ra|=t,i)}function zv(t,i,s,u,h){var m=Se.p;Se.p=m!==0&&8>m?m:8;var S=le.T,B={};le.T=B,Fd(t,!1,i,s);try{var ee=h(),me=le.S;if(me!==null&&me(B,ee),ee!==null&&typeof ee=="object"&&typeof ee.then=="function"){var Ae=$1(ee,u);Ll(t,i,Ae,Er(t))}else Ll(t,i,u,Er(t))}catch(Oe){Ll(t,i,{then:function(){},status:"rejected",reason:Oe},Er())}finally{Se.p=m,S!==null&&B.types!==null&&(S.types=B.types),le.T=S}}function nC(){}function Vd(t,i,s,u){if(t.tag!==5)throw Error(a(476));var h=Hv(t).queue;zv(t,h,i,ke,s===null?nC:function(){return Gv(t),s(u)})}function Hv(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ke,baseState:ke,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ke},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Gv(t){var i=Hv(t);i.next===null&&(i=t.alternate.memoizedState),Ll(t,i.next.queue,{},Er())}function jd(){return Dn(tu)}function Kv(){return cn().memoizedState}function Yv(){return cn().memoizedState}function rC(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Er();t=Ea(s);var u=wa(i,t,s);u!==null&&(or(u,i,s),Ml(u,i,s)),i={cache:md()},t.payload=i;return}i=i.return}}function iC(t,i,s){var u=Er();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fc(t)?Wv(i,s):(s=id(t,i,s,u),s!==null&&(or(s,t,u),$v(s,i,u)))}function Qv(t,i,s){var u=Er();Ll(t,i,s,u)}function Ll(t,i,s,u){var h={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fc(t))Wv(i,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var S=i.lastRenderedState,B=m(S,s);if(h.hasEagerState=!0,h.eagerState=B,pr(B,S))return wc(t,i,h,0),qt===null&&Ec(),!1}catch{}if(s=id(t,i,h,u),s!==null)return or(s,t,u),$v(s,i,u),!0}return!1}function Fd(t,i,s,u){if(u={lane:2,revertLane:vp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Fc(t)){if(i)throw Error(a(479))}else i=id(t,s,u,2),i!==null&&or(i,t,2)}function Fc(t){var i=t.alternate;return t===st||i!==null&&i===st}function Wv(t,i){_o=Pc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function $v(t,i,s){if((s&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,oe(t,s)}}var Vl={readContext:Dn,use:Bc,useCallback:nn,useContext:nn,useEffect:nn,useImperativeHandle:nn,useLayoutEffect:nn,useInsertionEffect:nn,useMemo:nn,useReducer:nn,useRef:nn,useState:nn,useDebugValue:nn,useDeferredValue:nn,useTransition:nn,useSyncExternalStore:nn,useId:nn,useHostTransitionStatus:nn,useFormState:nn,useActionState:nn,useOptimistic:nn,useMemoCache:nn,useCacheRefresh:nn};Vl.useEffectEvent=nn;var Xv={readContext:Dn,use:Bc,useCallback:function(t,i){return Zn().memoizedState=[t,i===void 0?null:i],t},useContext:Dn,useEffect:Pv,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Vc(4194308,4,Lv.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Vc(4194308,4,t,i)},useInsertionEffect:function(t,i){Vc(4,2,t,i)},useMemo:function(t,i){var s=Zn();i=i===void 0?null:i;var u=t();if(As){de(!0);try{t()}finally{de(!1)}}return s.memoizedState=[u,i],u},useReducer:function(t,i,s){var u=Zn();if(s!==void 0){var h=s(i);if(As){de(!0);try{s(i)}finally{de(!1)}}}else h=i;return u.memoizedState=u.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},u.queue=t,t=t.dispatch=iC.bind(null,st,t),[u.memoizedState,t]},useRef:function(t){var i=Zn();return t={current:t},i.memoizedState=t},useState:function(t){t=Pd(t);var i=t.queue,s=Qv.bind(null,st,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Bd,useDeferredValue:function(t,i){var s=Zn();return Ld(s,t,i)},useTransition:function(){var t=Pd(!1);return t=zv.bind(null,st,t.queue,!0,!1),Zn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var u=st,h=Zn();if(mt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),qt===null)throw Error(a(349));(ht&127)!==0||_v(u,i,s)}h.memoizedState=s;var m={value:s,getSnapshot:i};return h.queue=m,Pv(Ev.bind(null,u,m,t),[t]),u.flags|=2048,Eo(9,{destroy:void 0},vv.bind(null,u,m,s,i),null),s},useId:function(){var t=Zn(),i=qt.identifierPrefix;if(mt){var s=ti,u=ei;s=(u&~(1<<32-Te(u)-1)).toString(32)+s,i="_"+i+"R_"+s,s=kc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=X1++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:jd,useFormState:xv,useActionState:xv,useOptimistic:function(t){var i=Zn();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Fd.bind(null,st,!0,s),s.dispatch=i,[t,i]},useMemoCache:Dd,useCacheRefresh:function(){return Zn().memoizedState=rC.bind(null,st)},useEffectEvent:function(t){var i=Zn(),s={impl:t};return i.memoizedState=s,function(){if((Dt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},qd={readContext:Dn,use:Bc,useCallback:jv,useContext:Dn,useEffect:Ud,useImperativeHandle:Vv,useInsertionEffect:Uv,useLayoutEffect:Bv,useMemo:Fv,useReducer:Lc,useRef:Mv,useState:function(){return Lc(Ii)},useDebugValue:Bd,useDeferredValue:function(t,i){var s=cn();return qv(s,Vt.memoizedState,t,i)},useTransition:function(){var t=Lc(Ii)[0],i=cn().memoizedState;return[typeof t=="boolean"?t:Bl(t),i]},useSyncExternalStore:yv,useId:Kv,useHostTransitionStatus:jd,useFormState:Ov,useActionState:Ov,useOptimistic:function(t,i){var s=cn();return Tv(s,Vt,t,i)},useMemoCache:Dd,useCacheRefresh:Yv};qd.useEffectEvent=kv;var Jv={readContext:Dn,use:Bc,useCallback:jv,useContext:Dn,useEffect:Ud,useImperativeHandle:Vv,useInsertionEffect:Uv,useLayoutEffect:Bv,useMemo:Fv,useReducer:Md,useRef:Mv,useState:function(){return Md(Ii)},useDebugValue:Bd,useDeferredValue:function(t,i){var s=cn();return Vt===null?Ld(s,t,i):qv(s,Vt.memoizedState,t,i)},useTransition:function(){var t=Md(Ii)[0],i=cn().memoizedState;return[typeof t=="boolean"?t:Bl(t),i]},useSyncExternalStore:yv,useId:Kv,useHostTransitionStatus:jd,useFormState:Nv,useActionState:Nv,useOptimistic:function(t,i){var s=cn();return Vt!==null?Tv(s,Vt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:Dd,useCacheRefresh:Yv};Jv.useEffectEvent=kv;function zd(t,i,s,u){i=t.memoizedState,s=s(u,i),s=s==null?i:w({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Hd={enqueueSetState:function(t,i,s){t=t._reactInternals;var u=Er(),h=Ea(u);h.payload=i,s!=null&&(h.callback=s),i=wa(t,h,u),i!==null&&(or(i,t,u),Ml(i,t,u))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var u=Er(),h=Ea(u);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=wa(t,h,u),i!==null&&(or(i,t,u),Ml(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Er(),u=Ea(s);u.tag=2,i!=null&&(u.callback=i),i=wa(t,u,s),i!==null&&(or(i,t,s),Ml(i,t,s))}};function Zv(t,i,s,u,h,m,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,m,S):i.prototype&&i.prototype.isPureReactComponent?!Al(s,u)||!Al(h,m):!0}function e0(t,i,s,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==t&&Hd.enqueueReplaceState(i,i.state,null)}function Rs(t,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(t=t.defaultProps){s===i&&(s=w({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function t0(t){vc(t)}function n0(t){console.error(t)}function r0(t){vc(t)}function qc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function i0(t,i,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Gd(t,i,s){return s=Ea(s),s.tag=3,s.payload={element:null},s.callback=function(){qc(t,i)},s}function a0(t){return t=Ea(t),t.tag=3,t}function s0(t,i,s,u){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;t.payload=function(){return h(m)},t.callback=function(){i0(i,s,u)}}var S=s.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){i0(i,s,u),typeof h!="function"&&(Ca===null?Ca=new Set([this]):Ca.add(this));var B=u.stack;this.componentDidCatch(u.value,{componentStack:B!==null?B:""})})}function aC(t,i,s,u,h){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&fo(i,s,h,!0),s=gr.current,s!==null){switch(s.tag){case 31:case 13:return Mr===null?ef():s.alternate===null&&rn===0&&(rn=3),s.flags&=-257,s.flags|=65536,s.lanes=h,u===xc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),gp(t,u,h)),!1;case 22:return s.flags|=65536,u===xc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),gp(t,u,h)),!1}throw Error(a(435,s.tag))}return gp(t,u,h),ef(),!1}if(mt)return i=gr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,u!==cd&&(t=Error(a(422),{cause:u}),Il(xr(t,s)))):(u!==cd&&(i=Error(a(423),{cause:u}),Il(xr(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,u=xr(u,s),h=Gd(t.stateNode,u,h),wd(t,h),rn!==4&&(rn=2)),!1;var m=Error(a(520),{cause:u});if(m=xr(m,s),Yl===null?Yl=[m]:Yl.push(m),rn!==4&&(rn=2),i===null)return!0;u=xr(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Gd(s.stateNode,u,t),wd(s,t),!1;case 1:if(i=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ca===null||!Ca.has(m))))return s.flags|=65536,h&=-h,s.lanes|=h,h=a0(h),s0(h,t,s,u),wd(s,h),!1}s=s.return}while(s!==null);return!1}var Kd=Error(a(461)),yn=!1;function Nn(t,i,s,u){i.child=t===null?cv(i,null,s,u):Ss(i,t.child,s,u)}function o0(t,i,s,u,h){s=s.render;var m=i.ref;if("ref"in u){var S={};for(var B in u)B!=="ref"&&(S[B]=u[B])}else S=u;return Es(i),u=Cd(t,i,s,S,m,h),B=Id(),t!==null&&!yn?(xd(t,i,h),xi(t,i,h)):(mt&&B&&ld(i),i.flags|=1,Nn(t,i,u,h),i.child)}function l0(t,i,s,u,h){if(t===null){var m=s.type;return typeof m=="function"&&!ad(m)&&m.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=m,u0(t,i,m,u,h)):(t=Tc(s.type,null,u,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!ep(t,h)){var S=m.memoizedProps;if(s=s.compare,s=s!==null?s:Al,s(S,u)&&t.ref===i.ref)return xi(t,i,h)}return i.flags|=1,t=Ti(m,u),t.ref=i.ref,t.return=i,i.child=t}function u0(t,i,s,u,h){if(t!==null){var m=t.memoizedProps;if(Al(m,u)&&t.ref===i.ref)if(yn=!1,i.pendingProps=u=m,ep(t,h))(t.flags&131072)!==0&&(yn=!0);else return i.lanes=t.lanes,xi(t,i,h)}return Yd(t,i,s,u,h)}function c0(t,i,s,u){var h=u.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,t!==null){for(u=i.child=t.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~m}else u=0,i.child=null;return f0(t,i,m,s,u)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Cc(i,m!==null?m.cachePool:null),m!==null?dv(i,m):Td(),pv(i);else return u=i.lanes=536870912,f0(t,i,m!==null?m.baseLanes|s:s,s,u)}else m!==null?(Cc(i,m.cachePool),dv(i,m),Ta(),i.memoizedState=null):(t!==null&&Cc(i,null),Td(),Ta());return Nn(t,i,h,s),i.child}function jl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function f0(t,i,s,u,h){var m=yd();return m=m===null?null:{parent:mn._currentValue,pool:m},i.memoizedState={baseLanes:s,cachePool:m},t!==null&&Cc(i,null),Td(),pv(i),t!==null&&fo(t,i,u,!0),i.childLanes=h,null}function zc(t,i){return i=Gc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function h0(t,i,s){return Ss(i,t.child,null,s),t=zc(i,i.pendingProps),t.flags|=2,yr(i),i.memoizedState=null,t}function sC(t,i,s){var u=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(mt){if(u.mode==="hidden")return t=zc(i,u),i.lanes=536870912,jl(null,t);if(Ad(i),(t=Ht)?(t=SE(t,Nr),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ma!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},s=W_(t),s.return=i,i.child=s,On=i,Ht=null)):t=null,t===null)throw ya(i);return i.lanes=536870912,null}return zc(i,u)}var m=t.memoizedState;if(m!==null){var S=m.dehydrated;if(Ad(i),h)if(i.flags&256)i.flags&=-257,i=h0(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(yn||fo(t,i,s,!1),h=(s&t.childLanes)!==0,yn||h){if(u=qt,u!==null&&(S=ye(u,s),S!==0&&S!==m.retryLane))throw m.retryLane=S,gs(t,S),or(u,t,S),Kd;ef(),i=h0(t,i,s)}else t=m.treeContext,Ht=Pr(S.nextSibling),On=i,mt=!0,ga=null,Nr=!1,t!==null&&J_(i,t),i=zc(i,u),i.flags|=4096;return i}return t=Ti(t.child,{mode:u.mode,children:u.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Hc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Yd(t,i,s,u,h){return Es(i),s=Cd(t,i,s,u,void 0,h),u=Id(),t!==null&&!yn?(xd(t,i,h),xi(t,i,h)):(mt&&u&&ld(i),i.flags|=1,Nn(t,i,s,h),i.child)}function d0(t,i,s,u,h,m){return Es(i),i.updateQueue=null,s=gv(i,u,s,h),mv(t),u=Id(),t!==null&&!yn?(xd(t,i,m),xi(t,i,m)):(mt&&u&&ld(i),i.flags|=1,Nn(t,i,s,m),i.child)}function p0(t,i,s,u,h){if(Es(i),i.stateNode===null){var m=oo,S=s.contextType;typeof S=="object"&&S!==null&&(m=Dn(S)),m=new s(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Hd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},vd(i),S=s.contextType,m.context=typeof S=="object"&&S!==null?Dn(S):oo,m.state=i.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(zd(i,s,S,u),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&Hd.enqueueReplaceState(m,m.state,null),kl(i,u,m,h),Pl(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){m=i.stateNode;var B=i.memoizedProps,ee=Rs(s,B);m.props=ee;var me=m.context,Ae=s.contextType;S=oo,typeof Ae=="object"&&Ae!==null&&(S=Dn(Ae));var Oe=s.getDerivedStateFromProps;Ae=typeof Oe=="function"||typeof m.getSnapshotBeforeUpdate=="function",B=i.pendingProps!==B,Ae||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(B||me!==S)&&e0(i,m,u,S),va=!1;var ge=i.memoizedState;m.state=ge,kl(i,u,m,h),Pl(),me=i.memoizedState,B||ge!==me||va?(typeof Oe=="function"&&(zd(i,s,Oe,u),me=i.memoizedState),(ee=va||Zv(i,s,ee,u,ge,me,S))?(Ae||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=me),m.props=u,m.state=me,m.context=S,u=ee):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Ed(t,i),S=i.memoizedProps,Ae=Rs(s,S),m.props=Ae,Oe=i.pendingProps,ge=m.context,me=s.contextType,ee=oo,typeof me=="object"&&me!==null&&(ee=Dn(me)),B=s.getDerivedStateFromProps,(me=typeof B=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==Oe||ge!==ee)&&e0(i,m,u,ee),va=!1,ge=i.memoizedState,m.state=ge,kl(i,u,m,h),Pl();var Ee=i.memoizedState;S!==Oe||ge!==Ee||va||t!==null&&t.dependencies!==null&&Ac(t.dependencies)?(typeof B=="function"&&(zd(i,s,B,u),Ee=i.memoizedState),(Ae=va||Zv(i,s,Ae,u,ge,Ee,ee)||t!==null&&t.dependencies!==null&&Ac(t.dependencies))?(me||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Ee,ee),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Ee,ee)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===t.memoizedProps&&ge===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&ge===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Ee),m.props=u,m.state=Ee,m.context=ee,u=Ae):(typeof m.componentDidUpdate!="function"||S===t.memoizedProps&&ge===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&ge===t.memoizedState||(i.flags|=1024),u=!1)}return m=u,Hc(t,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&u?(i.child=Ss(i,t.child,null,h),i.child=Ss(i,null,s,h)):Nn(t,i,s,h),i.memoizedState=m.state,t=i.child):t=xi(t,i,h),t}function m0(t,i,s,u){return _s(),i.flags|=256,Nn(t,i,s,u),i.child}var Qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wd(t){return{baseLanes:t,cachePool:iv()}}function $d(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=vr),t}function g0(t,i,s){var u=i.pendingProps,h=!1,m=(i.flags&128)!==0,S;if((S=m)||(S=t!==null&&t.memoizedState===null?!1:(un.current&2)!==0),S&&(h=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,t===null){if(mt){if(h?ba(i):Ta(),(t=Ht)?(t=SE(t,Nr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ma!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},s=W_(t),s.return=i,i.child=s,On=i,Ht=null)):t=null,t===null)throw ya(i);return Np(t)?i.lanes=32:i.lanes=536870912,null}var B=u.children;return u=u.fallback,h?(Ta(),h=i.mode,B=Gc({mode:"hidden",children:B},h),u=ys(u,h,s,null),B.return=i,u.return=i,B.sibling=u,i.child=B,u=i.child,u.memoizedState=Wd(s),u.childLanes=$d(t,S,s),i.memoizedState=Qd,jl(null,u)):(ba(i),Xd(i,B))}var ee=t.memoizedState;if(ee!==null&&(B=ee.dehydrated,B!==null)){if(m)i.flags&256?(ba(i),i.flags&=-257,i=Jd(t,i,s)):i.memoizedState!==null?(Ta(),i.child=t.child,i.flags|=128,i=null):(Ta(),B=u.fallback,h=i.mode,u=Gc({mode:"visible",children:u.children},h),B=ys(B,h,s,null),B.flags|=2,u.return=i,B.return=i,u.sibling=B,i.child=u,Ss(i,t.child,null,s),u=i.child,u.memoizedState=Wd(s),u.childLanes=$d(t,S,s),i.memoizedState=Qd,i=jl(null,u));else if(ba(i),Np(B)){if(S=B.nextSibling&&B.nextSibling.dataset,S)var me=S.dgst;S=me,u=Error(a(419)),u.stack="",u.digest=S,Il({value:u,source:null,stack:null}),i=Jd(t,i,s)}else if(yn||fo(t,i,s,!1),S=(s&t.childLanes)!==0,yn||S){if(S=qt,S!==null&&(u=ye(S,s),u!==0&&u!==ee.retryLane))throw ee.retryLane=u,gs(t,u),or(S,t,u),Kd;Dp(B)||ef(),i=Jd(t,i,s)}else Dp(B)?(i.flags|=192,i.child=t.child,i=null):(t=ee.treeContext,Ht=Pr(B.nextSibling),On=i,mt=!0,ga=null,Nr=!1,t!==null&&J_(i,t),i=Xd(i,u.children),i.flags|=4096);return i}return h?(Ta(),B=u.fallback,h=i.mode,ee=t.child,me=ee.sibling,u=Ti(ee,{mode:"hidden",children:u.children}),u.subtreeFlags=ee.subtreeFlags&65011712,me!==null?B=Ti(me,B):(B=ys(B,h,s,null),B.flags|=2),B.return=i,u.return=i,u.sibling=B,i.child=u,jl(null,u),u=i.child,B=t.child.memoizedState,B===null?B=Wd(s):(h=B.cachePool,h!==null?(ee=mn._currentValue,h=h.parent!==ee?{parent:ee,pool:ee}:h):h=iv(),B={baseLanes:B.baseLanes|s,cachePool:h}),u.memoizedState=B,u.childLanes=$d(t,S,s),i.memoizedState=Qd,jl(t.child,u)):(ba(i),s=t.child,t=s.sibling,s=Ti(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,t!==null&&(S=i.deletions,S===null?(i.deletions=[t],i.flags|=16):S.push(t)),i.child=s,i.memoizedState=null,s)}function Xd(t,i){return i=Gc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Gc(t,i){return t=mr(22,t,null,i),t.lanes=0,t}function Jd(t,i,s){return Ss(i,t.child,null,s),t=Xd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function y0(t,i,s){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),dd(t.return,i,s)}function Zd(t,i,s,u,h,m){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h,treeForkCount:m}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=s,S.tailMode=h,S.treeForkCount=m)}function _0(t,i,s){var u=i.pendingProps,h=u.revealOrder,m=u.tail;u=u.children;var S=un.current,B=(S&2)!==0;if(B?(S=S&1|2,i.flags|=128):S&=1,$(un,S),Nn(t,i,u,s),u=mt?Cl:0,!B&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&y0(t,s,i);else if(t.tag===19)y0(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&Mc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),Zd(i,!1,h,s,m,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Mc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}Zd(i,!0,s,null,m,u);break;case"together":Zd(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function xi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Ra|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(fo(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Ti(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Ti(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function ep(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ac(t)))}function oC(t,i,s){switch(i.tag){case 3:ve(i,i.stateNode.containerInfo),_a(i,mn,t.memoizedState.cache),_s();break;case 27:case 5:Ne(i);break;case 4:ve(i,i.stateNode.containerInfo);break;case 10:_a(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ad(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(ba(i),i.flags|=128,null):(s&i.child.childLanes)!==0?g0(t,i,s):(ba(i),t=xi(t,i,s),t!==null?t.sibling:null);ba(i);break;case 19:var h=(t.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(fo(t,i,s,!1),u=(s&i.childLanes)!==0),h){if(u)return _0(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$(un,un.current),u)break;return null;case 22:return i.lanes=0,c0(t,i,s,i.pendingProps);case 24:_a(i,mn,t.memoizedState.cache)}return xi(t,i,s)}function v0(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)yn=!0;else{if(!ep(t,s)&&(i.flags&128)===0)return yn=!1,oC(t,i,s);yn=(t.flags&131072)!==0}else yn=!1,mt&&(i.flags&1048576)!==0&&X_(i,Cl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(t=bs(i.elementType),i.type=t,typeof t=="function")ad(t)?(u=Rs(t,u),i.tag=1,i=p0(null,i,t,u,s)):(i.tag=0,i=Yd(null,i,t,u,s));else{if(t!=null){var h=t.$$typeof;if(h===G){i.tag=11,i=o0(null,i,t,u,s);break e}else if(h===x){i.tag=14,i=l0(null,i,t,u,s);break e}}throw i=Ue(t)||t,Error(a(306,i,""))}}return i;case 0:return Yd(t,i,i.type,i.pendingProps,s);case 1:return u=i.type,h=Rs(u,i.pendingProps),p0(t,i,u,h,s);case 3:e:{if(ve(i,i.stateNode.containerInfo),t===null)throw Error(a(387));u=i.pendingProps;var m=i.memoizedState;h=m.element,Ed(t,i),kl(i,u,null,s);var S=i.memoizedState;if(u=S.cache,_a(i,mn,u),u!==m.cache&&pd(i,[mn],s,!0),Pl(),u=S.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=m0(t,i,u,s);break e}else if(u!==h){h=xr(Error(a(424)),i),Il(h),i=m0(t,i,u,s);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Ht=Pr(t.firstChild),On=i,mt=!0,ga=null,Nr=!0,s=cv(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(_s(),u===h){i=xi(t,i,s);break e}Nn(t,i,u,s)}i=i.child}return i;case 26:return Hc(t,i),t===null?(s=OE(i.type,null,i.pendingProps,null))?i.memoizedState=s:mt||(s=i.type,t=i.pendingProps,u=lf(Z.current).createElement(s),u[Xe]=i,u[xn]=t,Mn(u,s,t),ln(u),i.stateNode=u):i.memoizedState=OE(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ne(i),t===null&&mt&&(u=i.stateNode=CE(i.type,i.pendingProps,Z.current),On=i,Nr=!0,h=Ht,Da(i.type)?(Mp=h,Ht=Pr(u.firstChild)):Ht=h),Nn(t,i,i.pendingProps.children,s),Hc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&mt&&((h=u=Ht)&&(u=BC(u,i.type,i.pendingProps,Nr),u!==null?(i.stateNode=u,On=i,Ht=Pr(u.firstChild),Nr=!1,h=!0):h=!1),h||ya(i)),Ne(i),h=i.type,m=i.pendingProps,S=t!==null?t.memoizedProps:null,u=m.children,Ip(h,m)?u=null:S!==null&&Ip(h,S)&&(i.flags|=32),i.memoizedState!==null&&(h=Cd(t,i,J1,null,null,s),tu._currentValue=h),Hc(t,i),Nn(t,i,u,s),i.child;case 6:return t===null&&mt&&((t=s=Ht)&&(s=LC(s,i.pendingProps,Nr),s!==null?(i.stateNode=s,On=i,Ht=null,t=!0):t=!1),t||ya(i)),null;case 13:return g0(t,i,s);case 4:return ve(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Ss(i,null,u,s):Nn(t,i,u,s),i.child;case 11:return o0(t,i,i.type,i.pendingProps,s);case 7:return Nn(t,i,i.pendingProps,s),i.child;case 8:return Nn(t,i,i.pendingProps.children,s),i.child;case 12:return Nn(t,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,_a(i,i.type,u.value),Nn(t,i,u.children,s),i.child;case 9:return h=i.type._context,u=i.pendingProps.children,Es(i),h=Dn(h),u=u(h),i.flags|=1,Nn(t,i,u,s),i.child;case 14:return l0(t,i,i.type,i.pendingProps,s);case 15:return u0(t,i,i.type,i.pendingProps,s);case 19:return _0(t,i,s);case 31:return sC(t,i,s);case 22:return c0(t,i,s,i.pendingProps);case 24:return Es(i),u=Dn(mn),t===null?(h=yd(),h===null&&(h=qt,m=md(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=s),h=m),i.memoizedState={parent:u,cache:h},vd(i),_a(i,mn,h)):((t.lanes&s)!==0&&(Ed(t,i),kl(i,null,null,s),Pl()),h=t.memoizedState,m=i.memoizedState,h.parent!==u?(h={parent:u,cache:u},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),_a(i,mn,u)):(u=m.cache,_a(i,mn,u),u!==h.cache&&pd(i,[mn],s,!0))),Nn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function Oi(t){t.flags|=4}function tp(t,i,s,u,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(K0())t.flags|=8192;else throw Ts=xc,_d}else t.flags&=-16777217}function E0(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!kE(i))if(K0())t.flags|=8192;else throw Ts=xc,_d}function Kc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?rs():536870912,t.lanes|=i,So|=i)}function Fl(t,i){if(!mt)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Gt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=s,i}function lC(t,i,s){var u=i.pendingProps;switch(ud(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(i),null;case 1:return Gt(i),null;case 3:return s=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Ri(mn),Re(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(co(i)?Oi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,fd())),Gt(i),null;case 26:var h=i.type,m=i.memoizedState;return t===null?(Oi(i),m!==null?(Gt(i),E0(i,m)):(Gt(i),tp(i,h,null,u,s))):m?m!==t.memoizedState?(Oi(i),Gt(i),E0(i,m)):(Gt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==u&&Oi(i),Gt(i),tp(i,h,t,u,s)),null;case 27:if(F(i),s=Z.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Oi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Gt(i),null}t=ae.current,co(i)?Z_(i):(t=CE(h,u,s),i.stateNode=t,Oi(i))}return Gt(i),null;case 5:if(F(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&Oi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Gt(i),null}if(m=ae.current,co(i))Z_(i);else{var S=lf(Z.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?S.createElement(h,{is:u.is}):S.createElement(h)}}m[Xe]=i,m[xn]=u;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=m;e:switch(Mn(m,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Oi(i)}}return Gt(i),tp(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&Oi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(t=Z.current,co(i)){if(t=i.stateNode,s=i.memoizedProps,u=null,h=On,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}t[Xe]=i,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||gE(t.nodeValue,s)),t||ya(i,!0)}else t=lf(t).createTextNode(u),t[Xe]=i,i.stateNode=t}return Gt(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(u=co(i),s!==null){if(t===null){if(!u)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Xe]=i}else _s(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Gt(i),t=!1}else s=fd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(yr(i),i):(yr(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Gt(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=co(i),u!==null&&u.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Xe]=i}else _s(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Gt(i),h=!1}else h=fd(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(yr(i),i):(yr(i),null)}return yr(i),(i.flags&128)!==0?(i.lanes=s,i):(s=u!==null,t=t!==null&&t.memoizedState!==null,s&&(u=i.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Kc(i,i.updateQueue),Gt(i),null);case 4:return Re(),t===null&&Tp(i.stateNode.containerInfo),Gt(i),null;case 10:return Ri(i.type),Gt(i),null;case 19:if(_e(un),u=i.memoizedState,u===null)return Gt(i),null;if(h=(i.flags&128)!==0,m=u.rendering,m===null)if(h)Fl(u,!1);else{if(rn!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=Mc(t),m!==null){for(i.flags|=128,Fl(u,!1),t=m.updateQueue,i.updateQueue=t,Kc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)Q_(s,t),s=s.sibling;return $(un,un.current&1|2),mt&&Si(i,u.treeForkCount),i.child}t=t.sibling}u.tail!==null&&yt()>Xc&&(i.flags|=128,h=!0,Fl(u,!1),i.lanes=4194304)}else{if(!h)if(t=Mc(m),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Kc(i,t),Fl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!mt)return Gt(i),null}else 2*yt()-u.renderingStartTime>Xc&&s!==536870912&&(i.flags|=128,h=!0,Fl(u,!1),i.lanes=4194304);u.isBackwards?(m.sibling=i.child,i.child=m):(t=u.last,t!==null?t.sibling=m:i.child=m,u.last=m)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=yt(),t.sibling=null,s=un.current,$(un,h?s&1|2:s&1),mt&&Si(i,u.treeForkCount),t):(Gt(i),null);case 22:case 23:return yr(i),Sd(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(Gt(i),i.subtreeFlags&6&&(i.flags|=8192)):Gt(i),s=i.updateQueue,s!==null&&Kc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),t!==null&&_e(ws),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Ri(mn),Gt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function uC(t,i){switch(ud(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ri(mn),Re(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return F(i),null;case 31:if(i.memoizedState!==null){if(yr(i),i.alternate===null)throw Error(a(340));_s()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(yr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));_s()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return _e(un),null;case 4:return Re(),null;case 10:return Ri(i.type),null;case 22:case 23:return yr(i),Sd(),t!==null&&_e(ws),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ri(mn),null;case 25:return null;default:return null}}function w0(t,i){switch(ud(i),i.tag){case 3:Ri(mn),Re();break;case 26:case 27:case 5:F(i);break;case 4:Re();break;case 31:i.memoizedState!==null&&yr(i);break;case 13:yr(i);break;case 19:_e(un);break;case 10:Ri(i.type);break;case 22:case 23:yr(i),Sd(),t!==null&&_e(ws);break;case 24:Ri(mn)}}function ql(t,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var h=u.next;s=h;do{if((s.tag&t)===t){u=void 0;var m=s.create,S=s.inst;u=m(),S.destroy=u}s=s.next}while(s!==h)}}catch(B){Ut(i,i.return,B)}}function Sa(t,i,s){try{var u=i.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&t)===t){var S=u.inst,B=S.destroy;if(B!==void 0){S.destroy=void 0,h=i;var ee=s,me=B;try{me()}catch(Ae){Ut(h,ee,Ae)}}}u=u.next}while(u!==m)}}catch(Ae){Ut(i,i.return,Ae)}}function b0(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{hv(i,s)}catch(u){Ut(t,t.return,u)}}}function T0(t,i,s){s.props=Rs(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){Ut(t,i,u)}}function zl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(h){Ut(t,i,h)}}function ni(t,i){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(h){Ut(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ut(t,i,h)}else s.current=null}function S0(t){var i=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(h){Ut(t,t.return,h)}}function np(t,i,s){try{var u=t.stateNode;DC(u,t.type,s,i),u[xn]=i}catch(h){Ut(t,t.return,h)}}function A0(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Da(t.type)||t.tag===4}function rp(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||A0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Da(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ip(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Sn));else if(u!==4&&(u===27&&Da(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(ip(t,i,s),t=t.sibling;t!==null;)ip(t,i,s),t=t.sibling}function Yc(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(u!==4&&(u===27&&Da(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Yc(t,i,s),t=t.sibling;t!==null;)Yc(t,i,s),t=t.sibling}function R0(t){var i=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Mn(i,u,s),i[Xe]=t,i[xn]=s}catch(m){Ut(t,t.return,m)}}var Di=!1,_n=!1,ap=!1,C0=typeof WeakSet=="function"?WeakSet:Set,Cn=null;function cC(t,i){if(t=t.containerInfo,Rp=mf,t=V_(t),Jh(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var S=0,B=-1,ee=-1,me=0,Ae=0,Oe=t,ge=null;t:for(;;){for(var Ee;Oe!==s||h!==0&&Oe.nodeType!==3||(B=S+h),Oe!==m||u!==0&&Oe.nodeType!==3||(ee=S+u),Oe.nodeType===3&&(S+=Oe.nodeValue.length),(Ee=Oe.firstChild)!==null;)ge=Oe,Oe=Ee;for(;;){if(Oe===t)break t;if(ge===s&&++me===h&&(B=S),ge===m&&++Ae===u&&(ee=S),(Ee=Oe.nextSibling)!==null)break;Oe=ge,ge=Oe.parentNode}Oe=Ee}s=B===-1||ee===-1?null:{start:B,end:ee}}else s=null}s=s||{start:0,end:0}}else s=null;for(Cp={focusedElem:t,selectionRange:s},mf=!1,Cn=i;Cn!==null;)if(i=Cn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Cn=t;else for(;Cn!==null;){switch(i=Cn,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=i,h=m.memoizedProps,m=m.memoizedState,u=s.stateNode;try{var ze=Rs(s.type,h);t=u.getSnapshotBeforeUpdate(ze,m),u.__reactInternalSnapshotBeforeUpdate=t}catch(We){Ut(s,s.return,We)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Op(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Op(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,Cn=t;break}Cn=i.return}}function I0(t,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Mi(t,s),u&4&&ql(5,s);break;case 1:if(Mi(t,s),u&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(S){Ut(s,s.return,S)}else{var h=Rs(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Ut(s,s.return,S)}}u&64&&b0(s),u&512&&zl(s,s.return);break;case 3:if(Mi(t,s),u&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{hv(t,i)}catch(S){Ut(s,s.return,S)}}break;case 27:i===null&&u&4&&R0(s);case 26:case 5:Mi(t,s),i===null&&u&4&&S0(s),u&512&&zl(s,s.return);break;case 12:Mi(t,s);break;case 31:Mi(t,s),u&4&&D0(t,s);break;case 13:Mi(t,s),u&4&&N0(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=vC.bind(null,s),VC(t,s))));break;case 22:if(u=s.memoizedState!==null||Di,!u){i=i!==null&&i.memoizedState!==null||_n,h=Di;var m=_n;Di=u,(_n=i)&&!m?Pi(t,s,(s.subtreeFlags&8772)!==0):Mi(t,s),Di=h,_n=m}break;case 30:break;default:Mi(t,s)}}function x0(t){var i=t.alternate;i!==null&&(t.alternate=null,x0(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&is(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qt=null,rr=!1;function Ni(t,i,s){for(s=s.child;s!==null;)O0(t,i,s),s=s.sibling}function O0(t,i,s){if(ie&&typeof ie.onCommitFiberUnmount=="function")try{ie.onCommitFiberUnmount(Y,s)}catch{}switch(s.tag){case 26:_n||ni(s,i),Ni(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:_n||ni(s,i);var u=Qt,h=rr;Da(s.type)&&(Qt=s.stateNode,rr=!1),Ni(t,i,s),Jl(s.stateNode),Qt=u,rr=h;break;case 5:_n||ni(s,i);case 6:if(u=Qt,h=rr,Qt=null,Ni(t,i,s),Qt=u,rr=h,Qt!==null)if(rr)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(s.stateNode)}catch(m){Ut(s,i,m)}else try{Qt.removeChild(s.stateNode)}catch(m){Ut(s,i,m)}break;case 18:Qt!==null&&(rr?(t=Qt,bE(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),No(t)):bE(Qt,s.stateNode));break;case 4:u=Qt,h=rr,Qt=s.stateNode.containerInfo,rr=!0,Ni(t,i,s),Qt=u,rr=h;break;case 0:case 11:case 14:case 15:Sa(2,s,i),_n||Sa(4,s,i),Ni(t,i,s);break;case 1:_n||(ni(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&T0(s,i,u)),Ni(t,i,s);break;case 21:Ni(t,i,s);break;case 22:_n=(u=_n)||s.memoizedState!==null,Ni(t,i,s),_n=u;break;default:Ni(t,i,s)}}function D0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{No(t)}catch(s){Ut(i,i.return,s)}}}function N0(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{No(t)}catch(s){Ut(i,i.return,s)}}function fC(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new C0),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new C0),i;default:throw Error(a(435,t.tag))}}function Qc(t,i){var s=fC(t);i.forEach(function(u){if(!s.has(u)){s.add(u);var h=EC.bind(null,t,u);u.then(h,h)}})}function ir(t,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u],m=t,S=i,B=S;e:for(;B!==null;){switch(B.tag){case 27:if(Da(B.type)){Qt=B.stateNode,rr=!1;break e}break;case 5:Qt=B.stateNode,rr=!1;break e;case 3:case 4:Qt=B.stateNode.containerInfo,rr=!0;break e}B=B.return}if(Qt===null)throw Error(a(160));O0(m,S,h),Qt=null,rr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)M0(i,t),i=i.sibling}var Fr=null;function M0(t,i){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ir(i,t),ar(t),u&4&&(Sa(3,t,t.return),ql(3,t),Sa(5,t,t.return));break;case 1:ir(i,t),ar(t),u&512&&(_n||s===null||ni(s,s.return)),u&64&&Di&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var h=Fr;if(ir(i,t),ar(t),u&512&&(_n||s===null||ni(s,s.return)),u&4){var m=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[mi]||m[Xe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),Mn(m,u,s),m[Xe]=t,ln(m),u=m;break e;case"link":var S=ME("link","href",h).get(u+(s.href||""));if(S){for(var B=0;B<S.length;B++)if(m=S[B],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){S.splice(B,1);break t}}m=h.createElement(u),Mn(m,u,s),h.head.appendChild(m);break;case"meta":if(S=ME("meta","content",h).get(u+(s.content||""))){for(B=0;B<S.length;B++)if(m=S[B],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){S.splice(B,1);break t}}m=h.createElement(u),Mn(m,u,s),h.head.appendChild(m);break;default:throw Error(a(468,u))}m[Xe]=t,ln(m),u=m}t.stateNode=u}else PE(h,t.type,t.stateNode);else t.stateNode=NE(h,u,t.memoizedProps);else m!==u?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,u===null?PE(h,t.type,t.stateNode):NE(h,u,t.memoizedProps)):u===null&&t.stateNode!==null&&np(t,t.memoizedProps,s.memoizedProps)}break;case 27:ir(i,t),ar(t),u&512&&(_n||s===null||ni(s,s.return)),s!==null&&u&4&&np(t,t.memoizedProps,s.memoizedProps);break;case 5:if(ir(i,t),ar(t),u&512&&(_n||s===null||ni(s,s.return)),t.flags&32){h=t.stateNode;try{Cr(h,"")}catch(ze){Ut(t,t.return,ze)}}u&4&&t.stateNode!=null&&(h=t.memoizedProps,np(t,h,s!==null?s.memoizedProps:h)),u&1024&&(ap=!0);break;case 6:if(ir(i,t),ar(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(ze){Ut(t,t.return,ze)}}break;case 3:if(ff=null,h=Fr,Fr=uf(i.containerInfo),ir(i,t),Fr=h,ar(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{No(i.containerInfo)}catch(ze){Ut(t,t.return,ze)}ap&&(ap=!1,P0(t));break;case 4:u=Fr,Fr=uf(t.stateNode.containerInfo),ir(i,t),ar(t),Fr=u;break;case 12:ir(i,t),ar(t);break;case 31:ir(i,t),ar(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Qc(t,u)));break;case 13:ir(i,t),ar(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&($c=yt()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Qc(t,u)));break;case 22:h=t.memoizedState!==null;var ee=s!==null&&s.memoizedState!==null,me=Di,Ae=_n;if(Di=me||h,_n=Ae||ee,ir(i,t),_n=Ae,Di=me,ar(t),u&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||ee||Di||_n||Cs(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){ee=s=i;try{if(m=ee.stateNode,h)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{B=ee.stateNode;var Oe=ee.memoizedProps.style,ge=Oe!=null&&Oe.hasOwnProperty("display")?Oe.display:null;B.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(ze){Ut(ee,ee.return,ze)}}}else if(i.tag===6){if(s===null){ee=i;try{ee.stateNode.nodeValue=h?"":ee.memoizedProps}catch(ze){Ut(ee,ee.return,ze)}}}else if(i.tag===18){if(s===null){ee=i;try{var Ee=ee.stateNode;h?TE(Ee,!0):TE(ee.stateNode,!1)}catch(ze){Ut(ee,ee.return,ze)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Qc(t,s))));break;case 19:ir(i,t),ar(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Qc(t,u)));break;case 30:break;case 21:break;default:ir(i,t),ar(t)}}function ar(t){var i=t.flags;if(i&2){try{for(var s,u=t.return;u!==null;){if(A0(u)){s=u;break}u=u.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,m=rp(t);Yc(t,m,h);break;case 5:var S=s.stateNode;s.flags&32&&(Cr(S,""),s.flags&=-33);var B=rp(t);Yc(t,B,S);break;case 3:case 4:var ee=s.stateNode.containerInfo,me=rp(t);ip(t,me,ee);break;default:throw Error(a(161))}}catch(Ae){Ut(t,t.return,Ae)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function P0(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;P0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Mi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)I0(t,i.alternate,i),i=i.sibling}function Cs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Sa(4,i,i.return),Cs(i);break;case 1:ni(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&T0(i,i.return,s),Cs(i);break;case 27:Jl(i.stateNode);case 26:case 5:ni(i,i.return),Cs(i);break;case 22:i.memoizedState===null&&Cs(i);break;case 30:Cs(i);break;default:Cs(i)}t=t.sibling}}function Pi(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,h=t,m=i,S=m.flags;switch(m.tag){case 0:case 11:case 15:Pi(h,m,s),ql(4,m);break;case 1:if(Pi(h,m,s),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(me){Ut(u,u.return,me)}if(u=m,h=u.updateQueue,h!==null){var B=u.stateNode;try{var ee=h.shared.hiddenCallbacks;if(ee!==null)for(h.shared.hiddenCallbacks=null,h=0;h<ee.length;h++)fv(ee[h],B)}catch(me){Ut(u,u.return,me)}}s&&S&64&&b0(m),zl(m,m.return);break;case 27:R0(m);case 26:case 5:Pi(h,m,s),s&&u===null&&S&4&&S0(m),zl(m,m.return);break;case 12:Pi(h,m,s);break;case 31:Pi(h,m,s),s&&S&4&&D0(h,m);break;case 13:Pi(h,m,s),s&&S&4&&N0(h,m);break;case 22:m.memoizedState===null&&Pi(h,m,s),zl(m,m.return);break;case 30:break;default:Pi(h,m,s)}i=i.sibling}}function sp(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&xl(s))}function op(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xl(t))}function qr(t,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)k0(t,i,s,u),i=i.sibling}function k0(t,i,s,u){var h=i.flags;switch(i.tag){case 0:case 11:case 15:qr(t,i,s,u),h&2048&&ql(9,i);break;case 1:qr(t,i,s,u);break;case 3:qr(t,i,s,u),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&xl(t)));break;case 12:if(h&2048){qr(t,i,s,u),t=i.stateNode;try{var m=i.memoizedProps,S=m.id,B=m.onPostCommit;typeof B=="function"&&B(S,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(ee){Ut(i,i.return,ee)}}else qr(t,i,s,u);break;case 31:qr(t,i,s,u);break;case 13:qr(t,i,s,u);break;case 23:break;case 22:m=i.stateNode,S=i.alternate,i.memoizedState!==null?m._visibility&2?qr(t,i,s,u):Hl(t,i):m._visibility&2?qr(t,i,s,u):(m._visibility|=2,wo(t,i,s,u,(i.subtreeFlags&10256)!==0||!1)),h&2048&&sp(S,i);break;case 24:qr(t,i,s,u),h&2048&&op(i.alternate,i);break;default:qr(t,i,s,u)}}function wo(t,i,s,u,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,S=i,B=s,ee=u,me=S.flags;switch(S.tag){case 0:case 11:case 15:wo(m,S,B,ee,h),ql(8,S);break;case 23:break;case 22:var Ae=S.stateNode;S.memoizedState!==null?Ae._visibility&2?wo(m,S,B,ee,h):Hl(m,S):(Ae._visibility|=2,wo(m,S,B,ee,h)),h&&me&2048&&sp(S.alternate,S);break;case 24:wo(m,S,B,ee,h),h&&me&2048&&op(S.alternate,S);break;default:wo(m,S,B,ee,h)}i=i.sibling}}function Hl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,u=i,h=u.flags;switch(u.tag){case 22:Hl(s,u),h&2048&&sp(u.alternate,u);break;case 24:Hl(s,u),h&2048&&op(u.alternate,u);break;default:Hl(s,u)}i=i.sibling}}var Gl=8192;function bo(t,i,s){if(t.subtreeFlags&Gl)for(t=t.child;t!==null;)U0(t,i,s),t=t.sibling}function U0(t,i,s){switch(t.tag){case 26:bo(t,i,s),t.flags&Gl&&t.memoizedState!==null&&XC(s,Fr,t.memoizedState,t.memoizedProps);break;case 5:bo(t,i,s);break;case 3:case 4:var u=Fr;Fr=uf(t.stateNode.containerInfo),bo(t,i,s),Fr=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Gl,Gl=16777216,bo(t,i,s),Gl=u):bo(t,i,s));break;default:bo(t,i,s)}}function B0(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Kl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];Cn=u,V0(u,t)}B0(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)L0(t),t=t.sibling}function L0(t){switch(t.tag){case 0:case 11:case 15:Kl(t),t.flags&2048&&Sa(9,t,t.return);break;case 3:Kl(t);break;case 12:Kl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Wc(t)):Kl(t);break;default:Kl(t)}}function Wc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];Cn=u,V0(u,t)}B0(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Sa(8,i,i.return),Wc(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,Wc(i));break;default:Wc(i)}t=t.sibling}}function V0(t,i){for(;Cn!==null;){var s=Cn;switch(s.tag){case 0:case 11:case 15:Sa(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:xl(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,Cn=u;else e:for(s=t;Cn!==null;){u=Cn;var h=u.sibling,m=u.return;if(x0(u),u===s){Cn=null;break e}if(h!==null){h.return=m,Cn=h;break e}Cn=m}}}var hC={getCacheForType:function(t){var i=Dn(mn),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return Dn(mn).controller.signal}},dC=typeof WeakMap=="function"?WeakMap:Map,Dt=0,qt=null,ct=null,ht=0,kt=0,_r=null,Aa=!1,To=!1,lp=!1,ki=0,rn=0,Ra=0,Is=0,up=0,vr=0,So=0,Yl=null,sr=null,cp=!1,$c=0,j0=0,Xc=1/0,Jc=null,Ca=null,bn=0,Ia=null,Ao=null,Ui=0,fp=0,hp=null,F0=null,Ql=0,dp=null;function Er(){return(Dt&2)!==0&&ht!==0?ht&-ht:le.T!==null?vp():At()}function q0(){if(vr===0)if((ht&536870912)===0||mt){var t=ot;ot<<=1,(ot&3932160)===0&&(ot=262144),vr=t}else vr=536870912;return t=gr.current,t!==null&&(t.flags|=32),vr}function or(t,i,s){(t===qt&&(kt===2||kt===9)||t.cancelPendingCommit!==null)&&(Ro(t,0),xa(t,ht,vr,!1)),v(t,s),((Dt&2)===0||t!==qt)&&(t===qt&&((Dt&2)===0&&(Is|=s),rn===4&&xa(t,ht,vr,!1)),ri(t))}function z0(t,i,s){if((Dt&6)!==0)throw Error(a(327));var u=!s&&(i&127)===0&&(i&t.expiredLanes)===0||Yr(t,i),h=u?gC(t,i):mp(t,i,!0),m=u;do{if(h===0){To&&!u&&xa(t,i,0,!1);break}else{if(s=t.current.alternate,m&&!pC(s)){h=mp(t,i,!1),m=!1;continue}if(h===2){if(m=i,t.errorRecoveryDisabledLanes&m)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var B=t;h=Yl;var ee=B.current.memoizedState.isDehydrated;if(ee&&(Ro(B,S).flags|=256),S=mp(B,S,!1),S!==2){if(lp&&!ee){B.errorRecoveryDisabledLanes|=m,Is|=m,h=4;break e}m=sr,sr=h,m!==null&&(sr===null?sr=m:sr.push.apply(sr,m))}h=S}if(m=!1,h!==2)continue}}if(h===1){Ro(t,0),xa(t,i,0,!0);break}e:{switch(u=t,m=h,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:xa(u,i,vr,!Aa);break e;case 2:sr=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=$c+300-yt(),10<h)){if(xa(u,i,vr,!Aa),Ln(u,0,!0)!==0)break e;Ui=i,u.timeoutHandle=EE(H0.bind(null,u,s,sr,Jc,cp,i,vr,Is,So,Aa,m,"Throttled",-0,0),h);break e}H0(u,s,sr,Jc,cp,i,vr,Is,So,Aa,m,null,-0,0)}}break}while(!0);ri(t)}function H0(t,i,s,u,h,m,S,B,ee,me,Ae,Oe,ge,Ee){if(t.timeoutHandle=-1,Oe=i.subtreeFlags,Oe&8192||(Oe&16785408)===16785408){Oe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Sn},U0(i,m,Oe);var ze=(m&62914560)===m?$c-yt():(m&4194048)===m?j0-yt():0;if(ze=JC(Oe,ze),ze!==null){Ui=m,t.cancelPendingCommit=ze(J0.bind(null,t,i,m,s,u,h,S,B,ee,Ae,Oe,null,ge,Ee)),xa(t,m,S,!me);return}}J0(t,i,m,s,u,h,S,B,ee)}function pC(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var h=s[u],m=h.getSnapshot;h=h.value;try{if(!pr(m(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function xa(t,i,s,u){i&=~up,i&=~Is,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var h=i;0<h;){var m=31-Te(h),S=1<<m;u[m]=-1,h&=~S}s!==0&&Q(t,s,i)}function Zc(){return(Dt&6)===0?(Wl(0),!1):!0}function pp(){if(ct!==null){if(kt===0)var t=ct.return;else t=ct,Ai=vs=null,Od(t),go=null,Dl=0,t=ct;for(;t!==null;)w0(t.alternate,t),t=t.return;ct=null}}function Ro(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,PC(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Ui=0,pp(),qt=t,ct=s=Ti(t.current,null),ht=i,kt=0,_r=null,Aa=!1,To=Yr(t,i),lp=!1,So=vr=up=Is=Ra=rn=0,sr=Yl=null,cp=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var h=31-Te(u),m=1<<h;i|=t[h],u&=~m}return ki=i,Ec(),s}function G0(t,i){st=null,le.H=Vl,i===mo||i===Ic?(i=ov(),kt=3):i===_d?(i=ov(),kt=4):kt=i===Kd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_r=i,ct===null&&(rn=1,qc(t,xr(i,t.current)))}function K0(){var t=gr.current;return t===null?!0:(ht&4194048)===ht?Mr===null:(ht&62914560)===ht||(ht&536870912)!==0?t===Mr:!1}function Y0(){var t=le.H;return le.H=Vl,t===null?Vl:t}function Q0(){var t=le.A;return le.A=hC,t}function ef(){rn=4,Aa||(ht&4194048)!==ht&&gr.current!==null||(To=!0),(Ra&134217727)===0&&(Is&134217727)===0||qt===null||xa(qt,ht,vr,!1)}function mp(t,i,s){var u=Dt;Dt|=2;var h=Y0(),m=Q0();(qt!==t||ht!==i)&&(Jc=null,Ro(t,i)),i=!1;var S=rn;e:do try{if(kt!==0&&ct!==null){var B=ct,ee=_r;switch(kt){case 8:pp(),S=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(i=!0);var me=kt;if(kt=0,_r=null,Co(t,B,ee,me),s&&To){S=0;break e}break;default:me=kt,kt=0,_r=null,Co(t,B,ee,me)}}mC(),S=rn;break}catch(Ae){G0(t,Ae)}while(!0);return i&&t.shellSuspendCounter++,Ai=vs=null,Dt=u,le.H=h,le.A=m,ct===null&&(qt=null,ht=0,Ec()),S}function mC(){for(;ct!==null;)W0(ct)}function gC(t,i){var s=Dt;Dt|=2;var u=Y0(),h=Q0();qt!==t||ht!==i?(Jc=null,Xc=yt()+500,Ro(t,i)):To=Yr(t,i);e:do try{if(kt!==0&&ct!==null){i=ct;var m=_r;t:switch(kt){case 1:kt=0,_r=null,Co(t,i,m,1);break;case 2:case 9:if(av(m)){kt=0,_r=null,$0(i);break}i=function(){kt!==2&&kt!==9||qt!==t||(kt=7),ri(t)},m.then(i,i);break e;case 3:kt=7;break e;case 4:kt=5;break e;case 7:av(m)?(kt=0,_r=null,$0(i)):(kt=0,_r=null,Co(t,i,m,7));break;case 5:var S=null;switch(ct.tag){case 26:S=ct.memoizedState;case 5:case 27:var B=ct;if(S?kE(S):B.stateNode.complete){kt=0,_r=null;var ee=B.sibling;if(ee!==null)ct=ee;else{var me=B.return;me!==null?(ct=me,tf(me)):ct=null}break t}}kt=0,_r=null,Co(t,i,m,5);break;case 6:kt=0,_r=null,Co(t,i,m,6);break;case 8:pp(),rn=6;break e;default:throw Error(a(462))}}yC();break}catch(Ae){G0(t,Ae)}while(!0);return Ai=vs=null,le.H=u,le.A=h,Dt=s,ct!==null?0:(qt=null,ht=0,Ec(),rn)}function yC(){for(;ct!==null&&!Et();)W0(ct)}function W0(t){var i=v0(t.alternate,t,ki);t.memoizedProps=t.pendingProps,i===null?tf(t):ct=i}function $0(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=d0(s,i,i.pendingProps,i.type,void 0,ht);break;case 11:i=d0(s,i,i.pendingProps,i.type.render,i.ref,ht);break;case 5:Od(i);default:w0(s,i),i=ct=Q_(i,ki),i=v0(s,i,ki)}t.memoizedProps=t.pendingProps,i===null?tf(t):ct=i}function Co(t,i,s,u){Ai=vs=null,Od(i),go=null,Dl=0;var h=i.return;try{if(aC(t,h,i,s,ht)){rn=1,qc(t,xr(s,t.current)),ct=null;return}}catch(m){if(h!==null)throw ct=h,m;rn=1,qc(t,xr(s,t.current)),ct=null;return}i.flags&32768?(mt||u===1?t=!0:To||(ht&536870912)!==0?t=!1:(Aa=t=!0,(u===2||u===9||u===3||u===6)&&(u=gr.current,u!==null&&u.tag===13&&(u.flags|=16384))),X0(i,t)):tf(i)}function tf(t){var i=t;do{if((i.flags&32768)!==0){X0(i,Aa);return}t=i.return;var s=lC(i.alternate,i,ki);if(s!==null){ct=s;return}if(i=i.sibling,i!==null){ct=i;return}ct=i=t}while(i!==null);rn===0&&(rn=5)}function X0(t,i){do{var s=uC(t.alternate,t);if(s!==null){s.flags&=32767,ct=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){ct=t;return}ct=t=s}while(t!==null);rn=6,ct=null}function J0(t,i,s,u,h,m,S,B,ee){t.cancelPendingCommit=null;do nf();while(bn!==0);if((Dt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=rd,b(t,s,m,S,B,ee),t===qt&&(ct=qt=null,ht=0),Ao=i,Ia=t,Ui=s,fp=m,hp=h,F0=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wC(Lt,function(){return rE(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=le.T,le.T=null,h=Se.p,Se.p=2,S=Dt,Dt|=4;try{cC(t,i,s)}finally{Dt=S,Se.p=h,le.T=u}}bn=1,Z0(),eE(),tE()}}function Z0(){if(bn===1){bn=0;var t=Ia,i=Ao,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=le.T,le.T=null;var u=Se.p;Se.p=2;var h=Dt;Dt|=4;try{M0(i,t);var m=Cp,S=V_(t.containerInfo),B=m.focusedElem,ee=m.selectionRange;if(S!==B&&B&&B.ownerDocument&&L_(B.ownerDocument.documentElement,B)){if(ee!==null&&Jh(B)){var me=ee.start,Ae=ee.end;if(Ae===void 0&&(Ae=me),"selectionStart"in B)B.selectionStart=me,B.selectionEnd=Math.min(Ae,B.value.length);else{var Oe=B.ownerDocument||document,ge=Oe&&Oe.defaultView||window;if(ge.getSelection){var Ee=ge.getSelection(),ze=B.textContent.length,We=Math.min(ee.start,ze),Ft=ee.end===void 0?We:Math.min(ee.end,ze);!Ee.extend&&We>Ft&&(S=Ft,Ft=We,We=S);var ce=B_(B,We),se=B_(B,Ft);if(ce&&se&&(Ee.rangeCount!==1||Ee.anchorNode!==ce.node||Ee.anchorOffset!==ce.offset||Ee.focusNode!==se.node||Ee.focusOffset!==se.offset)){var pe=Oe.createRange();pe.setStart(ce.node,ce.offset),Ee.removeAllRanges(),We>Ft?(Ee.addRange(pe),Ee.extend(se.node,se.offset)):(pe.setEnd(se.node,se.offset),Ee.addRange(pe))}}}}for(Oe=[],Ee=B;Ee=Ee.parentNode;)Ee.nodeType===1&&Oe.push({element:Ee,left:Ee.scrollLeft,top:Ee.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<Oe.length;B++){var xe=Oe[B];xe.element.scrollLeft=xe.left,xe.element.scrollTop=xe.top}}mf=!!Rp,Cp=Rp=null}finally{Dt=h,Se.p=u,le.T=s}}t.current=i,bn=2}}function eE(){if(bn===2){bn=0;var t=Ia,i=Ao,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=le.T,le.T=null;var u=Se.p;Se.p=2;var h=Dt;Dt|=4;try{I0(t,i.alternate,i)}finally{Dt=h,Se.p=u,le.T=s}}bn=3}}function tE(){if(bn===4||bn===3){bn=0,wt();var t=Ia,i=Ao,s=Ui,u=F0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?bn=5:(bn=0,Ao=Ia=null,nE(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ca=null),at(s),i=i.stateNode,ie&&typeof ie.onCommitFiberRoot=="function")try{ie.onCommitFiberRoot(Y,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=le.T,h=Se.p,Se.p=2,le.T=null;try{for(var m=t.onRecoverableError,S=0;S<u.length;S++){var B=u[S];m(B.value,{componentStack:B.stack})}}finally{le.T=i,Se.p=h}}(Ui&3)!==0&&nf(),ri(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===dp?Ql++:(Ql=0,dp=t):Ql=0,Wl(0)}}function nE(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,xl(i)))}function nf(){return Z0(),eE(),tE(),rE()}function rE(){if(bn!==5)return!1;var t=Ia,i=fp;fp=0;var s=at(Ui),u=le.T,h=Se.p;try{Se.p=32>s?32:s,le.T=null,s=hp,hp=null;var m=Ia,S=Ui;if(bn=0,Ao=Ia=null,Ui=0,(Dt&6)!==0)throw Error(a(331));var B=Dt;if(Dt|=4,L0(m.current),k0(m,m.current,S,s),Dt=B,Wl(0,!1),ie&&typeof ie.onPostCommitFiberRoot=="function")try{ie.onPostCommitFiberRoot(Y,m)}catch{}return!0}finally{Se.p=h,le.T=u,nE(t,i)}}function iE(t,i,s){i=xr(s,i),i=Gd(t.stateNode,i,2),t=wa(t,i,2),t!==null&&(v(t,2),ri(t))}function Ut(t,i,s){if(t.tag===3)iE(t,t,s);else for(;i!==null;){if(i.tag===3){iE(i,t,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ca===null||!Ca.has(u))){t=xr(s,t),s=a0(2),u=wa(i,s,2),u!==null&&(s0(s,u,i,t),v(u,2),ri(u));break}}i=i.return}}function gp(t,i,s){var u=t.pingCache;if(u===null){u=t.pingCache=new dC;var h=new Set;u.set(i,h)}else h=u.get(i),h===void 0&&(h=new Set,u.set(i,h));h.has(s)||(lp=!0,h.add(s),t=_C.bind(null,t,i,s),i.then(t,t))}function _C(t,i,s){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,qt===t&&(ht&s)===s&&(rn===4||rn===3&&(ht&62914560)===ht&&300>yt()-$c?(Dt&2)===0&&Ro(t,0):up|=s,So===ht&&(So=0)),ri(t)}function aE(t,i){i===0&&(i=rs()),t=gs(t,i),t!==null&&(v(t,i),ri(t))}function vC(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),aE(t,s)}function EC(t,i){var s=0;switch(t.tag){case 31:case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),aE(t,s)}function wC(t,i){return Yt(t,i)}var rf=null,Io=null,yp=!1,af=!1,_p=!1,Oa=0;function ri(t){t!==Io&&t.next===null&&(Io===null?rf=Io=t:Io=Io.next=t),af=!0,yp||(yp=!0,TC())}function Wl(t,i){if(!_p&&af){_p=!0;do for(var s=!1,u=rf;u!==null;){if(t!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var S=u.suspendedLanes,B=u.pingedLanes;m=(1<<31-Te(42|t)+1)-1,m&=h&~(S&~B),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,uE(u,m))}else m=ht,m=Ln(u,u===qt?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Yr(u,m)||(s=!0,uE(u,m));u=u.next}while(s);_p=!1}}function bC(){sE()}function sE(){af=yp=!1;var t=0;Oa!==0&&MC()&&(t=Oa);for(var i=yt(),s=null,u=rf;u!==null;){var h=u.next,m=oE(u,i);m===0?(u.next=null,s===null?rf=h:s.next=h,h===null&&(Io=s)):(s=u,(t!==0||(m&3)!==0)&&(af=!0)),u=h}bn!==0&&bn!==5||Wl(t),Oa!==0&&(Oa=0)}function oE(t,i){for(var s=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var S=31-Te(m),B=1<<S,ee=h[S];ee===-1?((B&s)===0||(B&u)!==0)&&(h[S]=Qn(B,i)):ee<=i&&(t.expiredLanes|=B),m&=~B}if(i=qt,s=ht,s=Ln(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===i&&(kt===2||kt===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&$t(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Yr(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(u!==null&&$t(u),at(s)){case 2:case 8:s=Nt;break;case 32:s=Lt;break;case 268435456:s=P;break;default:s=Lt}return u=lE.bind(null,t),s=Yt(s,u),t.callbackPriority=i,t.callbackNode=s,i}return u!==null&&u!==null&&$t(u),t.callbackPriority=2,t.callbackNode=null,2}function lE(t,i){if(bn!==0&&bn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(nf()&&t.callbackNode!==s)return null;var u=ht;return u=Ln(t,t===qt?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(z0(t,u,i),oE(t,yt()),t.callbackNode!=null&&t.callbackNode===s?lE.bind(null,t):null)}function uE(t,i){if(nf())return null;z0(t,i,!0)}function TC(){kC(function(){(Dt&6)!==0?Yt(bt,bC):sE()})}function vp(){if(Oa===0){var t=ho;t===0&&(t=St,St<<=1,(St&261888)===0&&(St=256)),Oa=t}return Oa}function cE(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Xr(""+t)}function fE(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function SC(t,i,s,u,h){if(i==="submit"&&s&&s.stateNode===h){var m=cE((h[xn]||null).action),S=u.submitter;S&&(i=(i=S[xn]||null)?cE(i.formAction):S.getAttribute("formAction"),i!==null&&(m=i,S=null));var B=new us("action","action",null,u,h);t.push({event:B,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Oa!==0){var ee=S?fE(h,S):new FormData(h);Vd(s,{pending:!0,data:ee,method:h.method,action:m},null,ee)}}else typeof m=="function"&&(B.preventDefault(),ee=S?fE(h,S):new FormData(h),Vd(s,{pending:!0,data:ee,method:h.method,action:m},m,ee))},currentTarget:h}]})}}for(var Ep=0;Ep<nd.length;Ep++){var wp=nd[Ep],AC=wp.toLowerCase(),RC=wp[0].toUpperCase()+wp.slice(1);jr(AC,"on"+RC)}jr(q_,"onAnimationEnd"),jr(z_,"onAnimationIteration"),jr(H_,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(q1,"onTransitionRun"),jr(z1,"onTransitionStart"),jr(H1,"onTransitionCancel"),jr(G_,"onTransitionEnd"),$r("onMouseEnter",["mouseout","mouseover"]),$r("onMouseLeave",["mouseout","mouseover"]),$r("onPointerEnter",["pointerout","pointerover"]),$r("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($l));function hE(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],h=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var S=u.length-1;0<=S;S--){var B=u[S],ee=B.instance,me=B.currentTarget;if(B=B.listener,ee!==m&&h.isPropagationStopped())break e;m=B,h.currentTarget=me;try{m(h)}catch(Ae){vc(Ae)}h.currentTarget=null,m=ee}else for(S=0;S<u.length;S++){if(B=u[S],ee=B.instance,me=B.currentTarget,B=B.listener,ee!==m&&h.isPropagationStopped())break e;m=B,h.currentTarget=me;try{m(h)}catch(Ae){vc(Ae)}h.currentTarget=null,m=ee}}}}function ft(t,i){var s=i[ta];s===void 0&&(s=i[ta]=new Set);var u=t+"__bubble";s.has(u)||(dE(i,t,2,!1),s.add(u))}function bp(t,i,s){var u=0;i&&(u|=4),dE(s,t,u,i)}var sf="_reactListening"+Math.random().toString(36).slice(2);function Tp(t){if(!t[sf]){t[sf]=!0,Qs.forEach(function(s){s!=="selectionchange"&&(CC.has(s)||bp(s,!1,t),bp(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[sf]||(i[sf]=!0,bp("selectionchange",!1,i))}}function dE(t,i,s,u){switch(qE(i)){case 2:var h=tI;break;case 8:h=nI;break;default:h=Lp}s=h.bind(null,i,s,t),h=void 0,!_l||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Sp(t,i,s,u,h){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var B=u.stateNode.containerInfo;if(B===h)break;if(S===4)for(S=u.return;S!==null;){var ee=S.tag;if((ee===3||ee===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;B!==null;){if(S=gi(B),S===null)return;if(ee=S.tag,ee===5||ee===6||ee===26||ee===27){u=m=S;continue e}B=B.parentNode}}u=u.return}rc(function(){var me=m,Ae=Zs(s),Oe=[];e:{var ge=K_.get(t);if(ge!==void 0){var Ee=us,ze=t;switch(t){case"keypress":if(ls(s)===0)break e;case"keydown":case"keyup":Ee=hc;break;case"focusin":ze="focus",Ee=fa;break;case"focusout":ze="blur",Ee=fa;break;case"beforeblur":case"afterblur":Ee=fa;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=ac;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=pc;break;case q_:case z_:case H_:Ee=no;break;case G_:Ee=ro;break;case"scroll":case"scrollend":Ee=ic;break;case"wheel":Ee=gc;break;case"copy":case"cut":case"paste":Ee=lc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=Tl;break;case"toggle":case"beforetoggle":Ee=da}var We=(i&4)!==0,Ft=!We&&(t==="scroll"||t==="scrollend"),ce=We?ge!==null?ge+"Capture":null:ge;We=[];for(var se=me,pe;se!==null;){var xe=se;if(pe=xe.stateNode,xe=xe.tag,xe!==5&&xe!==26&&xe!==27||pe===null||ce===null||(xe=tr(se,ce),xe!=null&&We.push(Xl(se,xe,pe))),Ft)break;se=se.return}0<We.length&&(ge=new Ee(ge,ze,null,s,Ae),Oe.push({event:ge,listeners:We}))}}if((i&7)===0){e:{if(ge=t==="mouseover"||t==="pointerover",Ee=t==="mouseout"||t==="pointerout",ge&&s!==Js&&(ze=s.relatedTarget||s.fromElement)&&(gi(ze)||ze[Qr]))break e;if((Ee||ge)&&(ge=Ae.window===Ae?Ae:(ge=Ae.ownerDocument)?ge.defaultView||ge.parentWindow:window,Ee?(ze=s.relatedTarget||s.toElement,Ee=me,ze=ze?gi(ze):null,ze!==null&&(Ft=l(ze),We=ze.tag,ze!==Ft||We!==5&&We!==27&&We!==6)&&(ze=null)):(Ee=null,ze=me),Ee!==ze)){if(We=ac,xe="onMouseLeave",ce="onMouseEnter",se="mouse",(t==="pointerout"||t==="pointerover")&&(We=Tl,xe="onPointerLeave",ce="onPointerEnter",se="pointer"),Ft=Ee==null?ge:as(Ee),pe=ze==null?ge:as(ze),ge=new We(xe,se+"leave",Ee,s,Ae),ge.target=Ft,ge.relatedTarget=pe,xe=null,gi(Ae)===me&&(We=new We(ce,se+"enter",ze,s,Ae),We.target=pe,We.relatedTarget=Ft,xe=We),Ft=xe,Ee&&ze)t:{for(We=IC,ce=Ee,se=ze,pe=0,xe=ce;xe;xe=We(xe))pe++;xe=0;for(var Ye=se;Ye;Ye=We(Ye))xe++;for(;0<pe-xe;)ce=We(ce),pe--;for(;0<xe-pe;)se=We(se),xe--;for(;pe--;){if(ce===se||se!==null&&ce===se.alternate){We=ce;break t}ce=We(ce),se=We(se)}We=null}else We=null;Ee!==null&&pE(Oe,ge,Ee,We,!1),ze!==null&&Ft!==null&&pE(Oe,Ft,ze,We,!0)}}e:{if(ge=me?as(me):window,Ee=ge.nodeName&&ge.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&ge.type==="file")var Ct=D_;else if(nr(ge))if(N_)Ct=V1;else{Ct=B1;var Ke=U1}else Ee=ge.nodeName,!Ee||Ee.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?me&&gl(me.elementType)&&(Ct=D_):Ct=L1;if(Ct&&(Ct=Ct(t,me))){ds(Oe,Ct,s,Ae);break e}Ke&&Ke(t,ge,me),t==="focusout"&&me&&ge.type==="number"&&me.memoizedProps.value!=null&&Xs(ge,"number",ge.value)}switch(Ke=me?as(me):window,t){case"focusin":(nr(Ke)||Ke.contentEditable==="true")&&(io=Ke,Zh=me,Rl=null);break;case"focusout":Rl=Zh=io=null;break;case"mousedown":ed=!0;break;case"contextmenu":case"mouseup":case"dragend":ed=!1,j_(Oe,s,Ae);break;case"selectionchange":if(F1)break;case"keydown":case"keyup":j_(Oe,s,Ae)}var lt;if(_)e:{switch(t){case"compositionstart":var dt="onCompositionStart";break e;case"compositionend":dt="onCompositionEnd";break e;case"compositionupdate":dt="onCompositionUpdate";break e}dt=void 0}else ut?Mt(t,s)&&(dt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(dt="onCompositionStart");dt&&(fe&&s.locale!=="ko"&&(ut||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&ut&&(lt=oa()):(dr=Ae,eo="value"in dr?dr.value:dr.textContent,ut=!0)),Ke=of(me,dt),0<Ke.length&&(dt=new El(dt,t,null,s,Ae),Oe.push({event:dt,listeners:Ke}),lt?dt.data=lt:(lt=pn(s),lt!==null&&(dt.data=lt)))),(lt=q?An(t,s):Rn(t,s))&&(dt=of(me,"onBeforeInput"),0<dt.length&&(Ke=new El("onBeforeInput","beforeinput",null,s,Ae),Oe.push({event:Ke,listeners:dt}),Ke.data=lt)),SC(Oe,t,me,s,Ae)}hE(Oe,i)})}function Xl(t,i,s){return{instance:t,listener:i,currentTarget:s}}function of(t,i){for(var s=i+"Capture",u=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=tr(t,s),h!=null&&u.unshift(Xl(t,h,m)),h=tr(t,i),h!=null&&u.push(Xl(t,h,m))),t.tag===3)return u;t=t.return}return[]}function IC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function pE(t,i,s,u,h){for(var m=i._reactName,S=[];s!==null&&s!==u;){var B=s,ee=B.alternate,me=B.stateNode;if(B=B.tag,ee!==null&&ee===u)break;B!==5&&B!==26&&B!==27||me===null||(ee=me,h?(me=tr(s,m),me!=null&&S.unshift(Xl(s,me,ee))):h||(me=tr(s,m),me!=null&&S.push(Xl(s,me,ee)))),s=s.return}S.length!==0&&t.push({event:i,listeners:S})}var xC=/\r\n?/g,OC=/\u0000|\uFFFD/g;function mE(t){return(typeof t=="string"?t:""+t).replace(xC,`
`).replace(OC,"")}function gE(t,i){return i=mE(i),mE(t)===i}function jt(t,i,s,u,h,m){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Cr(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Cr(t,""+u);break;case"className":ia(t,"class",u);break;case"tabIndex":ia(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ia(t,s,u);break;case"style":tc(t,u,m);break;case"data":if(i!=="object"){ia(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=Xr(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(i!=="input"&&jt(t,i,"name",h.name,h,null),jt(t,i,"formEncType",h.formEncType,h,null),jt(t,i,"formMethod",h.formMethod,h,null),jt(t,i,"formTarget",h.formTarget,h,null)):(jt(t,i,"encType",h.encType,h,null),jt(t,i,"method",h.method,h,null),jt(t,i,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=Xr(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=Sn);break;case"onScroll":u!=null&&ft("scroll",t);break;case"onScrollEnd":u!=null&&ft("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=Xr(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":ft("beforetoggle",t),ft("toggle",t),ra(t,"popover",u);break;case"xlinkActuate":Rr(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Rr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Rr(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Rr(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Rr(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Rr(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Rr(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Rr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Rr(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ra(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Yh.get(s)||s,ra(t,s,u))}}function Ap(t,i,s,u,h,m){switch(s){case"style":tc(t,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof u=="string"?Cr(t,u):(typeof u=="number"||typeof u=="bigint")&&Cr(t,""+u);break;case"onScroll":u!=null&&ft("scroll",t);break;case"onScrollEnd":u!=null&&ft("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!na.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),m=t[xn]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(i,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,u,h);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):ra(t,s,u)}}}function Mn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ft("error",t),ft("load",t);var u=!1,h=!1,m;for(m in s)if(s.hasOwnProperty(m)){var S=s[m];if(S!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:jt(t,i,m,S,s,null)}}h&&jt(t,i,"srcSet",s.srcSet,s,null),u&&jt(t,i,"src",s.src,s,null);return;case"input":ft("invalid",t);var B=m=S=h=null,ee=null,me=null;for(u in s)if(s.hasOwnProperty(u)){var Ae=s[u];if(Ae!=null)switch(u){case"name":h=Ae;break;case"type":S=Ae;break;case"checked":ee=Ae;break;case"defaultChecked":me=Ae;break;case"value":m=Ae;break;case"defaultValue":B=Ae;break;case"children":case"dangerouslySetInnerHTML":if(Ae!=null)throw Error(a(137,i));break;default:jt(t,i,u,Ae,s,null)}}ss(t,m,B,ee,me,S,h,!1);return;case"select":ft("invalid",t),u=S=m=null;for(h in s)if(s.hasOwnProperty(h)&&(B=s[h],B!=null))switch(h){case"value":m=B;break;case"defaultValue":S=B;break;case"multiple":u=B;default:jt(t,i,h,B,s,null)}i=m,s=S,t.multiple=!!u,i!=null?Rt(t,!!u,i,!1):s!=null&&Rt(t,!!u,s,!0);return;case"textarea":ft("invalid",t),m=h=u=null;for(S in s)if(s.hasOwnProperty(S)&&(B=s[S],B!=null))switch(S){case"value":u=B;break;case"defaultValue":h=B;break;case"children":m=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(91));break;default:jt(t,i,S,B,s,null)}sa(t,u,h,m);return;case"option":for(ee in s)s.hasOwnProperty(ee)&&(u=s[ee],u!=null)&&(ee==="selected"?t.selected=u&&typeof u!="function"&&typeof u!="symbol":jt(t,i,ee,u,s,null));return;case"dialog":ft("beforetoggle",t),ft("toggle",t),ft("cancel",t),ft("close",t);break;case"iframe":case"object":ft("load",t);break;case"video":case"audio":for(u=0;u<$l.length;u++)ft($l[u],t);break;case"image":ft("error",t),ft("load",t);break;case"details":ft("toggle",t);break;case"embed":case"source":case"link":ft("error",t),ft("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in s)if(s.hasOwnProperty(me)&&(u=s[me],u!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:jt(t,i,me,u,s,null)}return;default:if(gl(i)){for(Ae in s)s.hasOwnProperty(Ae)&&(u=s[Ae],u!==void 0&&Ap(t,i,Ae,u,s,void 0));return}}for(B in s)s.hasOwnProperty(B)&&(u=s[B],u!=null&&jt(t,i,B,u,s,null))}function DC(t,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,S=null,B=null,ee=null,me=null,Ae=null;for(Ee in s){var Oe=s[Ee];if(s.hasOwnProperty(Ee)&&Oe!=null)switch(Ee){case"checked":break;case"value":break;case"defaultValue":ee=Oe;default:u.hasOwnProperty(Ee)||jt(t,i,Ee,null,u,Oe)}}for(var ge in u){var Ee=u[ge];if(Oe=s[ge],u.hasOwnProperty(ge)&&(Ee!=null||Oe!=null))switch(ge){case"type":m=Ee;break;case"name":h=Ee;break;case"checked":me=Ee;break;case"defaultChecked":Ae=Ee;break;case"value":S=Ee;break;case"defaultValue":B=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(a(137,i));break;default:Ee!==Oe&&jt(t,i,ge,Ee,u,Oe)}}aa(t,S,B,ee,me,Ae,m,h);return;case"select":Ee=S=B=ge=null;for(m in s)if(ee=s[m],s.hasOwnProperty(m)&&ee!=null)switch(m){case"value":break;case"multiple":Ee=ee;default:u.hasOwnProperty(m)||jt(t,i,m,null,u,ee)}for(h in u)if(m=u[h],ee=s[h],u.hasOwnProperty(h)&&(m!=null||ee!=null))switch(h){case"value":ge=m;break;case"defaultValue":B=m;break;case"multiple":S=m;default:m!==ee&&jt(t,i,h,m,u,ee)}i=B,s=S,u=Ee,ge!=null?Rt(t,!!s,ge,!1):!!u!=!!s&&(i!=null?Rt(t,!!s,i,!0):Rt(t,!!s,s?[]:"",!1));return;case"textarea":Ee=ge=null;for(B in s)if(h=s[B],s.hasOwnProperty(B)&&h!=null&&!u.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:jt(t,i,B,null,u,h)}for(S in u)if(h=u[S],m=s[S],u.hasOwnProperty(S)&&(h!=null||m!=null))switch(S){case"value":ge=h;break;case"defaultValue":Ee=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==m&&jt(t,i,S,h,u,m)}os(t,ge,Ee);return;case"option":for(var ze in s)ge=s[ze],s.hasOwnProperty(ze)&&ge!=null&&!u.hasOwnProperty(ze)&&(ze==="selected"?t.selected=!1:jt(t,i,ze,null,u,ge));for(ee in u)ge=u[ee],Ee=s[ee],u.hasOwnProperty(ee)&&ge!==Ee&&(ge!=null||Ee!=null)&&(ee==="selected"?t.selected=ge&&typeof ge!="function"&&typeof ge!="symbol":jt(t,i,ee,ge,u,Ee));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var We in s)ge=s[We],s.hasOwnProperty(We)&&ge!=null&&!u.hasOwnProperty(We)&&jt(t,i,We,null,u,ge);for(me in u)if(ge=u[me],Ee=s[me],u.hasOwnProperty(me)&&ge!==Ee&&(ge!=null||Ee!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(a(137,i));break;default:jt(t,i,me,ge,u,Ee)}return;default:if(gl(i)){for(var Ft in s)ge=s[Ft],s.hasOwnProperty(Ft)&&ge!==void 0&&!u.hasOwnProperty(Ft)&&Ap(t,i,Ft,void 0,u,ge);for(Ae in u)ge=u[Ae],Ee=s[Ae],!u.hasOwnProperty(Ae)||ge===Ee||ge===void 0&&Ee===void 0||Ap(t,i,Ae,ge,u,Ee);return}}for(var ce in s)ge=s[ce],s.hasOwnProperty(ce)&&ge!=null&&!u.hasOwnProperty(ce)&&jt(t,i,ce,null,u,ge);for(Oe in u)ge=u[Oe],Ee=s[Oe],!u.hasOwnProperty(Oe)||ge===Ee||ge==null&&Ee==null||jt(t,i,Oe,ge,u,Ee)}function yE(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function NC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var h=s[u],m=h.transferSize,S=h.initiatorType,B=h.duration;if(m&&B&&yE(S)){for(S=0,B=h.responseEnd,u+=1;u<s.length;u++){var ee=s[u],me=ee.startTime;if(me>B)break;var Ae=ee.transferSize,Oe=ee.initiatorType;Ae&&yE(Oe)&&(ee=ee.responseEnd,S+=Ae*(ee<B?1:(B-me)/(ee-me)))}if(--u,i+=8*(m+S)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Rp=null,Cp=null;function lf(t){return t.nodeType===9?t:t.ownerDocument}function _E(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vE(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ip(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var xp=null;function MC(){var t=window.event;return t&&t.type==="popstate"?t===xp?!1:(xp=t,!0):(xp=null,!1)}var EE=typeof setTimeout=="function"?setTimeout:void 0,PC=typeof clearTimeout=="function"?clearTimeout:void 0,wE=typeof Promise=="function"?Promise:void 0,kC=typeof queueMicrotask=="function"?queueMicrotask:typeof wE<"u"?function(t){return wE.resolve(null).then(t).catch(UC)}:EE;function UC(t){setTimeout(function(){throw t})}function Da(t){return t==="head"}function bE(t,i){var s=i,u=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(u===0){t.removeChild(h),No(i);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")Jl(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,Jl(s);for(var m=s.firstChild;m;){var S=m.nextSibling,B=m.nodeName;m[mi]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=S}}else s==="body"&&Jl(t.ownerDocument.body);s=h}while(s);No(i)}function TE(t,i){var s=t;t=0;do{var u=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=u}while(s)}function Op(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Op(s),is(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function BC(t,i,s,u){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[mi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Pr(t.nextSibling),t===null)break}return null}function LC(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Pr(t.nextSibling),t===null))return null;return t}function SE(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Pr(t.nextSibling),t===null))return null;return t}function Dp(t){return t.data==="$?"||t.data==="$~"}function Np(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function VC(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Pr(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Mp=null;function AE(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Pr(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function RE(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function CE(t,i,s){switch(i=lf(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Jl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);is(t)}var kr=new Map,IE=new Set;function uf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bi=Se.d;Se.d={f:jC,r:FC,D:qC,C:zC,L:HC,m:GC,X:YC,S:KC,M:QC};function jC(){var t=Bi.f(),i=Zc();return t||i}function FC(t){var i=yi(t);i!==null&&i.tag===5&&i.type==="form"?Gv(i):Bi.r(t)}var xo=typeof document>"u"?null:document;function xE(t,i,s){var u=xo;if(u&&typeof i=="string"&&i){var h=tn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),IE.has(h)||(IE.add(h),t={rel:t,crossOrigin:s,href:i},u.querySelector(h)===null&&(i=u.createElement("link"),Mn(i,"link",t),ln(i),u.head.appendChild(i)))}}function qC(t){Bi.D(t),xE("dns-prefetch",t,null)}function zC(t,i){Bi.C(t,i),xE("preconnect",t,i)}function HC(t,i,s){Bi.L(t,i,s);var u=xo;if(u&&t&&i){var h='link[rel="preload"][as="'+tn(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+tn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+tn(s.imageSizes)+'"]')):h+='[href="'+tn(t)+'"]';var m=h;switch(i){case"style":m=Oo(t);break;case"script":m=Do(t)}kr.has(m)||(t=w({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),kr.set(m,t),u.querySelector(h)!==null||i==="style"&&u.querySelector(Zl(m))||i==="script"&&u.querySelector(eu(m))||(i=u.createElement("link"),Mn(i,"link",t),ln(i),u.head.appendChild(i)))}}function GC(t,i){Bi.m(t,i);var s=xo;if(s&&t){var u=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+tn(u)+'"][href="'+tn(t)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Do(t)}if(!kr.has(m)&&(t=w({rel:"modulepreload",href:t},i),kr.set(m,t),s.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(eu(m)))return}u=s.createElement("link"),Mn(u,"link",t),ln(u),s.head.appendChild(u)}}}function KC(t,i,s){Bi.S(t,i,s);var u=xo;if(u&&t){var h=Lr(u).hoistableStyles,m=Oo(t);i=i||"default";var S=h.get(m);if(!S){var B={loading:0,preload:null};if(S=u.querySelector(Zl(m)))B.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},s),(s=kr.get(m))&&Pp(t,s);var ee=S=u.createElement("link");ln(ee),Mn(ee,"link",t),ee._p=new Promise(function(me,Ae){ee.onload=me,ee.onerror=Ae}),ee.addEventListener("load",function(){B.loading|=1}),ee.addEventListener("error",function(){B.loading|=2}),B.loading|=4,cf(S,i,u)}S={type:"stylesheet",instance:S,count:1,state:B},h.set(m,S)}}}function YC(t,i){Bi.X(t,i);var s=xo;if(s&&t){var u=Lr(s).hoistableScripts,h=Do(t),m=u.get(h);m||(m=s.querySelector(eu(h)),m||(t=w({src:t,async:!0},i),(i=kr.get(h))&&kp(t,i),m=s.createElement("script"),ln(m),Mn(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function QC(t,i){Bi.M(t,i);var s=xo;if(s&&t){var u=Lr(s).hoistableScripts,h=Do(t),m=u.get(h);m||(m=s.querySelector(eu(h)),m||(t=w({src:t,async:!0,type:"module"},i),(i=kr.get(h))&&kp(t,i),m=s.createElement("script"),ln(m),Mn(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function OE(t,i,s,u){var h=(h=Z.current)?uf(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Oo(s.href),s=Lr(h).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=Oo(s.href);var m=Lr(h).hoistableStyles,S=m.get(t);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,S),(m=h.querySelector(Zl(t)))&&!m._p&&(S.instance=m,S.state.loading=5),kr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kr.set(t,s),m||WC(h,t,s,S.state))),i&&u===null)throw Error(a(528,""));return S}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Do(s),s=Lr(h).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function Oo(t){return'href="'+tn(t)+'"'}function Zl(t){return'link[rel="stylesheet"]['+t+"]"}function DE(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function WC(t,i,s,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),Mn(i,"link",s),ln(i),t.head.appendChild(i))}function Do(t){return'[src="'+tn(t)+'"]'}function eu(t){return"script[async]"+t}function NE(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+tn(s.href)+'"]');if(u)return i.instance=u,ln(u),u;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),ln(u),Mn(u,"style",h),cf(u,s.precedence,t),i.instance=u;case"stylesheet":h=Oo(s.href);var m=t.querySelector(Zl(h));if(m)return i.state.loading|=4,i.instance=m,ln(m),m;u=DE(s),(h=kr.get(h))&&Pp(u,h),m=(t.ownerDocument||t).createElement("link"),ln(m);var S=m;return S._p=new Promise(function(B,ee){S.onload=B,S.onerror=ee}),Mn(m,"link",u),i.state.loading|=4,cf(m,s.precedence,t),i.instance=m;case"script":return m=Do(s.src),(h=t.querySelector(eu(m)))?(i.instance=h,ln(h),h):(u=s,(h=kr.get(m))&&(u=w({},s),kp(u,h)),t=t.ownerDocument||t,h=t.createElement("script"),ln(h),Mn(h,"link",u),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,cf(u,s.precedence,t));return i.instance}function cf(t,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,S=0;S<u.length;S++){var B=u[S];if(B.dataset.precedence===i)m=B;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Pp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function kp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var ff=null;function ME(t,i,s){if(ff===null){var u=new Map,h=ff=new Map;h.set(s,u)}else h=ff,u=h.get(s),u||(u=new Map,h.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var m=s[h];if(!(m[mi]||m[Xe]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(i)||"";S=t+S;var B=u.get(S);B?B.push(m):u.set(S,[m])}}return u}function PE(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function $C(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function kE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function XC(t,i,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Oo(u.href),m=i.querySelector(Zl(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=hf.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=m,ln(m);return}m=i.ownerDocument||i,u=DE(u),(h=kr.get(h))&&Pp(u,h),m=m.createElement("link"),ln(m);var S=m;S._p=new Promise(function(B,ee){S.onload=B,S.onerror=ee}),Mn(m,"link",u),s.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=hf.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var Up=0;function JC(t,i){return t.stylesheets&&t.count===0&&pf(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var u=setTimeout(function(){if(t.stylesheets&&pf(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&Up===0&&(Up=62500*NC());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&pf(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>Up?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function hf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var df=null;function pf(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,df=new Map,i.forEach(ZC,t),df=null,hf.call(t))}function ZC(t,i){if(!(i.state.loading&4)){var s=df.get(t);if(s)var u=s.get(null);else{s=new Map,df.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var S=h[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(s.set(S.dataset.precedence,S),u=S)}u&&s.set(null,u)}h=i.instance,S=h.getAttribute("data-precedence"),m=s.get(S)||u,m===u&&s.set(null,h),s.set(S,h),this.count++,u=hf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var tu={$$typeof:j,Provider:null,Consumer:null,_currentValue:ke,_currentValue2:ke,_threadCount:0};function eI(t,i,s,u,h,m,S,B,ee){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=k(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k(0),this.hiddenUpdates=k(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function UE(t,i,s,u,h,m,S,B,ee,me,Ae,Oe){return t=new eI(t,i,s,S,ee,me,Ae,Oe,B),i=1,m===!0&&(i|=24),m=mr(3,null,null,i),t.current=m,m.stateNode=t,i=md(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:s,cache:i},vd(m),t}function BE(t){return t?(t=oo,t):oo}function LE(t,i,s,u,h,m){h=BE(h),u.context===null?u.context=h:u.pendingContext=h,u=Ea(i),u.payload={element:s},m=m===void 0?null:m,m!==null&&(u.callback=m),s=wa(t,u,i),s!==null&&(or(s,t,i),Ml(s,t,i))}function VE(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Bp(t,i){VE(t,i),(t=t.alternate)&&VE(t,i)}function jE(t){if(t.tag===13||t.tag===31){var i=gs(t,67108864);i!==null&&or(i,t,67108864),Bp(t,67108864)}}function FE(t){if(t.tag===13||t.tag===31){var i=Er();i=Ie(i);var s=gs(t,i);s!==null&&or(s,t,i),Bp(t,i)}}var mf=!0;function tI(t,i,s,u){var h=le.T;le.T=null;var m=Se.p;try{Se.p=2,Lp(t,i,s,u)}finally{Se.p=m,le.T=h}}function nI(t,i,s,u){var h=le.T;le.T=null;var m=Se.p;try{Se.p=8,Lp(t,i,s,u)}finally{Se.p=m,le.T=h}}function Lp(t,i,s,u){if(mf){var h=Vp(u);if(h===null)Sp(t,i,u,gf,s),zE(t,u);else if(iI(h,t,i,s,u))u.stopPropagation();else if(zE(t,u),i&4&&-1<rI.indexOf(t)){for(;h!==null;){var m=yi(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=en(m.pendingLanes);if(S!==0){var B=m;for(B.pendingLanes|=2,B.entangledLanes|=2;S;){var ee=1<<31-Te(S);B.entanglements[1]|=ee,S&=~ee}ri(m),(Dt&6)===0&&(Xc=yt()+500,Wl(0))}}break;case 31:case 13:B=gs(m,2),B!==null&&or(B,m,2),Zc(),Bp(m,2)}if(m=Vp(u),m===null&&Sp(t,i,u,gf,s),m===h)break;h=m}h!==null&&u.stopPropagation()}else Sp(t,i,u,null,s)}}function Vp(t){return t=Zs(t),jp(t)}var gf=null;function jp(t){if(gf=null,t=gi(t),t!==null){var i=l(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=c(i),t!==null)return t;t=null}else if(s===31){if(t=d(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return gf=t,null}function qE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zt()){case bt:return 2;case Nt:return 8;case Lt:case cr:return 32;case P:return 268435456;default:return 32}default:return 32}}var Fp=!1,Na=null,Ma=null,Pa=null,nu=new Map,ru=new Map,ka=[],rI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zE(t,i){switch(t){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":nu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(i.pointerId)}}function iu(t,i,s,u,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},i!==null&&(i=yi(i),i!==null&&jE(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function iI(t,i,s,u,h){switch(i){case"focusin":return Na=iu(Na,t,i,s,u,h),!0;case"dragenter":return Ma=iu(Ma,t,i,s,u,h),!0;case"mouseover":return Pa=iu(Pa,t,i,s,u,h),!0;case"pointerover":var m=h.pointerId;return nu.set(m,iu(nu.get(m)||null,t,i,s,u,h)),!0;case"gotpointercapture":return m=h.pointerId,ru.set(m,iu(ru.get(m)||null,t,i,s,u,h)),!0}return!1}function HE(t){var i=gi(t.target);if(i!==null){var s=l(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){t.blockedOn=i,Pt(t.priority,function(){FE(s)});return}}else if(i===31){if(i=d(s),i!==null){t.blockedOn=i,Pt(t.priority,function(){FE(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yf(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=Vp(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);Js=u,s.target.dispatchEvent(u),Js=null}else return i=yi(s),i!==null&&jE(i),t.blockedOn=s,!1;i.shift()}return!0}function GE(t,i,s){yf(t)&&s.delete(i)}function aI(){Fp=!1,Na!==null&&yf(Na)&&(Na=null),Ma!==null&&yf(Ma)&&(Ma=null),Pa!==null&&yf(Pa)&&(Pa=null),nu.forEach(GE),ru.forEach(GE)}function _f(t,i){t.blockedOn===i&&(t.blockedOn=null,Fp||(Fp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,aI)))}var vf=null;function KE(t){vf!==t&&(vf=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){vf===t&&(vf=null);for(var i=0;i<t.length;i+=3){var s=t[i],u=t[i+1],h=t[i+2];if(typeof u!="function"){if(jp(u||s)===null)continue;break}var m=yi(s);m!==null&&(t.splice(i,3),i-=3,Vd(m,{pending:!0,data:h,method:s.method,action:u},u,h))}}))}function No(t){function i(ee){return _f(ee,t)}Na!==null&&_f(Na,t),Ma!==null&&_f(Ma,t),Pa!==null&&_f(Pa,t),nu.forEach(i),ru.forEach(i);for(var s=0;s<ka.length;s++){var u=ka[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ka.length&&(s=ka[0],s.blockedOn===null);)HE(s),s.blockedOn===null&&ka.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var h=s[u],m=s[u+1],S=h[xn]||null;if(typeof m=="function")S||KE(s);else if(S){var B=null;if(m&&m.hasAttribute("formAction")){if(h=m,S=m[xn]||null)B=S.formAction;else if(jp(h)!==null)continue}else B=S.action;typeof B=="function"?s[u+1]=B:(s.splice(u,3),u-=3),KE(s)}}}function YE(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return h=S})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function qp(t){this._internalRoot=t}Ef.prototype.render=qp.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,u=Er();LE(s,u,t,i,null,null)},Ef.prototype.unmount=qp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;LE(t.current,2,null,t,null,null),Zc(),i[Qr]=null}};function Ef(t){this._internalRoot=t}Ef.prototype.unstable_scheduleHydration=function(t){if(t){var i=At();t={blockedOn:null,target:t,priority:i};for(var s=0;s<ka.length&&i!==0&&i<ka[s].priority;s++);ka.splice(s,0,t),s===0&&HE(t)}};var QE=e.version;if(QE!=="19.2.4")throw Error(a(527,QE,"19.2.4"));Se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var sI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:le,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wf.isDisabled&&wf.supportsFiber)try{Y=wf.inject(sI),ie=wf}catch{}}return su.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,u="",h=t0,m=n0,S=r0;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=UE(t,1,!1,null,null,s,u,null,h,m,S,YE),t[Qr]=i.current,Tp(t),new qp(i)},su.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var u=!1,h="",m=t0,S=n0,B=r0,ee=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(B=s.onRecoverableError),s.formState!==void 0&&(ee=s.formState)),i=UE(t,1,!0,i,s??null,u,h,ee,m,S,B,YE),i.context=BE(null),s=i.current,u=Er(),u=Ie(u),h=Ea(u),h.callback=null,wa(s,h,u),s=u,i.current.lanes=s,v(i,s),ri(i),t[Qr]=i.current,Tp(t),new Ef(i)},su.version="19.2.4",su}var iw;function EI(){if(iw)return Gp.exports;iw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gp.exports=vI(),Gp.exports}var wI=EI();const bI=cS(wI),Us=globalThis||void 0||self;var aw="popstate";function TI(r={}){function e(a,o){let{pathname:l,search:c,hash:d}=a.location;return Vg("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Tu(o)}return AI(e,n,null,r)}function Wt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Hr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SI(){return Math.random().toString(36).substring(2,10)}function sw(r,e){return{usr:r.state,key:r.key,idx:e}}function Vg(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Zo(e):e,state:n,key:e&&e.key||a||SI()}}function Tu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Zo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function AI(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:l=!1}=a,c=o.history,d="POP",p=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function w(){d="POP";let U=y(),D=U==null?null:U-g;g=U,p&&p({action:d,location:V.location,delta:D})}function R(U,D){d="PUSH";let L=Vg(V.location,U,D);g=y()+1;let j=sw(L,g),G=V.createHref(L);try{c.pushState(j,"",G)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(G)}l&&p&&p({action:d,location:V.location,delta:1})}function z(U,D){d="REPLACE";let L=Vg(V.location,U,D);g=y();let j=sw(L,g),G=V.createHref(L);c.replaceState(j,"",G),l&&p&&p({action:d,location:V.location,delta:0})}function I(U){return RI(U)}let V={get action(){return d},get location(){return r(o,c)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(aw,w),p=U,()=>{o.removeEventListener(aw,w),p=null}},createHref(U){return e(o,U)},createURL:I,encodeLocation(U){let D=I(U);return{pathname:D.pathname,search:D.search,hash:D.hash}},push:R,replace:z,go(U){return c.go(U)}};return V}function RI(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Wt(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Tu(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function mS(r,e,n="/"){return CI(r,e,n,!1)}function CI(r,e,n,a){let o=typeof e=="string"?Zo(e):e,l=Ki(o.pathname||"/",n);if(l==null)return null;let c=gS(r);II(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=VI(l);d=BI(c[p],g,a)}return d}function gS(r,e=[],n=[],a="",o=!1){let l=(c,d,p=o,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&p)return;Wt(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let w=Hi([a,y.relativePath]),R=n.concat(y);c.children&&c.children.length>0&&(Wt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),gS(c.children,e,R,w,p)),!(c.path==null&&!c.index)&&e.push({path:w,score:kI(w,c.index),routesMeta:R})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of yS(c.path))l(c,d,!0,p)}),e}function yS(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let c=yS(a.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function II(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:UI(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var xI=/^:[\w-]+$/,OI=3,DI=2,NI=1,MI=10,PI=-2,ow=r=>r==="*";function kI(r,e){let n=r.split("/"),a=n.length;return n.some(ow)&&(a+=PI),e&&(a+=DI),n.filter(o=>!ow(o)).reduce((o,l)=>o+(xI.test(l)?OI:l===""?NI:MI),a)}function UI(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function BI(r,e,n=!1){let{routesMeta:a}=r,o={},l="/",c=[];for(let d=0;d<a.length;++d){let p=a[d],g=d===a.length-1,y=l==="/"?e:e.slice(l.length)||"/",w=Xf({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),R=p.route;if(!w&&g&&n&&!a[a.length-1].route.index&&(w=Xf({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:Hi([l,w.pathname]),pathnameBase:zI(Hi([l,w.pathnameBase])),route:R}),w.pathnameBase!=="/"&&(l=Hi([l,w.pathnameBase]))}return c}function Xf(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=LI(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:y,isOptional:w},R)=>{if(y==="*"){let I=d[R]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const z=d[R];return w&&!z?g[y]=void 0:g[y]=(z||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function LI(r,e=!1,n=!0){Hr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function VI(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Ki(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}var jI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function FI(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?Zo(r):r,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=lw(n.substring(1),"/"):l=lw(n,e)):l=e,{pathname:l,search:HI(a),hash:GI(o)}}function lw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Wp(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qI(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dy(r){let e=qI(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function py(r,e,n,a=!1){let o;typeof r=="string"?o=Zo(r):(o={...r},Wt(!o.pathname||!o.pathname.includes("?"),Wp("?","pathname","search",o)),Wt(!o.pathname||!o.pathname.includes("#"),Wp("#","pathname","hash",o)),Wt(!o.search||!o.search.includes("#"),Wp("#","search","hash",o)));let l=r===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let w=e.length-1;if(!a&&c.startsWith("..")){let R=c.split("/");for(;R[0]==="..";)R.shift(),w-=1;o.pathname=R.join("/")}d=w>=0?e[w]:"/"}let p=FI(o,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var Hi=r=>r.join("/").replace(/\/\/+/g,"/"),zI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),HI=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,GI=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,KI=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function YI(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function QI(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _S=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function vS(r,e){let n=r;if(typeof n!="string"||!jI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,o=!1;if(_S)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Ki(c.pathname,e);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:o=!0}catch{Hr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var ES=["POST","PUT","PATCH","DELETE"];new Set(ES);var WI=["GET",...ES];new Set(WI);var el=ue.createContext(null);el.displayName="DataRouter";var ph=ue.createContext(null);ph.displayName="DataRouterState";var $I=ue.createContext(!1),wS=ue.createContext({isTransitioning:!1});wS.displayName="ViewTransition";var XI=ue.createContext(new Map);XI.displayName="Fetchers";var JI=ue.createContext(null);JI.displayName="Await";var Ar=ue.createContext(null);Ar.displayName="Navigation";var ku=ue.createContext(null);ku.displayName="Location";var Kr=ue.createContext({outlet:null,matches:[],isDataRoute:!1});Kr.displayName="Route";var my=ue.createContext(null);my.displayName="RouteError";var bS="REACT_ROUTER_ERROR",ZI="REDIRECT",e2="ROUTE_ERROR_RESPONSE";function t2(r){if(r.startsWith(`${bS}:${ZI}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function n2(r){if(r.startsWith(`${bS}:${e2}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new KI(e.status,e.statusText,e.data)}catch{}}function r2(r,{relative:e}={}){Wt(tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=ue.useContext(Ar),{hash:o,pathname:l,search:c}=Uu(r,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Hi([n,l])),a.createHref({pathname:d,search:c,hash:o})}function tl(){return ue.useContext(ku)!=null}function es(){return Wt(tl(),"useLocation() may be used only in the context of a <Router> component."),ue.useContext(ku).location}var TS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SS(r){ue.useContext(Ar).static||ue.useLayoutEffect(r)}function ts(){let{isDataRoute:r}=ue.useContext(Kr);return r?y2():i2()}function i2(){Wt(tl(),"useNavigate() may be used only in the context of a <Router> component.");let r=ue.useContext(el),{basename:e,navigator:n}=ue.useContext(Ar),{matches:a}=ue.useContext(Kr),{pathname:o}=es(),l=JSON.stringify(dy(a)),c=ue.useRef(!1);return SS(()=>{c.current=!0}),ue.useCallback((p,g={})=>{if(Hr(c.current,TS),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=py(p,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Hi([e,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[e,n,l,o,r])}ue.createContext(null);function a2(){let{matches:r}=ue.useContext(Kr),e=r[r.length-1];return e?e.params:{}}function Uu(r,{relative:e}={}){let{matches:n}=ue.useContext(Kr),{pathname:a}=es(),o=JSON.stringify(dy(n));return ue.useMemo(()=>py(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function s2(r,e){return AS(r,e)}function AS(r,e,n,a,o){Wt(tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=ue.useContext(Ar),{matches:c}=ue.useContext(Kr),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",w=d&&d.route;{let L=w&&w.path||"";CS(g,!w||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let R=es(),z;if(e){let L=typeof e=="string"?Zo(e):e;Wt(y==="/"||L.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${L.pathname}" was given in the \`location\` prop.`),z=L}else z=R;let I=z.pathname||"/",V=I;if(y!=="/"){let L=y.replace(/^\//,"").split("/");V="/"+I.replace(/^\//,"").split("/").slice(L.length).join("/")}let U=mS(r,{pathname:V});Hr(w||U!=null,`No routes matched location "${z.pathname}${z.search}${z.hash}" `),Hr(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${z.pathname}${z.search}${z.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=f2(U&&U.map(L=>Object.assign({},L,{params:Object.assign({},p,L.params),pathname:Hi([y,l.encodeLocation?l.encodeLocation(L.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?y:Hi([y,l.encodeLocation?l.encodeLocation(L.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:L.pathnameBase])})),c,n,a,o);return e&&D?ue.createElement(ku.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...z},navigationType:"POP"}},D):D}function o2(){let r=g2(),e=YI(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=ue.createElement(ue.Fragment,null,ue.createElement("p",null," Hey developer "),ue.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ue.createElement("code",{style:l},"ErrorBoundary")," or"," ",ue.createElement("code",{style:l},"errorElement")," prop on your route.")),ue.createElement(ue.Fragment,null,ue.createElement("h2",null,"Unexpected Application Error!"),ue.createElement("h3",{style:{fontStyle:"italic"}},e),n?ue.createElement("pre",{style:o},n):null,c)}var l2=ue.createElement(o2,null),RS=class extends ue.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=n2(r.digest);n&&(r=n)}let e=r!==void 0?ue.createElement(Kr.Provider,{value:this.props.routeContext},ue.createElement(my.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?ue.createElement(u2,{error:r},e):e}};RS.contextType=$I;var $p=new WeakMap;function u2({children:r,error:e}){let{basename:n}=ue.useContext(Ar);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=t2(e.digest);if(a){let o=$p.get(e);if(o)throw o;let l=vS(a.location,n);if(_S&&!$p.get(e))if(l.isExternal||a.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:a.replace}));throw $p.set(e,c),c}return ue.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function c2({routeContext:r,match:e,children:n}){let a=ue.useContext(el);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),ue.createElement(Kr.Provider,{value:r},n)}function f2(r,e=[],n=null,a=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,c=n?.errors;if(c!=null){let y=l.findIndex(w=>w.route.id&&c?.[w.route.id]!==void 0);Wt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,p=-1;if(n)for(let y=0;y<l.length;y++){let w=l[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=y),w.route.id){let{loaderData:R,errors:z}=n,I=w.route.loader&&!R.hasOwnProperty(w.route.id)&&(!z||z[w.route.id]===void 0);if(w.route.lazy||I){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=n&&a?(y,w)=>{a(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:QI(n.matches),errorInfo:w})}:void 0;return l.reduceRight((y,w,R)=>{let z,I=!1,V=null,U=null;n&&(z=c&&w.route.id?c[w.route.id]:void 0,V=w.route.errorElement||l2,d&&(p<0&&R===0?(CS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,U=null):p===R&&(I=!0,U=w.route.hydrateFallbackElement||null)));let D=e.concat(l.slice(0,R+1)),L=()=>{let j;return z?j=V:I?j=U:w.route.Component?j=ue.createElement(w.route.Component,null):w.route.element?j=w.route.element:j=y,ue.createElement(c2,{match:w,routeContext:{outlet:y,matches:D,isDataRoute:n!=null},children:j})};return n&&(w.route.ErrorBoundary||w.route.errorElement||R===0)?ue.createElement(RS,{location:n.location,revalidation:n.revalidation,component:V,error:z,children:L(),routeContext:{outlet:null,matches:D,isDataRoute:!0},onError:g}):L()},null)}function gy(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h2(r){let e=ue.useContext(el);return Wt(e,gy(r)),e}function d2(r){let e=ue.useContext(ph);return Wt(e,gy(r)),e}function p2(r){let e=ue.useContext(Kr);return Wt(e,gy(r)),e}function yy(r){let e=p2(r),n=e.matches[e.matches.length-1];return Wt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function m2(){return yy("useRouteId")}function g2(){let r=ue.useContext(my),e=d2("useRouteError"),n=yy("useRouteError");return r!==void 0?r:e.errors?.[n]}function y2(){let{router:r}=h2("useNavigate"),e=yy("useNavigate"),n=ue.useRef(!1);return SS(()=>{n.current=!0}),ue.useCallback(async(o,l={})=>{Hr(n.current,TS),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var uw={};function CS(r,e,n){!e&&!uw[r]&&(uw[r]=!0,Hr(!1,n))}ue.memo(_2);function _2({routes:r,future:e,state:n,onError:a}){return AS(r,void 0,n,a,e)}function bf({to:r,replace:e,state:n,relative:a}){Wt(tl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=ue.useContext(Ar);Hr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=ue.useContext(Kr),{pathname:c}=es(),d=ts(),p=py(r,dy(l),c,a==="path"),g=JSON.stringify(p);return ue.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:a})},[d,g,a,e,n]),null}function La(r){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function v2({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:l=!1,unstable_useTransitions:c}){Wt(!tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=ue.useMemo(()=>({basename:d,navigator:o,static:l,unstable_useTransitions:c,future:{}}),[d,o,l,c]);typeof n=="string"&&(n=Zo(n));let{pathname:g="/",search:y="",hash:w="",state:R=null,key:z="default"}=n,I=ue.useMemo(()=>{let V=Ki(g,d);return V==null?null:{location:{pathname:V,search:y,hash:w,state:R,key:z},navigationType:a}},[d,g,y,w,R,z,a]);return Hr(I!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:ue.createElement(Ar.Provider,{value:p},ue.createElement(ku.Provider,{children:e,value:I}))}function E2({children:r,location:e}){return s2(jg(r),e)}function jg(r,e=[]){let n=[];return ue.Children.forEach(r,(a,o)=>{if(!ue.isValidElement(a))return;let l=[...e,o];if(a.type===ue.Fragment){n.push.apply(n,jg(a.props.children,l));return}Wt(a.type===La,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=jg(a.props.children,l)),n.push(c)}),n}var jf="get",Ff="application/x-www-form-urlencoded";function mh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function w2(r){return mh(r)&&r.tagName.toLowerCase()==="button"}function b2(r){return mh(r)&&r.tagName.toLowerCase()==="form"}function T2(r){return mh(r)&&r.tagName.toLowerCase()==="input"}function S2(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function A2(r,e){return r.button===0&&(!e||e==="_self")&&!S2(r)}var Tf=null;function R2(){if(Tf===null)try{new FormData(document.createElement("form"),0),Tf=!1}catch{Tf=!0}return Tf}var C2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xp(r){return r!=null&&!C2.has(r)?(Hr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ff}"`),null):r}function I2(r,e){let n,a,o,l,c;if(b2(r)){let d=r.getAttribute("action");a=d?Ki(d,e):null,n=r.getAttribute("method")||jf,o=Xp(r.getAttribute("enctype"))||Ff,l=new FormData(r)}else if(w2(r)||T2(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(a=p?Ki(p,e):null,n=r.getAttribute("formmethod")||d.getAttribute("method")||jf,o=Xp(r.getAttribute("formenctype"))||Xp(d.getAttribute("enctype"))||Ff,l=new FormData(d,r),!R2()){let{name:g,type:y,value:w}=r;if(y==="image"){let R=g?`${g}.`:"";l.append(`${R}x`,"0"),l.append(`${R}y`,"0")}else g&&l.append(g,w)}}else{if(mh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jf,a=null,o=Ff,c=r}return l&&o==="text/plain"&&(c=l,l=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function _y(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function x2(r,e,n,a){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&Ki(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function O2(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function D2(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function N2(r,e,n){let a=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await O2(l,n);return c.links?c.links():[]}return[]}));return U2(a.flat(1).filter(D2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function cw(r,e,n,a,o,l){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{let y=a.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function M2(r,e,{includeHydrateFallback:n}={}){return P2(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function P2(r){return[...new Set(r)]}function k2(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function U2(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let l=JSON.stringify(k2(o));return n.has(l)||(n.add(l),a.push({key:l,link:o})),a},[])}function IS(){let r=ue.useContext(el);return _y(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function B2(){let r=ue.useContext(ph);return _y(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var vy=ue.createContext(void 0);vy.displayName="FrameworkContext";function xS(){let r=ue.useContext(vy);return _y(r,"You must render this element inside a <HydratedRouter> element"),r}function L2(r,e){let n=ue.useContext(vy),[a,o]=ue.useState(!1),[l,c]=ue.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:w}=e,R=ue.useRef(null);ue.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let V=D=>{D.forEach(L=>{c(L.isIntersecting)})},U=new IntersectionObserver(V,{threshold:.5});return R.current&&U.observe(R.current),()=>{U.disconnect()}}},[r]),ue.useEffect(()=>{if(a){let V=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(V)}}},[a]);let z=()=>{o(!0)},I=()=>{o(!1),c(!1)};return n?r!=="intent"?[l,R,{}]:[l,R,{onFocus:ou(d,z),onBlur:ou(p,I),onMouseEnter:ou(g,z),onMouseLeave:ou(y,I),onTouchStart:ou(w,z)}]:[!1,R,{}]}function ou(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function V2({page:r,...e}){let{router:n}=IS(),a=ue.useMemo(()=>mS(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?ue.createElement(F2,{page:r,matches:a,...e}):null}function j2(r){let{manifest:e,routeModules:n}=xS(),[a,o]=ue.useState([]);return ue.useEffect(()=>{let l=!1;return N2(r,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[r,e,n]),a}function F2({page:r,matches:e,...n}){let a=es(),{future:o,manifest:l,routeModules:c}=xS(),{basename:d}=IS(),{loaderData:p,matches:g}=B2(),y=ue.useMemo(()=>cw(r,e,g,l,a,"data"),[r,e,g,l,a]),w=ue.useMemo(()=>cw(r,e,g,l,a,"assets"),[r,e,g,l,a]),R=ue.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let V=new Set,U=!1;if(e.forEach(L=>{let j=l.routes[L.route.id];!j||!j.hasLoader||(!y.some(G=>G.route.id===L.route.id)&&L.route.id in p&&c[L.route.id]?.shouldRevalidate||j.hasClientLoader?U=!0:V.add(L.route.id))}),V.size===0)return[];let D=x2(r,d,o.unstable_trailingSlashAwareDataRequests,"data");return U&&V.size>0&&D.searchParams.set("_routes",e.filter(L=>V.has(L.route.id)).map(L=>L.route.id).join(",")),[D.pathname+D.search]},[d,o.unstable_trailingSlashAwareDataRequests,p,a,l,y,e,r,c]),z=ue.useMemo(()=>M2(w,l),[w,l]),I=j2(w);return ue.createElement(ue.Fragment,null,R.map(V=>ue.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...n})),z.map(V=>ue.createElement("link",{key:V,rel:"modulepreload",href:V,...n})),I.map(({key:V,link:U})=>ue.createElement("link",{key:V,nonce:n.nonce,...U,crossOrigin:U.crossOrigin??n.crossOrigin})))}function q2(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var z2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z2&&(window.__reactRouterVersion="7.13.0")}catch{}function H2({basename:r,children:e,unstable_useTransitions:n,window:a}){let o=ue.useRef();o.current==null&&(o.current=TI({window:a,v5Compat:!0}));let l=o.current,[c,d]=ue.useState({action:l.action,location:l.location}),p=ue.useCallback(g=>{n===!1?d(g):ue.startTransition(()=>d(g))},[n]);return ue.useLayoutEffect(()=>l.listen(p),[l,p]),ue.createElement(v2,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var OS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jf=ue.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:y,viewTransition:w,unstable_defaultShouldRevalidate:R,...z},I){let{basename:V,unstable_useTransitions:U}=ue.useContext(Ar),D=typeof g=="string"&&OS.test(g),L=vS(g,V);g=L.to;let j=r2(g,{relative:o}),[G,X,J]=L2(a,z),x=Q2(g,{replace:c,state:d,target:p,preventScrollReset:y,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:R,unstable_useTransitions:U});function C(H){e&&e(H),H.defaultPrevented||x(H)}let O=ue.createElement("a",{...z,...J,href:L.absoluteURL||j,onClick:L.isExternal||l?e:C,ref:q2(I,X),target:p,"data-discover":!D&&n==="render"?"true":void 0});return G&&!D?ue.createElement(ue.Fragment,null,O,ue.createElement(V2,{page:j})):O});Jf.displayName="Link";var G2=ue.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:p,...g},y){let w=Uu(c,{relative:g.relative}),R=es(),z=ue.useContext(ph),{navigator:I,basename:V}=ue.useContext(Ar),U=z!=null&&Z2(w)&&d===!0,D=I.encodeLocation?I.encodeLocation(w).pathname:w.pathname,L=R.pathname,j=z&&z.navigation&&z.navigation.location?z.navigation.location.pathname:null;n||(L=L.toLowerCase(),j=j?j.toLowerCase():null,D=D.toLowerCase()),j&&V&&(j=Ki(j,V)||j);const G=D!=="/"&&D.endsWith("/")?D.length-1:D.length;let X=L===D||!o&&L.startsWith(D)&&L.charAt(G)==="/",J=j!=null&&(j===D||!o&&j.startsWith(D)&&j.charAt(D.length)==="/"),x={isActive:X,isPending:J,isTransitioning:U},C=X?e:void 0,O;typeof a=="function"?O=a(x):O=[a,X?"active":null,J?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let H=typeof l=="function"?l(x):l;return ue.createElement(Jf,{...g,"aria-current":C,className:O,ref:y,style:H,to:c,viewTransition:d},typeof p=="function"?p(x):p)});G2.displayName="NavLink";var K2=ue.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:l,method:c=jf,action:d,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:w,unstable_defaultShouldRevalidate:R,...z},I)=>{let{unstable_useTransitions:V}=ue.useContext(Ar),U=X2(),D=J2(d,{relative:g}),L=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&OS.test(d),G=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let J=X.nativeEvent.submitter,x=J?.getAttribute("formmethod")||c,C=()=>U(J||X.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:o,state:l,relative:g,preventScrollReset:y,viewTransition:w,unstable_defaultShouldRevalidate:R});V&&n!==!1?ue.startTransition(()=>C()):C()};return ue.createElement("form",{ref:I,method:L,action:D,onSubmit:a?p:G,...z,"data-discover":!j&&r==="render"?"true":void 0})});K2.displayName="Form";function Y2(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DS(r){let e=ue.useContext(el);return Wt(e,Y2(r)),e}function Q2(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=ts(),y=es(),w=Uu(r,{relative:l});return ue.useCallback(R=>{if(A2(R,e)){R.preventDefault();let z=n!==void 0?n:Tu(y)===Tu(w),I=()=>g(r,{replace:z,state:a,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?ue.startTransition(()=>I()):I()}},[y,g,w,n,a,e,r,o,l,c,d,p])}var W2=0,$2=()=>`__${String(++W2)}__`;function X2(){let{router:r}=DS("useSubmit"),{basename:e}=ue.useContext(Ar),n=m2(),a=r.fetch,o=r.navigate;return ue.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:y,body:w}=I2(l,e);if(c.navigate===!1){let R=c.fetcherKey||$2();await a(R,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:w,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:w,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,o,e,n])}function J2(r,{relative:e}={}){let{basename:n}=ue.useContext(Ar),a=ue.useContext(Kr);Wt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),l={...Uu(r||".",{relative:e})},c=es();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(y=>y==="")){d.delete("index"),p.filter(w=>w).forEach(w=>d.append("index",w));let y=d.toString();l.search=y?`?${y}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Hi([n,l.pathname])),Tu(l)}function Z2(r,{relative:e}={}){let n=ue.useContext(wS);Wt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=DS("useViewTransitionState"),o=Uu(r,{relative:e});if(!n.isTransitioning)return!1;let l=Ki(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=Ki(n.nextLocation.pathname,a)||n.nextLocation.pathname;return Xf(o.pathname,c)!=null||Xf(o.pathname,l)!=null}var fw={};const NS=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ex=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[n++];e[a++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[n++],c=r[n++],d=r[n++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const l=r[n++],c=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},MS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const l=r[o],c=o+1<r.length,d=c?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,y=l>>2,w=(l&3)<<4|d>>4;let R=(d&15)<<2|g>>6,z=g&63;p||(z=64,c||(R=64)),a.push(n[y],n[w],n[R],n[z])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(NS(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ex(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const l=n[r.charAt(o++)],d=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,l==null||d==null||g==null||w==null)throw new tx;const R=l<<2|d>>4;if(a.push(R),g!==64){const z=d<<4&240|g>>2;if(a.push(z),w!==64){const I=g<<6&192|w;a.push(I)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class tx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nx=function(r){const e=NS(r);return MS.encodeByteArray(e,!0)},Zf=function(r){return nx(r).replace(/\./g,"")},PS=function(r){try{return MS.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function rx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Us<"u")return Us;throw new Error("Unable to locate global object.")}const ix=()=>rx().__FIREBASE_DEFAULTS__,ax=()=>{if(typeof et>"u"||typeof fw>"u")return;const r=fw.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},sx=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&PS(r[1]);return e&&JSON.parse(e)},gh=()=>{try{return ix()||ax()||sx()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},kS=r=>{var e,n;return(n=(e=gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},US=r=>{const e=kS(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},BS=()=>{var r;return(r=gh())===null||r===void 0?void 0:r.config},LS=r=>{var e;return(e=gh())===null||e===void 0?void 0:e[`_${r}`]};class ox{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function VS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Zf(JSON.stringify(n)),Zf(JSON.stringify(c)),""].join(".")}function Yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}function ux(){var r;const e=(r=gh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(Us.process)==="[object process]"}catch{return!1}}function cx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fx(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function hx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dx(){const r=Yn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function px(){return!ux()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mx(){try{return typeof indexedDB=="object"}catch{return!1}}function gx(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}const yx="FirebaseError";class di extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=yx,Object.setPrototypeOf(this,di.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bu.prototype.create)}}class Bu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?_x(l,a):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new di(o,d,a)}}function _x(r,e){return r.replace(vx,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const vx=/\{\$([^}]+)}/g;function Ex(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Su(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const l=r[o],c=e[o];if(hw(l)&&hw(c)){if(!Su(l,c))return!1}else if(l!==c)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function hw(r){return r!==null&&typeof r=="object"}function nl(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function wx(r,e){const n=new bx(r,e);return n.subscribe.bind(n)}class bx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");Tx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=Jp),o.error===void 0&&(o.error=Jp),o.complete===void 0&&(o.complete=Jp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Tx(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Jp(){}function Xt(r){return r&&r._delegate?r._delegate:r}class $a{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const xs="[DEFAULT]";class Sx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new ox;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Rx(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});a.resolve(l)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);a===d&&c.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),l=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Ax(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ax(r){return r===xs?void 0:r}function Rx(r){return r.instantiationMode==="EAGER"}class Cx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Sx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var gt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(gt||(gt={}));const Ix={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},xx=gt.INFO,Ox={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},Dx=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=Ox[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ey{constructor(e){this.name=e,this._logLevel=xx,this._logHandler=Dx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ix[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...e),this._logHandler(this,gt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...e),this._logHandler(this,gt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,gt.INFO,...e),this._logHandler(this,gt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,gt.WARN,...e),this._logHandler(this,gt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...e),this._logHandler(this,gt.ERROR,...e)}}const Nx=(r,e)=>e.some(n=>r instanceof n);let dw,pw;function Mx(){return dw||(dw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Px(){return pw||(pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const jS=new WeakMap,Fg=new WeakMap,FS=new WeakMap,Zp=new WeakMap,wy=new WeakMap;function kx(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{n(Ga(r.result)),o()},c=()=>{a(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&jS.set(n,r)}).catch(()=>{}),wy.set(e,r),e}function Ux(r){if(Fg.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});Fg.set(r,e)}let qg={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Fg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||FS.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ga(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Bx(r){qg=r(qg)}function Lx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(em(this),e,...n);return FS.set(a,e.sort?e.sort():[e]),Ga(a)}:Px().includes(r)?function(...e){return r.apply(em(this),e),Ga(jS.get(this))}:function(...e){return Ga(r.apply(em(this),e))}}function Vx(r){return typeof r=="function"?Lx(r):(r instanceof IDBTransaction&&Ux(r),Nx(r,Mx())?new Proxy(r,qg):r)}function Ga(r){if(r instanceof IDBRequest)return kx(r);if(Zp.has(r))return Zp.get(r);const e=Vx(r);return e!==r&&(Zp.set(r,e),wy.set(e,r)),e}const em=r=>wy.get(r);function jx(r,e,{blocked:n,upgrade:a,blocking:o,terminated:l}={}){const c=indexedDB.open(r,e),d=Ga(c);return a&&c.addEventListener("upgradeneeded",p=>{a(Ga(c.result),p.oldVersion,p.newVersion,Ga(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const Fx=["get","getKey","getAll","getAllKeys","count"],qx=["put","add","delete","clear"],tm=new Map;function mw(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(tm.get(e))return tm.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=qx.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||Fx.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return tm.set(e,l),l}Bx(r=>({...r,get:(e,n,a)=>mw(e,n)||r.get(e,n,a),has:(e,n)=>!!mw(e,n)||r.has(e,n)}));class zx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Hx(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function Hx(r){const e=r.getComponent();return e?.type==="VERSION"}const zg="@firebase/app",gw="0.10.13";const Yi=new Ey("@firebase/app"),Gx="@firebase/app-compat",Kx="@firebase/analytics-compat",Yx="@firebase/analytics",Qx="@firebase/app-check-compat",Wx="@firebase/app-check",$x="@firebase/auth",Xx="@firebase/auth-compat",Jx="@firebase/database",Zx="@firebase/data-connect",eO="@firebase/database-compat",tO="@firebase/functions",nO="@firebase/functions-compat",rO="@firebase/installations",iO="@firebase/installations-compat",aO="@firebase/messaging",sO="@firebase/messaging-compat",oO="@firebase/performance",lO="@firebase/performance-compat",uO="@firebase/remote-config",cO="@firebase/remote-config-compat",fO="@firebase/storage",hO="@firebase/storage-compat",dO="@firebase/firestore",pO="@firebase/vertexai-preview",mO="@firebase/firestore-compat",gO="firebase",yO="10.14.1";const Hg="[DEFAULT]",_O={[zg]:"fire-core",[Gx]:"fire-core-compat",[Yx]:"fire-analytics",[Kx]:"fire-analytics-compat",[Wx]:"fire-app-check",[Qx]:"fire-app-check-compat",[$x]:"fire-auth",[Xx]:"fire-auth-compat",[Jx]:"fire-rtdb",[Zx]:"fire-data-connect",[eO]:"fire-rtdb-compat",[tO]:"fire-fn",[nO]:"fire-fn-compat",[rO]:"fire-iid",[iO]:"fire-iid-compat",[aO]:"fire-fcm",[sO]:"fire-fcm-compat",[oO]:"fire-perf",[lO]:"fire-perf-compat",[uO]:"fire-rc",[cO]:"fire-rc-compat",[fO]:"fire-gcs",[hO]:"fire-gcs-compat",[dO]:"fire-fst",[mO]:"fire-fst-compat",[pO]:"fire-vertex","fire-js":"fire-js",[gO]:"fire-js-all"};const eh=new Map,vO=new Map,Gg=new Map;function yw(r,e){try{r.container.addComponent(e)}catch(n){Yi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Bs(r){const e=r.name;if(Gg.has(e))return Yi.debug(`There were multiple attempts to register component ${e}.`),!1;Gg.set(e,r);for(const n of eh.values())yw(n,r);for(const n of vO.values())yw(n,r);return!0}function yh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function ji(r){return r.settings!==void 0}const EO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ka=new Bu("app","Firebase",EO);class wO{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new $a("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ka.create("app-deleted",{appName:this._name})}}const zs=yO;function qS(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Hg,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Ka.create("bad-app-name",{appName:String(o)});if(n||(n=BS()),!n)throw Ka.create("no-options");const l=eh.get(o);if(l){if(Su(n,l.options)&&Su(a,l.config))return l;throw Ka.create("duplicate-app",{appName:o})}const c=new Cx(o);for(const p of Gg.values())c.addComponent(p);const d=new wO(n,a,c);return eh.set(o,d),d}function by(r=Hg){const e=eh.get(r);if(!e&&r===Hg&&BS())return qS();if(!e)throw Ka.create("no-app",{appName:r});return e}function ui(r,e,n){var a;let o=(a=_O[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yi.warn(d.join(" "));return}Bs(new $a(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const bO="firebase-heartbeat-database",TO=1,Au="firebase-heartbeat-store";let nm=null;function zS(){return nm||(nm=jx(bO,TO,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Au)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ka.create("idb-open",{originalErrorMessage:r.message})})),nm}async function SO(r){try{const n=(await zS()).transaction(Au),a=await n.objectStore(Au).get(HS(r));return await n.done,a}catch(e){if(e instanceof di)Yi.warn(e.message);else{const n=Ka.create("idb-get",{originalErrorMessage:e?.message});Yi.warn(n.message)}}}async function _w(r,e){try{const a=(await zS()).transaction(Au,"readwrite");await a.objectStore(Au).put(e,HS(r)),await a.done}catch(n){if(n instanceof di)Yi.warn(n.message);else{const a=Ka.create("idb-set",{originalErrorMessage:n?.message});Yi.warn(a.message)}}}function HS(r){return`${r.name}!${r.options.appId}`}const AO=1024,RO=720*60*60*1e3;class CO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xO(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=vw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=RO}),this._storage.overwrite(this._heartbeatsCache))}catch(a){Yi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=vw(),{heartbeatsToSend:a,unsentEntries:o}=IO(this._heartbeatsCache.heartbeats),l=Zf(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Yi.warn(n),""}}}function vw(){return new Date().toISOString().substring(0,10)}function IO(r,e=AO){const n=[];let a=r.slice();for(const o of r){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Ew(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ew(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class xO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mx()?gx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return _w(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return _w(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ew(r){return Zf(JSON.stringify({version:2,heartbeats:r})).length}function OO(r){Bs(new $a("platform-logger",e=>new zx(e),"PRIVATE")),Bs(new $a("heartbeat",e=>new CO(e),"PRIVATE")),ui(zg,gw,r),ui(zg,gw,"esm2017"),ui("fire-js","")}OO("");function Ty(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function GS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DO=GS,KS=new Bu("auth","Firebase",GS());const th=new Ey("@firebase/auth");function NO(r,...e){th.logLevel<=gt.WARN&&th.warn(`Auth (${zs}): ${r}`,...e)}function qf(r,...e){th.logLevel<=gt.ERROR&&th.error(`Auth (${zs}): ${r}`,...e)}function Qi(r,...e){throw Sy(r,...e)}function Sr(r,...e){return Sy(r,...e)}function YS(r,e,n){const a=Object.assign(Object.assign({},DO()),{[e]:n});return new Bu("auth","Firebase",a).create(e,{appName:r.name})}function Ya(r){return YS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sy(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return KS.create(r,...e)}function Ge(r,e,...n){if(!r)throw Sy(e,...n)}function Fi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw qf(e),new Error(e)}function Wi(r,e){r||Fi(e)}function Kg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function QS(){return ww()==="http:"||ww()==="https:"}function ww(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function MO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QS()||fx()||"connection"in navigator)?navigator.onLine:!0}function PO(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Lu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=lx()||hx()}get(){return MO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ay(r,e){Wi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class WS{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const UO=new Lu(3e4,6e4);function ea(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function pi(r,e,n,a,o={}){return $S(r,o,async()=>{let l={},c={};a&&(e==="GET"?c=a:l={body:JSON.stringify(a)});const d=nl(Object.assign({key:r.config.apiKey},c)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},l);return cx()||(g.referrerPolicy="no-referrer"),WS.fetch()(XS(r,r.config.apiHost,n,d),g)})}async function $S(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},kO),e);try{const o=new BO(r),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw fu(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw fu(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw fu(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw fu(r,"user-disabled",c);const y=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw YS(r,y,g);Qi(r,y)}}catch(o){if(o instanceof di)throw o;Qi(r,"network-request-failed",{message:String(o)})}}async function _h(r,e,n,a,o={}){const l=await pi(r,e,n,a,o);return"mfaPendingCredential"in l&&Qi(r,"multi-factor-auth-required",{_serverResponse:l}),l}function XS(r,e,n,a){const o=`${e}${n}?${a}`;return r.config.emulator?Ay(r.config,o):`${r.config.apiScheme}://${o}`}class BO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Sr(this.auth,"network-request-failed")),UO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function fu(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Sr(r,e,a);return o.customData._tokenResponse=n,o}function bw(r){return r!==void 0&&r.getResponse!==void 0}async function LO(r){return(await pi(r,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function VO(r,e){return pi(r,"POST","/v1/accounts:delete",e)}async function JS(r,e){return pi(r,"POST","/v1/accounts:lookup",e)}function gu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function jO(r,e=!1){const n=Xt(r),a=await n.getIdToken(e),o=Ry(a);Ge(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:a,authTime:gu(rm(o.auth_time)),issuedAtTime:gu(rm(o.iat)),expirationTime:gu(rm(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function rm(r){return Number(r)*1e3}function Ry(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return qf("JWT malformed, contained fewer than 3 sections"),null;try{const o=PS(n);return o?JSON.parse(o):(qf("Failed to decode base64 JWT payload"),null)}catch(o){return qf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Tw(r){const e=Ry(r);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Ru(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof di&&FO(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function FO({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class qO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Yg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(r){var e;const n=r.auth,a=await r.getIdToken(),o=await Ru(r,JS(n,{idToken:a}));Ge(o?.users.length,n,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?ZS(l.providerUserInfo):[],d=HO(r.providerData,c),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!d?.length,y=p?g:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Yg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,w)}async function zO(r){const e=Xt(r);await nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HO(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function ZS(r){return r.map(e=>{var{providerId:n}=e,a=Ty(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}async function GO(r,e){const n=await $S(r,{},async()=>{const a=nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,c=XS(r,o,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",WS.fetch()(c,{method:"POST",headers:d,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KO(r,e){return pi(r,"POST","/v2/accounts:revokeToken",ea(r,e))}class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Tw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=Tw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:l}=await GO(e,n);this.updateTokensAndExpiration(a,o,Number(l))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:l}=n,c=new Vo;return a&&(Ge(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),o&&(Ge(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(Ge(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return Fi("not implemented")}}function Ba(r,e){Ge(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class qi{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,l=Ty(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Yg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Ru(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return jO(this,e)}reload(){return zO(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new qi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await nh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ji(this.auth.app))return Promise.reject(Ya(this.auth));const e=await this.getIdToken();return await Ru(this,VO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,l,c,d,p,g,y;const w=(a=n.displayName)!==null&&a!==void 0?a:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,z=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,I=(c=n.photoURL)!==null&&c!==void 0?c:void 0,V=(d=n.tenantId)!==null&&d!==void 0?d:void 0,U=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,D=(g=n.createdAt)!==null&&g!==void 0?g:void 0,L=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:j,emailVerified:G,isAnonymous:X,providerData:J,stsTokenManager:x}=n;Ge(j&&x,e,"internal-error");const C=Vo.fromJSON(this.name,x);Ge(typeof j=="string",e,"internal-error"),Ba(w,e.name),Ba(R,e.name),Ge(typeof G=="boolean",e,"internal-error"),Ge(typeof X=="boolean",e,"internal-error"),Ba(z,e.name),Ba(I,e.name),Ba(V,e.name),Ba(U,e.name),Ba(D,e.name),Ba(L,e.name);const O=new qi({uid:j,auth:e,email:R,emailVerified:G,displayName:w,isAnonymous:X,photoURL:I,phoneNumber:z,tenantId:V,stsTokenManager:C,createdAt:D,lastLoginAt:L});return J&&Array.isArray(J)&&(O.providerData=J.map(H=>Object.assign({},H))),U&&(O._redirectEventId=U),O}static async _fromIdTokenResponse(e,n,a=!1){const o=new Vo;o.updateFromServerResponse(n);const l=new qi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await nh(l),l}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];Ge(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?ZS(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,d=new Vo;d.updateFromIdToken(a);const p=new qi({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Yg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const Sw=new Map;function zi(r){Wi(r instanceof Function,"Expected a class definition");let e=Sw.get(r);return e?(Wi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Sw.set(r,e),e)}class eA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eA.type="NONE";const Aw=eA;function zf(r,e,n){return`firebase:${r}:${e}:${n}`}class jo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:l}=this.auth;this.fullUserKey=zf(this.userKey,o.apiKey,l),this.fullPersistenceKey=zf("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?qi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new jo(zi(Aw),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||zi(Aw);const c=zf(a,e.config.apiKey,e.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){const w=qi._fromJSON(e,y);g!==l&&(d=w),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new jo(l,e,a):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new jo(l,e,a))}}function Rw(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sA(e))return"Blackberry";if(oA(e))return"Webos";if(nA(e))return"Safari";if((e.includes("chrome/")||rA(e))&&!e.includes("edge/"))return"Chrome";if(aA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function tA(r=Yn()){return/firefox\//i.test(r)}function nA(r=Yn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rA(r=Yn()){return/crios\//i.test(r)}function iA(r=Yn()){return/iemobile/i.test(r)}function aA(r=Yn()){return/android/i.test(r)}function sA(r=Yn()){return/blackberry/i.test(r)}function oA(r=Yn()){return/webos/i.test(r)}function Cy(r=Yn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function YO(r=Yn()){var e;return Cy(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QO(){return dx()&&document.documentMode===10}function lA(r=Yn()){return Cy(r)||aA(r)||oA(r)||sA(r)||/windows phone/i.test(r)||iA(r)}function uA(r,e=[]){let n;switch(r){case"Browser":n=Rw(Yn());break;case"Worker":n=`${Rw(Yn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${zs}/${a}`}class WO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function $O(r,e={}){return pi(r,"GET","/v2/passwordPolicy",ea(r,e))}const XO=6;class JO{constructor(e){var n,a,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:XO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class ZO{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cw(this),this.idTokenSubscription=new Cw(this),this.beforeStateQueue=new WO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=zi(n)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await jo.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await JS(this,{idToken:e}),a=await qi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ji(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ji(this.app))return Promise.reject(Ya(this));const n=e?Xt(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ji(this.app)?Promise.reject(Ya(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ji(this.app)?Promise.reject(Ya(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await $O(this),n=new JO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await KO(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&zi(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await jo.create(this,[zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&NO(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Hs(r){return Xt(r)}class Cw{constructor(e){this.auth=e,this.observer=null,this.addObserver=wx(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eD(r){vh=r}function cA(r){return vh.loadJS(r)}function tD(){return vh.recaptchaV2Script}function nD(){return vh.gapiScript}function fA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function rD(r,e){const n=yh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(Su(l,e??{}))return o;Qi(o,"already-initialized")}return n.initialize({options:e})}function iD(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(zi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function aD(r,e,n){const a=Hs(r);Ge(a._canInitEmulator,a,"emulator-config-failed"),Ge(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,l=hA(e),{host:c,port:d}=sD(e),p=d===null?"":`:${d}`;a.config.emulator={url:`${l}//${c}${p}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),oD()}function hA(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function sD(r){const e=hA(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const l=o[1];return{host:l,port:Iw(a.substr(l.length+1))}}else{const[l,c]=a.split(":");return{host:l,port:Iw(c)}}}function Iw(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function oD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Iy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Fi("not implemented")}_getIdTokenResponse(e){return Fi("not implemented")}_linkToIdToken(e,n){return Fi("not implemented")}_getReauthenticationResolver(e){return Fi("not implemented")}}async function Fo(r,e){return _h(r,"POST","/v1/accounts:signInWithIdp",ea(r,e))}const lD="http://localhost";class Ls extends Iy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ls(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,l=Ty(n,["providerId","signInMethod"]);if(!a||!o)return null;const c=new Ls(a,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Fo(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Fo(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fo(e,n)}buildRequest(){const e={requestUri:lD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nl(n)}return e}}async function uD(r,e){return pi(r,"POST","/v1/accounts:sendVerificationCode",ea(r,e))}async function cD(r,e){return _h(r,"POST","/v1/accounts:signInWithPhoneNumber",ea(r,e))}async function fD(r,e){const n=await _h(r,"POST","/v1/accounts:signInWithPhoneNumber",ea(r,e));if(n.temporaryProof)throw fu(r,"account-exists-with-different-credential",n);return n}const hD={USER_NOT_FOUND:"user-not-found"};async function dD(r,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return _h(r,"POST","/v1/accounts:signInWithPhoneNumber",ea(r,n),hD)}class Ms extends Iy{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Ms({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Ms({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return cD(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return fD(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return dD(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:a,verificationCode:o}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:a,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:a,phoneNumber:o,temporaryProof:l}=e;return!a&&!n&&!o&&!l?null:new Ms({verificationId:n,verificationCode:a,phoneNumber:o,temporaryProof:l})}}class dA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Vu extends dA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Va extends Vu{constructor(){super("facebook.com")}static credential(e){return Ls._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Va.credentialFromTaggedObject(e)}static credentialFromError(e){return Va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Va.credential(e.oauthAccessToken)}catch{return null}}}Va.FACEBOOK_SIGN_IN_METHOD="facebook.com";Va.PROVIDER_ID="facebook.com";class Li extends Vu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ls._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return Li.credential(n,a)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";class ja extends Vu{constructor(){super("github.com")}static credential(e){return Ls._fromParams({providerId:ja.PROVIDER_ID,signInMethod:ja.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ja.credentialFromTaggedObject(e)}static credentialFromError(e){return ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ja.credential(e.oauthAccessToken)}catch{return null}}}ja.GITHUB_SIGN_IN_METHOD="github.com";ja.PROVIDER_ID="github.com";class Fa extends Vu{constructor(){super("twitter.com")}static credential(e,n){return Ls._fromParams({providerId:Fa.PROVIDER_ID,signInMethod:Fa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fa.credentialFromTaggedObject(e)}static credentialFromError(e){return Fa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Fa.credential(n,a)}catch{return null}}}Fa.TWITTER_SIGN_IN_METHOD="twitter.com";Fa.PROVIDER_ID="twitter.com";class zo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const l=await qi._fromIdTokenResponse(e,a,o),c=xw(a);return new zo({user:l,providerId:c,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=xw(a);return new zo({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function xw(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class rh extends di{constructor(e,n,a,o){var l;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new rh(e,n,a,o)}}function pA(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(r,l,e,a):l})}async function pD(r,e,n=!1){const a=await Ru(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return zo._forOperation(r,"link",a)}async function mD(r,e,n=!1){const{auth:a}=r;if(ji(a.app))return Promise.reject(Ya(a));const o="reauthenticate";try{const l=await Ru(r,pA(a,o,e,r),n);Ge(l.idToken,a,"internal-error");const c=Ry(l.idToken);Ge(c,a,"internal-error");const{sub:d}=c;return Ge(r.uid===d,a,"user-mismatch"),zo._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Qi(a,"user-mismatch"),l}}async function mA(r,e,n=!1){if(ji(r.app))return Promise.reject(Ya(r));const a="signIn",o=await pA(r,a,e),l=await zo._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(l.user),l}async function xy(r,e){return mA(Hs(r),e)}function gD(r,e,n,a){return Xt(r).onIdTokenChanged(e,n,a)}function yD(r,e,n){return Xt(r).beforeAuthStateChanged(e,n)}function _D(r,e,n,a){return Xt(r).onAuthStateChanged(e,n,a)}function vD(r,e){return pi(r,"POST","/v2/accounts/mfaEnrollment:start",ea(r,e))}const ih="__sak";class gA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ED=1e3,wD=10;class yA extends gA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(a);!n&&this.localCache[a]===c||this.notifyListeners(a,c)},l=this.storage.getItem(a);QO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wD):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},ED)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yA.type="LOCAL";const bD=yA;class _A extends gA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_A.type="SESSION";const vA=_A;function TD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Eh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,l)),p=await TD(d);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Eh.receivers=[];function Oy(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}class SD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=Oy("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},a);c={messageChannel:o,onMessage(w){const R=w;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(R.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function En(){return window}function AD(r){En().location.href=r}function Dy(){return typeof En().WorkerGlobalScope<"u"&&typeof En().importScripts=="function"}async function RD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CD(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function ID(){return Dy()?self:null}const EA="firebaseLocalStorageDb",xD=1,ah="firebaseLocalStorage",wA="fbase_key";class ju{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function wh(r,e){return r.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function OD(){const r=indexedDB.deleteDatabase(EA);return new ju(r).toPromise()}function Qg(){const r=indexedDB.open(EA,xD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(ah,{keyPath:wA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(ah)?e(a):(a.close(),await OD(),e(await Qg()))})})}async function Ow(r,e,n){const a=wh(r,!0).put({[wA]:e,value:n});return new ju(a).toPromise()}async function DD(r,e){const n=wh(r,!1).get(e),a=await new ju(n).toPromise();return a===void 0?null:a.value}function Dw(r,e){const n=wh(r,!0).delete(e);return new ju(n).toPromise()}const ND=800,MD=3;class bA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>MD)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Eh._getInstance(ID()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await RD(),!this.activeServiceWorker)return;this.sender=new SD(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qg();return await Ow(e,ih,"1"),await Dw(e,ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>Ow(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>DD(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Dw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=wh(o,!1).getAll();return new ju(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ND)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}bA.type="LOCAL";const PD=bA;function kD(r,e){return pi(r,"POST","/v2/accounts/mfaSignIn:start",ea(r,e))}const UD=500,BD=6e4,Sf=1e12;class LD{constructor(e){this.auth=e,this.counter=Sf,this._widgets=new Map}render(e,n){const a=this.counter;return this._widgets.set(a,new VD(e,this.auth.name,n||{})),this.counter++,a}reset(e){var n;const a=e||Sf;(n=this._widgets.get(a))===null||n===void 0||n.delete(),this._widgets.delete(a)}getResponse(e){var n;const a=e||Sf;return((n=this._widgets.get(a))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const a=e||Sf;return(n=this._widgets.get(a))===null||n===void 0||n.execute(),""}}class VD{constructor(e,n,a){this.params=a,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof e=="string"?document.getElementById(e):e;Ge(o,"argument-error",{appName:n}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=jD(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},BD)},UD))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function jD(r){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let a=0;a<r;a++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const im=fA("rcb"),FD=new Lu(3e4,6e4);class qD{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=En().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return Ge(zD(n),e,"argument-error"),this.shouldResolveImmediately(n)&&bw(En().grecaptcha)?Promise.resolve(En().grecaptcha):new Promise((a,o)=>{const l=En().setTimeout(()=>{o(Sr(e,"network-request-failed"))},FD.get());En()[im]=()=>{En().clearTimeout(l),delete En()[im];const d=En().grecaptcha;if(!d||!bw(d)){o(Sr(e,"internal-error"));return}const p=d.render;d.render=(g,y)=>{const w=p(g,y);return this.counter++,w},this.hostLanguage=n,a(d)};const c=`${tD()}?${nl({onload:im,render:"explicit",hl:n})}`;cA(c).catch(()=>{clearTimeout(l),o(Sr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=En().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function zD(r){return r.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(r)}class HD{async load(e){return new LD(e)}clearedOneInstance(){}}const TA="recaptcha",GD={theme:"light",type:"image"};class SA{constructor(e,n,a=Object.assign({},GD)){this.parameters=a,this.type=TA,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Hs(e),this.isInvisible=this.parameters.size==="invisible",Ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof n=="string"?document.getElementById(n):n;Ge(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new HD:new qD,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),a=n.getResponse(e);return a||new Promise(o=>{const l=c=>{c&&(this.tokenChangeListeners.delete(l),o(c))};this.tokenChangeListeners.add(l),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){Ge(!this.parameters.sitekey,this.auth,"argument-error"),Ge(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ge(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(a=>a(n)),typeof e=="function")e(n);else if(typeof e=="string"){const a=En()[e];typeof a=="function"&&a(n)}}}assertNotDestroyed(){Ge(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){Ge(QS()&&!Dy(),this.auth,"internal-error"),await KD(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await LO(this.auth);Ge(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return Ge(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function KD(){let r=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}r=()=>e(),window.addEventListener("load",r)}).catch(e=>{throw r&&window.removeEventListener("load",r),e})}class YD{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Ms._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function AA(r,e,n){if(ji(r.app))return Promise.reject(Ya(r));const a=Hs(r),o=await RA(a,e,Xt(n));return new YD(o,l=>xy(a,l))}async function RA(r,e,n){var a;const o=await n.verify();try{Ge(typeof o=="string",r,"argument-error"),Ge(n.type===TA,r,"argument-error");let l;if(typeof e=="string"?l={phoneNumber:e}:l=e,"session"in l){const c=l.session;if("phoneNumber"in l)return Ge(c.type==="enroll",r,"internal-error"),(await vD(r,{idToken:c.credential,phoneEnrollmentInfo:{phoneNumber:l.phoneNumber,recaptchaToken:o}})).phoneSessionInfo.sessionInfo;{Ge(c.type==="signin",r,"internal-error");const d=((a=l.multiFactorHint)===null||a===void 0?void 0:a.uid)||l.multiFactorUid;return Ge(d,r,"missing-multi-factor-info"),(await kD(r,{mfaPendingCredential:c.credential,mfaEnrollmentId:d,phoneSignInInfo:{recaptchaToken:o}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:c}=await uD(r,{phoneNumber:l.phoneNumber,recaptchaToken:o});return c}}finally{n._reset()}}class Qa{constructor(e){this.providerId=Qa.PROVIDER_ID,this.auth=Hs(e)}verifyPhoneNumber(e,n){return RA(this.auth,e,Xt(n))}static credential(e,n){return Ms._fromVerification(e,n)}static credentialFromResult(e){const n=e;return Qa.credentialFromTaggedObject(n)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:a}=e;return n&&a?Ms._fromTokenResponse(n,a):null}}Qa.PROVIDER_ID="phone";Qa.PHONE_SIGN_IN_METHOD="phone";function QD(r,e){return e?zi(e):(Ge(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ny extends Iy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function WD(r){return mA(r.auth,new Ny(r),r.bypassAuthState)}function $D(r){const{auth:e,user:n}=r;return Ge(n,e,"internal-error"),mD(n,new Ny(r),r.bypassAuthState)}async function XD(r){const{auth:e,user:n}=r;return Ge(n,e,"internal-error"),pD(n,new Ny(r),r.bypassAuthState)}class CA{constructor(e,n,a,o,l=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return WD;case"linkViaPopup":case"linkViaRedirect":return XD;case"reauthViaPopup":case"reauthViaRedirect":return $D;default:Qi(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JD=new Lu(2e3,1e4);class Bo extends CA{constructor(e,n,a,o,l){super(e,n,o,l),this.provider=a,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=Oy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,JD.get())};e()}}Bo.currentPopupAction=null;const ZD="pendingRedirect",Hf=new Map;class eN extends CA{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Hf.get(this.auth._key());if(!e){try{const a=await tN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Hf.set(this.auth._key(),e)}return this.bypassAuthState||Hf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tN(r,e){const n=iN(e),a=rN(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function nN(r,e){Hf.set(r._key(),e)}function rN(r){return zi(r._redirectPersistence)}function iN(r){return zf(ZD,r.config.apiKey,r.name)}async function aN(r,e,n=!1){if(ji(r.app))return Promise.reject(Ya(r));const a=Hs(r),o=QD(a,e),c=await new eN(a,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}const sN=600*1e3;class oN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!IA(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nw(e))}saveEventToCache(e){this.cachedEventUids.add(Nw(e)),this.lastProcessedEventTime=Date.now()}}function Nw(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function IA({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function lN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return IA(r);default:return!1}}async function uN(r,e={}){return pi(r,"GET","/v1/projects",e)}const cN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fN=/^https?/;async function hN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await uN(r);for(const n of e)try{if(dN(n))return}catch{}Qi(r,"unauthorized-domain")}function dN(r){const e=Kg(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===a}if(!fN.test(n))return!1;if(cN.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const pN=new Lu(3e4,6e4);function Mw(){const r=En().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function mN(r){return new Promise((e,n)=>{var a,o,l;function c(){Mw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mw(),n(Sr(r,"network-request-failed"))},timeout:pN.get()})}if(!((o=(a=En().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=En().gapi)===null||l===void 0)&&l.load)c();else{const d=fA("iframefcb");return En()[d]=()=>{gapi.load?c():n(Sr(r,"network-request-failed"))},cA(`${nD()}?onload=${d}`).catch(p=>n(p))}}).catch(e=>{throw Gf=null,e})}let Gf=null;function gN(r){return Gf=Gf||mN(r),Gf}const yN=new Lu(5e3,15e3),_N="__/auth/iframe",vN="emulator/auth/iframe",EN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bN(r){const e=r.config;Ge(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Ay(e,vN):`https://${r.config.authDomain}/${_N}`,a={apiKey:e.apiKey,appName:r.name,v:zs},o=wN.get(r.config.apiHost);o&&(a.eid=o);const l=r._getFrameworks();return l.length&&(a.fw=l.join(",")),`${n}?${nl(a).slice(1)}`}async function TN(r){const e=await gN(r),n=En().gapi;return Ge(n,r,"internal-error"),e.open({where:document.body,url:bN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EN,dontclear:!0},a=>new Promise(async(o,l)=>{await a.restyle({setHideOnLeave:!1});const c=Sr(r,"network-request-failed"),d=En().setTimeout(()=>{l(c)},yN.get());function p(){En().clearTimeout(d),o(a)}a.ping(p).then(p,()=>{l(c)})}))}const SN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},AN=500,RN=600,CN="_blank",IN="http://localhost";class Pw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xN(r,e,n,a=AN,o=RN){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p=Object.assign(Object.assign({},SN),{width:a.toString(),height:o.toString(),top:l,left:c}),g=Yn().toLowerCase();n&&(d=rA(g)?CN:n),tA(g)&&(e=e||IN,p.scrollbars="yes");const y=Object.entries(p).reduce((R,[z,I])=>`${R}${z}=${I},`,"");if(YO(g)&&d!=="_self")return ON(e||"",d),new Pw(null);const w=window.open(e||"",d,y);Ge(w,r,"popup-blocked");try{w.focus()}catch{}return new Pw(w)}function ON(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const DN="__/auth/handler",NN="emulator/auth/handler",MN=encodeURIComponent("fac");async function kw(r,e,n,a,o,l){Ge(r.config.authDomain,r,"auth-domain-config-required"),Ge(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:zs,eventId:o};if(e instanceof dA){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",Ex(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))c[y]=w}if(e instanceof Vu){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(c.scopes=y.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await r._getAppCheckToken(),g=p?`#${MN}=${encodeURIComponent(p)}`:"";return`${PN(r)}?${nl(d).slice(1)}${g}`}function PN({config:r}){return r.emulator?Ay(r,NN):`https://${r.authDomain}/${DN}`}const am="webStorageSupport";class kN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vA,this._completeRedirectFn=aN,this._overrideRedirectResult=nN}async _openPopup(e,n,a,o){var l;Wi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await kw(e,n,a,Kg(),o);return xN(e,c,Oy())}async _openRedirect(e,n,a,o){await this._originValidation(e);const l=await kw(e,n,a,Kg(),o);return AD(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(Wi(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await TN(e),a=new oN(e);return n.register("authEvent",o=>(Ge(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(am,{type:am},o=>{var l;const c=(l=o?.[0])===null||l===void 0?void 0:l[am];c!==void 0&&n(!!c),Qi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lA()||nA()||Cy()}}const UN=kN;var Uw="@firebase/auth",Bw="1.7.9";class BN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function LN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VN(r){Bs(new $a("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=a.options;Ge(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uA(r)},g=new ZO(a,o,l,p);return iD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Bs(new $a("auth-internal",e=>{const n=Hs(e.getProvider("auth").getImmediate());return(a=>new BN(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ui(Uw,Bw,LN(r)),ui(Uw,Bw,"esm2017")}const jN=300,FN=LS("authIdTokenMaxAge")||jN;let Lw=null;const qN=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>FN)return;const o=n?.token;Lw!==o&&(Lw=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function zN(r=by()){const e=yh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=rD(r,{popupRedirectResolver:UN,persistence:[PD,bD,vA]}),a=LS("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const c=qN(l.toString());yD(n,c,()=>c(n.currentUser)),gD(n,d=>c(d))}}const o=kS("auth");return o&&aD(n,`http://${o}`),n}function HN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}eD({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const l=Sr("internal-error");l.customData=o,n(l)},a.type="text/javascript",a.charset="UTF-8",HN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VN("Browser");var xA={},bh={};bh.byteLength=YN;bh.toByteArray=WN;bh.fromByteArray=JN;var si=[],Ur=[],GN=typeof Uint8Array<"u"?Uint8Array:Array,sm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Mo=0,KN=sm.length;Mo<KN;++Mo)si[Mo]=sm[Mo],Ur[sm.charCodeAt(Mo)]=Mo;Ur[45]=62;Ur[95]=63;function OA(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=r.indexOf("=");n===-1&&(n=e);var a=n===e?0:4-n%4;return[n,a]}function YN(r){var e=OA(r),n=e[0],a=e[1];return(n+a)*3/4-a}function QN(r,e,n){return(e+n)*3/4-n}function WN(r){var e,n=OA(r),a=n[0],o=n[1],l=new GN(QN(r,a,o)),c=0,d=o>0?a-4:a,p;for(p=0;p<d;p+=4)e=Ur[r.charCodeAt(p)]<<18|Ur[r.charCodeAt(p+1)]<<12|Ur[r.charCodeAt(p+2)]<<6|Ur[r.charCodeAt(p+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=e&255;return o===2&&(e=Ur[r.charCodeAt(p)]<<2|Ur[r.charCodeAt(p+1)]>>4,l[c++]=e&255),o===1&&(e=Ur[r.charCodeAt(p)]<<10|Ur[r.charCodeAt(p+1)]<<4|Ur[r.charCodeAt(p+2)]>>2,l[c++]=e>>8&255,l[c++]=e&255),l}function $N(r){return si[r>>18&63]+si[r>>12&63]+si[r>>6&63]+si[r&63]}function XN(r,e,n){for(var a,o=[],l=e;l<n;l+=3)a=(r[l]<<16&16711680)+(r[l+1]<<8&65280)+(r[l+2]&255),o.push($N(a));return o.join("")}function JN(r){for(var e,n=r.length,a=n%3,o=[],l=16383,c=0,d=n-a;c<d;c+=l)o.push(XN(r,c,c+l>d?d:c+l));return a===1?(e=r[n-1],o.push(si[e>>2]+si[e<<4&63]+"==")):a===2&&(e=(r[n-2]<<8)+r[n-1],o.push(si[e>>10]+si[e>>4&63]+si[e<<2&63]+"=")),o.join("")}var My={};My.read=function(r,e,n,a,o){var l,c,d=o*8-a-1,p=(1<<d)-1,g=p>>1,y=-7,w=n?o-1:0,R=n?-1:1,z=r[e+w];for(w+=R,l=z&(1<<-y)-1,z>>=-y,y+=d;y>0;l=l*256+r[e+w],w+=R,y-=8);for(c=l&(1<<-y)-1,l>>=-y,y+=a;y>0;c=c*256+r[e+w],w+=R,y-=8);if(l===0)l=1-g;else{if(l===p)return c?NaN:(z?-1:1)*(1/0);c=c+Math.pow(2,a),l=l-g}return(z?-1:1)*c*Math.pow(2,l-a)};My.write=function(r,e,n,a,o,l){var c,d,p,g=l*8-o-1,y=(1<<g)-1,w=y>>1,R=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,z=a?0:l-1,I=a?1:-1,V=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,c=y):(c=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+w>=1?e+=R/p:e+=R*Math.pow(2,1-w),e*p>=2&&(c++,p/=2),c+w>=y?(d=0,c=y):c+w>=1?(d=(e*p-1)*Math.pow(2,o),c=c+w):(d=e*Math.pow(2,w-1)*Math.pow(2,o),c=0));o>=8;r[n+z]=d&255,z+=I,d/=256,o-=8);for(c=c<<o|d,g+=o;g>0;r[n+z]=c&255,z+=I,c/=256,g-=8);r[n+z-I]|=V*128};(function(r){const e=bh,n=My,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=y,r.SlowBuffer=X,r.INSPECT_MAX_BYTES=50;const o=2147483647;r.kMaxLength=o;const{Uint8Array:l,ArrayBuffer:c,SharedArrayBuffer:d}=globalThis;y.TYPED_ARRAY_SUPPORT=p(),!y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function p(){try{const P=new l(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,l.prototype),Object.setPrototypeOf(P,E),P.foo()===42}catch{return!1}}Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}});function g(P){if(P>o)throw new RangeError('The value "'+P+'" is invalid for option "size"');const E=new l(P);return Object.setPrototypeOf(E,y.prototype),E}function y(P,E,T){if(typeof P=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(P)}return w(P,E,T)}y.poolSize=8192;function w(P,E,T){if(typeof P=="string")return V(P,E);if(c.isView(P))return D(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(Zt(P,c)||P&&Zt(P.buffer,c)||typeof d<"u"&&(Zt(P,d)||P&&Zt(P.buffer,d)))return L(P,E,T);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=P.valueOf&&P.valueOf();if(Y!=null&&Y!==P)return y.from(Y,E,T);const ie=j(P);if(ie)return ie;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return y.from(P[Symbol.toPrimitive]("string"),E,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}y.from=function(P,E,T){return w(P,E,T)},Object.setPrototypeOf(y.prototype,l.prototype),Object.setPrototypeOf(y,l);function R(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function z(P,E,T){return R(P),P<=0?g(P):E!==void 0?typeof T=="string"?g(P).fill(E,T):g(P).fill(E):g(P)}y.alloc=function(P,E,T){return z(P,E,T)};function I(P){return R(P),g(P<0?0:G(P)|0)}y.allocUnsafe=function(P){return I(P)},y.allocUnsafeSlow=function(P){return I(P)};function V(P,E){if((typeof E!="string"||E==="")&&(E="utf8"),!y.isEncoding(E))throw new TypeError("Unknown encoding: "+E);const T=J(P,E)|0;let Y=g(T);const ie=Y.write(P,E);return ie!==T&&(Y=Y.slice(0,ie)),Y}function U(P){const E=P.length<0?0:G(P.length)|0,T=g(E);for(let Y=0;Y<E;Y+=1)T[Y]=P[Y]&255;return T}function D(P){if(Zt(P,l)){const E=new l(P);return L(E.buffer,E.byteOffset,E.byteLength)}return U(P)}function L(P,E,T){if(E<0||P.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<E+(T||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return E===void 0&&T===void 0?Y=new l(P):T===void 0?Y=new l(P,E):Y=new l(P,E,T),Object.setPrototypeOf(Y,y.prototype),Y}function j(P){if(y.isBuffer(P)){const E=G(P.length)|0,T=g(E);return T.length===0||P.copy(T,0,0,E),T}if(P.length!==void 0)return typeof P.length!="number"||bt(P.length)?g(0):U(P);if(P.type==="Buffer"&&Array.isArray(P.data))return U(P.data)}function G(P){if(P>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return P|0}function X(P){return+P!=P&&(P=0),y.alloc(+P)}y.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==y.prototype},y.compare=function(E,T){if(Zt(E,l)&&(E=y.from(E,E.offset,E.byteLength)),Zt(T,l)&&(T=y.from(T,T.offset,T.byteLength)),!y.isBuffer(E)||!y.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===T)return 0;let Y=E.length,ie=T.length;for(let de=0,Te=Math.min(Y,ie);de<Te;++de)if(E[de]!==T[de]){Y=E[de],ie=T[de];break}return Y<ie?-1:ie<Y?1:0},y.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(E,T){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return y.alloc(0);let Y;if(T===void 0)for(T=0,Y=0;Y<E.length;++Y)T+=E[Y].length;const ie=y.allocUnsafe(T);let de=0;for(Y=0;Y<E.length;++Y){let Te=E[Y];if(Zt(Te,l))de+Te.length>ie.length?(y.isBuffer(Te)||(Te=y.from(Te)),Te.copy(ie,de)):l.prototype.set.call(ie,Te,de);else if(y.isBuffer(Te))Te.copy(ie,de);else throw new TypeError('"list" argument must be an Array of Buffers');de+=Te.length}return ie};function J(P,E){if(y.isBuffer(P))return P.length;if(c.isView(P)||Zt(P,c))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);const T=P.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&T===0)return 0;let ie=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return Yt(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return wt(P).length;default:if(ie)return Y?-1:Yt(P).length;E=(""+E).toLowerCase(),ie=!0}}y.byteLength=J;function x(P,E,T){let Y=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,E>>>=0,T<=E))return"";for(P||(P="utf8");;)switch(P){case"hex":return _e(this,E,T);case"utf8":case"utf-8":return Se(this,E,T);case"ascii":return je(this,E,T);case"latin1":case"binary":return re(this,E,T);case"base64":return le(this,E,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,E,T);default:if(Y)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),Y=!0}}y.prototype._isBuffer=!0;function C(P,E,T){const Y=P[E];P[E]=P[T],P[T]=Y}y.prototype.swap16=function(){const E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let T=0;T<E;T+=2)C(this,T,T+1);return this},y.prototype.swap32=function(){const E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let T=0;T<E;T+=4)C(this,T,T+3),C(this,T+1,T+2);return this},y.prototype.swap64=function(){const E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let T=0;T<E;T+=8)C(this,T,T+7),C(this,T+1,T+6),C(this,T+2,T+5),C(this,T+3,T+4);return this},y.prototype.toString=function(){const E=this.length;return E===0?"":arguments.length===0?Se(this,0,E):x.apply(this,arguments)},y.prototype.toLocaleString=y.prototype.toString,y.prototype.equals=function(E){if(!y.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:y.compare(this,E)===0},y.prototype.inspect=function(){let E="";const T=r.INSPECT_MAX_BYTES;return E=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(E+=" ... "),"<Buffer "+E+">"},a&&(y.prototype[a]=y.prototype.inspect),y.prototype.compare=function(E,T,Y,ie,de){if(Zt(E,l)&&(E=y.from(E,E.offset,E.byteLength)),!y.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(T===void 0&&(T=0),Y===void 0&&(Y=E?E.length:0),ie===void 0&&(ie=0),de===void 0&&(de=this.length),T<0||Y>E.length||ie<0||de>this.length)throw new RangeError("out of range index");if(ie>=de&&T>=Y)return 0;if(ie>=de)return-1;if(T>=Y)return 1;if(T>>>=0,Y>>>=0,ie>>>=0,de>>>=0,this===E)return 0;let Te=de-ie,it=Y-T;const Tt=Math.min(Te,it),Ot=this.slice(ie,de),St=E.slice(T,Y);for(let ot=0;ot<Tt;++ot)if(Ot[ot]!==St[ot]){Te=Ot[ot],it=St[ot];break}return Te<it?-1:it<Te?1:0};function O(P,E,T,Y,ie){if(P.length===0)return-1;if(typeof T=="string"?(Y=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,bt(T)&&(T=ie?0:P.length-1),T<0&&(T=P.length+T),T>=P.length){if(ie)return-1;T=P.length-1}else if(T<0)if(ie)T=0;else return-1;if(typeof E=="string"&&(E=y.from(E,Y)),y.isBuffer(E))return E.length===0?-1:H(P,E,T,Y,ie);if(typeof E=="number")return E=E&255,typeof l.prototype.indexOf=="function"?ie?l.prototype.indexOf.call(P,E,T):l.prototype.lastIndexOf.call(P,E,T):H(P,[E],T,Y,ie);throw new TypeError("val must be string, number or Buffer")}function H(P,E,T,Y,ie){let de=1,Te=P.length,it=E.length;if(Y!==void 0&&(Y=String(Y).toLowerCase(),Y==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(P.length<2||E.length<2)return-1;de=2,Te/=2,it/=2,T/=2}function Tt(St,ot){return de===1?St[ot]:St.readUInt16BE(ot*de)}let Ot;if(ie){let St=-1;for(Ot=T;Ot<Te;Ot++)if(Tt(P,Ot)===Tt(E,St===-1?0:Ot-St)){if(St===-1&&(St=Ot),Ot-St+1===it)return St*de}else St!==-1&&(Ot-=Ot-St),St=-1}else for(T+it>Te&&(T=Te-it),Ot=T;Ot>=0;Ot--){let St=!0;for(let ot=0;ot<it;ot++)if(Tt(P,Ot+ot)!==Tt(E,ot)){St=!1;break}if(St)return Ot}return-1}y.prototype.includes=function(E,T,Y){return this.indexOf(E,T,Y)!==-1},y.prototype.indexOf=function(E,T,Y){return O(this,E,T,Y,!0)},y.prototype.lastIndexOf=function(E,T,Y){return O(this,E,T,Y,!1)};function W(P,E,T,Y){T=Number(T)||0;const ie=P.length-T;Y?(Y=Number(Y),Y>ie&&(Y=ie)):Y=ie;const de=E.length;Y>de/2&&(Y=de/2);let Te;for(Te=0;Te<Y;++Te){const it=parseInt(E.substr(Te*2,2),16);if(bt(it))return Te;P[T+Te]=it}return Te}function N(P,E,T,Y){return yt(Yt(E,P.length-T),P,T,Y)}function M(P,E,T,Y){return yt($t(E),P,T,Y)}function Ue(P,E,T,Y){return yt(wt(E),P,T,Y)}function Be(P,E,T,Y){return yt(Et(E,P.length-T),P,T,Y)}y.prototype.write=function(E,T,Y,ie){if(T===void 0)ie="utf8",Y=this.length,T=0;else if(Y===void 0&&typeof T=="string")ie=T,Y=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(Y)?(Y=Y>>>0,ie===void 0&&(ie="utf8")):(ie=Y,Y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const de=this.length-T;if((Y===void 0||Y>de)&&(Y=de),E.length>0&&(Y<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");ie||(ie="utf8");let Te=!1;for(;;)switch(ie){case"hex":return W(this,E,T,Y);case"utf8":case"utf-8":return N(this,E,T,Y);case"ascii":case"latin1":case"binary":return M(this,E,T,Y);case"base64":return Ue(this,E,T,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Be(this,E,T,Y);default:if(Te)throw new TypeError("Unknown encoding: "+ie);ie=(""+ie).toLowerCase(),Te=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function le(P,E,T){return E===0&&T===P.length?e.fromByteArray(P):e.fromByteArray(P.slice(E,T))}function Se(P,E,T){T=Math.min(P.length,T);const Y=[];let ie=E;for(;ie<T;){const de=P[ie];let Te=null,it=de>239?4:de>223?3:de>191?2:1;if(ie+it<=T){let Tt,Ot,St,ot;switch(it){case 1:de<128&&(Te=de);break;case 2:Tt=P[ie+1],(Tt&192)===128&&(ot=(de&31)<<6|Tt&63,ot>127&&(Te=ot));break;case 3:Tt=P[ie+1],Ot=P[ie+2],(Tt&192)===128&&(Ot&192)===128&&(ot=(de&15)<<12|(Tt&63)<<6|Ot&63,ot>2047&&(ot<55296||ot>57343)&&(Te=ot));break;case 4:Tt=P[ie+1],Ot=P[ie+2],St=P[ie+3],(Tt&192)===128&&(Ot&192)===128&&(St&192)===128&&(ot=(de&15)<<18|(Tt&63)<<12|(Ot&63)<<6|St&63,ot>65535&&ot<1114112&&(Te=ot))}}Te===null?(Te=65533,it=1):Te>65535&&(Te-=65536,Y.push(Te>>>10&1023|55296),Te=56320|Te&1023),Y.push(Te),ie+=it}return Ve(Y)}const ke=4096;function Ve(P){const E=P.length;if(E<=ke)return String.fromCharCode.apply(String,P);let T="",Y=0;for(;Y<E;)T+=String.fromCharCode.apply(String,P.slice(Y,Y+=ke));return T}function je(P,E,T){let Y="";T=Math.min(P.length,T);for(let ie=E;ie<T;++ie)Y+=String.fromCharCode(P[ie]&127);return Y}function re(P,E,T){let Y="";T=Math.min(P.length,T);for(let ie=E;ie<T;++ie)Y+=String.fromCharCode(P[ie]);return Y}function _e(P,E,T){const Y=P.length;(!E||E<0)&&(E=0),(!T||T<0||T>Y)&&(T=Y);let ie="";for(let de=E;de<T;++de)ie+=Nt[P[de]];return ie}function $(P,E,T){const Y=P.slice(E,T);let ie="";for(let de=0;de<Y.length-1;de+=2)ie+=String.fromCharCode(Y[de]+Y[de+1]*256);return ie}y.prototype.slice=function(E,T){const Y=this.length;E=~~E,T=T===void 0?Y:~~T,E<0?(E+=Y,E<0&&(E=0)):E>Y&&(E=Y),T<0?(T+=Y,T<0&&(T=0)):T>Y&&(T=Y),T<E&&(T=E);const ie=this.subarray(E,T);return Object.setPrototypeOf(ie,y.prototype),ie};function ae(P,E,T){if(P%1!==0||P<0)throw new RangeError("offset is not uint");if(P+E>T)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUintLE=y.prototype.readUIntLE=function(E,T,Y){E=E>>>0,T=T>>>0,Y||ae(E,T,this.length);let ie=this[E],de=1,Te=0;for(;++Te<T&&(de*=256);)ie+=this[E+Te]*de;return ie},y.prototype.readUintBE=y.prototype.readUIntBE=function(E,T,Y){E=E>>>0,T=T>>>0,Y||ae(E,T,this.length);let ie=this[E+--T],de=1;for(;T>0&&(de*=256);)ie+=this[E+--T]*de;return ie},y.prototype.readUint8=y.prototype.readUInt8=function(E,T){return E=E>>>0,T||ae(E,1,this.length),this[E]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function(E,T){return E=E>>>0,T||ae(E,2,this.length),this[E]|this[E+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function(E,T){return E=E>>>0,T||ae(E,2,this.length),this[E]<<8|this[E+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function(E,T){return E=E>>>0,T||ae(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},y.prototype.readUint32BE=y.prototype.readUInt32BE=function(E,T){return E=E>>>0,T||ae(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},y.prototype.readBigUInt64LE=Lt(function(E){E=E>>>0,Fe(E,"offset");const T=this[E],Y=this[E+7];(T===void 0||Y===void 0)&&Ze(E,this.length-8);const ie=T+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24,de=this[++E]+this[++E]*2**8+this[++E]*2**16+Y*2**24;return BigInt(ie)+(BigInt(de)<<BigInt(32))}),y.prototype.readBigUInt64BE=Lt(function(E){E=E>>>0,Fe(E,"offset");const T=this[E],Y=this[E+7];(T===void 0||Y===void 0)&&Ze(E,this.length-8);const ie=T*2**24+this[++E]*2**16+this[++E]*2**8+this[++E],de=this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+Y;return(BigInt(ie)<<BigInt(32))+BigInt(de)}),y.prototype.readIntLE=function(E,T,Y){E=E>>>0,T=T>>>0,Y||ae(E,T,this.length);let ie=this[E],de=1,Te=0;for(;++Te<T&&(de*=256);)ie+=this[E+Te]*de;return de*=128,ie>=de&&(ie-=Math.pow(2,8*T)),ie},y.prototype.readIntBE=function(E,T,Y){E=E>>>0,T=T>>>0,Y||ae(E,T,this.length);let ie=T,de=1,Te=this[E+--ie];for(;ie>0&&(de*=256);)Te+=this[E+--ie]*de;return de*=128,Te>=de&&(Te-=Math.pow(2,8*T)),Te},y.prototype.readInt8=function(E,T){return E=E>>>0,T||ae(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},y.prototype.readInt16LE=function(E,T){E=E>>>0,T||ae(E,2,this.length);const Y=this[E]|this[E+1]<<8;return Y&32768?Y|4294901760:Y},y.prototype.readInt16BE=function(E,T){E=E>>>0,T||ae(E,2,this.length);const Y=this[E+1]|this[E]<<8;return Y&32768?Y|4294901760:Y},y.prototype.readInt32LE=function(E,T){return E=E>>>0,T||ae(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},y.prototype.readInt32BE=function(E,T){return E=E>>>0,T||ae(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},y.prototype.readBigInt64LE=Lt(function(E){E=E>>>0,Fe(E,"offset");const T=this[E],Y=this[E+7];(T===void 0||Y===void 0)&&Ze(E,this.length-8);const ie=this[E+4]+this[E+5]*2**8+this[E+6]*2**16+(Y<<24);return(BigInt(ie)<<BigInt(32))+BigInt(T+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24)}),y.prototype.readBigInt64BE=Lt(function(E){E=E>>>0,Fe(E,"offset");const T=this[E],Y=this[E+7];(T===void 0||Y===void 0)&&Ze(E,this.length-8);const ie=(T<<24)+this[++E]*2**16+this[++E]*2**8+this[++E];return(BigInt(ie)<<BigInt(32))+BigInt(this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+Y)}),y.prototype.readFloatLE=function(E,T){return E=E>>>0,T||ae(E,4,this.length),n.read(this,E,!0,23,4)},y.prototype.readFloatBE=function(E,T){return E=E>>>0,T||ae(E,4,this.length),n.read(this,E,!1,23,4)},y.prototype.readDoubleLE=function(E,T){return E=E>>>0,T||ae(E,8,this.length),n.read(this,E,!0,52,8)},y.prototype.readDoubleBE=function(E,T){return E=E>>>0,T||ae(E,8,this.length),n.read(this,E,!1,52,8)};function he(P,E,T,Y,ie,de){if(!y.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>ie||E<de)throw new RangeError('"value" argument is out of bounds');if(T+Y>P.length)throw new RangeError("Index out of range")}y.prototype.writeUintLE=y.prototype.writeUIntLE=function(E,T,Y,ie){if(E=+E,T=T>>>0,Y=Y>>>0,!ie){const it=Math.pow(2,8*Y)-1;he(this,E,T,Y,it,0)}let de=1,Te=0;for(this[T]=E&255;++Te<Y&&(de*=256);)this[T+Te]=E/de&255;return T+Y},y.prototype.writeUintBE=y.prototype.writeUIntBE=function(E,T,Y,ie){if(E=+E,T=T>>>0,Y=Y>>>0,!ie){const it=Math.pow(2,8*Y)-1;he(this,E,T,Y,it,0)}let de=Y-1,Te=1;for(this[T+de]=E&255;--de>=0&&(Te*=256);)this[T+de]=E/Te&255;return T+Y},y.prototype.writeUint8=y.prototype.writeUInt8=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,1,255,0),this[T]=E&255,T+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,2,65535,0),this[T]=E&255,this[T+1]=E>>>8,T+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,2,65535,0),this[T]=E>>>8,this[T+1]=E&255,T+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,4,4294967295,0),this[T+3]=E>>>24,this[T+2]=E>>>16,this[T+1]=E>>>8,this[T]=E&255,T+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,4,4294967295,0),this[T]=E>>>24,this[T+1]=E>>>16,this[T+2]=E>>>8,this[T+3]=E&255,T+4};function Z(P,E,T,Y,ie){$e(E,Y,ie,P,T,7);let de=Number(E&BigInt(4294967295));P[T++]=de,de=de>>8,P[T++]=de,de=de>>8,P[T++]=de,de=de>>8,P[T++]=de;let Te=Number(E>>BigInt(32)&BigInt(4294967295));return P[T++]=Te,Te=Te>>8,P[T++]=Te,Te=Te>>8,P[T++]=Te,Te=Te>>8,P[T++]=Te,T}function te(P,E,T,Y,ie){$e(E,Y,ie,P,T,7);let de=Number(E&BigInt(4294967295));P[T+7]=de,de=de>>8,P[T+6]=de,de=de>>8,P[T+5]=de,de=de>>8,P[T+4]=de;let Te=Number(E>>BigInt(32)&BigInt(4294967295));return P[T+3]=Te,Te=Te>>8,P[T+2]=Te,Te=Te>>8,P[T+1]=Te,Te=Te>>8,P[T]=Te,T+8}y.prototype.writeBigUInt64LE=Lt(function(E,T=0){return Z(this,E,T,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=Lt(function(E,T=0){return te(this,E,T,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function(E,T,Y,ie){if(E=+E,T=T>>>0,!ie){const Tt=Math.pow(2,8*Y-1);he(this,E,T,Y,Tt-1,-Tt)}let de=0,Te=1,it=0;for(this[T]=E&255;++de<Y&&(Te*=256);)E<0&&it===0&&this[T+de-1]!==0&&(it=1),this[T+de]=(E/Te>>0)-it&255;return T+Y},y.prototype.writeIntBE=function(E,T,Y,ie){if(E=+E,T=T>>>0,!ie){const Tt=Math.pow(2,8*Y-1);he(this,E,T,Y,Tt-1,-Tt)}let de=Y-1,Te=1,it=0;for(this[T+de]=E&255;--de>=0&&(Te*=256);)E<0&&it===0&&this[T+de+1]!==0&&(it=1),this[T+de]=(E/Te>>0)-it&255;return T+Y},y.prototype.writeInt8=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,1,127,-128),E<0&&(E=255+E+1),this[T]=E&255,T+1},y.prototype.writeInt16LE=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,2,32767,-32768),this[T]=E&255,this[T+1]=E>>>8,T+2},y.prototype.writeInt16BE=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,2,32767,-32768),this[T]=E>>>8,this[T+1]=E&255,T+2},y.prototype.writeInt32LE=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,4,2147483647,-2147483648),this[T]=E&255,this[T+1]=E>>>8,this[T+2]=E>>>16,this[T+3]=E>>>24,T+4},y.prototype.writeInt32BE=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[T]=E>>>24,this[T+1]=E>>>16,this[T+2]=E>>>8,this[T+3]=E&255,T+4},y.prototype.writeBigInt64LE=Lt(function(E,T=0){return Z(this,E,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=Lt(function(E,T=0){return te(this,E,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ve(P,E,T,Y,ie,de){if(T+Y>P.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function Re(P,E,T,Y,ie){return E=+E,T=T>>>0,ie||ve(P,E,T,4),n.write(P,E,T,Y,23,4),T+4}y.prototype.writeFloatLE=function(E,T,Y){return Re(this,E,T,!0,Y)},y.prototype.writeFloatBE=function(E,T,Y){return Re(this,E,T,!1,Y)};function Ne(P,E,T,Y,ie){return E=+E,T=T>>>0,ie||ve(P,E,T,8),n.write(P,E,T,Y,52,8),T+8}y.prototype.writeDoubleLE=function(E,T,Y){return Ne(this,E,T,!0,Y)},y.prototype.writeDoubleBE=function(E,T,Y){return Ne(this,E,T,!1,Y)},y.prototype.copy=function(E,T,Y,ie){if(!y.isBuffer(E))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!ie&&ie!==0&&(ie=this.length),T>=E.length&&(T=E.length),T||(T=0),ie>0&&ie<Y&&(ie=Y),ie===Y||E.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(ie<0)throw new RangeError("sourceEnd out of bounds");ie>this.length&&(ie=this.length),E.length-T<ie-Y&&(ie=E.length-T+Y);const de=ie-Y;return this===E&&typeof l.prototype.copyWithin=="function"?this.copyWithin(T,Y,ie):l.prototype.set.call(E,this.subarray(Y,ie),T),de},y.prototype.fill=function(E,T,Y,ie){if(typeof E=="string"){if(typeof T=="string"?(ie=T,T=0,Y=this.length):typeof Y=="string"&&(ie=Y,Y=this.length),ie!==void 0&&typeof ie!="string")throw new TypeError("encoding must be a string");if(typeof ie=="string"&&!y.isEncoding(ie))throw new TypeError("Unknown encoding: "+ie);if(E.length===1){const Te=E.charCodeAt(0);(ie==="utf8"&&Te<128||ie==="latin1")&&(E=Te)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(T<0||this.length<T||this.length<Y)throw new RangeError("Out of range index");if(Y<=T)return this;T=T>>>0,Y=Y===void 0?this.length:Y>>>0,E||(E=0);let de;if(typeof E=="number")for(de=T;de<Y;++de)this[de]=E;else{const Te=y.isBuffer(E)?E:y.from(E,ie),it=Te.length;if(it===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(de=0;de<Y-T;++de)this[de+T]=Te[de%it]}return this};const F={};function K(P,E,T){F[P]=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${P}]`,this.stack,delete this.name}get code(){return P}set code(ie){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ie,writable:!0})}toString(){return`${this.name} [${P}]: ${this.message}`}}}K("ERR_BUFFER_OUT_OF_BOUNDS",function(P){return P?`${P} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),K("ERR_INVALID_ARG_TYPE",function(P,E){return`The "${P}" argument must be of type number. Received type ${typeof E}`},TypeError),K("ERR_OUT_OF_RANGE",function(P,E,T){let Y=`The value of "${P}" is out of range.`,ie=T;return Number.isInteger(T)&&Math.abs(T)>2**32?ie=be(String(T)):typeof T=="bigint"&&(ie=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(ie=be(ie)),ie+="n"),Y+=` It must be ${E}. Received ${ie}`,Y},RangeError);function be(P){let E="",T=P.length;const Y=P[0]==="-"?1:0;for(;T>=Y+4;T-=3)E=`_${P.slice(T-3,T)}${E}`;return`${P.slice(0,T)}${E}`}function Pe(P,E,T){Fe(E,"offset"),(P[E]===void 0||P[E+T]===void 0)&&Ze(E,P.length-(T+1))}function $e(P,E,T,Y,ie,de){if(P>T||P<E){const Te=typeof E=="bigint"?"n":"";let it;throw E===0||E===BigInt(0)?it=`>= 0${Te} and < 2${Te} ** ${(de+1)*8}${Te}`:it=`>= -(2${Te} ** ${(de+1)*8-1}${Te}) and < 2 ** ${(de+1)*8-1}${Te}`,new F.ERR_OUT_OF_RANGE("value",it,P)}Pe(Y,ie,de)}function Fe(P,E){if(typeof P!="number")throw new F.ERR_INVALID_ARG_TYPE(E,"number",P)}function Ze(P,E,T){throw Math.floor(P)!==P?(Fe(P,T),new F.ERR_OUT_OF_RANGE("offset","an integer",P)):E<0?new F.ERR_BUFFER_OUT_OF_BOUNDS:new F.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${E}`,P)}const on=/[^+/0-9A-Za-z-_]/g;function Ce(P){if(P=P.split("=")[0],P=P.trim().replace(on,""),P.length<2)return"";for(;P.length%4!==0;)P=P+"=";return P}function Yt(P,E){E=E||1/0;let T;const Y=P.length;let ie=null;const de=[];for(let Te=0;Te<Y;++Te){if(T=P.charCodeAt(Te),T>55295&&T<57344){if(!ie){if(T>56319){(E-=3)>-1&&de.push(239,191,189);continue}else if(Te+1===Y){(E-=3)>-1&&de.push(239,191,189);continue}ie=T;continue}if(T<56320){(E-=3)>-1&&de.push(239,191,189),ie=T;continue}T=(ie-55296<<10|T-56320)+65536}else ie&&(E-=3)>-1&&de.push(239,191,189);if(ie=null,T<128){if((E-=1)<0)break;de.push(T)}else if(T<2048){if((E-=2)<0)break;de.push(T>>6|192,T&63|128)}else if(T<65536){if((E-=3)<0)break;de.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((E-=4)<0)break;de.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return de}function $t(P){const E=[];for(let T=0;T<P.length;++T)E.push(P.charCodeAt(T)&255);return E}function Et(P,E){let T,Y,ie;const de=[];for(let Te=0;Te<P.length&&!((E-=2)<0);++Te)T=P.charCodeAt(Te),Y=T>>8,ie=T%256,de.push(ie),de.push(Y);return de}function wt(P){return e.toByteArray(Ce(P))}function yt(P,E,T,Y){let ie;for(ie=0;ie<Y&&!(ie+T>=E.length||ie>=P.length);++ie)E[ie+T]=P[ie];return ie}function Zt(P,E){return P instanceof E||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===E.name}function bt(P){return P!==P}const Nt=(function(){const P="0123456789abcdef",E=new Array(256);for(let T=0;T<16;++T){const Y=T*16;for(let ie=0;ie<16;++ie)E[Y+ie]=P[T]+P[ie]}return E})();function Lt(P){return typeof BigInt>"u"?cr:P}function cr(){throw new Error("BigInt not supported")}})(xA);const ZN=xA.Buffer;var Vw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Us<"u"?Us:typeof self<"u"?self:{};var Ps,DA;(function(){var r;function e(x,C){function O(){}O.prototype=C.prototype,x.D=C.prototype,x.prototype=new O,x.prototype.constructor=x,x.C=function(H,W,N){for(var M=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)M[Ue-2]=arguments[Ue];return C.prototype[W].apply(H,M)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,C,O){O||(O=0);var H=Array(16);if(typeof C=="string")for(var W=0;16>W;++W)H[W]=C.charCodeAt(O++)|C.charCodeAt(O++)<<8|C.charCodeAt(O++)<<16|C.charCodeAt(O++)<<24;else for(W=0;16>W;++W)H[W]=C[O++]|C[O++]<<8|C[O++]<<16|C[O++]<<24;C=x.g[0],O=x.g[1],W=x.g[2];var N=x.g[3],M=C+(N^O&(W^N))+H[0]+3614090360&4294967295;C=O+(M<<7&4294967295|M>>>25),M=N+(W^C&(O^W))+H[1]+3905402710&4294967295,N=C+(M<<12&4294967295|M>>>20),M=W+(O^N&(C^O))+H[2]+606105819&4294967295,W=N+(M<<17&4294967295|M>>>15),M=O+(C^W&(N^C))+H[3]+3250441966&4294967295,O=W+(M<<22&4294967295|M>>>10),M=C+(N^O&(W^N))+H[4]+4118548399&4294967295,C=O+(M<<7&4294967295|M>>>25),M=N+(W^C&(O^W))+H[5]+1200080426&4294967295,N=C+(M<<12&4294967295|M>>>20),M=W+(O^N&(C^O))+H[6]+2821735955&4294967295,W=N+(M<<17&4294967295|M>>>15),M=O+(C^W&(N^C))+H[7]+4249261313&4294967295,O=W+(M<<22&4294967295|M>>>10),M=C+(N^O&(W^N))+H[8]+1770035416&4294967295,C=O+(M<<7&4294967295|M>>>25),M=N+(W^C&(O^W))+H[9]+2336552879&4294967295,N=C+(M<<12&4294967295|M>>>20),M=W+(O^N&(C^O))+H[10]+4294925233&4294967295,W=N+(M<<17&4294967295|M>>>15),M=O+(C^W&(N^C))+H[11]+2304563134&4294967295,O=W+(M<<22&4294967295|M>>>10),M=C+(N^O&(W^N))+H[12]+1804603682&4294967295,C=O+(M<<7&4294967295|M>>>25),M=N+(W^C&(O^W))+H[13]+4254626195&4294967295,N=C+(M<<12&4294967295|M>>>20),M=W+(O^N&(C^O))+H[14]+2792965006&4294967295,W=N+(M<<17&4294967295|M>>>15),M=O+(C^W&(N^C))+H[15]+1236535329&4294967295,O=W+(M<<22&4294967295|M>>>10),M=C+(W^N&(O^W))+H[1]+4129170786&4294967295,C=O+(M<<5&4294967295|M>>>27),M=N+(O^W&(C^O))+H[6]+3225465664&4294967295,N=C+(M<<9&4294967295|M>>>23),M=W+(C^O&(N^C))+H[11]+643717713&4294967295,W=N+(M<<14&4294967295|M>>>18),M=O+(N^C&(W^N))+H[0]+3921069994&4294967295,O=W+(M<<20&4294967295|M>>>12),M=C+(W^N&(O^W))+H[5]+3593408605&4294967295,C=O+(M<<5&4294967295|M>>>27),M=N+(O^W&(C^O))+H[10]+38016083&4294967295,N=C+(M<<9&4294967295|M>>>23),M=W+(C^O&(N^C))+H[15]+3634488961&4294967295,W=N+(M<<14&4294967295|M>>>18),M=O+(N^C&(W^N))+H[4]+3889429448&4294967295,O=W+(M<<20&4294967295|M>>>12),M=C+(W^N&(O^W))+H[9]+568446438&4294967295,C=O+(M<<5&4294967295|M>>>27),M=N+(O^W&(C^O))+H[14]+3275163606&4294967295,N=C+(M<<9&4294967295|M>>>23),M=W+(C^O&(N^C))+H[3]+4107603335&4294967295,W=N+(M<<14&4294967295|M>>>18),M=O+(N^C&(W^N))+H[8]+1163531501&4294967295,O=W+(M<<20&4294967295|M>>>12),M=C+(W^N&(O^W))+H[13]+2850285829&4294967295,C=O+(M<<5&4294967295|M>>>27),M=N+(O^W&(C^O))+H[2]+4243563512&4294967295,N=C+(M<<9&4294967295|M>>>23),M=W+(C^O&(N^C))+H[7]+1735328473&4294967295,W=N+(M<<14&4294967295|M>>>18),M=O+(N^C&(W^N))+H[12]+2368359562&4294967295,O=W+(M<<20&4294967295|M>>>12),M=C+(O^W^N)+H[5]+4294588738&4294967295,C=O+(M<<4&4294967295|M>>>28),M=N+(C^O^W)+H[8]+2272392833&4294967295,N=C+(M<<11&4294967295|M>>>21),M=W+(N^C^O)+H[11]+1839030562&4294967295,W=N+(M<<16&4294967295|M>>>16),M=O+(W^N^C)+H[14]+4259657740&4294967295,O=W+(M<<23&4294967295|M>>>9),M=C+(O^W^N)+H[1]+2763975236&4294967295,C=O+(M<<4&4294967295|M>>>28),M=N+(C^O^W)+H[4]+1272893353&4294967295,N=C+(M<<11&4294967295|M>>>21),M=W+(N^C^O)+H[7]+4139469664&4294967295,W=N+(M<<16&4294967295|M>>>16),M=O+(W^N^C)+H[10]+3200236656&4294967295,O=W+(M<<23&4294967295|M>>>9),M=C+(O^W^N)+H[13]+681279174&4294967295,C=O+(M<<4&4294967295|M>>>28),M=N+(C^O^W)+H[0]+3936430074&4294967295,N=C+(M<<11&4294967295|M>>>21),M=W+(N^C^O)+H[3]+3572445317&4294967295,W=N+(M<<16&4294967295|M>>>16),M=O+(W^N^C)+H[6]+76029189&4294967295,O=W+(M<<23&4294967295|M>>>9),M=C+(O^W^N)+H[9]+3654602809&4294967295,C=O+(M<<4&4294967295|M>>>28),M=N+(C^O^W)+H[12]+3873151461&4294967295,N=C+(M<<11&4294967295|M>>>21),M=W+(N^C^O)+H[15]+530742520&4294967295,W=N+(M<<16&4294967295|M>>>16),M=O+(W^N^C)+H[2]+3299628645&4294967295,O=W+(M<<23&4294967295|M>>>9),M=C+(W^(O|~N))+H[0]+4096336452&4294967295,C=O+(M<<6&4294967295|M>>>26),M=N+(O^(C|~W))+H[7]+1126891415&4294967295,N=C+(M<<10&4294967295|M>>>22),M=W+(C^(N|~O))+H[14]+2878612391&4294967295,W=N+(M<<15&4294967295|M>>>17),M=O+(N^(W|~C))+H[5]+4237533241&4294967295,O=W+(M<<21&4294967295|M>>>11),M=C+(W^(O|~N))+H[12]+1700485571&4294967295,C=O+(M<<6&4294967295|M>>>26),M=N+(O^(C|~W))+H[3]+2399980690&4294967295,N=C+(M<<10&4294967295|M>>>22),M=W+(C^(N|~O))+H[10]+4293915773&4294967295,W=N+(M<<15&4294967295|M>>>17),M=O+(N^(W|~C))+H[1]+2240044497&4294967295,O=W+(M<<21&4294967295|M>>>11),M=C+(W^(O|~N))+H[8]+1873313359&4294967295,C=O+(M<<6&4294967295|M>>>26),M=N+(O^(C|~W))+H[15]+4264355552&4294967295,N=C+(M<<10&4294967295|M>>>22),M=W+(C^(N|~O))+H[6]+2734768916&4294967295,W=N+(M<<15&4294967295|M>>>17),M=O+(N^(W|~C))+H[13]+1309151649&4294967295,O=W+(M<<21&4294967295|M>>>11),M=C+(W^(O|~N))+H[4]+4149444226&4294967295,C=O+(M<<6&4294967295|M>>>26),M=N+(O^(C|~W))+H[11]+3174756917&4294967295,N=C+(M<<10&4294967295|M>>>22),M=W+(C^(N|~O))+H[2]+718787259&4294967295,W=N+(M<<15&4294967295|M>>>17),M=O+(N^(W|~C))+H[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(W+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+W&4294967295,x.g[3]=x.g[3]+N&4294967295}a.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var O=C-this.blockSize,H=this.B,W=this.h,N=0;N<C;){if(W==0)for(;N<=O;)o(this,x,N),N+=this.blockSize;if(typeof x=="string"){for(;N<C;)if(H[W++]=x.charCodeAt(N++),W==this.blockSize){o(this,H),W=0;break}}else for(;N<C;)if(H[W++]=x[N++],W==this.blockSize){o(this,H),W=0;break}}this.h=W,this.o+=C},a.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var O=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=O&255,O/=256;for(this.u(x),x=Array(16),C=O=0;4>C;++C)for(var H=0;32>H;H+=8)x[O++]=this.g[C]>>>H&255;return x};function l(x,C){var O=d;return Object.prototype.hasOwnProperty.call(O,x)?O[x]:O[x]=C(x)}function c(x,C){this.h=C;for(var O=[],H=!0,W=x.length-1;0<=W;W--){var N=x[W]|0;H&&N==C||(O[W]=N,H=!1)}this.g=O}var d={};function p(x){return-128<=x&&128>x?l(x,function(C){return new c([C|0],0>C?-1:0)}):new c([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return U(g(-x));for(var C=[],O=1,H=0;x>=O;H++)C[H]=x/O|0,O*=4294967296;return new c(C,0)}function y(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return U(y(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var O=g(Math.pow(C,8)),H=w,W=0;W<x.length;W+=8){var N=Math.min(8,x.length-W),M=parseInt(x.substring(W,W+N),C);8>N?(N=g(Math.pow(C,N)),H=H.j(N).add(g(M))):(H=H.j(O),H=H.add(g(M)))}return H}var w=p(0),R=p(1),z=p(16777216);r=c.prototype,r.m=function(){if(V(this))return-U(this).m();for(var x=0,C=1,O=0;O<this.g.length;O++){var H=this.i(O);x+=(0<=H?H:4294967296+H)*C,C*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I(this))return"0";if(V(this))return"-"+U(this).toString(x);for(var C=g(Math.pow(x,6)),O=this,H="";;){var W=G(O,C).g;O=D(O,W.j(C));var N=((0<O.g.length?O.g[0]:O.h)>>>0).toString(x);if(O=W,I(O))return N+H;for(;6>N.length;)N="0"+N;H=N+H}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function I(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function V(x){return x.h==-1}r.l=function(x){return x=D(this,x),V(x)?-1:I(x)?0:1};function U(x){for(var C=x.g.length,O=[],H=0;H<C;H++)O[H]=~x.g[H];return new c(O,~x.h).add(R)}r.abs=function(){return V(this)?U(this):this},r.add=function(x){for(var C=Math.max(this.g.length,x.g.length),O=[],H=0,W=0;W<=C;W++){var N=H+(this.i(W)&65535)+(x.i(W)&65535),M=(N>>>16)+(this.i(W)>>>16)+(x.i(W)>>>16);H=M>>>16,N&=65535,M&=65535,O[W]=M<<16|N}return new c(O,O[O.length-1]&-2147483648?-1:0)};function D(x,C){return x.add(U(C))}r.j=function(x){if(I(this)||I(x))return w;if(V(this))return V(x)?U(this).j(U(x)):U(U(this).j(x));if(V(x))return U(this.j(U(x)));if(0>this.l(z)&&0>x.l(z))return g(this.m()*x.m());for(var C=this.g.length+x.g.length,O=[],H=0;H<2*C;H++)O[H]=0;for(H=0;H<this.g.length;H++)for(var W=0;W<x.g.length;W++){var N=this.i(H)>>>16,M=this.i(H)&65535,Ue=x.i(W)>>>16,Be=x.i(W)&65535;O[2*H+2*W]+=M*Be,L(O,2*H+2*W),O[2*H+2*W+1]+=N*Be,L(O,2*H+2*W+1),O[2*H+2*W+1]+=M*Ue,L(O,2*H+2*W+1),O[2*H+2*W+2]+=N*Ue,L(O,2*H+2*W+2)}for(H=0;H<C;H++)O[H]=O[2*H+1]<<16|O[2*H];for(H=C;H<2*C;H++)O[H]=0;return new c(O,0)};function L(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function j(x,C){this.g=x,this.h=C}function G(x,C){if(I(C))throw Error("division by zero");if(I(x))return new j(w,w);if(V(x))return C=G(U(x),C),new j(U(C.g),U(C.h));if(V(C))return C=G(x,U(C)),new j(U(C.g),C.h);if(30<x.g.length){if(V(x)||V(C))throw Error("slowDivide_ only works with positive integers.");for(var O=R,H=C;0>=H.l(x);)O=X(O),H=X(H);var W=J(O,1),N=J(H,1);for(H=J(H,2),O=J(O,2);!I(H);){var M=N.add(H);0>=M.l(x)&&(W=W.add(O),N=M),H=J(H,1),O=J(O,1)}return C=D(x,W.j(C)),new j(W,C)}for(W=w;0<=x.l(C);){for(O=Math.max(1,Math.floor(x.m()/C.m())),H=Math.ceil(Math.log(O)/Math.LN2),H=48>=H?1:Math.pow(2,H-48),N=g(O),M=N.j(C);V(M)||0<M.l(x);)O-=H,N=g(O),M=N.j(C);I(N)&&(N=R),W=W.add(N),x=D(x,M)}return new j(W,x)}r.A=function(x){return G(this,x).h},r.and=function(x){for(var C=Math.max(this.g.length,x.g.length),O=[],H=0;H<C;H++)O[H]=this.i(H)&x.i(H);return new c(O,this.h&x.h)},r.or=function(x){for(var C=Math.max(this.g.length,x.g.length),O=[],H=0;H<C;H++)O[H]=this.i(H)|x.i(H);return new c(O,this.h|x.h)},r.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),O=[],H=0;H<C;H++)O[H]=this.i(H)^x.i(H);return new c(O,this.h^x.h)};function X(x){for(var C=x.g.length+1,O=[],H=0;H<C;H++)O[H]=x.i(H)<<1|x.i(H-1)>>>31;return new c(O,x.h)}function J(x,C){var O=C>>5;C%=32;for(var H=x.g.length-O,W=[],N=0;N<H;N++)W[N]=0<C?x.i(N+O)>>>C|x.i(N+O+1)<<32-C:x.i(N+O);return new c(W,x.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,DA=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Ps=c}).apply(typeof Vw<"u"?Vw:typeof self<"u"?self:typeof window<"u"?window:{});var Af=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Us<"u"?Us:typeof self<"u"?self:{};var NA,hu,MA,Kf,Wg,PA,kA,UA;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,A){return f==Array.prototype||f==Object.prototype||(f[_]=A.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Af=="object"&&Af];for(var _=0;_<f.length;++_){var A=f[_];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=n(this);function o(f,_){if(_)e:{var A=a;f=f.split(".");for(var q=0;q<f.length-1;q++){var fe=f[q];if(!(fe in A))break e;A=A[fe]}f=f[f.length-1],q=A[f],_=_(q),_!=q&&_!=null&&e(A,f,{configurable:!0,writable:!0,value:_})}}function l(f,_){f instanceof String&&(f+="");var A=0,q=!1,fe={next:function(){if(!q&&A<f.length){var we=A++;return{value:_(we,f[we]),done:!1}}return q=!0,{done:!0,value:void 0}}};return fe[Symbol.iterator]=function(){return fe},fe}o("Array.prototype.values",function(f){return f||function(){return l(this,function(_,A){return A})}});var c=c||{},d=this||self;function p(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function g(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function y(f,_,A){return f.call.apply(f.bind,arguments)}function w(f,_,A){if(!f)throw Error();if(2<arguments.length){var q=Array.prototype.slice.call(arguments,2);return function(){var fe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(fe,q),f.apply(_,fe)}}return function(){return f.apply(_,arguments)}}function R(f,_,A){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,R.apply(null,arguments)}function z(f,_){var A=Array.prototype.slice.call(arguments,1);return function(){var q=A.slice();return q.push.apply(q,arguments),f.apply(this,q)}}function I(f,_){function A(){}A.prototype=_.prototype,f.aa=_.prototype,f.prototype=new A,f.prototype.constructor=f,f.Qb=function(q,fe,we){for(var Le=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)Le[Mt-2]=arguments[Mt];return _.prototype[fe].apply(q,Le)}}function V(f){const _=f.length;if(0<_){const A=Array(_);for(let q=0;q<_;q++)A[q]=f[q];return A}return[]}function U(f,_){for(let A=1;A<arguments.length;A++){const q=arguments[A];if(p(q)){const fe=f.length||0,we=q.length||0;f.length=fe+we;for(let Le=0;Le<we;Le++)f[fe+Le]=q[Le]}else f.push(q)}}class D{constructor(_,A){this.i=_,this.j=A,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function L(f){return/^[\s\xa0]*$/.test(f)}function j(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function G(f){return G[" "](f),f}G[" "]=function(){};var X=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function J(f,_,A){for(const q in f)_.call(A,f[q],q,f)}function x(f,_){for(const A in f)_.call(void 0,f[A],A,f)}function C(f){const _={};for(const A in f)_[A]=f[A];return _}const O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function H(f,_){let A,q;for(let fe=1;fe<arguments.length;fe++){q=arguments[fe];for(A in q)f[A]=q[A];for(let we=0;we<O.length;we++)A=O[we],Object.prototype.hasOwnProperty.call(q,A)&&(f[A]=q[A])}}function W(f){var _=1;f=f.split(":");const A=[];for(;0<_&&f.length;)A.push(f.shift()),_--;return f.length&&A.push(f.join(":")),A}function N(f){d.setTimeout(()=>{throw f},0)}function M(){var f=Ve;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class Ue{constructor(){this.h=this.g=null}add(_,A){const q=Be.get();q.set(_,A),this.h?this.h.next=q:this.g=q,this.h=q}}var Be=new D(()=>new le,f=>f.reset());class le{constructor(){this.next=this.g=this.h=null}set(_,A){this.h=_,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let Se,ke=!1,Ve=new Ue,je=()=>{const f=d.Promise.resolve(void 0);Se=()=>{f.then(re)}};var re=()=>{for(var f;f=M();){try{f.h.call(f.g)}catch(A){N(A)}var _=Be;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}ke=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ae=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};d.addEventListener("test",A,_),d.removeEventListener("test",A,_)}catch{}return f})();function he(f,_){if($.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var A=this.type=f.type,q=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(X){e:{try{G(_.nodeName);var fe=!0;break e}catch{}fe=!1}fe||(_=null)}}else A=="mouseover"?_=f.fromElement:A=="mouseout"&&(_=f.toElement);this.relatedTarget=_,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Z[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&he.aa.h.call(this)}}I(he,$);var Z={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),ve=0;function Re(f,_,A,q,fe){this.listener=f,this.proxy=null,this.src=_,this.type=A,this.capture=!!q,this.ha=fe,this.key=++ve,this.da=this.fa=!1}function Ne(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function F(f){this.src=f,this.g={},this.h=0}F.prototype.add=function(f,_,A,q,fe){var we=f.toString();f=this.g[we],f||(f=this.g[we]=[],this.h++);var Le=be(f,_,q,fe);return-1<Le?(_=f[Le],A||(_.fa=!1)):(_=new Re(_,this.src,we,!!q,fe),_.fa=A,f.push(_)),_};function K(f,_){var A=_.type;if(A in f.g){var q=f.g[A],fe=Array.prototype.indexOf.call(q,_,void 0),we;(we=0<=fe)&&Array.prototype.splice.call(q,fe,1),we&&(Ne(_),f.g[A].length==0&&(delete f.g[A],f.h--))}}function be(f,_,A,q){for(var fe=0;fe<f.length;++fe){var we=f[fe];if(!we.da&&we.listener==_&&we.capture==!!A&&we.ha==q)return fe}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),$e={};function Fe(f,_,A,q,fe){if(Array.isArray(_)){for(var we=0;we<_.length;we++)Fe(f,_[we],A,q,fe);return null}return A=Zt(A),f&&f[te]?f.K(_,A,g(q)?!!q.capture:!1,fe):Ze(f,_,A,!1,q,fe)}function Ze(f,_,A,q,fe,we){if(!_)throw Error("Invalid event type");var Le=g(fe)?!!fe.capture:!!fe,Mt=wt(f);if(Mt||(f[Pe]=Mt=new F(f)),A=Mt.add(_,A,q,Le,we),A.proxy)return A;if(q=on(),A.proxy=q,q.src=f,q.listener=A,f.addEventListener)ae||(fe=Le),fe===void 0&&(fe=!1),f.addEventListener(_.toString(),q,fe);else if(f.attachEvent)f.attachEvent($t(_.toString()),q);else if(f.addListener&&f.removeListener)f.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return A}function on(){function f(A){return _.call(f.src,f.listener,A)}const _=Et;return f}function Ce(f,_,A,q,fe){if(Array.isArray(_))for(var we=0;we<_.length;we++)Ce(f,_[we],A,q,fe);else q=g(q)?!!q.capture:!!q,A=Zt(A),f&&f[te]?(f=f.i,_=String(_).toString(),_ in f.g&&(we=f.g[_],A=be(we,A,q,fe),-1<A&&(Ne(we[A]),Array.prototype.splice.call(we,A,1),we.length==0&&(delete f.g[_],f.h--)))):f&&(f=wt(f))&&(_=f.g[_.toString()],f=-1,_&&(f=be(_,A,q,fe)),(A=-1<f?_[f]:null)&&Yt(A))}function Yt(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[te])K(_.i,f);else{var A=f.type,q=f.proxy;_.removeEventListener?_.removeEventListener(A,q,f.capture):_.detachEvent?_.detachEvent($t(A),q):_.addListener&&_.removeListener&&_.removeListener(q),(A=wt(_))?(K(A,f),A.h==0&&(A.src=null,_[Pe]=null)):Ne(f)}}}function $t(f){return f in $e?$e[f]:$e[f]="on"+f}function Et(f,_){if(f.da)f=!0;else{_=new he(_,this);var A=f.listener,q=f.ha||f.src;f.fa&&Yt(f),f=A.call(q,_)}return f}function wt(f){return f=f[Pe],f instanceof F?f:null}var yt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zt(f){return typeof f=="function"?f:(f[yt]||(f[yt]=function(_){return f.handleEvent(_)}),f[yt])}function bt(){_e.call(this),this.i=new F(this),this.M=this,this.F=null}I(bt,_e),bt.prototype[te]=!0,bt.prototype.removeEventListener=function(f,_,A,q){Ce(this,f,_,A,q)};function Nt(f,_){var A,q=f.F;if(q)for(A=[];q;q=q.F)A.push(q);if(f=f.M,q=_.type||_,typeof _=="string")_=new $(_,f);else if(_ instanceof $)_.target=_.target||f;else{var fe=_;_=new $(q,f),H(_,fe)}if(fe=!0,A)for(var we=A.length-1;0<=we;we--){var Le=_.g=A[we];fe=Lt(Le,q,!0,_)&&fe}if(Le=_.g=f,fe=Lt(Le,q,!0,_)&&fe,fe=Lt(Le,q,!1,_)&&fe,A)for(we=0;we<A.length;we++)Le=_.g=A[we],fe=Lt(Le,q,!1,_)&&fe}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var A=f.g[_],q=0;q<A.length;q++)Ne(A[q]);delete f.g[_],f.h--}}this.F=null},bt.prototype.K=function(f,_,A,q){return this.i.add(String(f),_,!1,A,q)},bt.prototype.L=function(f,_,A,q){return this.i.add(String(f),_,!0,A,q)};function Lt(f,_,A,q){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var fe=!0,we=0;we<_.length;++we){var Le=_[we];if(Le&&!Le.da&&Le.capture==A){var Mt=Le.listener,pn=Le.ha||Le.src;Le.fa&&K(f.i,Le),fe=Mt.call(pn,q)!==!1&&fe}}return fe&&!q.defaultPrevented}function cr(f,_,A){if(typeof f=="function")A&&(f=R(f,A));else if(f&&typeof f.handleEvent=="function")f=R(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(f,_||0)}function P(f){f.g=cr(()=>{f.g=null,f.i&&(f.i=!1,P(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class E extends _e{constructor(_,A){super(),this.m=_,this.l=A,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:P(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function T(f){_e.call(this),this.h=f,this.g={}}I(T,_e);var Y=[];function ie(f){J(f.g,function(_,A){this.g.hasOwnProperty(A)&&Yt(_)},f),f.g={}}T.prototype.N=function(){T.aa.N.call(this),ie(this)},T.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=d.JSON.stringify,Te=d.JSON.parse,it=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function Tt(){}Tt.prototype.h=null;function Ot(f){return f.h||(f.h=f.i())}function St(){}var ot={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fr(){$.call(this,"d")}I(fr,$);function en(){$.call(this,"c")}I(en,$);var Ln={},Yr=null;function Qn(){return Yr=Yr||new bt}Ln.La="serverreachability";function rs(f){$.call(this,Ln.La,f)}I(rs,$);function k(f){const _=Qn();Nt(_,new rs(_))}Ln.STAT_EVENT="statevent";function v(f,_){$.call(this,Ln.STAT_EVENT,f),this.stat=_}I(v,$);function b(f){const _=Qn();Nt(_,new v(_,f))}Ln.Ma="timingevent";function Q(f,_){$.call(this,Ln.Ma,f),this.size=_}I(Q,$);function oe(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},_)}function ye(){this.g=!0}ye.prototype.xa=function(){this.g=!1};function Ie(f,_,A,q,fe,we){f.info(function(){if(f.g)if(we)for(var Le="",Mt=we.split("&"),pn=0;pn<Mt.length;pn++){var ut=Mt[pn].split("=");if(1<ut.length){var An=ut[0];ut=ut[1];var Rn=An.split("_");Le=2<=Rn.length&&Rn[1]=="type"?Le+(An+"="+ut+"&"):Le+(An+"=redacted&")}}else Le=null;else Le=we;return"XMLHTTP REQ ("+q+") [attempt "+fe+"]: "+_+`
`+A+`
`+Le})}function at(f,_,A,q,fe,we,Le){f.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+fe+"]: "+_+`
`+A+`
`+we+" "+Le})}function At(f,_,A,q){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+vt(f,A)+(q?" "+q:"")})}function Pt(f,_){f.info(function(){return"TIMEOUT: "+_})}ye.prototype.info=function(){};function vt(f,_){if(!f.g)return _;if(!_)return null;try{var A=JSON.parse(_);if(A){for(f=0;f<A.length;f++)if(Array.isArray(A[f])){var q=A[f];if(!(2>q.length)){var fe=q[1];if(Array.isArray(fe)&&!(1>fe.length)){var we=fe[0];if(we!="noop"&&we!="stop"&&we!="close")for(var Le=1;Le<fe.length;Le++)fe[Le]=""}}}}return de(A)}catch{return _}}var Xe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Qr;function ta(){}I(ta,Tt),ta.prototype.g=function(){return new XMLHttpRequest},ta.prototype.i=function(){return{}},Qr=new ta;function Wr(f,_,A,q){this.j=f,this.i=_,this.l=A,this.R=q||1,this.U=new T(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ju}function Ju(){this.i=null,this.g="",this.h=!1}var fl={},mi={};function is(f,_,A){f.L=1,f.v=os(tn(_)),f.m=A,f.P=!0,gi(f,null)}function gi(f,_){f.F=Date.now(),Lr(f),f.A=tn(f.v);var A=f.A,q=f.R;Array.isArray(q)||(q=[String(q)]),vi(A.i,"t",q),f.C=0,A=f.j.J,f.h=new Ju,f.g=pc(f.j,A?_:null,!f.m),0<f.O&&(f.M=new E(R(f.Y,f,f.g),f.O)),_=f.U,A=f.g,q=f.ca;var fe="readystatechange";Array.isArray(fe)||(fe&&(Y[0]=fe.toString()),fe=Y);for(var we=0;we<fe.length;we++){var Le=Fe(A,fe[we],q||_.handleEvent,!1,_.h||_);if(!Le)break;_.g[Le.key]=Le}_=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),k(),Ie(f.i,f.u,f.A,f.l,f.R,f.m)}Wr.prototype.ca=function(f){f=f.target;const _=this.M;_&&Xn(f)==3?_.j():this.Y(f)},Wr.prototype.Y=function(f){try{if(f==this.g)e:{const Rn=Xn(this.g);var _=this.g.Ba();const pa=this.g.Z();if(!(3>Rn)&&(Rn!=3||this.g&&(this.h.h||this.g.oa()||cs(this.g)))){this.J||Rn!=4||_==7||(_==8||0>=pa?k(3):k(2)),Qs(this);var A=this.g.Z();this.X=A;t:if(yi(this)){var q=cs(this.g);f="";var fe=q.length,we=Xn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wn(this),na(this);var Le="";break t}this.h.i=new d.TextDecoder}for(_=0;_<fe;_++)this.h.h=!0,f+=this.h.i.decode(q[_],{stream:!(we&&_==fe-1)});q.length=0,this.h.g+=f,this.C=0,Le=this.h.g}else Le=this.g.oa();if(this.o=A==200,at(this.i,this.u,this.A,this.l,this.R,Rn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Mt,pn=this.g;if((Mt=pn.g?pn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Mt)){var ut=Mt;break t}}ut=null}if(A=ut)At(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$r(this,A);else{this.o=!1,this.s=3,b(12),Wn(this),na(this);break e}}if(this.P){A=!0;let nr;for(;!this.J&&this.C<Le.length;)if(nr=as(this,Le),nr==mi){Rn==4&&(this.s=4,b(14),A=!1),At(this.i,this.l,null,"[Incomplete Response]");break}else if(nr==fl){this.s=4,b(15),At(this.i,this.l,Le,"[Invalid Chunk]"),A=!1;break}else At(this.i,this.l,nr,null),$r(this,nr);if(yi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rn!=4||Le.length!=0||this.h.h||(this.s=1,b(16),A=!1),this.o=this.o&&A,!A)At(this.i,this.l,Le,"[Invalid Chunked Response]"),Wn(this),na(this);else if(0<Le.length&&!this.W){this.W=!0;var An=this.j;An.g==this&&An.ba&&!An.M&&(An.j.info("Great, no buffering proxy detected. Bytes received: "+Le.length),bl(An),An.M=!0,b(11))}}else At(this.i,this.l,Le,null),$r(this,Le);Rn==4&&Wn(this),this.o&&!this.J&&(Rn==4?fc(this.j,this):(this.o=!1,Lr(this)))}else ac(this.g),A==400&&0<Le.indexOf("Unknown SID")?(this.s=3,b(12)):(this.s=0,b(13)),Wn(this),na(this)}}}catch{}};function yi(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function as(f,_){var A=f.C,q=_.indexOf(`
`,A);return q==-1?mi:(A=Number(_.substring(A,q)),isNaN(A)?fl:(q+=1,q+A>_.length?mi:(_=_.slice(q,q+A),f.C=q+A,_)))}Wr.prototype.cancel=function(){this.J=!0,Wn(this)};function Lr(f){f.S=Date.now()+f.I,ln(f,f.I)}function ln(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=oe(R(f.ba,f),_)}function Qs(f){f.B&&(d.clearTimeout(f.B),f.B=null)}Wr.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Pt(this.i,this.A),this.L!=2&&(k(),b(17)),Wn(this),this.s=2,na(this)):ln(this,this.S-f)};function na(f){f.j.G==0||f.J||fc(f.j,f)}function Wn(f){Qs(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,ie(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function $r(f,_){try{var A=f.j;if(A.G!=0&&(A.g==f||ra(A.h,f))){if(!f.K&&ra(A.h,f)&&A.G==3){try{var q=A.Da.g.parse(_)}catch{q=null}if(Array.isArray(q)&&q.length==3){var fe=q;if(fe[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<f.F)ha(A),fa(A);else break e;wl(A),b(18)}}else A.za=fe[1],0<A.za-A.T&&37500>fe[2]&&A.F&&A.v==0&&!A.C&&(A.C=oe(R(A.Za,A),6e3));if(1>=Zu(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else wi(A,11)}else if((f.K||A.g==f)&&ha(A),!L(_))for(fe=A.Da.g.parse(_),_=0;_<fe.length;_++){let ut=fe[_];if(A.T=ut[0],ut=ut[1],A.G==2)if(ut[0]=="c"){A.K=ut[1],A.ia=ut[2];const An=ut[3];An!=null&&(A.la=An,A.j.info("VER="+A.la));const Rn=ut[4];Rn!=null&&(A.Aa=Rn,A.j.info("SVER="+A.Aa));const pa=ut[5];pa!=null&&typeof pa=="number"&&0<pa&&(q=1.5*pa,A.L=q,A.j.info("backChannelRequestTimeoutMs_="+q)),q=A;const nr=f.g;if(nr){const ds=nr.g?nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var we=q.h;we.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(we.j=we.l,we.g=new Set,we.h&&(ia(we,we.h),we.h=null))}if(q.D){const bi=nr.g?nr.g.getResponseHeader("X-HTTP-Session-Id"):null;bi&&(q.ya=bi,Rt(q.I,q.D,bi))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-f.F,A.j.info("Handshake RTT: "+A.R+"ms")),q=A;var Le=f;if(q.qa=dc(q,q.J?q.ia:null,q.W),Le.K){Rr(q.h,Le);var Mt=Le,pn=q.L;pn&&(Mt.I=pn),Mt.B&&(Qs(Mt),Lr(Mt)),q.g=Le}else uc(q);0<A.i.length&&no(A)}else ut[0]!="stop"&&ut[0]!="close"||wi(A,7);else A.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?wi(A,7):vl(A):ut[0]!="noop"&&A.l&&A.l.ta(ut),A.v=0)}}k(4)}catch{}}var Hh=class{constructor(f,_){this.g=f,this.map=_}};function hl(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Zu(f){return f.h?1:f.g?f.g.size:0}function ra(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function ia(f,_){f.g?f.g.add(_):f.h=_}function Rr(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}hl.prototype.cancel=function(){if(this.i=$n(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function $n(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const A of f.g.values())_=_.concat(A.D);return _}return V(f.i)}function ec(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var _=[],A=f.length,q=0;q<A;q++)_.push(f[q]);return _}_=[],A=0;for(q in f)_[A++]=f[q];return _}function Gh(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var _=[];f=f.length;for(var A=0;A<f;A++)_.push(A);return _}_=[],A=0;for(const q in f)_[A++]=q;return _}}}function Ws(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var A=Gh(f),q=ec(f),fe=q.length,we=0;we<fe;we++)_.call(void 0,q[we],A&&A[we],f)}var pl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function $s(f,_){if(f){f=f.split("&");for(var A=0;A<f.length;A++){var q=f[A].indexOf("="),fe=null;if(0<=q){var we=f[A].substring(0,q);fe=f[A].substring(q+1)}else we=f[A];_(we,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function _i(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof _i){this.h=f.h,aa(this,f.j),this.o=f.o,this.g=f.g,ss(this,f.s),this.l=f.l;var _=f.i,A=new Xr;A.i=_.i,_.g&&(A.g=new Map(_.g),A.h=_.h),Xs(this,A),this.m=f.m}else f&&(_=String(f).match(pl))?(this.h=!1,aa(this,_[1]||"",!0),this.o=sa(_[2]||""),this.g=sa(_[3]||"",!0),ss(this,_[4]),this.l=sa(_[5]||"",!0),Xs(this,_[6]||"",!0),this.m=sa(_[7]||"")):(this.h=!1,this.i=new Xr(null,this.h))}_i.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Cr(_,ml,!0),":");var A=this.g;return(A||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Cr(_,ml,!0),"@"),f.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&f.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(Cr(A,A.charAt(0)=="/"?gl:tc,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",Cr(A,Qh)),f.join("")};function tn(f){return new _i(f)}function aa(f,_,A){f.j=A?sa(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function ss(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function Xs(f,_,A){_ instanceof Xr?(f.i=_,nc(f.i,f.h)):(A||(_=Cr(_,Yh)),f.i=new Xr(_,f.h))}function Rt(f,_,A){f.i.set(_,A)}function os(f){return Rt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function sa(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Cr(f,_,A){return typeof f=="string"?(f=encodeURI(f).replace(_,Kh),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Kh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ml=/[#\/\?@]/g,tc=/[#\?:]/g,gl=/[#\?]/g,Yh=/[#\?@]/g,Qh=/#/g;function Xr(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Sn(f){f.g||(f.g=new Map,f.h=0,f.i&&$s(f.i,function(_,A){f.add(decodeURIComponent(_.replace(/\+/g," ")),A)}))}r=Xr.prototype,r.add=function(f,_){Sn(this),this.i=null,f=hr(this,f);var A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(_),this.h+=1,this};function Js(f,_){Sn(f),_=hr(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function Zs(f,_){return Sn(f),_=hr(f,_),f.g.has(_)}r.forEach=function(f,_){Sn(this),this.g.forEach(function(A,q){A.forEach(function(fe){f.call(_,fe,q,this)},this)},this)},r.na=function(){Sn(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),A=[];for(let q=0;q<_.length;q++){const fe=f[q];for(let we=0;we<fe.length;we++)A.push(_[q])}return A},r.V=function(f){Sn(this);let _=[];if(typeof f=="string")Zs(this,f)&&(_=_.concat(this.g.get(hr(this,f))));else{f=Array.from(this.g.values());for(let A=0;A<f.length;A++)_=_.concat(f[A])}return _},r.set=function(f,_){return Sn(this),this.i=null,f=hr(this,f),Zs(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},r.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function vi(f,_,A){Js(f,_),0<A.length&&(f.i=null,f.g.set(hr(f,_),V(A)),f.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var A=0;A<_.length;A++){var q=_[A];const we=encodeURIComponent(String(q)),Le=this.V(q);for(q=0;q<Le.length;q++){var fe=we;Le[q]!==""&&(fe+="="+encodeURIComponent(String(Le[q]))),f.push(fe)}}return this.i=f.join("&")};function hr(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function nc(f,_){_&&!f.j&&(Sn(f),f.i=null,f.g.forEach(function(A,q){var fe=q.toLowerCase();q!=fe&&(Js(this,q),vi(this,fe,A))},f)),f.j=_}function yl(f,_){const A=new ye;if(d.Image){const q=new Image;q.onload=z(tr,A,"TestLoadImage: loaded",!0,_,q),q.onerror=z(tr,A,"TestLoadImage: error",!1,_,q),q.onabort=z(tr,A,"TestLoadImage: abort",!1,_,q),q.ontimeout=z(tr,A,"TestLoadImage: timeout",!1,_,q),d.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=f}else _(!1)}function rc(f,_){const A=new ye,q=new AbortController,fe=setTimeout(()=>{q.abort(),tr(A,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:q.signal}).then(we=>{clearTimeout(fe),we.ok?tr(A,"TestPingServer: ok",!0,_):tr(A,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(fe),tr(A,"TestPingServer: error",!1,_)})}function tr(f,_,A,q,fe){try{fe&&(fe.onload=null,fe.onerror=null,fe.onabort=null,fe.ontimeout=null),q(A)}catch{}}function Vr(){this.g=new it}function _l(f,_,A){const q=A||"";try{Ws(f,function(fe,we){let Le=fe;g(fe)&&(Le=de(fe)),_.push(q+we+"="+encodeURIComponent(Le))})}catch(fe){throw _.push(q+"type="+encodeURIComponent("_badmap")),fe}}function Jr(f){this.l=f.Ub||null,this.j=f.eb||!1}I(Jr,Tt),Jr.prototype.g=function(){return new dr(this.l,this.j)},Jr.prototype.i=(function(f){return function(){return f}})({});function dr(f,_){bt.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(dr,bt),r=dr.prototype,r.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,oa(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zr(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;eo(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function eo(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?Zr(this):oa(this),this.readyState==3&&eo(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,Zr(this))},r.Qa=function(f){this.g&&(this.response=f,Zr(this))},r.ga=function(){this.g&&Zr(this)};function Zr(f){f.readyState=4,f.l=null,f.j=null,f.v=null,oa(f)}r.setRequestHeader=function(f,_){this.u.append(f,_)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var A=_.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=_.next();return f.join(`\r
`)};function oa(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function ls(f){let _="";return J(f,function(A,q){_+=q,_+=":",_+=A,_+=`\r
`}),_}function la(f,_,A){e:{for(q in A){var q=!1;break e}q=!0}q||(A=ls(A),typeof f=="string"?A!=null&&encodeURIComponent(String(A)):Rt(f,_,A))}function zt(f){bt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(zt,bt);var Vn=/^https?$/i,Ei=["POST","PUT"];r=zt.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,_,A,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Qr.g(),this.v=this.o?Ot(this.o):Ot(Qr),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(we){us(this,we);return}if(f=A||"",A=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var fe in q)A.set(fe,q[fe]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const we of q.keys())A.set(we,q.get(we));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(A.keys()).find(we=>we.toLowerCase()=="content-type"),fe=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ei,_,void 0))||q||fe||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[we,Le]of A)this.g.setRequestHeader(we,Le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{to(this),this.u=!0,this.g.send(f),this.u=!1}catch(we){us(this,we)}};function us(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,ua(f),ca(f)}function ua(f){f.A||(f.A=!0,Nt(f,"complete"),Nt(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Nt(this,"complete"),Nt(this,"abort"),ca(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ca(this,!0)),zt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ic(this):this.bb())},r.bb=function(){ic(this)};function ic(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Xn(f)!=4||f.Z()!=2)){if(f.u&&Xn(f)==4)cr(f.Ea,0,f);else if(Nt(f,"readystatechange"),Xn(f)==4){f.h=!1;try{const Le=f.Z();e:switch(Le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var A;if(!(A=_)){var q;if(q=Le===0){var fe=String(f.D).match(pl)[1]||null;!fe&&d.self&&d.self.location&&(fe=d.self.location.protocol.slice(0,-1)),q=!Vn.test(fe?fe.toLowerCase():"")}A=q}if(A)Nt(f,"complete"),Nt(f,"success");else{f.m=6;try{var we=2<Xn(f)?f.g.statusText:""}catch{we=""}f.l=we+" ["+f.Z()+"]",ua(f)}}finally{ca(f)}}}}function ca(f,_){if(f.g){to(f);const A=f.g,q=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||Nt(f,"ready");try{A.onreadystatechange=q}catch{}}}function to(f){f.I&&(d.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function Xn(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<Xn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Te(_)}};function cs(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function ac(f){const _={};f=(f.g&&2<=Xn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<f.length;q++){if(L(f[q]))continue;var A=W(f[q]);const fe=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const we=_[fe]||[];_[fe]=we,we.push(A)}x(_,function(q){return q.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(f,_,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||_}function sc(f){this.Aa=0,this.i=[],this.j=new ye,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fs("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fs("baseRetryDelayMs",5e3,f),this.cb=fs("retryDelaySeedMs",1e4,f),this.Wa=fs("forwardChannelMaxRetries",2,f),this.wa=fs("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new hl(f&&f.concurrentRequestLimit),this.Da=new Vr,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=sc.prototype,r.la=8,r.G=1,r.connect=function(f,_,A,q){b(0),this.W=f,this.H=_||{},A&&q!==void 0&&(this.H.OSID=A,this.H.OAID=q),this.F=this.X,this.I=dc(this,null,this.W),no(this)};function vl(f){if(oc(f),f.G==3){var _=f.U++,A=tn(f.I);if(Rt(A,"SID",f.K),Rt(A,"RID",_),Rt(A,"TYPE","terminate"),hs(f,A),_=new Wr(f,f.j,_),_.L=2,_.v=os(tn(A)),A=!1,d.navigator&&d.navigator.sendBeacon)try{A=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!A&&d.Image&&(new Image().src=_.v,A=!0),A||(_.g=pc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),Lr(_)}Tl(f)}function fa(f){f.g&&(bl(f),f.g.cancel(),f.g=null)}function oc(f){fa(f),f.u&&(d.clearTimeout(f.u),f.u=null),ha(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function no(f){if(!dl(f.h)&&!f.s){f.s=!0;var _=f.Ga;Se||je(),ke||(Se(),ke=!0),Ve.add(_,f),f.B=0}}function Wh(f,_){return Zu(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=oe(R(f.Ga,f,_),hc(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const fe=new Wr(this,this.j,f);let we=this.o;if(this.S&&(we?(we=C(we),H(we,this.S)):we=this.S),this.m!==null||this.O||(fe.H=we,we=null),this.P)e:{for(var _=0,A=0;A<this.i.length;A++){t:{var q=this.i[A];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(_+=q,4096<_){_=A;break e}if(_===4096||A===this.i.length-1){_=A+1;break e}}_=1e3}else _=1e3;_=El(this,fe,_),A=tn(this.I),Rt(A,"RID",f),Rt(A,"CVER",22),this.D&&Rt(A,"X-HTTP-Session-Id",this.D),hs(this,A),we&&(this.O?_="headers="+encodeURIComponent(String(ls(we)))+"&"+_:this.m&&la(A,this.m,we)),ia(this.h,fe),this.Ua&&Rt(A,"TYPE","init"),this.P?(Rt(A,"$req",_),Rt(A,"SID","null"),fe.T=!0,is(fe,A,null)):is(fe,A,_),this.G=2}}else this.G==3&&(f?lc(this,f):this.i.length==0||dl(this.h)||lc(this))};function lc(f,_){var A;_?A=_.l:A=f.U++;const q=tn(f.I);Rt(q,"SID",f.K),Rt(q,"RID",A),Rt(q,"AID",f.T),hs(f,q),f.m&&f.o&&la(q,f.m,f.o),A=new Wr(f,f.j,A,f.B+1),f.m===null&&(A.H=f.o),_&&(f.i=_.D.concat(f.i)),_=El(f,A,1e3),A.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),ia(f.h,A),is(A,q,_)}function hs(f,_){f.H&&J(f.H,function(A,q){Rt(_,q,A)}),f.l&&Ws({},function(A,q){Rt(_,q,A)})}function El(f,_,A){A=Math.min(f.i.length,A);var q=f.l?R(f.l.Na,f.l,f):null;e:{var fe=f.i;let we=-1;for(;;){const Le=["count="+A];we==-1?0<A?(we=fe[0].g,Le.push("ofs="+we)):we=0:Le.push("ofs="+we);let Mt=!0;for(let pn=0;pn<A;pn++){let ut=fe[pn].g;const An=fe[pn].map;if(ut-=we,0>ut)we=Math.max(0,fe[pn].g-100),Mt=!1;else try{_l(An,Le,"req"+ut+"_")}catch{q&&q(An)}}if(Mt){q=Le.join("&");break e}}}return f=f.i.splice(0,A),_.D=f,q}function uc(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;Se||je(),ke||(Se(),ke=!0),Ve.add(_,f),f.v=0}}function wl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=oe(R(f.Fa,f),hc(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,cc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=oe(R(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,b(10),fa(this),cc(this))};function bl(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function cc(f){f.g=new Wr(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=tn(f.qa);Rt(_,"RID","rpc"),Rt(_,"SID",f.K),Rt(_,"AID",f.T),Rt(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Rt(_,"TO",f.ja),Rt(_,"TYPE","xmlhttp"),hs(f,_),f.m&&f.o&&la(_,f.m,f.o),f.L&&(f.g.I=f.L);var A=f.g;f=f.ia,A.L=1,A.v=os(tn(_)),A.m=null,A.P=!0,gi(A,f)}r.Za=function(){this.C!=null&&(this.C=null,fa(this),wl(this),b(19))};function ha(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function fc(f,_){var A=null;if(f.g==_){ha(f),bl(f),f.g=null;var q=2}else if(ra(f.h,_))A=_.D,Rr(f.h,_),q=1;else return;if(f.G!=0){if(_.o)if(q==1){A=_.m?_.m.length:0,_=Date.now()-_.F;var fe=f.B;q=Qn(),Nt(q,new Q(q,A)),no(f)}else uc(f);else if(fe=_.s,fe==3||fe==0&&0<_.X||!(q==1&&Wh(f,_)||q==2&&wl(f)))switch(A&&0<A.length&&(_=f.h,_.i=_.i.concat(A)),fe){case 1:wi(f,5);break;case 4:wi(f,10);break;case 3:wi(f,6);break;default:wi(f,2)}}}function hc(f,_){let A=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(A*=2),A*_}function wi(f,_){if(f.j.info("Error code "+_),_==2){var A=R(f.fb,f),q=f.Xa;const fe=!q;q=new _i(q||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||aa(q,"https"),os(q),fe?yl(q.toString(),A):rc(q.toString(),A)}else b(2);f.G=0,f.l&&f.l.sa(_),Tl(f),oc(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),b(2)):(this.j.info("Failed to ping google.com"),b(1))};function Tl(f){if(f.G=0,f.ka=[],f.l){const _=$n(f.h);(_.length!=0||f.i.length!=0)&&(U(f.ka,_),U(f.ka,f.i),f.h.i.length=0,V(f.i),f.i.length=0),f.l.ra()}}function dc(f,_,A){var q=A instanceof _i?tn(A):new _i(A);if(q.g!="")_&&(q.g=_+"."+q.g),ss(q,q.s);else{var fe=d.location;q=fe.protocol,_=_?_+"."+fe.hostname:fe.hostname,fe=+fe.port;var we=new _i(null);q&&aa(we,q),_&&(we.g=_),fe&&ss(we,fe),A&&(we.l=A),q=we}return A=f.D,_=f.ya,A&&_&&Rt(q,A,_),Rt(q,"VER",f.la),hs(f,q),q}function pc(f,_,A){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new zt(new Jr({eb:A})):new zt(f.pa),_.Ha(f.J),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mc(){}r=mc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ro(){}ro.prototype.g=function(f,_){return new Jn(f,_)};function Jn(f,_){bt.call(this),this.g=new sc(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!L(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!L(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new da(this)}I(Jn,bt),Jn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jn.prototype.close=function(){vl(this.g)},Jn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.u&&(A={},A.__data__=de(f),f=A);_.i.push(new Hh(_.Ya++,f)),_.G==3&&no(_)},Jn.prototype.N=function(){this.g.l=null,delete this.j,vl(this.g),delete this.g,Jn.aa.N.call(this)};function gc(f){fr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const A in _){f=A;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}I(gc,fr);function yc(){en.call(this),this.status=1}I(yc,en);function da(f){this.g=f}I(da,mc),da.prototype.ua=function(){Nt(this.g,"a")},da.prototype.ta=function(f){Nt(this.g,new gc(f))},da.prototype.sa=function(f){Nt(this.g,new yc)},da.prototype.ra=function(){Nt(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,Jn.prototype.send=Jn.prototype.o,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,UA=function(){return new ro},kA=function(){return Qn()},PA=Ln,Wg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xe.NO_ERROR=0,Xe.TIMEOUT=8,Xe.HTTP_ERROR=6,Kf=Xe,xn.COMPLETE="complete",MA=xn,St.EventType=ot,ot.OPEN="a",ot.CLOSE="b",ot.ERROR="c",ot.MESSAGE="d",bt.prototype.listen=bt.prototype.K,hu=St,zt.prototype.listenOnce=zt.prototype.L,zt.prototype.getLastError=zt.prototype.Ka,zt.prototype.getLastErrorCode=zt.prototype.Ba,zt.prototype.getStatus=zt.prototype.Z,zt.prototype.getResponseJson=zt.prototype.Oa,zt.prototype.getResponseText=zt.prototype.oa,zt.prototype.send=zt.prototype.ea,zt.prototype.setWithCredentials=zt.prototype.Ha,NA=zt}).apply(typeof Af<"u"?Af:typeof self<"u"?self:typeof window<"u"?window:{});const jw="@firebase/firestore";class qn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}qn.UNAUTHENTICATED=new qn(null),qn.GOOGLE_CREDENTIALS=new qn("google-credentials-uid"),qn.FIRST_PARTY=new qn("first-party-uid"),qn.MOCK_USER=new qn("mock-user");let rl="10.14.0";const Vs=new Ey("@firebase/firestore");function lu(){return Vs.logLevel}function He(r,...e){if(Vs.logLevel<=gt.DEBUG){const n=e.map(Py);Vs.debug(`Firestore (${rl}): ${r}`,...n)}}function $i(r,...e){if(Vs.logLevel<=gt.ERROR){const n=e.map(Py);Vs.error(`Firestore (${rl}): ${r}`,...n)}}function Ho(r,...e){if(Vs.logLevel<=gt.WARN){const n=e.map(Py);Vs.warn(`Firestore (${rl}): ${r}`,...n)}}function Py(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Je(r="Unexpected state"){const e=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: `+r;throw $i(e),new Error(e)}function Bt(r,e){r||Je()}function rt(r,e){return r}const De={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends di{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Gi{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class BA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(qn.UNAUTHENTICATED)))}shutdown(){}}class tM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class nM{constructor(e){this.t=e,this.currentUser=qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Bt(this.o===void 0);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let l=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Gi,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Gi)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Bt(typeof a.accessToken=="string"),new BA(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bt(e===null||typeof e=="string"),new qn(e)}}class rM{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=qn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class iM{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new rM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(qn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class aM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Bt(this.o===void 0);const a=l=>{l.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,He("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>a(l)))};const o=l=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Bt(typeof n.token=="string"),this.R=n.token,new aM(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function oM(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class LA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const o=oM(40);for(let l=0;l<o.length;++l)a.length<20&&o[l]<n&&(a+=e.charAt(o[l]%e.length))}return a}}function xt(r,e){return r<e?-1:r>e?1:0}function Go(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}class Tn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new qe(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new qe(De.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new qe(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(De.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tn.fromMillis(Date.now())}static fromDate(e){return Tn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*n));return new Tn(n,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new nt(e)}static min(){return new nt(new Tn(0,0))}static max(){return new nt(new Tn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cu{constructor(e,n,a){n===void 0?n=0:n>e.length&&Je(),a===void 0?a=e.length-n:a>e.length-n&&Je(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return Cu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cu?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const l=e.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Kt extends Cu{construct(e,n,a){return new Kt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new qe(De.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new Kt(n)}static emptyPath(){return new Kt([])}}const lM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends Cu{construct(e,n,a){return new kn(e,n,a)}static isValidIdentifier(e){return lM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kn(["__name__"])}static fromServerFormat(e){const n=[];let a="",o=0;const l=()=>{if(a.length===0)throw new qe(De.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new qe(De.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new qe(De.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(a+=d,o++):(l(),o++)}if(l(),c)throw new qe(De.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(n)}static emptyPath(){return new kn([])}}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(Kt.fromString(e))}static fromName(e){return new Qe(Kt.fromString(e).popFirst(5))}static empty(){return new Qe(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new Kt(e.slice()))}}function uM(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=nt.fromTimestamp(a===1e9?new Tn(n+1,0):new Tn(n,a));return new Xa(o,Qe.empty(),e)}function cM(r){return new Xa(r.readTime,r.key,-1)}class Xa{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Xa(nt.min(),Qe.empty(),-1)}static max(){return new Xa(nt.max(),Qe.empty(),-1)}}function fM(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Qe.comparator(r.documentKey,e.documentKey),n!==0?n:xt(r.largestBatchId,e.largestBatchId))}const hM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Fu(r){if(r.code!==De.FAILED_PRECONDITION||r.message!==hM)throw r;He("LocalStore","Unexpectedly lost primary lease")}class Me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Me(((a,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Me?n:Me.resolve(n)}catch(n){return Me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Me.reject(n)}static resolve(e){return new Me(((n,a)=>{n(e)}))}static reject(e){return new Me(((n,a)=>{a(e)}))}static waitFor(e){return new Me(((n,a)=>{let o=0,l=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&n()}),(p=>a(p)))})),c=!0,l===o&&n()}))}static or(e){let n=Me.resolve(!1);for(const a of e)n=n.next((o=>o?Me.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,l)=>{a.push(n.call(this,o,l))})),this.waitFor(a)}static mapArray(e,n){return new Me(((a,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next((y=>{c[g]=y,++d,d===l&&a(c)}),(y=>o(y)))}}))}static doWhile(e,n){return new Me(((a,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):a()};l()}))}}function pM(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qu(r){return r.name==="IndexedDbTransactionError"}class ky{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ie(a),this.se=a=>n.writeSequenceNumber(a))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}ky.oe=-1;function Th(r){return r==null}function sh(r){return r===0&&1/r==-1/0}function mM(r){return typeof r=="number"&&Number.isInteger(r)&&!sh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Fw(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function VA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Jt{constructor(e,n){this.comparator=e,this.root=n||Pn.EMPTY}insert(e,n){return new Jt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new Jt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rf(this.root,e,this.comparator,!0)}}class Rf{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?a(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pn{constructor(e,n,a,o,l){this.key=e,this.value=n,this.color=a??Pn.RED,this.left=o??Pn.EMPTY,this.right=l??Pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,l){return new Pn(e??this.key,n??this.value,a??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const l=a(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,a),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Pn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(e,n,a,o,l){return this}insert(e,n,a){return new Pn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Un{constructor(e){this.comparator=e,this.data=new Jt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qw(this.data.getIterator())}getIteratorFrom(e){return new qw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Un)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=a.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Un(this.comparator);return n.data=e,n}}class qw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class br{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new br([])}unionWith(e){let n=new Un(kn.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class jA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new jA("Invalid base64 string: "+l):l}})(e);return new Bn(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const gM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ja(r){if(Bt(!!r),typeof r=="string"){let e=0;const n=gM.exec(r);if(Bt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:fn(r.seconds),nanos:fn(r.nanos)}}function fn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function js(r){return typeof r=="string"?Bn.fromBase64String(r):Bn.fromUint8Array(r)}function Uy(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function By(r){const e=r.mapValue.fields.__previous_value__;return Uy(e)?By(e):e}function Iu(r){const e=Ja(r.mapValue.fields.__local_write_time__.timestampValue);return new Tn(e.seconds,e.nanos)}class yM{constructor(e,n,a,o,l,c,d,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}class xu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xu&&e.projectId===this.projectId&&e.database===this.database}}const Cf={mapValue:{}};function Fs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Uy(r)?4:vM(r)?9007199254740991:_M(r)?10:11:Je()}function hi(r,e){if(r===e)return!0;const n=Fs(r);if(n!==Fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Iu(r).isEqual(Iu(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=Ja(o.timestampValue),d=Ja(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return js(o.bytesValue).isEqual(js(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return fn(o.geoPointValue.latitude)===fn(l.geoPointValue.latitude)&&fn(o.geoPointValue.longitude)===fn(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return fn(o.integerValue)===fn(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=fn(o.doubleValue),d=fn(l.doubleValue);return c===d?sh(c)===sh(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return Go(r.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(Fw(c)!==Fw(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!hi(c[p],d[p])))return!1;return!0})(r,e);default:return Je()}}function Ou(r,e){return(r.values||[]).find((n=>hi(n,e)))!==void 0}function Ko(r,e){if(r===e)return 0;const n=Fs(r),a=Fs(e);if(n!==a)return xt(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return xt(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=fn(l.integerValue||l.doubleValue),p=fn(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(r,e);case 3:return zw(r.timestampValue,e.timestampValue);case 4:return zw(Iu(r),Iu(e));case 5:return xt(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=js(l),p=js(c);return d.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const y=xt(d[g],p[g]);if(y!==0)return y}return xt(d.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=xt(fn(l.latitude),fn(c.latitude));return d!==0?d:xt(fn(l.longitude),fn(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Hw(r.arrayValue,e.arrayValue);case 10:return(function(l,c){var d,p,g,y;const w=l.fields||{},R=c.fields||{},z=(d=w.value)===null||d===void 0?void 0:d.arrayValue,I=(p=R.value)===null||p===void 0?void 0:p.arrayValue,V=xt(((g=z?.values)===null||g===void 0?void 0:g.length)||0,((y=I?.values)===null||y===void 0?void 0:y.length)||0);return V!==0?V:Hw(z,I)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Cf.mapValue&&c===Cf.mapValue)return 0;if(l===Cf.mapValue)return 1;if(c===Cf.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let w=0;w<p.length&&w<y.length;++w){const R=xt(p[w],y[w]);if(R!==0)return R;const z=Ko(d[p[w]],g[y[w]]);if(z!==0)return z}return xt(p.length,y.length)})(r.mapValue,e.mapValue);default:throw Je()}}function zw(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return xt(r,e);const n=Ja(r),a=Ja(e),o=xt(n.seconds,a.seconds);return o!==0?o:xt(n.nanos,a.nanos)}function Hw(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const l=Ko(n[o],a[o]);if(l)return l}return xt(n.length,a.length)}function Yo(r){return $g(r)}function $g(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=Ja(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return js(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Qe.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const l of n.values||[])o?o=!1:a+=",",a+=$g(l);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of a)l?l=!1:o+=",",o+=`${c}:${$g(n.fields[c])}`;return o+"}"})(r.mapValue):Je()}function Gw(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Xg(r){return!!r&&"integerValue"in r}function Ly(r){return!!r&&"arrayValue"in r}function Kw(r){return!!r&&"nullValue"in r}function Yw(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yf(r){return!!r&&"mapValue"in r}function _M(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function yu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Gs(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=yu(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=yu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function vM(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class lr{constructor(e){this.value=e}static empty(){return new lr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Yf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=yu(n)}setAll(e){let n=kn.emptyPath(),a={},o=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=d.popLast()}c?a[d.lastSegment()]=yu(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,a,o)}delete(e){const n=this.field(e.popLast());Yf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Yf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Gs(n,((o,l)=>e[o]=l));for(const o of a)delete e[o]}clone(){return new lr(yu(this.value))}}function FA(r){const e=[];return Gs(r.fields,((n,a)=>{const o=new kn([n]);if(Yf(a)){const l=FA(a.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new br(e)}class zn{constructor(e,n,a,o,l,c,d){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new zn(e,0,nt.min(),nt.min(),nt.min(),lr.empty(),0)}static newFoundDocument(e,n,a,o){return new zn(e,1,n,nt.min(),a,o,0)}static newNoDocument(e,n){return new zn(e,2,n,nt.min(),nt.min(),lr.empty(),0)}static newUnknownDocument(e,n){return new zn(e,3,n,nt.min(),nt.min(),lr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class oh{constructor(e,n){this.position=e,this.inclusive=n}}function Qw(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const l=e[o],c=r.position[o];if(l.field.isKeyField()?a=Qe.comparator(Qe.fromName(c.referenceValue),n.key):a=Ko(c,n.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function Ww(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!hi(r.position[n],e.position[n]))return!1;return!0}class lh{constructor(e,n="asc"){this.field=e,this.dir=n}}function EM(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class qA{}class wn extends qA{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new bM(e,n,a):n==="array-contains"?new AM(e,a):n==="in"?new RM(e,a):n==="not-in"?new CM(e,a):n==="array-contains-any"?new IM(e,a):new wn(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new TM(e,a):new SM(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ko(n,this.value)):n!==null&&Fs(this.value)===Fs(n)&&this.matchesComparison(Ko(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gr extends qA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Gr(e,n)}matches(e){return zA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function zA(r){return r.op==="and"}function HA(r){return wM(r)&&zA(r)}function wM(r){for(const e of r.filters)if(e instanceof Gr)return!1;return!0}function Jg(r){if(r instanceof wn)return r.field.canonicalString()+r.op.toString()+Yo(r.value);if(HA(r))return r.filters.map((e=>Jg(e))).join(",");{const e=r.filters.map((n=>Jg(n))).join(",");return`${r.op}(${e})`}}function GA(r,e){return r instanceof wn?(function(a,o){return o instanceof wn&&a.op===o.op&&a.field.isEqual(o.field)&&hi(a.value,o.value)})(r,e):r instanceof Gr?(function(a,o){return o instanceof Gr&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((l,c,d)=>l&&GA(c,o.filters[d])),!0):!1})(r,e):void Je()}function KA(r){return r instanceof wn?(function(n){return`${n.field.canonicalString()} ${n.op} ${Yo(n.value)}`})(r):r instanceof Gr?(function(n){return n.op.toString()+" {"+n.getFilters().map(KA).join(" ,")+"}"})(r):"Filter"}class bM extends wn{constructor(e,n,a){super(e,n,a),this.key=Qe.fromName(a.referenceValue)}matches(e){const n=Qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class TM extends wn{constructor(e,n){super(e,"in",n),this.keys=YA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class SM extends wn{constructor(e,n){super(e,"not-in",n),this.keys=YA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function YA(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((a=>Qe.fromName(a.referenceValue)))}class AM extends wn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ly(n)&&Ou(n.arrayValue,this.value)}}class RM extends wn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ou(this.value.arrayValue,n)}}class CM extends wn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ou(this.value.arrayValue,n)}}class IM extends wn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ly(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Ou(this.value.arrayValue,a)))}}class xM{constructor(e,n=null,a=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function $w(r,e=null,n=[],a=[],o=null,l=null,c=null){return new xM(r,e,n,a,o,l,c)}function Vy(r){const e=rt(r);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>Jg(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(l){return l.field.canonicalString()+l.dir})(a))).join(","),Th(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>Yo(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>Yo(a))).join(",")),e.ue=n}return e.ue}function jy(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!EM(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!GA(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ww(r.startAt,e.startAt)&&Ww(r.endAt,e.endAt)}function Zg(r){return Qe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class zu{constructor(e,n=null,a=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function OM(r,e,n,a,o,l,c,d){return new zu(r,e,n,a,o,l,c,d)}function Sh(r){return new zu(r)}function Xw(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function QA(r){return r.collectionGroup!==null}function _u(r){const e=rt(r);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Un(kn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new lh(l,a))})),n.has(kn.keyField().canonicalString())||e.ce.push(new lh(kn.keyField(),a))}return e.ce}function ci(r){const e=rt(r);return e.le||(e.le=DM(e,_u(r))),e.le}function DM(r,e){if(r.limitType==="F")return $w(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new lh(o.field,l)}));const n=r.endAt?new oh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new oh(r.startAt.position,r.startAt.inclusive):null;return $w(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function ey(r,e){const n=r.filters.concat([e]);return new zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function ty(r,e,n){return new zu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ah(r,e){return jy(ci(r),ci(e))&&r.limitType===e.limitType}function WA(r){return`${Vy(ci(r))}|lt:${r.limitType}`}function Po(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>KA(o))).join(", ")}]`),Th(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>Yo(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>Yo(o))).join(",")),`Target(${a})`})(ci(r))}; limitType=${r.limitType})`}function Rh(r,e){return e.isFoundDocument()&&(function(a,o){const l=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):Qe.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)})(r,e)&&(function(a,o){for(const l of _u(a))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const l of a.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(c,d,p){const g=Qw(c,d,p);return c.inclusive?g<=0:g<0})(a.startAt,_u(a),o)||a.endAt&&!(function(c,d,p){const g=Qw(c,d,p);return c.inclusive?g>=0:g>0})(a.endAt,_u(a),o))})(r,e)}function NM(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function $A(r){return(e,n)=>{let a=!1;for(const o of _u(r)){const l=MM(o,e,n);if(l!==0)return l;a=a||o.field.isKeyField()}return 0}}function MM(r,e,n){const a=r.field.isKeyField()?Qe.comparator(e.key,n.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Ko(p,g):Je()})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Je()}}class il{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,l]of a)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,((n,a)=>{for(const[o,l]of a)e(o,l)}))}isEmpty(){return VA(this.inner)}size(){return this.innerSize}}const PM=new Jt(Qe.comparator);function Xi(){return PM}const XA=new Jt(Qe.comparator);function du(...r){let e=XA;for(const n of r)e=e.insert(n.key,n);return e}function JA(r){let e=XA;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Ds(){return vu()}function ZA(){return vu()}function vu(){return new il((r=>r.toString()),((r,e)=>r.isEqual(e)))}const kM=new Jt(Qe.comparator),UM=new Un(Qe.comparator);function pt(...r){let e=UM;for(const n of r)e=e.add(n);return e}const BM=new Un(xt);function LM(){return BM}function Fy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function eR(r){return{integerValue:""+r}}function tR(r,e){return mM(e)?eR(e):Fy(r,e)}class Ch{constructor(){this._=void 0}}function VM(r,e,n){return r instanceof Du?(function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Uy(l)&&(l=By(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(n,e):r instanceof Qo?rR(r,e):r instanceof Nu?iR(r,e):(function(o,l){const c=nR(o,l),d=Jw(c)+Jw(o.Pe);return Xg(c)&&Xg(o.Pe)?eR(d):Fy(o.serializer,d)})(r,e)}function jM(r,e,n){return r instanceof Qo?rR(r,e):r instanceof Nu?iR(r,e):n}function nR(r,e){return r instanceof Mu?(function(a){return Xg(a)||(function(l){return!!l&&"doubleValue"in l})(a)})(e)?e:{integerValue:0}:null}class Du extends Ch{}class Qo extends Ch{constructor(e){super(),this.elements=e}}function rR(r,e){const n=aR(e);for(const a of r.elements)n.some((o=>hi(o,a)))||n.push(a);return{arrayValue:{values:n}}}class Nu extends Ch{constructor(e){super(),this.elements=e}}function iR(r,e){let n=aR(e);for(const a of r.elements)n=n.filter((o=>!hi(o,a)));return{arrayValue:{values:n}}}class Mu extends Ch{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Jw(r){return fn(r.integerValue||r.doubleValue)}function aR(r){return Ly(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class qy{constructor(e,n){this.field=e,this.transform=n}}function FM(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof Qo&&o instanceof Qo||a instanceof Nu&&o instanceof Nu?Go(a.elements,o.elements,hi):a instanceof Mu&&o instanceof Mu?hi(a.Pe,o.Pe):a instanceof Du&&o instanceof Du})(r.transform,e.transform)}class qM{constructor(e,n){this.version=e,this.transformResults=n}}class Br{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Br}static exists(e){return new Br(void 0,e)}static updateTime(e){return new Br(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ih{}function sR(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new zy(r.key,Br.none()):new Hu(r.key,r.data,Br.none());{const n=r.data,a=lr.empty();let o=new Un(kn.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?a.delete(l):a.set(l,c),o=o.add(l)}return new ns(r.key,a,new br(o.toArray()),Br.none())}}function zM(r,e,n){r instanceof Hu?(function(o,l,c){const d=o.value.clone(),p=eb(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,n):r instanceof ns?(function(o,l,c){if(!Qf(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=eb(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(oR(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,e,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Eu(r,e,n,a){return r instanceof Hu?(function(l,c,d,p){if(!Qf(l.precondition,c))return d;const g=l.value.clone(),y=tb(l.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,n,a):r instanceof ns?(function(l,c,d,p){if(!Qf(l.precondition,c))return d;const g=tb(l.fieldTransforms,p,c),y=c.data;return y.setAll(oR(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((w=>w.field)))})(r,e,n,a):(function(l,c,d){return Qf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,n)}function HM(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),l=nR(a.transform,o||null);l!=null&&(n===null&&(n=lr.empty()),n.set(a.field,l))}return n||null}function Zw(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Go(a,o,((l,c)=>FM(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Hu extends Ih{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ns extends Ih{constructor(e,n,a,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function oR(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function eb(r,e,n){const a=new Map;Bt(r.length===n.length);for(let o=0;o<n.length;o++){const l=r[o],c=l.transform,d=e.data.field(l.field);a.set(l.field,jM(c,d,n[o]))}return a}function tb(r,e,n){const a=new Map;for(const o of r){const l=o.transform,c=n.data.field(o.field);a.set(o.field,VM(l,c,e))}return a}class zy extends Ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GM extends Ih{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KM{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&zM(l,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Eu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Eu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=ZA();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(o.key)?null:d;const p=sR(c,d);p!==null&&a.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(nt.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),pt())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,((n,a)=>Zw(n,a)))&&Go(this.baseMutations,e.baseMutations,((n,a)=>Zw(n,a)))}}class Hy{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Bt(e.mutations.length===a.length);let o=(function(){return kM})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,a[c].version);return new Hy(e,n,a,o)}}class YM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class QM{constructor(e,n){this.count=e,this.unchangedNames=n}}var vn,_t;function WM(r){switch(r){default:return Je();case De.CANCELLED:case De.UNKNOWN:case De.DEADLINE_EXCEEDED:case De.RESOURCE_EXHAUSTED:case De.INTERNAL:case De.UNAVAILABLE:case De.UNAUTHENTICATED:return!1;case De.INVALID_ARGUMENT:case De.NOT_FOUND:case De.ALREADY_EXISTS:case De.PERMISSION_DENIED:case De.FAILED_PRECONDITION:case De.ABORTED:case De.OUT_OF_RANGE:case De.UNIMPLEMENTED:case De.DATA_LOSS:return!0}}function lR(r){if(r===void 0)return $i("GRPC error has no .code"),De.UNKNOWN;switch(r){case vn.OK:return De.OK;case vn.CANCELLED:return De.CANCELLED;case vn.UNKNOWN:return De.UNKNOWN;case vn.DEADLINE_EXCEEDED:return De.DEADLINE_EXCEEDED;case vn.RESOURCE_EXHAUSTED:return De.RESOURCE_EXHAUSTED;case vn.INTERNAL:return De.INTERNAL;case vn.UNAVAILABLE:return De.UNAVAILABLE;case vn.UNAUTHENTICATED:return De.UNAUTHENTICATED;case vn.INVALID_ARGUMENT:return De.INVALID_ARGUMENT;case vn.NOT_FOUND:return De.NOT_FOUND;case vn.ALREADY_EXISTS:return De.ALREADY_EXISTS;case vn.PERMISSION_DENIED:return De.PERMISSION_DENIED;case vn.FAILED_PRECONDITION:return De.FAILED_PRECONDITION;case vn.ABORTED:return De.ABORTED;case vn.OUT_OF_RANGE:return De.OUT_OF_RANGE;case vn.UNIMPLEMENTED:return De.UNIMPLEMENTED;case vn.DATA_LOSS:return De.DATA_LOSS;default:return Je()}}(_t=vn||(vn={}))[_t.OK=0]="OK",_t[_t.CANCELLED=1]="CANCELLED",_t[_t.UNKNOWN=2]="UNKNOWN",_t[_t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_t[_t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_t[_t.NOT_FOUND=5]="NOT_FOUND",_t[_t.ALREADY_EXISTS=6]="ALREADY_EXISTS",_t[_t.PERMISSION_DENIED=7]="PERMISSION_DENIED",_t[_t.UNAUTHENTICATED=16]="UNAUTHENTICATED",_t[_t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_t[_t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_t[_t.ABORTED=10]="ABORTED",_t[_t.OUT_OF_RANGE=11]="OUT_OF_RANGE",_t[_t.UNIMPLEMENTED=12]="UNIMPLEMENTED",_t[_t.INTERNAL=13]="INTERNAL",_t[_t.UNAVAILABLE=14]="UNAVAILABLE",_t[_t.DATA_LOSS=15]="DATA_LOSS";function $M(){return new TextEncoder}const XM=new Ps([4294967295,4294967295],0);function nb(r){const e=$M().encode(r),n=new DA;return n.update(e),new Uint8Array(n.digest())}function rb(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ps([n,a],0),new Ps([o,l],0)]}class Gy{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new pu(`Invalid padding: ${n}`);if(a<0)throw new pu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new pu(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new pu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ps.fromNumber(this.Ie)}Ee(e,n,a){let o=e.add(n.multiply(Ps.fromNumber(a)));return o.compare(XM)===1&&(o=new Ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=nb(e),[a,o]=rb(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(a,o,l);if(!this.de(c))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Gy(l,o,n);return a.forEach((d=>c.insert(d))),c}insert(e){if(this.Ie===0)return;const n=nb(e),[a,o]=rb(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(a,o,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class pu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xh{constructor(e,n,a,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Gu.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new xh(nt.min(),o,new Jt(xt),Xi(),pt())}}class Gu{constructor(e,n,a,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Gu(a,n,pt(),pt(),pt())}}class Wf{constructor(e,n,a,o){this.Re=e,this.removedTargetIds=n,this.key=a,this.Ve=o}}class uR{constructor(e,n){this.targetId=e,this.me=n}}class cR{constructor(e,n,a=Bn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class ib{constructor(){this.fe=0,this.ge=sb(),this.pe=Bn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pt(),n=pt(),a=pt();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Je()}})),new Gu(this.pe,this.ye,e,n,a)}Ce(){this.we=!1,this.ge=sb()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class JM{constructor(e){this.Le=e,this.Be=new Map,this.ke=Xi(),this.qe=ab(),this.Qe=new Jt(xt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const a=this.Ge(n);switch(e.state){case 0:this.ze(n)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),a.De(e.resumeToken));break;default:Je()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((a,o)=>{this.ze(o)&&n(o)}))}He(e){const n=e.targetId,a=e.me.count,o=this.Je(n);if(o){const l=o.target;if(Zg(l))if(a===0){const c=new Qe(l.path);this.Ue(n,c,zn.newNoDocument(c,nt.min()))}else Bt(a===1);else{const c=this.Ye(n);if(c!==a){const d=this.Ze(e),p=d?this.Xe(d,e,c):1;if(p!==0){this.je(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,g)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:l=0}=n;let c,d;try{c=js(a).toUint8Array()}catch(p){if(p instanceof jA)return Ho("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Gy(c,o,l)}catch(p){return Ho(p instanceof pu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ie===0?null:d}Xe(e,n,a){return n.me.count===a-this.nt(e,n.targetId)?0:2}nt(e,n){const a=this.Le.getRemoteKeysForTarget(n);let o=0;return a.forEach((l=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,l,null),o++)})),o}rt(e){const n=new Map;this.Be.forEach(((l,c)=>{const d=this.Je(c);if(d){if(l.current&&Zg(d.target)){const p=new Qe(d.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,zn.newNoDocument(p,e))}l.be&&(n.set(c,l.ve()),l.Ce())}}));let a=pt();this.qe.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.Je(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(a=a.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const o=new xh(e,n,this.Qe,this.ke,a);return this.ke=Xi(),this.qe=ab(),this.Qe=new Jt(xt),o}$e(e,n){if(!this.ze(e))return;const a=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,a),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,a){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),a&&(this.ke=this.ke.insert(n,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ib,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Un(xt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||He("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ib),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ab(){return new Jt(Qe.comparator)}function sb(){return new Jt(Qe.comparator)}const ZM={asc:"ASCENDING",desc:"DESCENDING"},eP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tP={and:"AND",or:"OR"};class nP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ny(r,e){return r.useProto3Json||Th(e)?e:{value:e}}function uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fR(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function rP(r,e){return uh(r,e.toTimestamp())}function fi(r){return Bt(!!r),nt.fromTimestamp((function(n){const a=Ja(n);return new Tn(a.seconds,a.nanos)})(r))}function Ky(r,e){return ry(r,e).canonicalString()}function ry(r,e){const n=(function(o){return new Kt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function hR(r){const e=Kt.fromString(r);return Bt(yR(e)),e}function iy(r,e){return Ky(r.databaseId,e.path)}function om(r,e){const n=hR(e);if(n.get(1)!==r.databaseId.projectId)throw new qe(De.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new qe(De.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Qe(pR(n))}function dR(r,e){return Ky(r.databaseId,e)}function iP(r){const e=hR(r);return e.length===4?Kt.emptyPath():pR(e)}function ay(r){return new Kt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function pR(r){return Bt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function ob(r,e,n){return{name:iy(r,e),fields:n.value.mapValue.fields}}function aP(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Je()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Bt(y===void 0||typeof y=="string"),Bn.fromBase64String(y||"")):(Bt(y===void 0||y instanceof ZN||y instanceof Uint8Array),Bn.fromUint8Array(y||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?De.UNKNOWN:lR(g.code);return new qe(y,g.message||"")})(c);n=new cR(a,o,l,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=om(r,a.document.name),l=fi(a.document.updateTime),c=a.document.createTime?fi(a.document.createTime):nt.min(),d=new lr({mapValue:{fields:a.document.fields}}),p=zn.newFoundDocument(o,l,c,d),g=a.targetIds||[],y=a.removedTargetIds||[];n=new Wf(g,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=om(r,a.document),l=a.readTime?fi(a.readTime):nt.min(),c=zn.newNoDocument(o,l),d=a.removedTargetIds||[];n=new Wf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=om(r,a.document),l=a.removedTargetIds||[];n=new Wf([],l,o,null)}else{if(!("filter"in e))return Je();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:l}=a,c=new QM(o,l),d=a.targetId;n=new uR(d,c)}}return n}function sP(r,e){let n;if(e instanceof Hu)n={update:ob(r,e.key,e.value)};else if(e instanceof zy)n={delete:iy(r,e.key)};else if(e instanceof ns)n={update:ob(r,e.key,e.data),updateMask:mP(e.fieldMask)};else{if(!(e instanceof GM))return Je();n={verify:iy(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(l,c){const d=c.transform;if(d instanceof Du)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Qo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Nu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Mu)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Je()})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:rP(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Je()})(r,e.precondition)),n}function oP(r,e){return r&&r.length>0?(Bt(e!==void 0),r.map((n=>(function(o,l){let c=o.updateTime?fi(o.updateTime):fi(l);return c.isEqual(nt.min())&&(c=fi(l)),new qM(c,o.transformResults||[])})(n,e)))):[]}function lP(r,e){return{documents:[dR(r,e.path)]}}function uP(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=dR(r,o);const l=(function(g){if(g.length!==0)return gR(Gr.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(R){return{field:ko(R.field),direction:hP(R.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=ny(r,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{_t:n,parent:o}}function cP(r){let e=iP(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Bt(a===1);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(w){const R=mR(w);return R instanceof Gr&&HA(R)?R.getFilters():[R]})(n.where));let c=[];n.orderBy&&(c=(function(w){return w.map((R=>(function(I){return new lh(Uo(I.field),(function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(R)))})(n.orderBy));let d=null;n.limit&&(d=(function(w){let R;return R=typeof w=="object"?w.value:w,Th(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(w){const R=!!w.before,z=w.values||[];return new oh(z,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const R=!w.before,z=w.values||[];return new oh(z,R)})(n.endAt)),OM(e,o,c,l,d,"F",p,g)}function fP(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function mR(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Uo(n.unaryFilter.field);return wn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Uo(n.unaryFilter.field);return wn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Uo(n.unaryFilter.field);return wn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(n.unaryFilter.field);return wn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Je()}})(r):r.fieldFilter!==void 0?(function(n){return wn.create(Uo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return Gr.create(n.compositeFilter.filters.map((a=>mR(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Je()}})(n.compositeFilter.op))})(r):Je()}function hP(r){return ZM[r]}function dP(r){return eP[r]}function pP(r){return tP[r]}function ko(r){return{fieldPath:r.canonicalString()}}function Uo(r){return kn.fromServerFormat(r.fieldPath)}function gR(r){return r instanceof wn?(function(n){if(n.op==="=="){if(Yw(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NAN"}};if(Kw(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yw(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NAN"}};if(Kw(n.value))return{unaryFilter:{field:ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(n.field),op:dP(n.op),value:n.value}}})(r):r instanceof Gr?(function(n){const a=n.getFilters().map((o=>gR(o)));return a.length===1?a[0]:{compositeFilter:{op:pP(n.op),filters:a}}})(r):Je()}function mP(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function yR(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class za{constructor(e,n,a,o,l=nt.min(),c=nt.min(),d=Bn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gP{constructor(e){this.ct=e}}function yP(r){const e=cP({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ty(e,e.limit,"L"):e}class _P{constructor(){this.un=new vP}addToCollectionParentIndex(e,n){return this.un.add(n),Me.resolve()}getCollectionParents(e,n){return Me.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Me.resolve()}deleteFieldIndex(e,n){return Me.resolve()}deleteAllFieldIndexes(e){return Me.resolve()}createTargetIndexes(e,n){return Me.resolve()}getDocumentsMatchingTarget(e,n){return Me.resolve(null)}getIndexType(e,n){return Me.resolve(0)}getFieldIndexes(e,n){return Me.resolve([])}getNextCollectionGroupToUpdate(e){return Me.resolve(null)}getMinOffset(e,n){return Me.resolve(Xa.min())}getMinOffsetFromCollectionGroup(e,n){return Me.resolve(Xa.min())}updateCollectionGroup(e,n,a){return Me.resolve()}updateIndexEntries(e,n){return Me.resolve()}}class vP{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Un(Kt.comparator),l=!o.has(a);return this.index[n]=o.add(a),l}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Un(Kt.comparator)).toArray()}}class Wo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Wo(0)}static kn(){return new Wo(-1)}}class EP{constructor(){this.changes=new il((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?Me.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class wP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class bP{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&Eu(a.mutation,o,br.empty(),Tn.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,pt()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=pt()){const o=Ds();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((l=>{let c=du();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const a=Ds();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,pt())))}populateOverlays(e,n,a){const o=[];return a.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,a,o){let l=Xi();const c=vu(),d=(function(){return vu()})();return n.forEach(((p,g)=>{const y=a.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof ns)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Eu(y.mutation,g,y.mutation.getFieldMask(),Tn.now())):c.set(g.key,br.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>{var w;return d.set(g,new wP(y,(w=c.get(g))!==null&&w!==void 0?w:null))})),d)))}recalculateAndSaveOverlays(e,n){const a=vu();let o=new Jt(((c,d)=>c-d)),l=pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let y=a.get(p)||br.empty();y=d.applyToLocalView(g,y),a.set(p,y);const w=(o.get(d.batchId)||pt()).add(p);o=o.insert(d.batchId,w)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,y=p.value,w=ZA();y.forEach((R=>{if(!l.has(R)){const z=sR(n.get(R),a.get(R));z!==null&&w.set(R,z),l=l.add(R)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return Me.waitFor(c)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(c){return Qe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):QA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-l.size):Me.resolve(Ds());let d=-1,p=l;return c.next((g=>Me.forEach(g,((y,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(y)?Me.resolve():this.remoteDocumentCache.getEntry(e,y).next((R=>{p=p.insert(y,R)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,pt()))).next((y=>({batchId:d,changes:JA(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Qe(n)).next((a=>{let o=du();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const l=n.collectionGroup;let c=du();return this.indexManager.getCollectionParents(e,l).next((d=>Me.forEach(d,(p=>{const g=(function(w,R){return new zu(R,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((y=>{y.forEach(((w,R)=>{c=c.insert(w,R)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,l,o)))).next((c=>{l.forEach(((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,zn.newInvalidDocument(y)))}));let d=du();return c.forEach(((p,g)=>{const y=l.get(p);y!==void 0&&Eu(y.mutation,g,br.empty(),Tn.now()),Rh(n,g)&&(d=d.insert(p,g))})),d}))}}class TP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Me.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:fi(o.createTime)}})(n)),Me.resolve()}getNamedQuery(e,n){return Me.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(o){return{name:o.name,query:yP(o.bundledQuery),readTime:fi(o.readTime)}})(n)),Me.resolve()}}class SP{constructor(){this.overlays=new Jt(Qe.comparator),this.Ir=new Map}getOverlay(e,n){return Me.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ds();return Me.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&a.set(o,l)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,l)=>{this.ht(e,n,l)})),Me.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Ir.get(a);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(a)),Me.resolve()}getOverlaysForCollection(e,n,a){const o=Ds(),l=n.length+1,c=new Qe(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>a&&o.set(p.getKey(),p)}return Me.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let l=new Jt(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let y=l.get(g.largestBatchId);y===null&&(y=Ds(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Ds(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=o)););return Me.resolve(d)}ht(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(a.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new YM(n,a));let l=this.Ir.get(n);l===void 0&&(l=pt(),this.Ir.set(n,l)),this.Ir.set(n,l.add(a.key))}}class AP{constructor(){this.sessionToken=Bn.EMPTY_BYTE_STRING}getSessionToken(e){return Me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Me.resolve()}}class Yy{constructor(){this.Tr=new Un(In.Er),this.dr=new Un(In.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const a=new In(e,n);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Vr(new In(e,n))}mr(e,n){e.forEach((a=>this.removeReference(a,n)))}gr(e){const n=new Qe(new Kt([])),a=new In(n,e),o=new In(n,e+1),l=[];return this.dr.forEachInRange([a,o],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Qe(new Kt([])),a=new In(n,e),o=new In(n,e+1);let l=pt();return this.dr.forEachInRange([a,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new In(e,0),a=this.Tr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class In{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Qe.comparator(e.key,n.key)||xt(e.wr,n.wr)}static Ar(e,n){return xt(e.wr,n.wr)||Qe.comparator(e.key,n.key)}}class RP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Un(In.Er)}checkEmpty(e){return Me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new KM(l,n,a,o);this.mutationQueue.push(c);for(const d of o)this.br=this.br.add(new In(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Me.resolve(c)}lookupMutationBatch(e,n){return Me.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.vr(a),l=o<0?0:o;return Me.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Me.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new In(n,0),o=new In(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([a,o],(c=>{const d=this.Dr(c.wr);l.push(d)})),Me.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Un(xt);return n.forEach((o=>{const l=new In(o,0),c=new In(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(d=>{a=a.add(d.wr)}))})),Me.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let l=a;Qe.isDocumentKey(l)||(l=l.child(""));const c=new In(new Qe(l),0);let d=new Un(xt);return this.br.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.wr)),!0)}),c),Me.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((a=>{const o=this.Dr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Bt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return Me.forEach(n.mutations,(o=>{const l=new In(o.key,n.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=a}))}On(e){}containsKey(e,n){const a=new In(n,0),o=this.br.firstAfterOrEqual(a);return Me.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Me.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class CP{constructor(e){this.Mr=e,this.docs=(function(){return new Jt(Qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),l=o?o.size:0,c=this.Mr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return Me.resolve(a?a.document.mutableCopy():zn.newInvalidDocument(n))}getEntries(e,n){let a=Xi();return n.forEach((o=>{const l=this.docs.get(o);a=a.insert(o,l?l.document.mutableCopy():zn.newInvalidDocument(o))})),Me.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let l=Xi();const c=n.path,d=new Qe(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||fM(cM(y),a)<=0||(o.has(y.key)||Rh(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return Me.resolve(l)}getAllFromCollectionGroup(e,n,a,o){Je()}Or(e,n){return Me.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new IP(this)}getSize(e){return Me.resolve(this.size)}}class IP extends EP{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(a)})),Me.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class xP{constructor(e){this.persistence=e,this.Nr=new il((n=>Vy(n)),jy),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Yy,this.targetCount=0,this.kr=Wo.Bn()}forEachTarget(e,n){return this.Nr.forEach(((a,o)=>n(o))),Me.resolve()}getLastRemoteSnapshotVersion(e){return Me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Me.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.Lr&&(this.Lr=n),Me.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Wo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Me.resolve()}updateTargetData(e,n){return this.Kn(n),Me.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Me.resolve()}removeTargets(e,n,a){let o=0;const l=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=n&&a.get(d.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Me.waitFor(l).next((()=>o))}getTargetCount(e){return Me.resolve(this.targetCount)}getTargetData(e,n){const a=this.Nr.get(n)||null;return Me.resolve(a)}addMatchingKeys(e,n,a){return this.Br.Rr(n,a),Me.resolve()}removeMatchingKeys(e,n,a){this.Br.mr(n,a);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),Me.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Me.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Br.yr(n);return Me.resolve(a)}containsKey(e,n){return Me.resolve(this.Br.containsKey(n))}}class OP{constructor(e,n){this.qr={},this.overlays={},this.Qr=new ky(0),this.Kr=!1,this.Kr=!0,this.$r=new AP,this.referenceDelegate=e(this),this.Ur=new xP(this),this.indexManager=new _P,this.remoteDocumentCache=(function(o){return new CP(o)})((a=>this.referenceDelegate.Wr(a))),this.serializer=new gP(n),this.Gr=new TP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.qr[e.toKey()];return a||(a=new RP(n,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,a){He("MemoryPersistence","Starting transaction:",e);const o=new DP(this.Qr.next());return this.referenceDelegate.zr(),a(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,n){return Me.or(Object.values(this.qr).map((a=>()=>a.containsKey(e,n))))}}class DP extends dM{constructor(e){super(),this.currentSequenceNumber=e}}class Qy{constructor(e){this.persistence=e,this.Jr=new Yy,this.Yr=null}static Zr(e){return new Qy(e)}get Xr(){if(this.Yr)return this.Yr;throw Je()}addReference(e,n,a){return this.Jr.addReference(a,n),this.Xr.delete(a.toString()),Me.resolve()}removeReference(e,n,a){return this.Jr.removeReference(a,n),this.Xr.add(a.toString()),Me.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Me.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((o=>this.Xr.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>a.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Me.forEach(this.Xr,(a=>{const o=Qe.fromPath(a);return this.ei(e,o).next((l=>{l||n.removeEntry(o,nt.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((a=>{a?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return Me.or([()=>Me.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Wy{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.$i=a,this.Ui=o}static Wi(e,n){let a=pt(),o=pt();for(const l of n.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Wy(e,n.fromCache,a,o)}}class NP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class MP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return px()?8:pM(Yn())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,a,o){const l={result:null};return this.Yi(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,n,o,a).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new NP;return this.Xi(e,n,c).next((d=>{if(l.result=d,this.zi)return this.es(e,n,c,d.size)}))})).next((()=>l.result))}es(e,n,a,o){return a.documentReadCount<this.ji?(lu()<=gt.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",Po(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Me.resolve()):(lu()<=gt.DEBUG&&He("QueryEngine","Query:",Po(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.Hi*o?(lu()<=gt.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",Po(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ci(n))):Me.resolve())}Yi(e,n){if(Xw(n))return Me.resolve(null);let a=ci(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=ty(n,null,"F"),a=ci(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((l=>{const c=pt(...l);return this.Ji.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.ts(n,d);return this.ns(n,g,c,p.readTime)?this.Yi(e,ty(n,null,"F")):this.rs(e,g,n,p)}))))})))))}Zi(e,n,a,o){return Xw(n)||o.isEqual(nt.min())?Me.resolve(null):this.Ji.getDocuments(e,a).next((l=>{const c=this.ts(n,l);return this.ns(n,c,a,o)?Me.resolve(null):(lu()<=gt.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Po(n)),this.rs(e,c,n,uM(o,-1)).next((d=>d)))}))}ts(e,n){let a=new Un($A(e));return n.forEach(((o,l)=>{Rh(e,l)&&(a=a.add(l))})),a}ns(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,n,a){return lu()<=gt.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",Po(n)),this.Ji.getDocumentsMatchingQuery(e,n,Xa.min(),a)}rs(e,n,a,o){return this.Ji.getDocumentsMatchingQuery(e,a,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}class PP{constructor(e,n,a,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new Jt(xt),this._s=new il((l=>Vy(l)),jy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function kP(r,e,n,a){return new PP(r,e,n,a)}async function _R(r,e){const n=rt(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((l=>(o=l,n.ls(e),n.mutationQueue.getAllMutationBatches(a)))).next((l=>{const c=[],d=[];let p=pt();for(const g of o){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(a,p).next((g=>({hs:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function UP(r,e){const n=rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,y){const w=g.batch,R=w.keys();let z=Me.resolve();return R.forEach((I=>{z=z.next((()=>y.getEntry(p,I))).next((V=>{const U=g.docVersions.get(I);Bt(U!==null),V.version.compareTo(U)<0&&(w.applyToRemoteDocument(V,g),V.isValidDocument()&&(V.setReadTime(g.commitVersion),y.addEntry(V)))}))})),z.next((()=>d.mutationQueue.removeMutationBatch(p,w)))})(n,a,e,l).next((()=>l.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(d){let p=pt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function vR(r){const e=rt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function BP(r,e){const n=rt(r),a=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const d=[];e.targetChanges.forEach(((y,w)=>{const R=o.get(w);if(!R)return;d.push(n.Ur.removeMatchingKeys(l,y.removedDocuments,w).next((()=>n.Ur.addMatchingKeys(l,y.addedDocuments,w))));let z=R.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?z=z.withResumeToken(Bn.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):y.resumeToken.approximateByteSize()>0&&(z=z.withResumeToken(y.resumeToken,a)),o=o.insert(w,z),(function(V,U,D){return V.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8?!0:D.addedDocuments.size+D.modifiedDocuments.size+D.removedDocuments.size>0})(R,z,y)&&d.push(n.Ur.updateTargetData(l,z))}));let p=Xi(),g=pt();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(LP(l,c,e.documentUpdates).next((y=>{p=y.Ps,g=y.Is}))),!a.isEqual(nt.min())){const y=n.Ur.getLastRemoteSnapshotVersion(l).next((w=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,a)));d.push(y)}return Me.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.os=o,l)))}function LP(r,e,n){let a=pt(),o=pt();return n.forEach((l=>a=a.add(l))),e.getEntries(r,a).next((l=>{let c=Xi();return n.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(nt.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):He("LocalStore","Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Ps:c,Is:o}}))}function VP(r,e){const n=rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function jP(r,e){const n=rt(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Ur.getTargetData(a,e).next((l=>l?(o=l,Me.resolve(o)):n.Ur.allocateTargetId(a).next((c=>(o=new za(e,c,"TargetPurposeListen",a.currentSequenceNumber),n.Ur.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.os.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(a.targetId,a),n._s.set(e,a.targetId)),a}))}async function sy(r,e,n){const a=rt(r),o=a.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",l,(c=>a.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!qu(c))throw c;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}a.os=a.os.remove(e),a._s.delete(o.target)}function lb(r,e,n){const a=rt(r);let o=nt.min(),l=pt();return a.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,y){const w=rt(p),R=w._s.get(y);return R!==void 0?Me.resolve(w.os.get(R)):w.Ur.getTargetData(g,y)})(a,c,ci(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>a.ss.getDocumentsMatchingQuery(c,e,n?o:nt.min(),n?l:pt()))).next((d=>(FP(a,NM(e),d),{documents:d,Ts:l})))))}function FP(r,e,n){let a=r.us.get(e)||nt.min();n.forEach(((o,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)})),r.us.set(e,a)}class ub{constructor(){this.activeTargetIds=LM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qP{constructor(){this.so=new ub,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,a){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new ub,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zP{_o(e){}shutdown(){}}class cb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let If=null;function lm(){return If===null?If=(function(){return 268435456+Math.round(2147483648*Math.random())})():If++,"0x"+If.toString(16)}const HP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class GP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Fn="WebChannelConnection";class KP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+n.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(n,a,o,l,c){const d=lm(),p=this.xo(n,a.toUriEncodedString());He("RestConnection",`Sending RPC '${n}' ${d}:`,p,o);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,l,c),this.No(n,p,g,o).then((y=>(He("RestConnection",`Received RPC '${n}' ${d}: `,y),y)),(y=>{throw Ho("RestConnection",`RPC '${n}' ${d} failed with error: `,y,"url: ",p,"request:",o),y}))}Lo(n,a,o,l,c,d){return this.Mo(n,a,o,l,c)}Oo(n,a,o){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((l,c)=>n[c]=l)),o&&o.headers.forEach(((l,c)=>n[c]=l))}xo(n,a){const o=HP[n];return`${this.Do}/v1/${a}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,a,o){const l=lm();return new Promise(((c,d)=>{const p=new NA;p.setWithCredentials(!0),p.listenOnce(MA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Kf.NO_ERROR:const y=p.getResponseJson();He(Fn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Kf.TIMEOUT:He(Fn,`RPC '${e}' ${l} timed out`),d(new qe(De.DEADLINE_EXCEEDED,"Request time out"));break;case Kf.HTTP_ERROR:const w=p.getStatus();if(He(Fn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const z=R?.error;if(z&&z.status&&z.message){const I=(function(U){const D=U.toLowerCase().replace(/_/g,"-");return Object.values(De).indexOf(D)>=0?D:De.UNKNOWN})(z.status);d(new qe(I,z.message))}else d(new qe(De.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new qe(De.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{He(Fn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(o);He(Fn,`RPC '${e}' ${l} sending request:`,o),p.send(n,"POST",g,a,15)}))}Bo(e,n,a){const o=lm(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=UA(),d=kA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const y=l.join("");He(Fn,`Creating RPC '${e}' stream ${o}: ${y}`,p);const w=c.createWebChannel(y,p);let R=!1,z=!1;const I=new GP({Io:U=>{z?He(Fn,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(R||(He(Fn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),R=!0),He(Fn,`RPC '${e}' stream ${o} sending:`,U),w.send(U))},To:()=>w.close()}),V=(U,D,L)=>{U.listen(D,(j=>{try{L(j)}catch(G){setTimeout((()=>{throw G}),0)}}))};return V(w,hu.EventType.OPEN,(()=>{z||(He(Fn,`RPC '${e}' stream ${o} transport opened.`),I.yo())})),V(w,hu.EventType.CLOSE,(()=>{z||(z=!0,He(Fn,`RPC '${e}' stream ${o} transport closed`),I.So())})),V(w,hu.EventType.ERROR,(U=>{z||(z=!0,Ho(Fn,`RPC '${e}' stream ${o} transport errored:`,U),I.So(new qe(De.UNAVAILABLE,"The operation could not be completed")))})),V(w,hu.EventType.MESSAGE,(U=>{var D;if(!z){const L=U.data[0];Bt(!!L);const j=L,G=j.error||((D=j[0])===null||D===void 0?void 0:D.error);if(G){He(Fn,`RPC '${e}' stream ${o} received error:`,G);const X=G.status;let J=(function(O){const H=vn[O];if(H!==void 0)return lR(H)})(X),x=G.message;J===void 0&&(J=De.INTERNAL,x="Unknown error status: "+X+" with message "+G.message),z=!0,I.So(new qe(J,x)),w.close()}else He(Fn,`RPC '${e}' stream ${o} received:`,L),I.bo(L)}})),V(d,PA.STAT_EVENT,(U=>{U.stat===Wg.PROXY?He(Fn,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===Wg.NOPROXY&&He(Fn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{I.wo()}),0),I}}function um(){return typeof document<"u"?document:null}function Oh(r){return new nP(r,!0)}class ER{constructor(e,n,a=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=a,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-a);o>0&&He("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class wR{constructor(e,n,a,o,l,c,d,p){this.ui=e,this.Ho=a,this.Jo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ER(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===De.RESOURCE_EXHAUSTED?($i(n.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===De.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.Yo===n&&this.P_(a,o)}),(a=>{e((()=>{const o=new qe(De.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(o)}))}))}P_(e,n){const a=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{a((()=>this.listener.Eo()))})),this.stream.Ro((()=>{a((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{a((()=>this.I_(o)))})),this.stream.onMessage((o=>{a((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class YP extends wR{constructor(e,n,a,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,c),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=aP(this.serializer,e),a=(function(l){if(!("targetChange"in l))return nt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?nt.min():c.readTime?fi(c.readTime):nt.min()})(e);return this.listener.d_(n,a)}A_(e){const n={};n.database=ay(this.serializer),n.addTarget=(function(l,c){let d;const p=c.target;if(d=Zg(p)?{documents:lP(l,p)}:{query:uP(l,p)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=fR(l,c.resumeToken);const g=ny(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(nt.min())>0){d.readTime=uh(l,c.snapshotVersion.toTimestamp());const g=ny(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const a=fP(this.serializer,e);a&&(n.labels=a),this.a_(n)}R_(e){const n={};n.database=ay(this.serializer),n.removeTarget=e,this.a_(n)}}class QP extends wR{constructor(e,n,a,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,Bt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=oP(e.writeResults,e.commitTime),a=fi(e.commitTime);return this.listener.g_(a,n)}p_(){const e={};e.database=ay(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>sP(this.serializer,a)))};this.a_(n)}}class WP extends class{}{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new qe(De.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,a,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,ry(n,a),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new qe(De.UNKNOWN,l.toString())}))}Lo(e,n,a,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(e,ry(n,a),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===De.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new qe(De.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class $P{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?($i(n),this.D_=!1):He("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class XP{constructor(e,n,a,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{a.enqueueAndForget((async()=>{Ks(this)&&(He("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const g=rt(p);g.L_.add(4),await Ku(g),g.q_.set("Unknown"),g.L_.delete(4),await Dh(g)})(this))}))})),this.q_=new $P(a,o)}}async function Dh(r){if(Ks(r))for(const e of r.B_)await e(!0)}async function Ku(r){for(const e of r.B_)await e(!1)}function bR(r,e){const n=rt(r);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Zy(n)?Jy(n):al(n).r_()&&Xy(n,e))}function $y(r,e){const n=rt(r),a=al(n);n.N_.delete(e),a.r_()&&TR(n,e),n.N_.size===0&&(a.r_()?a.o_():Ks(n)&&n.q_.set("Unknown"))}function Xy(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}al(r).A_(e)}function TR(r,e){r.Q_.xe(e),al(r).R_(e)}function Jy(r){r.Q_=new JM({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),al(r).start(),r.q_.v_()}function Zy(r){return Ks(r)&&!al(r).n_()&&r.N_.size>0}function Ks(r){return rt(r).L_.size===0}function SR(r){r.Q_=void 0}async function JP(r){r.q_.set("Online")}async function ZP(r){r.N_.forEach(((e,n)=>{Xy(r,e)}))}async function ek(r,e){SR(r),Zy(r)?(r.q_.M_(e),Jy(r)):r.q_.set("Unknown")}async function tk(r,e,n){if(r.q_.set("Online"),e instanceof cR&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.N_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.N_.delete(d),o.Q_.removeTarget(d))})(r,e)}catch(a){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ch(r,a)}else if(e instanceof Wf?r.Q_.Ke(e):e instanceof uR?r.Q_.He(e):r.Q_.We(e),!n.isEqual(nt.min()))try{const a=await vR(r.localStore);n.compareTo(a)>=0&&await(function(l,c){const d=l.Q_.rt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.N_.get(g);y&&l.N_.set(g,y.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const y=l.N_.get(p);if(!y)return;l.N_.set(p,y.withResumeToken(Bn.EMPTY_BYTE_STRING,y.snapshotVersion)),TR(l,p);const w=new za(y.target,p,g,y.sequenceNumber);Xy(l,w)})),l.remoteSyncer.applyRemoteEvent(d)})(r,n)}catch(a){He("RemoteStore","Failed to raise snapshot:",a),await ch(r,a)}}async function ch(r,e,n){if(!qu(e))throw e;r.L_.add(1),await Ku(r),r.q_.set("Offline"),n||(n=()=>vR(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{He("RemoteStore","Retrying IndexedDB access"),await n(),r.L_.delete(1),await Dh(r)}))}function AR(r,e){return e().catch((n=>ch(r,n,e)))}async function Nh(r){const e=rt(r),n=Za(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;nk(e);)try{const o=await VP(e.localStore,a);if(o===null){e.O_.length===0&&n.o_();break}a=o.batchId,rk(e,o)}catch(o){await ch(e,o)}RR(e)&&CR(e)}function nk(r){return Ks(r)&&r.O_.length<10}function rk(r,e){r.O_.push(e);const n=Za(r);n.r_()&&n.V_&&n.m_(e.mutations)}function RR(r){return Ks(r)&&!Za(r).n_()&&r.O_.length>0}function CR(r){Za(r).start()}async function ik(r){Za(r).p_()}async function ak(r){const e=Za(r);for(const n of r.O_)e.m_(n.mutations)}async function sk(r,e,n){const a=r.O_.shift(),o=Hy.from(a,e,n);await AR(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Nh(r)}async function ok(r,e){e&&Za(r).V_&&await(async function(a,o){if((function(c){return WM(c)&&c!==De.ABORTED})(o.code)){const l=a.O_.shift();Za(a).s_(),await AR(a,(()=>a.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Nh(a)}})(r,e),RR(r)&&CR(r)}async function fb(r,e){const n=rt(r);n.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const a=Ks(n);n.L_.add(3),await Ku(n),a&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Dh(n)}async function lk(r,e){const n=rt(r);e?(n.L_.delete(2),await Dh(n)):e||(n.L_.add(2),await Ku(n),n.q_.set("Unknown"))}function al(r){return r.K_||(r.K_=(function(n,a,o){const l=rt(n);return l.w_(),new YP(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Eo:JP.bind(null,r),Ro:ZP.bind(null,r),mo:ek.bind(null,r),d_:tk.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),Zy(r)?Jy(r):r.q_.set("Unknown")):(await r.K_.stop(),SR(r))}))),r.K_}function Za(r){return r.U_||(r.U_=(function(n,a,o){const l=rt(n);return l.w_(),new QP(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ik.bind(null,r),mo:ok.bind(null,r),f_:ak.bind(null,r),g_:sk.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await Nh(r)):(await r.U_.stop(),r.O_.length>0&&(He("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}class e_{constructor(e,n,a,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=l,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,l){const c=Date.now()+a,d=new e_(e,n,c,o,l);return d.start(a),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(De.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t_(r,e){if($i("AsyncQueue",`${e}: ${r}`),qu(r))return new qe(De.UNAVAILABLE,`${e}: ${r}`);throw r}class qo{constructor(e){this.comparator=e?(n,a)=>e(n,a)||Qe.comparator(n.key,a.key):(n,a)=>Qe.comparator(n.key,a.key),this.keyedMap=du(),this.sortedSet=new Jt(this.comparator)}static emptySet(e){return new qo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=a.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new qo;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class hb{constructor(){this.W_=new Jt(Qe.comparator)}track(e){const n=e.doc.key,a=this.W_.get(n);a?e.type!==0&&a.type===3?this.W_=this.W_.insert(n,e):e.type===3&&a.type!==1?this.W_=this.W_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.W_=this.W_.remove(n):e.type===1&&a.type===2?this.W_=this.W_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Je():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,a)=>{e.push(a)})),e}}class $o{constructor(e,n,a,o,l,c,d,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new $o(e,n,qo.emptySet(n),c,a,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ah(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class uk{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class ck{constructor(){this.queries=db(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,a){const o=rt(n),l=o.queries;o.queries=db(),l.forEach(((c,d)=>{for(const p of d.j_)p.onError(a)}))})(this,new qe(De.ABORTED,"Firestore shutting down"))}}function db(){return new il((r=>WA(r)),Ah)}async function n_(r,e){const n=rt(r);let a=3;const o=e.query;let l=n.queries.get(o);l?!l.H_()&&e.J_()&&(a=2):(l=new uk,a=e.J_()?0:1);try{switch(a){case 0:l.z_=await n.onListen(o,!0);break;case 1:l.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=t_(c,`Initialization of query '${Po(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&i_(n)}async function r_(r,e){const n=rt(r),a=e.query;let o=3;const l=n.queries.get(a);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function fk(r,e){const n=rt(r);let a=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const d of c.j_)d.X_(o)&&(a=!0);c.z_=o}}a&&i_(n)}function hk(r,e,n){const a=rt(r),o=a.queries.get(e);if(o)for(const l of o.j_)l.onError(n);a.queries.delete(e)}function i_(r){r.Y_.forEach((e=>{e.next()}))}var oy,pb;(pb=oy||(oy={})).ea="default",pb.Cache="cache";class a_{constructor(e,n,a){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new $o(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const a=n!=="Offline";return(!this.options._a||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==oy.Cache}}class IR{constructor(e){this.key=e}}class xR{constructor(e){this.key=e}}class dk{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pt(),this.mutatedKeys=pt(),this.Aa=$A(e),this.Ra=new qo(this.Aa)}get Va(){return this.Ta}ma(e,n){const a=n?n.fa:new hb,o=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,w)=>{const R=o.get(y),z=Rh(this.query,w)?w:null,I=!!R&&this.mutatedKeys.has(R.key),V=!!z&&(z.hasLocalMutations||this.mutatedKeys.has(z.key)&&z.hasCommittedMutations);let U=!1;R&&z?R.data.isEqual(z.data)?I!==V&&(a.track({type:3,doc:z}),U=!0):this.ga(R,z)||(a.track({type:2,doc:z}),U=!0,(p&&this.Aa(z,p)>0||g&&this.Aa(z,g)<0)&&(d=!0)):!R&&z?(a.track({type:0,doc:z}),U=!0):R&&!z&&(a.track({type:1,doc:R}),U=!0,(p||g)&&(d=!0)),U&&(z?(c=c.add(z),l=V?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),a.track({type:1,doc:y})}return{Ra:c,fa:a,ns:d,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((y,w)=>(function(z,I){const V=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return V(z)-V(I)})(y.type,w.type)||this.Aa(y.doc,w.doc))),this.pa(a),o=o!=null&&o;const d=n&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,g=p!==this.Ea;return this.Ea=p,c.length!==0||g?{snapshot:new $o(this.query,e.Ra,l,c,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new hb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pt(),this.Ra.forEach((a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))}));const n=[];return e.forEach((a=>{this.da.has(a)||n.push(new xR(a))})),this.da.forEach((a=>{e.has(a)||n.push(new IR(a))})),n}ba(e){this.Ta=e.Ts,this.da=pt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return $o.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class pk{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class mk{constructor(e){this.key=e,this.va=!1}}class gk{constructor(e,n,a,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new il((d=>WA(d)),Ah),this.Ma=new Map,this.xa=new Set,this.Oa=new Jt(Qe.comparator),this.Na=new Map,this.La=new Yy,this.Ba={},this.ka=new Map,this.qa=Wo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function yk(r,e,n=!0){const a=kR(r);let o;const l=a.Fa.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await OR(a,e,n,!0),o}async function _k(r,e){const n=kR(r);await OR(n,e,!0,!1)}async function OR(r,e,n,a){const o=await jP(r.localStore,ci(e)),l=o.targetId,c=r.sharedClientState.addLocalQueryTarget(l,n);let d;return a&&(d=await vk(r,e,l,c==="current",o.resumeToken)),r.isPrimaryClient&&n&&bR(r.remoteStore,o),d}async function vk(r,e,n,a,o){r.Ka=(w,R,z)=>(async function(V,U,D,L){let j=U.view.ma(D);j.ns&&(j=await lb(V.localStore,U.query,!1).then((({documents:x})=>U.view.ma(x,j))));const G=L&&L.targetChanges.get(U.targetId),X=L&&L.targetMismatches.get(U.targetId)!=null,J=U.view.applyChanges(j,V.isPrimaryClient,G,X);return gb(V,U.targetId,J.wa),J.snapshot})(r,w,R,z);const l=await lb(r.localStore,e,!0),c=new dk(e,l.Ts),d=c.ma(l.documents),p=Gu.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=c.applyChanges(d,r.isPrimaryClient,p);gb(r,n,g.wa);const y=new pk(e,n,c);return r.Fa.set(e,y),r.Ma.has(n)?r.Ma.get(n).push(e):r.Ma.set(n,[e]),g.snapshot}async function Ek(r,e,n){const a=rt(r),o=a.Fa.get(e),l=a.Ma.get(o.targetId);if(l.length>1)return a.Ma.set(o.targetId,l.filter((c=>!Ah(c,e)))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await sy(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&$y(a.remoteStore,o.targetId),ly(a,o.targetId)})).catch(Fu)):(ly(a,o.targetId),await sy(a.localStore,o.targetId,!0))}async function wk(r,e){const n=rt(r),a=n.Fa.get(e),o=n.Ma.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),$y(n.remoteStore,a.targetId))}async function bk(r,e,n){const a=xk(r);try{const o=await(function(c,d){const p=rt(c),g=Tn.now(),y=d.reduce(((z,I)=>z.add(I.key)),pt());let w,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(z=>{let I=Xi(),V=pt();return p.cs.getEntries(z,y).next((U=>{I=U,I.forEach(((D,L)=>{L.isValidDocument()||(V=V.add(D))}))})).next((()=>p.localDocuments.getOverlayedDocuments(z,I))).next((U=>{w=U;const D=[];for(const L of d){const j=HM(L,w.get(L.key).overlayedDocument);j!=null&&D.push(new ns(L.key,j,FA(j.value.mapValue),Br.exists(!0)))}return p.mutationQueue.addMutationBatch(z,g,D,d)})).next((U=>{R=U;const D=U.applyToLocalDocumentSet(w,V);return p.documentOverlayCache.saveOverlays(z,U.batchId,D)}))})).then((()=>({batchId:R.batchId,changes:JA(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Ba[c.currentUser.toKey()];g||(g=new Jt(xt)),g=g.insert(d,p),c.Ba[c.currentUser.toKey()]=g})(a,o.batchId,n),await Yu(a,o.changes),await Nh(a.remoteStore)}catch(o){const l=t_(o,"Failed to persist write");n.reject(l)}}async function DR(r,e){const n=rt(r);try{const a=await BP(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=n.Na.get(l);c&&(Bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?Bt(c.va):o.removedDocuments.size>0&&(Bt(c.va),c.va=!1))})),await Yu(n,a,e)}catch(a){await Fu(a)}}function mb(r,e,n){const a=rt(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Fa.forEach(((l,c)=>{const d=c.view.Z_(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=rt(c);p.onlineState=d;let g=!1;p.queries.forEach(((y,w)=>{for(const R of w.j_)R.Z_(d)&&(g=!0)})),g&&i_(p)})(a.eventManager,e),o.length&&a.Ca.d_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function Tk(r,e,n){const a=rt(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Na.get(e),l=o&&o.key;if(l){let c=new Jt(Qe.comparator);c=c.insert(l,zn.newNoDocument(l,nt.min()));const d=pt().add(l),p=new xh(nt.min(),new Map,new Jt(xt),c,d);await DR(a,p),a.Oa=a.Oa.remove(l),a.Na.delete(e),s_(a)}else await sy(a.localStore,e,!1).then((()=>ly(a,e,n))).catch(Fu)}async function Sk(r,e){const n=rt(r),a=e.batch.batchId;try{const o=await UP(n.localStore,e);MR(n,a,null),NR(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Yu(n,o)}catch(o){await Fu(o)}}async function Ak(r,e,n){const a=rt(r);try{const o=await(function(c,d){const p=rt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return p.mutationQueue.lookupMutationBatch(g,d).next((w=>(Bt(w!==null),y=w.keys(),p.mutationQueue.removeMutationBatch(g,w)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>p.localDocuments.getDocuments(g,y)))}))})(a.localStore,e);MR(a,e,n),NR(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Yu(a,o)}catch(o){await Fu(o)}}function NR(r,e){(r.ka.get(e)||[]).forEach((n=>{n.resolve()})),r.ka.delete(e)}function MR(r,e,n){const a=rt(r);let o=a.Ba[a.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),a.Ba[a.currentUser.toKey()]=o}}function ly(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Ma.get(e))r.Fa.delete(a),n&&r.Ca.$a(a,n);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((a=>{r.La.containsKey(a)||PR(r,a)}))}function PR(r,e){r.xa.delete(e.path.canonicalString());const n=r.Oa.get(e);n!==null&&($y(r.remoteStore,n),r.Oa=r.Oa.remove(e),r.Na.delete(n),s_(r))}function gb(r,e,n){for(const a of n)a instanceof IR?(r.La.addReference(a.key,e),Rk(r,a)):a instanceof xR?(He("SyncEngine","Document no longer in limbo: "+a.key),r.La.removeReference(a.key,e),r.La.containsKey(a.key)||PR(r,a.key)):Je()}function Rk(r,e){const n=e.key,a=n.path.canonicalString();r.Oa.get(n)||r.xa.has(a)||(He("SyncEngine","New document in limbo: "+n),r.xa.add(a),s_(r))}function s_(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const n=new Qe(Kt.fromString(e)),a=r.qa.next();r.Na.set(a,new mk(n)),r.Oa=r.Oa.insert(n,a),bR(r.remoteStore,new za(ci(Sh(n.path)),a,"TargetPurposeLimboResolution",ky.oe))}}async function Yu(r,e,n){const a=rt(r),o=[],l=[],c=[];a.Fa.isEmpty()||(a.Fa.forEach(((d,p)=>{c.push(a.Ka(p,e,n).then((g=>{var y;if((g||n)&&a.isPrimaryClient){const w=g?!g.fromCache:(y=n?.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;a.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=Wy.Wi(p.targetId,g);l.push(w)}})))})),await Promise.all(c),a.Ca.d_(o),await(async function(p,g){const y=rt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Me.forEach(g,(R=>Me.forEach(R.$i,(z=>y.persistence.referenceDelegate.addReference(w,R.targetId,z))).next((()=>Me.forEach(R.Ui,(z=>y.persistence.referenceDelegate.removeReference(w,R.targetId,z)))))))))}catch(w){if(!qu(w))throw w;He("LocalStore","Failed to update sequence numbers: "+w)}for(const w of g){const R=w.targetId;if(!w.fromCache){const z=y.os.get(R),I=z.snapshotVersion,V=z.withLastLimboFreeSnapshotVersion(I);y.os=y.os.insert(R,V)}}})(a.localStore,l))}async function Ck(r,e){const n=rt(r);if(!n.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const a=await _R(n.localStore,e);n.currentUser=e,(function(l,c){l.ka.forEach((d=>{d.forEach((p=>{p.reject(new qe(De.CANCELLED,c))}))})),l.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Yu(n,a.hs)}}function Ik(r,e){const n=rt(r),a=n.Na.get(e);if(a&&a.va)return pt().add(a.key);{let o=pt();const l=n.Ma.get(e);if(!l)return o;for(const c of l){const d=n.Fa.get(c);o=o.unionWith(d.view.Va)}return o}}function kR(r){const e=rt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=DR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ik.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tk.bind(null,e),e.Ca.d_=fk.bind(null,e.eventManager),e.Ca.$a=hk.bind(null,e.eventManager),e}function xk(r){const e=rt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ak.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return kP(this.persistence,new MP,e.initialUser,this.serializer)}Ga(e){return new OP(Qy.Zr,this.serializer)}Wa(e){return new qP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class uy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>mb(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ck.bind(null,this.syncEngine),await lk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ck})()}createDatastore(e){const n=Oh(e.databaseInfo.databaseId),a=(function(l){return new KP(l)})(e.databaseInfo);return(function(l,c,d,p){return new WP(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,l,c,d){return new XP(a,o,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>mb(this.syncEngine,n,0)),(function(){return cb.D()?new cb:new zP})())}createSyncEngine(e,n){return(function(o,l,c,d,p,g,y){const w=new gk(o,l,c,d,p,g);return y&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const l=rt(o);He("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await Ku(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}uy.provider={build:()=>new uy};class o_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class Ok{constructor(e,n,a,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=qn.UNAUTHENTICATED,this.clientId=LA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,(async c=>{He("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(a,(c=>(He("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=t_(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function cm(r,e){r.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await _R(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function yb(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Dk(r);He("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>fb(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>fb(e.remoteStore,o))),r._onlineComponents=e}async function Dk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){He("FirestoreClient","Using user provided OfflineComponentProvider");try{await cm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===De.FAILED_PRECONDITION||o.code===De.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Ho("Error using user provided cache. Falling back to memory cache: "+n),await cm(r,new fh)}}else He("FirestoreClient","Using default OfflineComponentProvider"),await cm(r,new fh);return r._offlineComponents}async function UR(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(He("FirestoreClient","Using user provided OnlineComponentProvider"),await yb(r,r._uninitializedComponentsProvider._online)):(He("FirestoreClient","Using default OnlineComponentProvider"),await yb(r,new uy))),r._onlineComponents}function Nk(r){return UR(r).then((e=>e.syncEngine))}async function hh(r){const e=await UR(r),n=e.eventManager;return n.onListen=yk.bind(null,e.syncEngine),n.onUnlisten=Ek.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_k.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=wk.bind(null,e.syncEngine),n}function Mk(r,e,n={}){const a=new Gi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const y=new o_({next:R=>{y.Za(),c.enqueueAndForget((()=>r_(l,w)));const z=R.docs.has(d);!z&&R.fromCache?g.reject(new qe(De.UNAVAILABLE,"Failed to get document because the client is offline.")):z&&R.fromCache&&p&&p.source==="server"?g.reject(new qe(De.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),w=new a_(Sh(d.path),y,{includeMetadataChanges:!0,_a:!0});return n_(l,w)})(await hh(r),r.asyncQueue,e,n,a))),a.promise}function Pk(r,e,n={}){const a=new Gi;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const y=new o_({next:R=>{y.Za(),c.enqueueAndForget((()=>r_(l,w))),R.fromCache&&p.source==="server"?g.reject(new qe(De.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),w=new a_(d,y,{includeMetadataChanges:!0,_a:!0});return n_(l,w)})(await hh(r),r.asyncQueue,e,n,a))),a.promise}function BR(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const _b=new Map;function LR(r,e,n){if(!n)throw new qe(De.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function kk(r,e,n,a){if(e===!0&&a===!0)throw new qe(De.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function vb(r){if(!Qe.isDocumentKey(r))throw new qe(De.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Eb(r){if(Qe.isDocumentKey(r))throw new qe(De.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Mh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Je()}function ur(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new qe(De.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mh(r);throw new qe(De.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}class wb{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new qe(De.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new qe(De.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BR((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new qe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new qe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new qe(De.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ph{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new wb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(De.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(De.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new wb(e),e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new eM;switch(a.type){case"firstParty":return new iM(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new qe(De.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=_b.get(n);a&&(He("ComponentProvider","Removing Datastore"),_b.delete(n),a.terminate())})(this),Promise.resolve()}}function Uk(r,e,n,a={}){var o;const l=(r=ur(r,Ph))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Ho("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),a.mockUserToken){let d,p;if(typeof a.mockUserToken=="string")d=a.mockUserToken,p=qn.MOCK_USER;else{d=VS(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const g=a.mockUserToken.sub||a.mockUserToken.user_id;if(!g)throw new qe(De.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new qn(g)}r._authCredentials=new tM(new BA(d,p))}}class Ys{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ys(this.firestore,e,this._query)}}class Kn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Kn(this.firestore,e,this._key)}}class Wa extends Ys{constructor(e,n,a){super(e,n,Sh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new Qe(e))}withConverter(e){return new Wa(this.firestore,e,this._path)}}function oi(r,e,...n){if(r=Xt(r),LR("collection","path",e),r instanceof Ph){const a=Kt.fromString(e,...n);return Eb(a),new Wa(r,null,a)}{if(!(r instanceof Kn||r instanceof Wa))throw new qe(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Kt.fromString(e,...n));return Eb(a),new Wa(r.firestore,null,a)}}function Hn(r,e,...n){if(r=Xt(r),arguments.length===1&&(e=LA.newId()),LR("doc","path",e),r instanceof Ph){const a=Kt.fromString(e,...n);return vb(a),new Kn(r,null,new Qe(a))}{if(!(r instanceof Kn||r instanceof Wa))throw new qe(De.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Kt.fromString(e,...n));return vb(a),new Kn(r.firestore,r instanceof Wa?r.converter:null,new Qe(a))}}class bb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ER(this,"async_queue_retry"),this.Vu=()=>{const a=um();a&&He("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const n=um();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=um();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new Gi;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!qu(e))throw e;He("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((a=>{this.Eu=a,this.du=!1;const o=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(a);throw $i("INTERNAL UNHANDLED ERROR: ",o),a})).then((a=>(this.du=!1,a))))));return this.mu=n,n}enqueueAfterDelay(e,n,a){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=e_.createAndSchedule(this,e,n,a,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&Je()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Tb(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const l of a)if(l in o&&typeof o[l]=="function")return!0;return!1})(r,["next","error","complete"])}class Ji extends Ph{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new bb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bb(e),this._firestoreClient=void 0,await e}}}function Bk(r,e){const n=typeof r=="object"?r:by(),a=typeof r=="string"?r:"(default)",o=yh(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const l=US("firestore");l&&Uk(o,...l)}return o}function kh(r){if(r._terminated)throw new qe(De.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Lk(r),r._firestoreClient}function Lk(r){var e,n,a;const o=r._freezeSettings(),l=(function(d,p,g,y){return new yM(d,p,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,BR(y.experimentalLongPollingOptions),y.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Ok(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&(function(d){const p=d?._online.build();return{_offline:d?._offline.build(p),_online:p}})(r._componentsProvider))}class Xo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xo(Bn.fromBase64String(e))}catch(n){throw new qe(De.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xo(Bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Uh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new qe(De.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sl{constructor(e){this._methodName=e}}class l_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new qe(De.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new qe(De.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}}class u_{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==o[l])return!1;return!0})(this._values,e._values)}}const Vk=/^__.*__$/;class jk{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new ns(e,this.data,this.fieldMask,n,this.fieldTransforms):new Hu(e,this.data,n,this.fieldTransforms)}}class VR{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new ns(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jR(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class Bh{constructor(e,n,a,o,l,c){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Bh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:a,xu:!1});return o.Ou(e),o}Nu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:a,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return dh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(jR(this.Cu)&&Vk.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Fk{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Oh(e)}Qu(e,n,a,o=!1){return new Bh({Cu:e,methodName:n,qu:a,path:kn.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Lh(r){const e=r._freezeSettings(),n=Oh(r._databaseId);return new Fk(r._databaseId,!!e.ignoreUndefinedProperties,n)}function FR(r,e,n,a,o,l={}){const c=r.Qu(l.merge||l.mergeFields?2:0,e,n,o);d_("Data must be an object, but it was:",c,a);const d=qR(a,c);let p,g;if(l.merge)p=new br(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const w of l.mergeFields){const R=cy(e,w,n);if(!c.contains(R))throw new qe(De.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);HR(y,R)||y.push(R)}p=new br(y),g=c.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,g=c.fieldTransforms;return new jk(new lr(d),p,g)}class Vh extends sl{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function qk(r,e,n){return new Bh({Cu:3,qu:e.settings.qu,methodName:r._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class c_ extends sl{_toFieldTransform(e){return new qy(e.path,new Du)}isEqual(e){return e instanceof c_}}class f_ extends sl{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=qk(this,e,!0),a=this.Ku.map((l=>ol(l,n))),o=new Qo(a);return new qy(e.path,o)}isEqual(e){return e instanceof f_&&Su(this.Ku,e.Ku)}}class h_ extends sl{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Mu(e.serializer,tR(e.serializer,this.$u));return new qy(e.path,n)}isEqual(e){return e instanceof h_&&this.$u===e.$u}}function zk(r,e,n,a){const o=r.Qu(1,e,n);d_("Data must be an object, but it was:",o,a);const l=[],c=lr.empty();Gs(a,((p,g)=>{const y=p_(e,p,n);g=Xt(g);const w=o.Nu(y);if(g instanceof Vh)l.push(y);else{const R=ol(g,w);R!=null&&(l.push(y),c.set(y,R))}}));const d=new br(l);return new VR(c,d,o.fieldTransforms)}function Hk(r,e,n,a,o,l){const c=r.Qu(1,e,n),d=[cy(e,a,n)],p=[o];if(l.length%2!=0)throw new qe(De.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<l.length;R+=2)d.push(cy(e,l[R])),p.push(l[R+1]);const g=[],y=lr.empty();for(let R=d.length-1;R>=0;--R)if(!HR(g,d[R])){const z=d[R];let I=p[R];I=Xt(I);const V=c.Nu(z);if(I instanceof Vh)g.push(z);else{const U=ol(I,V);U!=null&&(g.push(z),y.set(z,U))}}const w=new br(g);return new VR(y,w,c.fieldTransforms)}function Gk(r,e,n,a=!1){return ol(n,r.Qu(a?4:3,e))}function ol(r,e){if(zR(r=Xt(r)))return d_("Unsupported field value:",e,r),qR(r,e);if(r instanceof sl)return(function(a,o){if(!jR(o.Cu))throw o.Bu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(a,o){const l=[];let c=0;for(const d of a){let p=ol(d,o.Lu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(r,e)}return(function(a,o){if((a=Xt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=Tn.fromDate(a);return{timestampValue:uh(o.serializer,l)}}if(a instanceof Tn){const l=new Tn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:uh(o.serializer,l)}}if(a instanceof l_)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Xo)return{bytesValue:fR(o.serializer,a._byteString)};if(a instanceof Kn){const l=o.databaseId,c=a.firestore._databaseId;if(!c.isEqual(l))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ky(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof u_)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Bu("VectorValues must only contain numeric values.");return Fy(d.serializer,p)}))}}}}}})(a,o);throw o.Bu(`Unsupported field value: ${Mh(a)}`)})(r,e)}function qR(r,e){const n={};return VA(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(r,((a,o)=>{const l=ol(o,e.Mu(a));l!=null&&(n[a]=l)})),{mapValue:{fields:n}}}function zR(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Tn||r instanceof l_||r instanceof Xo||r instanceof Kn||r instanceof sl||r instanceof u_)}function d_(r,e,n){if(!zR(n)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(n)){const a=Mh(n);throw a==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+a)}}function cy(r,e,n){if((e=Xt(e))instanceof Uh)return e._internalPath;if(typeof e=="string")return p_(r,e);throw dh("Field path arguments must be of type string or ",r,!1,void 0,n)}const Kk=new RegExp("[~\\*/\\[\\]]");function p_(r,e,n){if(e.search(Kk)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Uh(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function dh(r,e,n,a,o){const l=a&&!a.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${a}`),c&&(p+=` in document ${o}`),p+=")"),new qe(De.INVALID_ARGUMENT,d+r+p)}function HR(r,e){return r.some((n=>n.isEqual(e)))}class GR{constructor(e,n,a,o,l){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Yk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(m_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Yk extends GR{data(){return super.data()}}function m_(r,e){return typeof e=="string"?p_(r,e):e instanceof Uh?e._internalPath:e._delegate._internalPath}function KR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new qe(De.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class g_{}class Qk extends g_{}function wu(r,e,...n){let a=[];e instanceof g_&&a.push(e),a=a.concat(n),(function(l){const c=l.filter((p=>p instanceof y_)).length,d=l.filter((p=>p instanceof jh)).length;if(c>1||c>0&&d>0)throw new qe(De.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class jh extends Qk{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new jh(e,n,a)}_apply(e){const n=this._parse(e);return YR(e._query,n),new Ys(e.firestore,e.converter,ey(e._query,n))}_parse(e){const n=Lh(e.firestore);return(function(l,c,d,p,g,y,w){let R;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new qe(De.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Ab(w,y);const z=[];for(const I of w)z.push(Sb(p,l,I));R={arrayValue:{values:z}}}else R=Sb(p,l,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Ab(w,y),R=Gk(d,c,w,y==="in"||y==="not-in");return wn.create(g,y,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ns(r,e,n){const a=e,o=m_("where",r);return jh._create(o,a,n)}class y_ extends g_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new y_(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:Gr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)YR(c,p),c=ey(c,p)})(e._query,n),new Ys(e.firestore,e.converter,ey(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Sb(r,e,n){if(typeof(n=Xt(n))=="string"){if(n==="")throw new qe(De.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!QA(e)&&n.indexOf("/")!==-1)throw new qe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(Kt.fromString(n));if(!Qe.isDocumentKey(a))throw new qe(De.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Gw(r,new Qe(a))}if(n instanceof Kn)return Gw(r,n._key);throw new qe(De.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Mh(n)}.`)}function Ab(r,e){if(!Array.isArray(r)||r.length===0)throw new qe(De.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YR(r,e){const n=(function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new qe(De.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qe(De.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Wk{convertValue(e,n="none"){switch(Fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(js(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Je()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Gs(e,((o,l)=>{a[o]=this.convertValue(l,n)})),a}convertVectorValue(e){var n,a,o;const l=(o=(a=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map((c=>fn(c.doubleValue)));return new u_(l)}convertGeoPoint(e){return new l_(fn(e.latitude),fn(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=By(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Iu(e));default:return null}}convertTimestamp(e){const n=Ja(e);return new Tn(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Kt.fromString(e);Bt(yR(a));const o=new xu(a.get(1),a.get(3)),l=new Qe(a.popFirst(5));return o.isEqual(n)||$i(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function QR(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}class mu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class WR extends GR{constructor(e,n,a,o,l,c){super(e,n,a,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new $f(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(m_("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class $f extends WR{data(e={}){return super.data(e)}}class $R{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new mu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new $f(this._firestore,this._userDataWriter,a.key,a,new mu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new qe(De.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new $f(o._firestore,o._userDataWriter,d.doc.key,d.doc,new mu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new $f(o._firestore,o._userDataWriter,d.doc.key,d.doc,new mu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:$k(d.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $k(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function Pu(r){r=ur(r,Kn);const e=ur(r.firestore,Ji);return Mk(kh(e),r._key).then((n=>JR(e,r,n)))}class __ extends Wk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Kn(this.firestore,null,n)}}function Rb(r){r=ur(r,Ys);const e=ur(r.firestore,Ji),n=kh(e),a=new __(e);return KR(r._query),Pk(n,r._query).then((o=>new $R(e,a,r,o)))}function v_(r,e,n){r=ur(r,Kn);const a=ur(r.firestore,Ji),o=QR(r.converter,e,n);return Fh(a,[FR(Lh(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Br.none())])}function wr(r,e,n,...a){r=ur(r,Kn);const o=ur(r.firestore,Ji),l=Lh(o);let c;return c=typeof(e=Xt(e))=="string"||e instanceof Uh?Hk(l,"updateDoc",r._key,e,n,a):zk(l,"updateDoc",r._key,e),Fh(o,[c.toMutation(r._key,Br.exists(!0))])}function Cb(r){return Fh(ur(r.firestore,Ji),[new zy(r._key,Br.none())])}function XR(r,e){const n=ur(r.firestore,Ji),a=Hn(r),o=QR(r.converter,e);return Fh(n,[FR(Lh(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Br.exists(!1))]).then((()=>a))}function Ha(r,...e){var n,a,o;r=Xt(r);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||Tb(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Tb(e[c])){const w=e[c];e[c]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[c+1]=(a=w.error)===null||a===void 0?void 0:a.bind(w),e[c+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,y;if(r instanceof Kn)g=ur(r.firestore,Ji),y=Sh(r._key.path),p={next:w=>{e[c]&&e[c](JR(g,r,w))},error:e[c+1],complete:e[c+2]};else{const w=ur(r,Ys);g=ur(w.firestore,Ji),y=w._query;const R=new __(g);p={next:z=>{e[c]&&e[c](new $R(g,R,w,z))},error:e[c+1],complete:e[c+2]},KR(r._query)}return(function(R,z,I,V){const U=new o_(V),D=new a_(z,U,I);return R.asyncQueue.enqueueAndForget((async()=>n_(await hh(R),D))),()=>{U.Za(),R.asyncQueue.enqueueAndForget((async()=>r_(await hh(R),D)))}})(kh(g),y,d,p)}function Fh(r,e){return(function(a,o){const l=new Gi;return a.asyncQueue.enqueueAndForget((async()=>bk(await Nk(a),o,l))),l.promise})(kh(r),e)}function JR(r,e,n){const a=n.docs.get(e._key),o=new __(r);return new WR(r,o,e._key,a,new mu(n.hasPendingWrites,n.fromCache),e.converter)}function uu(){return new c_("serverTimestamp")}function Xk(...r){return new f_("arrayUnion",r)}function Jk(r){return new h_("increment",r)}(function(e,n=!0){(function(o){rl=o})(zs),Bs(new $a("firestore",((a,{instanceIdentifier:o,options:l})=>{const c=a.getProvider("app").getImmediate(),d=new Ji(new nM(a.getProvider("auth-internal")),new sM(a.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new qe(De.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xu(g.options.projectId,y)})(c,o),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ui(jw,"4.7.3",e),ui(jw,"4.7.3","esm2017")})();var Zk="firebase",eU="10.14.1";ui(Zk,eU,"app");const ZR="firebasestorage.googleapis.com",e1="storageBucket",tU=120*1e3,nU=600*1e3;class sn extends di{constructor(e,n,a=0){super(fm(e),`Firebase Storage: ${n} (${fm(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,sn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var an;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(an||(an={}));function fm(r){return"storage/"+r}function E_(){const r="An unknown error occurred, please check the error payload for server response.";return new sn(an.UNKNOWN,r)}function rU(r){return new sn(an.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function iU(r){return new sn(an.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aU(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new sn(an.UNAUTHENTICATED,r)}function sU(){return new sn(an.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function oU(r){return new sn(an.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function lU(){return new sn(an.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function uU(){return new sn(an.CANCELED,"User canceled the upload/download.")}function cU(r){return new sn(an.INVALID_URL,"Invalid URL '"+r+"'.")}function fU(r){return new sn(an.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function hU(){return new sn(an.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+e1+"' property when initializing the app?")}function dU(){return new sn(an.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pU(){return new sn(an.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function mU(r){return new sn(an.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function fy(r){return new sn(an.INVALID_ARGUMENT,r)}function t1(){return new sn(an.APP_DELETED,"The Firebase app was deleted.")}function gU(r){return new sn(an.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bu(r,e){return new sn(an.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function cu(r){throw new sn(an.INTERNAL_ERROR,"Internal error: "+r)}class Tr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=Tr.makeFromUrl(e,n)}catch{return new Tr(e,"")}if(a.path==="")return a;throw fU(e)}static makeFromUrl(e,n){let a=null;const o="([A-Za-z0-9.\\-_]+)";function l(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(G){G.path_=decodeURIComponent(G.path)}const y="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",z=new RegExp(`^https?://${w}/${y}/b/${o}/o${R}`,"i"),I={bucket:1,path:3},V=n===ZR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,U="([^?#]*)",D=new RegExp(`^https?://${V}/${o}/${U}`,"i"),j=[{regex:d,indices:p,postModify:l},{regex:z,indices:I,postModify:g},{regex:D,indices:{bucket:1,path:2},postModify:g}];for(let G=0;G<j.length;G++){const X=j[G],J=X.regex.exec(e);if(J){const x=J[X.indices.bucket];let C=J[X.indices.path];C||(C=""),a=new Tr(x,C),X.postModify(a);break}}if(a==null)throw cU(e);return a}}class yU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function _U(r,e,n){let a=1,o=null,l=null,c=!1,d=0;function p(){return d===2}let g=!1;function y(...U){g||(g=!0,e.apply(null,U))}function w(U){o=setTimeout(()=>{o=null,r(z,p())},U)}function R(){l&&clearTimeout(l)}function z(U,...D){if(g){R();return}if(U){R(),y.call(null,U,...D);return}if(p()||c){R(),y.call(null,U,...D);return}a<64&&(a*=2);let j;d===1?(d=2,j=0):j=(a+Math.random())*1e3,w(j)}let I=!1;function V(U){I||(I=!0,R(),!g&&(o!==null?(U||(d=2),clearTimeout(o),w(0)):U||(d=1)))}return w(0),l=setTimeout(()=>{c=!0,V(!0)},n),V}function vU(r){r(!1)}function EU(r){return r!==void 0}function wU(r){return typeof r=="object"&&!Array.isArray(r)}function w_(r){return typeof r=="string"||r instanceof String}function Ib(r){return b_()&&r instanceof Blob}function b_(){return typeof Blob<"u"}function xb(r,e,n,a){if(a<e)throw fy(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>n)throw fy(`Invalid value for '${r}'. Expected ${n} or less.`)}function T_(r,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${r}`}function n1(r){const e=encodeURIComponent;let n="?";for(const a in r)if(r.hasOwnProperty(a)){const o=e(a)+"="+e(r[a]);n=n+o+"&"}return n=n.slice(0,-1),n}var ks;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(ks||(ks={}));function bU(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return n||o||l}class TU{constructor(e,n,a,o,l,c,d,p,g,y,w,R=!0){this.url_=e,this.method_=n,this.headers_=a,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=y,this.connectionFactory_=w,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((z,I)=>{this.resolve_=z,this.reject_=I,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new xf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===ks.NO_ERROR,p=l.getStatus();if(!d||bU(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===ks.ABORT;a(!1,new xf(!1,null,y));return}const g=this.successCodes_.indexOf(p)!==-1;a(!0,new xf(g,l))})},n=(a,o)=>{const l=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());EU(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=E_();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?t1():uU();c(p)}else{const p=lU();c(p)}};this.canceled_?n(!1,new xf(!1,null,!0)):this.backoffId_=_U(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&vU(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xf{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function SU(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function AU(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function RU(r,e){e&&(r["X-Firebase-GMPID"]=e)}function CU(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function IU(r,e,n,a,o,l,c=!0){const d=n1(r.urlParams),p=r.url+d,g=Object.assign({},r.headers);return RU(g,e),SU(g,n),AU(g,l),CU(g,a),new TU(p,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,c)}function xU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function OU(...r){const e=xU();if(e!==void 0){const n=new e;for(let a=0;a<r.length;a++)n.append(r[a]);return n.getBlob()}else{if(b_())return new Blob(r);throw new sn(an.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function DU(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}function NU(r){if(typeof atob>"u")throw mU("base-64");return atob(r)}const li={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class hm{constructor(e,n){this.data=e,this.contentType=n||null}}function MU(r,e){switch(r){case li.RAW:return new hm(r1(e));case li.BASE64:case li.BASE64URL:return new hm(i1(r,e));case li.DATA_URL:return new hm(kU(e),UU(e))}throw E_()}function r1(r){const e=[];for(let n=0;n<r.length;n++){let a=r.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=a,c=r.charCodeAt(++n);a=65536|(l&1023)<<10|c&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function PU(r){let e;try{e=decodeURIComponent(r)}catch{throw bu(li.DATA_URL,"Malformed data URL.")}return r1(e)}function i1(r,e){switch(r){case li.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw bu(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case li.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw bu(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=NU(e)}catch(o){throw o.message.includes("polyfill")?o:bu(r,"Invalid character found")}const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}class a1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw bu(li.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=BU(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function kU(r){const e=new a1(r);return e.base64?i1(li.BASE64,e.rest):PU(e.rest)}function UU(r){return new a1(r).contentType}function BU(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class qa{constructor(e,n){let a=0,o="";Ib(e)?(this.data_=e,a=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Ib(this.data_)){const a=this.data_,o=DU(a,e,n);return o===null?null:new qa(o)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new qa(a,!0)}}static getBlob(...e){if(b_()){const n=e.map(a=>a instanceof qa?a.data_:a);return new qa(OU.apply(null,n))}else{const n=e.map(c=>w_(c)?MU(li.RAW,c).data:c.data_);let a=0;n.forEach(c=>{a+=c.byteLength});const o=new Uint8Array(a);let l=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)o[l++]=c[d]}),new qa(o,!0)}}uploadData(){return this.data_}}function s1(r){let e;try{e=JSON.parse(r)}catch{return null}return wU(e)?e:null}function LU(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function VU(r,e){const n=e.split("/").filter(a=>a.length>0).join("/");return r.length===0?n:r+"/"+n}function o1(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function jU(r,e){return e}class er{constructor(e,n,a,o){this.server=e,this.local=n||e,this.writable=!!a,this.xform=o||jU}}let Of=null;function FU(r){return!w_(r)||r.length<2?r:o1(r)}function l1(){if(Of)return Of;const r=[];r.push(new er("bucket")),r.push(new er("generation")),r.push(new er("metageneration")),r.push(new er("name","fullPath",!0));function e(l,c){return FU(c)}const n=new er("name");n.xform=e,r.push(n);function a(l,c){return c!==void 0?Number(c):c}const o=new er("size");return o.xform=a,r.push(o),r.push(new er("timeCreated")),r.push(new er("updated")),r.push(new er("md5Hash",null,!0)),r.push(new er("cacheControl",null,!0)),r.push(new er("contentDisposition",null,!0)),r.push(new er("contentEncoding",null,!0)),r.push(new er("contentLanguage",null,!0)),r.push(new er("contentType",null,!0)),r.push(new er("metadata","customMetadata",!0)),Of=r,Of}function qU(r,e){function n(){const a=r.bucket,o=r.fullPath,l=new Tr(a,o);return e._makeStorageReference(l)}Object.defineProperty(r,"ref",{get:n})}function zU(r,e,n){const a={};a.type="file";const o=n.length;for(let l=0;l<o;l++){const c=n[l];a[c.local]=c.xform(a,e[c.server])}return qU(a,r),a}function u1(r,e,n){const a=s1(e);return a===null?null:zU(r,a,n)}function HU(r,e,n,a){const o=s1(e);if(o===null||!w_(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const y=r.bucket,w=r.fullPath,R="/b/"+c(y)+"/o/"+c(w),z=T_(R,n,a),I=n1({alt:"media",token:g});return z+I})[0]}function GU(r,e){const n={},a=e.length;for(let o=0;o<a;o++){const l=e[o];l.writable&&(n[l.server]=r[l.local])}return JSON.stringify(n)}class c1{constructor(e,n,a,o){this.url=e,this.method=n,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function f1(r){if(!r)throw E_()}function KU(r,e){function n(a,o){const l=u1(r,o,e);return f1(l!==null),l}return n}function YU(r,e){function n(a,o){const l=u1(r,o,e);return f1(l!==null),HU(l,o,r.host,r._protocol)}return n}function h1(r){function e(n,a){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=sU():o=aU():n.getStatus()===402?o=iU(r.bucket):n.getStatus()===403?o=oU(r.path):o=a,o.status=n.getStatus(),o.serverResponse=a.serverResponse,o}return e}function QU(r){const e=h1(r);function n(a,o){let l=e(a,o);return a.getStatus()===404&&(l=rU(r.path)),l.serverResponse=o.serverResponse,l}return n}function WU(r,e,n){const a=e.fullServerUrl(),o=T_(a,r.host,r._protocol),l="GET",c=r.maxOperationRetryTime,d=new c1(o,l,YU(r,n),c);return d.errorHandler=QU(e),d}function $U(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function XU(r,e,n){const a=Object.assign({},n);return a.fullPath=r.path,a.size=e.size(),a.contentType||(a.contentType=$U(null,e)),a}function JU(r,e,n,a,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let j="";for(let G=0;G<2;G++)j=j+Math.random().toString().slice(2);return j}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const g=XU(e,a,o),y=GU(g,n),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,R=`\r
--`+p+"--",z=qa.getBlob(w,a,R);if(z===null)throw dU();const I={name:g.fullPath},V=T_(l,r.host,r._protocol),U="POST",D=r.maxUploadRetryTime,L=new c1(V,U,KU(r,n),D);return L.urlParams=I,L.headers=c,L.body=z.uploadData(),L.errorHandler=h1(e),L}class ZU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ks.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ks.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ks.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,o){if(this.sent_)throw cu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw cu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw cu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw cu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw cu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class eB extends ZU{initXhr(){this.xhr_.responseType="text"}}function d1(){return new eB}class qs{constructor(e,n){this._service=e,n instanceof Tr?this._location=n:this._location=Tr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new qs(e,n)}get root(){const e=new Tr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return o1(this._location.path)}get storage(){return this._service}get parent(){const e=LU(this._location.path);if(e===null)return null;const n=new Tr(this._location.bucket,e);return new qs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw gU(e)}}function tB(r,e,n){r._throwIfRoot("uploadBytes");const a=JU(r.storage,r._location,l1(),new qa(e,!0),n);return r.storage.makeRequestWithTokens(a,d1).then(o=>({metadata:o,ref:r}))}function nB(r){r._throwIfRoot("getDownloadURL");const e=WU(r.storage,r._location,l1());return r.storage.makeRequestWithTokens(e,d1).then(n=>{if(n===null)throw pU();return n})}function rB(r,e){const n=VU(r._location.path,e),a=new Tr(r._location.bucket,n);return new qs(r.storage,a)}function iB(r){return/^[A-Za-z]+:\/\//.test(r)}function aB(r,e){return new qs(r,e)}function p1(r,e){if(r instanceof S_){const n=r;if(n._bucket==null)throw hU();const a=new qs(n,n._bucket);return e!=null?p1(a,e):a}else return e!==void 0?rB(r,e):r}function sB(r,e){if(e&&iB(e)){if(r instanceof S_)return aB(r,e);throw fy("To use ref(service, url), the first argument must be a Storage instance.")}else return p1(r,e)}function Ob(r,e){const n=e?.[e1];return n==null?null:Tr.makeFromBucketSpec(n,r)}function oB(r,e,n,a={}){r.host=`${e}:${n}`,r._protocol="http";const{mockUserToken:o}=a;o&&(r._overrideAuthToken=typeof o=="string"?o:VS(o,r.app.options.projectId))}class S_{constructor(e,n,a,o,l){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=ZR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=tU,this._maxUploadRetryTime=nU,this._requests=new Set,o!=null?this._bucket=Tr.makeFromBucketSpec(o,this._host):this._bucket=Ob(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Tr.makeFromBucketSpec(this._url,e):this._bucket=Ob(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new qs(this,e)}_makeRequest(e,n,a,o,l=!0){if(this._deleted)return new yU(t1());{const c=IU(e,this._appId,a,o,n,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,o).getPromise()}}const Db="@firebase/storage",Nb="0.13.2";const m1="storage";function lB(r,e,n){return r=Xt(r),tB(r,e,n)}function uB(r){return r=Xt(r),nB(r)}function cB(r,e){return r=Xt(r),sB(r,e)}function g1(r=by(),e){r=Xt(r);const a=yh(r,m1).getImmediate({identifier:e}),o=US("storage");return o&&fB(a,...o),a}function fB(r,e,n,a={}){oB(r,e,n,a)}function hB(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new S_(n,a,o,e,zs)}function dB(){Bs(new $a(m1,hB,"PUBLIC").setMultipleInstances(!0)),ui(Db,Nb,""),ui(Db,Nb,"esm2017")}dB();const pB={apiKey:"AIzaSyBqt53TJftgH6TTgxcMPMH1g3H6ZbEbsSM",authDomain:"swasthya-sakhi-2e7bd.firebaseapp.com",projectId:"swasthya-sakhi-2e7bd",storageBucket:"swasthya-sakhi-2e7bd.firebasestorage.app",messagingSenderId:"934869387204",appId:"1:934869387204:web:73e7c831d852dca3f34691"},A_=qS(pB),Gn=zN(A_),hn=Bk(A_);g1(A_);new Li;const mB=()=>ne.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",textAlign:"center"},children:[ne.jsx("div",{style:{fontSize:"6rem",marginBottom:"1rem"},children:""}),ne.jsx("h1",{style:{color:"#2E7D32",fontSize:"3.5rem",margin:"0.5rem 0"},children:"Swasthya Sakhi"}),ne.jsx("p",{style:{fontSize:"1.5rem",color:"#444",maxWidth:"600px",margin:"1rem 0 2rem"},children:"Affordable Healthcare for Everyone  Medicines, Consultations, Ambulance & More"}),ne.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",width:"100%",maxWidth:"400px"},children:[ne.jsx(Jf,{to:"/register",style:{textDecoration:"none"},children:ne.jsx("button",{style:{width:"100%",padding:"1.2rem",fontSize:"1.3rem",background:"#4CAF50",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:"Register Now"})}),ne.jsx(Jf,{to:"/login",style:{textDecoration:"none"},children:ne.jsx("button",{style:{width:"100%",padding:"1.2rem",fontSize:"1.3rem",background:"white",color:"#2E7D32",border:"2px solid #4CAF50",borderRadius:"12px",cursor:"pointer"},children:"Already Registered? Login"})})]})]}),gB=()=>{const[r,e]=ue.useState(""),[n,a]=ue.useState(""),[o,l]=ue.useState("phone"),[c,d]=ue.useState(null),[p,g]=ue.useState(!1),[y,w]=ue.useState(""),R=ue.useRef(null),z=ts();ue.useEffect(()=>()=>{window.recaptchaVerifier&&(window.recaptchaVerifier.clear(),window.recaptchaVerifier=null)},[]);const I=async()=>{if(r.length!==10){w("Enter 10-digit phone number");return}g(!0),w("");try{window.recaptchaVerifier||(window.recaptchaVerifier=new SA(Gn,R.current,{size:"invisible"}));const D=`+91${r}`,L=await AA(Gn,D,window.recaptchaVerifier);d(L),l("otp")}catch(D){w(D.message||"Failed to send OTP")}finally{g(!1)}},V=async()=>{if(n.length!==6){w("Enter 6-digit OTP");return}g(!0),w("");try{const D=Qa.credential(c.verificationId,n);await xy(Gn,D),z("/",{replace:!0})}catch(D){w(D.message||"Invalid OTP"),console.error("OTP verification error:",D)}finally{g(!1)}},U=async()=>{alert("Google Sign-In coming soon  currently using phone OTP")};return ne.jsxs("div",{style:{maxWidth:480,margin:"3rem auto",padding:"0 1rem"},children:[ne.jsx("div",{ref:R,style:{display:"none"}}),ne.jsxs("div",{style:{background:"white",padding:"2.5rem",borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,0.1)"},children:[ne.jsx("h1",{style:{color:"#2E7D32",textAlign:"center",marginBottom:"1.5rem"},children:"Login"}),y&&ne.jsx("div",{style:{color:"red",marginBottom:"1rem",textAlign:"center"},children:y}),o==="phone"?ne.jsxs(ne.Fragment,{children:[ne.jsx("input",{placeholder:"Phone (10 digits)",value:r,onChange:D=>e(D.target.value.replace(/\D/g,"")),maxLength:10,style:{width:"100%",padding:"12px",margin:"8px 0",borderRadius:8,border:"1px solid #ddd"}}),ne.jsx("button",{onClick:I,disabled:p,style:{width:"100%",padding:"14px",marginTop:"1rem",background:p?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:12},children:p?"Sending...":"Send OTP"}),ne.jsxs("button",{onClick:U,style:{width:"100%",padding:"14px",marginTop:"1.5rem",background:"#4285F4",color:"white",border:"none",borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[ne.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",style:{width:"20px"}}),"Continue with Google"]})]}):ne.jsxs(ne.Fragment,{children:[ne.jsxs("p",{children:["OTP sent to +91",r]}),ne.jsx("input",{value:n,onChange:D=>a(D.target.value.replace(/\D/g,"")),maxLength:6,placeholder:"Enter OTP",style:{width:"100%",padding:"14px",marginBottom:"1rem",textAlign:"center",borderRadius:8,border:"1px solid #ddd"}}),ne.jsx("button",{onClick:V,disabled:p,style:{width:"100%",padding:"14px",background:p?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:12},children:p?"Verifying...":"Verify & Login"}),ne.jsx("button",{onClick:()=>l("phone"),style:{width:"100%",marginTop:"1rem",background:"none",border:"none",color:"#2E7D32"},children:"Back"})]})]})]})},yB=()=>{const[r,e]=ue.useState({name:"",phone:"",email:"",password:"",confirmPassword:"",role:"customer",location:"",state:"",city:"",pincode:"",licenseNumber:""}),[n,a]=ue.useState("form"),[o,l]=ue.useState(""),[c,d]=ue.useState(null),[p,g]=ue.useState(!1),[y,w]=ue.useState(""),R=ue.useRef(null),z=ue.useRef(null),I=ts();ue.useEffect(()=>(z.current||(z.current=new SA(Gn,R.current,{size:"invisible"})),()=>{z.current&&(z.current.clear(),z.current=null)}),[]),ue.useEffect(()=>{r.role==="customer"&&!r.location&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(j=>{const{latitude:G,longitude:X}=j.coords;e(J=>({...J,location:`Lat: ${G.toFixed(4)}, Lng: ${X.toFixed(4)} (auto-detected)`}))},j=>{console.warn("Geolocation denied or unavailable:",j)})},[r.role]);const V=j=>{e({...r,[j.target.name]:j.target.value})},U=()=>r.name.trim()?r.phone.length!==10?"Enter valid 10-digit phone":r.email.includes("@")?r.password.length<6?"Password must be at least 6 characters":r.password!==r.confirmPassword?"Passwords do not match":r.role==="customer"&&!r.location.trim()?"Location is required for customers":r.role!=="customer"&&(!r.state.trim()||!r.city.trim()||!r.pincode.trim()||!r.licenseNumber.trim())?"All role-specific fields are required":null:"Valid email is required":"Name is required",D=async()=>{const j=U();if(j){w(j);return}g(!0),w("");try{const G=`+91${r.phone}`,X=await AA(Gn,G,z.current);d(X),a("otp")}catch(G){w(G.message||"Failed to send OTP. Try again."),console.error(G)}finally{g(!1)}},L=async()=>{if(o.length!==6){w("Please enter 6-digit OTP");return}g(!0),w("");try{const j=Qa.credential(c.verificationId,o),X=(await xy(Gn,j)).user;await v_(Hn(hn,"users",X.uid),{uid:X.uid,name:r.name.trim(),phoneNumber:X.phoneNumber,email:r.email.trim(),role:r.role,createdAt:new Date().toISOString(),...r.role==="customer"?{location:r.location.trim()}:{},...r.role!=="customer"?{state:r.state.trim(),city:r.city.trim(),pincode:r.pincode.trim(),licenseNumber:r.licenseNumber.trim(),verificationStatus:"pending"}:{}}),I(`/${r.role}-portal`,{replace:!0})}catch(j){w(j.message||"Registration failed"),console.error(j)}finally{g(!1)}};return ne.jsxs("div",{style:{maxWidth:500,margin:"2.5rem auto",padding:"0 1rem"},children:[ne.jsx("div",{ref:R,style:{position:"absolute",left:"-9999px",top:"-9999px"}}),ne.jsxs("div",{style:{background:"white",padding:"2rem 2.5rem",borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,0.12)"},children:[ne.jsx("h1",{style:{color:"#2E7D32",textAlign:"center",marginBottom:"1.8rem",fontSize:"2rem"},children:"Create Account"}),y&&ne.jsx("div",{style:{color:"#c62828",background:"#ffebee",padding:"0.9rem",borderRadius:8,marginBottom:"1.5rem",textAlign:"center"},children:y}),n==="form"?ne.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[ne.jsx("input",{name:"name",placeholder:"Full Name *",value:r.name,onChange:V,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),ne.jsx("input",{name:"phone",placeholder:"Phone (10 digits) *",value:r.phone,onChange:j=>e({...r,phone:j.target.value.replace(/\D/g,"")}),maxLength:10,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),ne.jsx("input",{name:"email",type:"email",placeholder:"Email *",value:r.email,onChange:V,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),ne.jsx("input",{name:"password",type:"password",placeholder:"Password (min 6 chars) *",value:r.password,onChange:V,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),ne.jsx("input",{name:"confirmPassword",type:"password",placeholder:"Confirm Password *",value:r.confirmPassword,onChange:V,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),ne.jsxs("select",{name:"role",value:r.role,onChange:V,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"},children:[ne.jsx("option",{value:"customer",children:"Customer"}),ne.jsx("option",{value:"doctor",children:"Doctor"}),ne.jsx("option",{value:"delivery",children:"Delivery Partner"}),ne.jsx("option",{value:"medical",children:"Medical Business"})]}),r.role==="customer"&&ne.jsxs("div",{children:[ne.jsx("input",{name:"location",placeholder:"Your Location / Area *",value:r.location,onChange:V,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),ne.jsx("small",{style:{color:"#666",display:"block",marginTop:"0.4rem"},children:"Allow browser location permission for auto-detection (optional)"})]}),r.role!=="customer"&&ne.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[ne.jsx("input",{name:"state",placeholder:"State *",value:r.state,onChange:V,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),ne.jsx("input",{name:"city",placeholder:"City *",value:r.city,onChange:V,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),ne.jsx("input",{name:"pincode",placeholder:"Pincode *",value:r.pincode,onChange:V,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),ne.jsx("input",{name:"licenseNumber",placeholder:r.role==="doctor"?"Medical License Number *":r.role==="delivery"?"Driving License Number *":"Trade License / GST Number *",value:r.licenseNumber,onChange:V,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}})]}),ne.jsx("button",{onClick:D,disabled:p,style:{marginTop:"1.5rem",padding:"14px",background:p?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:12,fontSize:"1.1rem",fontWeight:"bold",cursor:p?"not-allowed":"pointer"},children:p?"Sending OTP...":"Verify Phone & Register"})]}):ne.jsxs("div",{style:{textAlign:"center"},children:[ne.jsxs("p",{style:{marginBottom:"1.2rem",fontSize:"1.1rem"},children:["OTP sent to ",ne.jsxs("strong",{children:["+91 ",r.phone]})]}),ne.jsx("input",{value:o,onChange:j=>l(j.target.value.replace(/\D/g,"")),maxLength:6,placeholder:"Enter 6-digit OTP",style:{width:"100%",padding:"14px",fontSize:"1.3rem",textAlign:"center",marginBottom:"1.2rem",borderRadius:8,border:"1px solid #ddd"}}),ne.jsx("button",{onClick:L,disabled:p,style:{width:"100%",padding:"14px",background:p?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:12,fontSize:"1.1rem",fontWeight:"bold",cursor:p?"not-allowed":"pointer"},children:p?"Verifying...":"Complete Registration"}),ne.jsx("button",{onClick:()=>a("form"),style:{marginTop:"1rem",background:"none",border:"none",color:"#2E7D32",cursor:"pointer"},children:" Back to Form"})]})]})]})},_B=({cart:r,setCart:e})=>{const n=r.reduce((l,c)=>{const d=Number(c.price)||0,p=Number(c.quantity)||1;return l+d*p},0),a=l=>{e(r.filter(c=>c.id!==l))},o=()=>{alert(` Order Placed! Total Amount: ${n}`),e([])};return ne.jsxs("div",{style:{background:"#ecfdf5",padding:"20px",borderRadius:"12px",border:"2px solid #10b981"},children:[ne.jsx("h3",{style:{marginTop:0},children:" Your Cart"}),ne.jsx("div",{style:{marginBottom:"15px"},children:r.map(l=>ne.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:"1px solid #d1fae5"},children:[ne.jsxs("span",{children:[ne.jsx("b",{children:l.name})," x ",l.quantity]}),ne.jsxs("div",{children:[ne.jsxs("span",{style:{marginRight:"15px",fontWeight:"bold"},children:["",l.price*l.quantity]}),ne.jsx("button",{onClick:()=>a(l.id),style:{background:"none",border:"none",color:"#dc2626",cursor:"pointer",fontSize:"12px"},children:"Remove"})]})]},l.id))}),ne.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[ne.jsxs("span",{style:{fontSize:"18px",fontWeight:"bold"},children:["Total: ",n]}),ne.jsx("button",{onClick:o,style:{padding:"10px 20px",background:"#10b981",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer"},children:"Pay Now"})]})]})},vB=()=>{const[r,e]=ue.useState([]),[n,a]=ue.useState([]),[o,l]=ue.useState([]),[c,d]=ue.useState("All"),[p,g]=ue.useState([]),[y,w]=ue.useState(null),[R,z]=ue.useState(!0),[I,V]=ue.useState([]),U=ts(),D=["All",...new Set(r.map(M=>M.category||"General"))],L=c==="All"?r:r.filter(M=>(M.category||"General")===c),j=M=>{l(Ue=>Ue.find(le=>le.id===M.id)?Ue.map(le=>le.id===M.id?{...le,quantity:(le.quantity||1)+1}:le):[...Ue,{...M,quantity:1}])};ue.useEffect(()=>{const M=wu(oi(hn,"medicines"));return Ha(M,Be=>{const le=[];Be.forEach(Se=>le.push({id:Se.id,...Se.data()})),le.length>0&&e(le)})},[]),ue.useEffect(()=>{const M=Gn.currentUser;if(!M){z(!1);return}const Ue=J(M.uid),Be=G();return X(M.uid),()=>{Ue(),Be()}},[]);const G=()=>{const M=wu(oi(hn,"users"),Ns("role","==","doctor"),Ns("online","==",!0));return Ha(M,Ue=>{const Be=[];Ue.forEach(le=>Be.push({id:le.id,...le.data()})),a(Be)})},X=async M=>{try{const Ue=await Pu(Hn(hn,"users",M));Ue.exists()&&w(Ue.data())}catch(Ue){console.error(Ue)}finally{z(!1)}},J=M=>{const Ue=wu(oi(hn,"bookings"),Ns("customerId","==",M));return Ha(Ue,Be=>{const le=[],Se=[];Be.forEach(ke=>{const Ve={id:ke.id,...ke.data()};le.push(Ve),Ve.prescriptions&&Array.isArray(Ve.prescriptions)&&Ve.prescriptions.forEach(je=>{Se.push({...je,doctorName:Ve.doctorName||"Doctor",bookingId:Ve.id,sortDate:x(je.uploadedAt||Ve.updatedAt||Ve.createdAt)})})}),g(le.sort((ke,Ve)=>x(Ve.updatedAt||Ve.createdAt)-x(ke.updatedAt||ke.createdAt))),V(Se.sort((ke,Ve)=>Ve.sortDate-ke.sortDate))})},x=M=>M?M instanceof Date?M:typeof M=="string"?new Date(M):M.toDate?M.toDate():new Date(0):new Date(0),C=async(M,Ue)=>{try{await XR(oi(hn,"bookings"),{customerId:Gn.currentUser.uid,doctorId:M,customerName:y?.name||"Customer",doctorName:Ue,createdAt:new Date().toISOString(),status:"pending"}),alert(" Booking request sent!")}catch(Be){console.error("Booking error:",Be),alert(`Failed: ${Be.message}`)}},O=M=>{if(!M)return alert("File not found");const Ue=document.createElement("a");Ue.href=M,Ue.target="_blank",Ue.rel="noopener noreferrer",document.body.appendChild(Ue),Ue.click(),document.body.removeChild(Ue)},H=({roomId:M,bookingId:Ue})=>{const[Be,le]=ue.useState(null);if(ue.useEffect(()=>Ha(Hn(hn,"videoRooms",M),Ve=>{const je=Ve.data();le(je?.status)}),[M]),Be==="completed")return ne.jsx("span",{style:{color:"#10B981"},children:" Completed"});const Se=Be==="active";return ne.jsx("button",{onClick:()=>U(`/video-call/${M}?booking=${Ue}`),disabled:!Se,style:{width:"100%",padding:"12px",marginTop:"8px",background:Se?"#10B981":"#6b7280",color:"white",border:"none",borderRadius:"8px",fontWeight:500},children:Se?" Join Call Now":" Doctor Preparing..."})},W=()=>window.location.href="tel:108",N=M=>{if(!M||typeof M!="number")return"0s";const Ue=Math.floor(M),Be=Math.floor(Ue/60),le=Ue%60;return`${Be}m ${le}s`};return R?ne.jsx("div",{style:{textAlign:"center",padding:"50px"},children:"Loading..."}):ne.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"20px",background:"#f8fafc",minHeight:"100vh"},children:[ne.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[ne.jsx("h1",{style:{color:"#1e293b",marginBottom:"8px"},children:"Swasthya Sakhi"}),ne.jsxs("p",{style:{color:"#64748b"},children:["Welcome, ",y?.name||"Customer"]})]}),ne.jsx("div",{style:{marginBottom:"30px"},children:ne.jsx("button",{onClick:W,style:{width:"100%",padding:"16px",background:"#dc2626",color:"white",border:"none",borderRadius:"12px",fontSize:"18px",fontWeight:600,cursor:"pointer"},children:" Emergency Ambulance 108"})}),o.length>0&&ne.jsx("div",{style:{marginBottom:"30px"},children:ne.jsx(_B,{cart:o,setCart:l})}),ne.jsx("h2",{style:{color:"#1e293b",marginBottom:"20px"},children:" Pharmacy"}),ne.jsxs("div",{className:"medicine-container",style:{display:"flex",gap:"20px",flexDirection:window.innerWidth<768?"column":"row",alignItems:"flex-start"},children:[ne.jsxs("div",{style:{width:window.innerWidth<768?"100%":"200px",flexShrink:0,background:"white",padding:"15px",borderRadius:"12px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",position:window.innerWidth<768?"relative":"sticky",top:"20px",zIndex:10,overflowX:"auto",display:window.innerWidth<768?"flex":"block",gap:"10px"},children:[ne.jsx("p",{style:{fontWeight:"bold",marginBottom:window.innerWidth<768?"0":"10px",color:"#64748b",fontSize:"12px",textTransform:"uppercase",alignSelf:"center"},children:window.innerWidth<768?"":"Categories"}),ne.jsx("div",{style:{display:window.innerWidth<768?"flex":"block",gap:"8px",width:"100%"},children:D.map(M=>ne.jsx("div",{onClick:()=>d(M),style:{padding:"10px 15px",cursor:"pointer",borderRadius:"8px",marginBottom:window.innerWidth<768?"0":"4px",background:c===M?"#2563eb":"#f8fafc",color:c===M?"white":"#1e293b",fontWeight:"600",fontSize:"14px",whiteSpace:"nowrap",transition:"0.2s",border:c===M?"none":"1px solid #e2e8f0"},children:M},M))})]}),ne.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[ne.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"12px"},children:L.map(M=>ne.jsxs("div",{style:{background:"white",padding:"15px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",border:"1px solid #f1f5f9",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[ne.jsxs("div",{children:[ne.jsx("h3",{style:{margin:"0 0 5px 0",fontSize:"15px",color:"#1e293b"},children:M.name}),ne.jsx("span",{style:{fontSize:"10px",background:"#f1f5f9",padding:"2px 6px",borderRadius:"10px",color:"#64748b"},children:M.category||"General"})]}),ne.jsxs("div",{children:[ne.jsxs("p",{style:{fontSize:"18px",fontWeight:"bold",color:"#059669",margin:"10px 0"},children:["",M.price]}),ne.jsx("button",{onClick:()=>j(M),style:{width:"100%",padding:"8px",background:"#2563eb",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500"},children:"Add"})]})]},M.id))}),L.length===0&&ne.jsx("p",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No medicines found."})]})]}),ne.jsxs("div",{style:{marginBottom:"40px"},children:[ne.jsxs("h2",{style:{color:"#1e293b",marginBottom:"20px"},children:[" Online Doctors (",n.length,")"]}),n.length===0?ne.jsx("div",{style:{textAlign:"center",padding:"60px 20px",background:"white",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:ne.jsx("p",{style:{color:"#64748b"},children:"No doctors online right now"})}):ne.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"20px"},children:n.map(M=>ne.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:[ne.jsxs("div",{children:[ne.jsx("h3",{style:{margin:"0 0 8px 0",color:"#1e293b"},children:M.name}),ne.jsx("p",{style:{color:"#64748b",margin:"0 0 12px 0"},children:M.specialization}),ne.jsxs("p",{style:{fontWeight:600,color:"#059669",margin:"0 0 16px 0"},children:["",M.rate||100]})]}),ne.jsx("button",{onClick:()=>C(M.id,M.name),style:{width:"100%",padding:"14px",background:"#2563eb",color:"white",border:"none",borderRadius:"8px",fontWeight:500,cursor:"pointer"},children:"Book Consultation"})]},M.id))})]}),ne.jsxs("div",{style:{marginBottom:"40px"},children:[ne.jsxs("h2",{style:{color:"#1e293b",marginBottom:"20px"},children:[" My Bookings (",p.length,")"]}),p.length===0?ne.jsx("div",{style:{textAlign:"center",padding:"60px 20px",background:"white",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:ne.jsx("p",{style:{color:"#64748b"},children:"No bookings yet"})}):p.map(M=>ne.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",marginBottom:"16px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:[ne.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[ne.jsxs("div",{children:[ne.jsx("p",{style:{margin:"0 0 4px 0",fontWeight:600},children:M.doctorName}),ne.jsx("p",{style:{color:"#64748b",margin:0,fontSize:"14px"},children:new Date(M.createdAt).toLocaleString()})]}),ne.jsx("span",{style:{padding:"6px 12px",borderRadius:"20px",background:M.status==="accepted"?"#059669":M.status==="pending"?"#f59e0b":"#dc2626",color:"white",fontSize:"12px",fontWeight:500},children:M.status.toUpperCase()})]}),M.status==="completed"&&ne.jsxs("p",{style:{color:"#059669",fontSize:"14px",marginTop:"10px",fontWeight:500},children:[" Completed - Duration: ",N(M.callDurationSeconds)]}),M.prescriptions&&M.prescriptions.length>0&&ne.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginTop:"12px"},children:M.prescriptions.map((Ue,Be)=>ne.jsxs("button",{onClick:()=>O(Ue.url),style:{padding:"6px 12px",background:"#eff6ff",color:"#2563eb",border:"1px solid #bfdbfe",borderRadius:"6px",fontSize:"12px",fontWeight:"bold",cursor:"pointer"},children:[" ",Ue.name?.slice(0,20),"..."]},Be))}),M.status==="accepted"&&M.videoRoomId&&ne.jsx(H,{roomId:M.videoRoomId,bookingId:M.id})]},M.id))]}),I.length>0&&ne.jsxs("div",{children:[ne.jsxs("h2",{style:{color:"#1e293b",marginBottom:"20px"},children:[" My Prescriptions (",I.length,")"]}),ne.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px"},children:I.map((M,Ue)=>ne.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:[ne.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[ne.jsx("h4",{style:{margin:0},children:M.doctorName}),ne.jsx("span",{style:{fontSize:"11px",color:"#64748b"},children:M.uploadedAt?new Date(M.uploadedAt).toLocaleDateString():"Recent"})]}),ne.jsx("p",{style:{fontSize:"13px",color:"#475569",marginBottom:"15px"},children:M.name||"Prescription"}),ne.jsx("button",{onClick:()=>O(M.url),style:{width:"100%",padding:"10px",background:"#059669",color:"white",border:"none",borderRadius:"8px",fontWeight:500,cursor:"pointer"},children:" Download File"})]},Ue))})]})]})},EB=()=>{const[r,e]=ue.useState(!1),[n,a]=ue.useState({name:"",phoneNumber:"",licenseNumber:""}),[o,l]=ue.useState({sun:{from:"",to:""},mon:{from:"",to:""},tue:{from:"",to:""},wed:{from:"",to:""},thu:{from:"",to:""},fri:{from:"",to:""},sat:{from:"",to:""}}),[c,d]=ue.useState([]),[p,g]=ue.useState([]),[y,w]=ue.useState(!0),[R,z]=ue.useState(null),[I,V]=ue.useState(!1),U=ts(),D=g1();ue.useEffect(()=>{const O=Gn.currentUser;O&&(L(O.uid),j(O.uid),G(O.uid))},[]);const L=async O=>{try{const H=Hn(hn,"users",O),W=await Pu(H);if(W.exists()){const N=W.data();a({name:N.name||"Dr. Unknown",phoneNumber:N.phoneNumber||"",licenseNumber:N.licenseNumber||""}),e(N.online||!1),l(N.schedule||o)}w(!1)}catch{z("Profile load failed"),w(!1)}},j=O=>{const H=wu(oi(hn,"bookings"),Ns("doctorId","==",O),Ns("status","in",["pending","accepted"]));return Ha(H,W=>{const N=[];W.forEach(M=>N.push({id:M.id,...M.data()})),d(N)})},G=O=>{const H=wu(oi(hn,"bookings"),Ns("doctorId","==",O),Ns("status","==","completed"));return Ha(H,W=>{const N=[];W.forEach(M=>N.push({id:M.id,...M.data()})),g(N)})},X=async()=>{try{await wr(Hn(hn,"users",Gn.currentUser.uid),{online:!r}),e(!r)}catch{z("Status update failed")}},J=async()=>{try{await wr(Hn(hn,"users",Gn.currentUser.uid),{schedule:o})}catch{z("Schedule save failed")}},x=async(O,H)=>{try{const W=O.target.files[0];if(!W)return;if(!["application/pdf","image/jpeg","image/png","image/jpg","image/heic","image/heif"].includes(W.type)){alert("Only PDF or image files are allowed");return}const M=cB(D,`prescriptions/${H}/${Date.now()}_${W.name}`);await lB(M,W);const Ue=await uB(M),Be=Hn(hn,"bookings",H);await wr(Be,{prescriptions:Xk({name:W.name,url:Ue,type:W.type,uploadedAt:new Date().toISOString()}),prescriptionCount:Jk(1),prescriptionNote:"Prescription added"}),alert("Prescription uploaded successfully")}catch(W){console.error("Upload failed",W),alert("Upload failed")}},C=async(O,H)=>{try{const W=Hn(hn,"bookings",O);if(H==="accepted"){const N=`room-${O}`;await v_(Hn(hn,"videoRooms",N),{bookingId:O,doctorId:Gn.currentUser.uid,status:"active",users:{[Gn.currentUser.uid]:"doctor"},createdAt:new Date().toISOString()},{merge:!0}),await wr(W,{status:"accepted",videoRoomId:N,updatedAt:new Date().toISOString()}),U(`/video-call/${N}?booking=${O}`)}else await wr(W,{status:H})}catch(W){z("Action failed: "+W.message)}};return y?ne.jsx("div",{style:{padding:40},children:"Loading..."}):ne.jsxs("div",{style:{maxWidth:600,margin:"0 auto",padding:20},children:[ne.jsx("h1",{style:{textAlign:"center"},children:"Doctor Portal"}),ne.jsxs(Df,{children:[ne.jsx("h3",{children:" Profile"}),ne.jsxs("p",{children:[ne.jsx("b",{children:"Name:"})," ",n.name]}),ne.jsxs("p",{children:[ne.jsx("b",{children:"Phone:"})," ",n.phoneNumber]}),ne.jsxs("p",{children:[ne.jsx("b",{children:"License:"})," ",n.licenseNumber]}),ne.jsx("button",{onClick:X,style:Nf(r?"#dc2626":"#059669"),children:r?"Go Offline":"Go Online"})]}),ne.jsxs(Df,{children:[ne.jsxs("div",{onClick:()=>V(O=>!O),style:{display:"flex",justifyContent:"space-between",cursor:"pointer"},children:[ne.jsx("h3",{children:" Weekly Schedule"}),ne.jsx("span",{children:I?"":""})]}),I&&ne.jsxs(ne.Fragment,{children:[Object.keys(o).map(O=>ne.jsxs("div",{style:{display:"flex",gap:8,marginBottom:10},children:[ne.jsx("b",{style:{width:50},children:O}),ne.jsx("input",{type:"time",value:o[O].from,onChange:H=>l(W=>({...W,[O]:{...W[O],from:H.target.value}}))}),ne.jsx("input",{type:"time",value:o[O].to,onChange:H=>l(W=>({...W,[O]:{...W[O],to:H.target.value}}))})]},O)),ne.jsx("button",{onClick:J,style:Nf("#2563eb"),children:"Save Schedule"})]})]}),ne.jsx("h3",{children:" Active Consultations"}),c.map(O=>ne.jsxs(Df,{children:[ne.jsx("b",{children:O.customerName}),ne.jsx("p",{children:new Date(O.createdAt).toLocaleString()}),O.status==="pending"&&ne.jsxs("div",{style:{display:"flex",gap:10},children:[ne.jsx("button",{onClick:()=>C(O.id,"accepted"),style:Nf("#059669"),children:"Accept"}),ne.jsx("button",{onClick:()=>C(O.id,"declined"),style:Nf("#dc2626"),children:"Decline"})]})]},O.id)),ne.jsx("h3",{style:{marginTop:30},children:" Completed Consultations"}),p.length===0&&ne.jsx("p",{children:"No completed bookings"}),p.map(O=>ne.jsx(Df,{children:ne.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[ne.jsxs("div",{children:[ne.jsx("b",{children:O.customerName}),ne.jsx("p",{style:{fontSize:13,opacity:.7},children:O.callEndedAt?.toDate?.().toLocaleString()||"N/A"}),ne.jsxs("p",{style:{fontSize:13,fontWeight:"bold",color:"#2563eb"},children:[" Duration: ",Math.floor((O.callDurationSeconds||0)/60),"m ",(O.callDurationSeconds||0)%60,"s"]}),O.prescriptionCount>0&&ne.jsxs("p",{style:{fontSize:12,color:"#059669",marginTop:6},children:[" ",O.prescriptionCount," prescription",O.prescriptionCount>1?"s":""," added"]})]}),ne.jsx("button",{onClick:()=>document.getElementById(`upload-${O.id}`).click(),style:{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,background:"#2563eb",color:"#fff",borderRadius:"50%",cursor:"pointer",fontSize:24,fontWeight:"bold",border:"none",boxShadow:"0 2px 4px rgba(37, 99, 235, 0.3)"},children:"+"}),ne.jsx("input",{id:`upload-${O.id}`,type:"file",accept:".pdf,image/*,.heic,.heif",style:{display:"none"},onChange:H=>x(H,O.id)})]})},O.id)),R&&ne.jsx("p",{style:{color:"red"},children:R})]})},Df=({children:r})=>ne.jsx("div",{style:{background:"#fff",padding:20,borderRadius:12,marginBottom:20,boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:r}),Nf=r=>({background:r,color:"#fff",padding:12,border:"none",borderRadius:8,cursor:"pointer",width:"100%"});var Mf={exports:{}},dm,Mb;function wB(){if(Mb)return dm;Mb=1;var r=1e3,e=r*60,n=e*60,a=n*24,o=a*7,l=a*365.25;dm=function(y,w){w=w||{};var R=typeof y;if(R==="string"&&y.length>0)return c(y);if(R==="number"&&isFinite(y))return w.long?p(y):d(y);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(y))};function c(y){if(y=String(y),!(y.length>100)){var w=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(w){var R=parseFloat(w[1]),z=(w[2]||"ms").toLowerCase();switch(z){case"years":case"year":case"yrs":case"yr":case"y":return R*l;case"weeks":case"week":case"w":return R*o;case"days":case"day":case"d":return R*a;case"hours":case"hour":case"hrs":case"hr":case"h":return R*n;case"minutes":case"minute":case"mins":case"min":case"m":return R*e;case"seconds":case"second":case"secs":case"sec":case"s":return R*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return R;default:return}}}}function d(y){var w=Math.abs(y);return w>=a?Math.round(y/a)+"d":w>=n?Math.round(y/n)+"h":w>=e?Math.round(y/e)+"m":w>=r?Math.round(y/r)+"s":y+"ms"}function p(y){var w=Math.abs(y);return w>=a?g(y,w,a,"day"):w>=n?g(y,w,n,"hour"):w>=e?g(y,w,e,"minute"):w>=r?g(y,w,r,"second"):y+" ms"}function g(y,w,R,z){var I=w>=R*1.5;return Math.round(y/R)+" "+z+(I?"s":"")}return dm}var pm,Pb;function bB(){if(Pb)return pm;Pb=1;function r(e){a.debug=a,a.default=a,a.coerce=g,a.disable=d,a.enable=l,a.enabled=p,a.humanize=wB(),a.destroy=y,Object.keys(e).forEach(w=>{a[w]=e[w]}),a.names=[],a.skips=[],a.formatters={};function n(w){let R=0;for(let z=0;z<w.length;z++)R=(R<<5)-R+w.charCodeAt(z),R|=0;return a.colors[Math.abs(R)%a.colors.length]}a.selectColor=n;function a(w){let R,z=null,I,V;function U(...D){if(!U.enabled)return;const L=U,j=Number(new Date),G=j-(R||j);L.diff=G,L.prev=R,L.curr=j,R=j,D[0]=a.coerce(D[0]),typeof D[0]!="string"&&D.unshift("%O");let X=0;D[0]=D[0].replace(/%([a-zA-Z%])/g,(x,C)=>{if(x==="%%")return"%";X++;const O=a.formatters[C];if(typeof O=="function"){const H=D[X];x=O.call(L,H),D.splice(X,1),X--}return x}),a.formatArgs.call(L,D),(L.log||a.log).apply(L,D)}return U.namespace=w,U.useColors=a.useColors(),U.color=a.selectColor(w),U.extend=o,U.destroy=a.destroy,Object.defineProperty(U,"enabled",{enumerable:!0,configurable:!1,get:()=>z!==null?z:(I!==a.namespaces&&(I=a.namespaces,V=a.enabled(w)),V),set:D=>{z=D}}),typeof a.init=="function"&&a.init(U),U}function o(w,R){const z=a(this.namespace+(typeof R>"u"?":":R)+w);return z.log=this.log,z}function l(w){a.save(w),a.namespaces=w,a.names=[],a.skips=[];const R=(typeof w=="string"?w:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const z of R)z[0]==="-"?a.skips.push(z.slice(1)):a.names.push(z)}function c(w,R){let z=0,I=0,V=-1,U=0;for(;z<w.length;)if(I<R.length&&(R[I]===w[z]||R[I]==="*"))R[I]==="*"?(V=I,U=z,I++):(z++,I++);else if(V!==-1)I=V+1,U++,z=U;else return!1;for(;I<R.length&&R[I]==="*";)I++;return I===R.length}function d(){const w=[...a.names,...a.skips.map(R=>"-"+R)].join(",");return a.enable(""),w}function p(w){for(const R of a.skips)if(c(w,R))return!1;for(const R of a.names)if(c(w,R))return!0;return!1}function g(w){return w instanceof Error?w.stack||w.message:w}function y(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a.enable(a.load()),a}return pm=r,pm}var kb;function TB(){return kb||(kb=1,(function(r,e){var n={};e.formatArgs=o,e.save=l,e.load=c,e.useColors=a,e.storage=d(),e.destroy=(()=>{let g=!1;return()=>{g||(g=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let g;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(g=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(g[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(g){if(g[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+g[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const y="color: "+this.color;g.splice(1,0,y,"color: inherit");let w=0,R=0;g[0].replace(/%[a-zA-Z%]/g,z=>{z!=="%%"&&(w++,z==="%c"&&(R=w))}),g.splice(R,0,y)}e.log=console.debug||console.log||(()=>{});function l(g){try{g?e.storage.setItem("debug",g):e.storage.removeItem("debug")}catch{}}function c(){let g;try{g=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!g&&typeof et<"u"&&"env"in et&&(g=n.DEBUG),g}function d(){try{return localStorage}catch{}}r.exports=bB()(e);const{formatters:p}=r.exports;p.j=function(g){try{return JSON.stringify(g)}catch(y){return"[UnexpectedJSONParseError]: "+y.message}}})(Mf,Mf.exports)),Mf.exports}var mm,Ub;function SB(){return Ub||(Ub=1,mm=function(){if(typeof globalThis>"u")return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}),mm}var Pf={exports:{}},kf={exports:{}},gm={},Bb;function Qu(){return Bb||(Bb=1,(function(r){Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},n={};n.byteLength=y,n.toByteArray=R,n.fromByteArray=V;for(var a=[],o=[],l=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=c.length;d<p;++d)a[d]=c[d],o[c.charCodeAt(d)]=d;o[45]=62,o[95]=63;function g(L){var j=L.length;if(j%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var G=L.indexOf("=");G===-1&&(G=j);var X=G===j?0:4-G%4;return[G,X]}function y(L){var j=g(L),G=j[0],X=j[1];return(G+X)*3/4-X}function w(L,j,G){return(j+G)*3/4-G}function R(L){var j,G=g(L),X=G[0],J=G[1],x=new l(w(L,X,J)),C=0,O=J>0?X-4:X,H;for(H=0;H<O;H+=4)j=o[L.charCodeAt(H)]<<18|o[L.charCodeAt(H+1)]<<12|o[L.charCodeAt(H+2)]<<6|o[L.charCodeAt(H+3)],x[C++]=j>>16&255,x[C++]=j>>8&255,x[C++]=j&255;return J===2&&(j=o[L.charCodeAt(H)]<<2|o[L.charCodeAt(H+1)]>>4,x[C++]=j&255),J===1&&(j=o[L.charCodeAt(H)]<<10|o[L.charCodeAt(H+1)]<<4|o[L.charCodeAt(H+2)]>>2,x[C++]=j>>8&255,x[C++]=j&255),x}function z(L){return a[L>>18&63]+a[L>>12&63]+a[L>>6&63]+a[L&63]}function I(L,j,G){for(var X,J=[],x=j;x<G;x+=3)X=(L[x]<<16&16711680)+(L[x+1]<<8&65280)+(L[x+2]&255),J.push(z(X));return J.join("")}function V(L){for(var j,G=L.length,X=G%3,J=[],x=16383,C=0,O=G-X;C<O;C+=x)J.push(I(L,C,C+x>O?O:C+x));return X===1?(j=L[G-1],J.push(a[j>>2]+a[j<<4&63]+"==")):X===2&&(j=(L[G-2]<<8)+L[G-1],J.push(a[j>>10]+a[j>>4&63]+a[j<<2&63]+"=")),J.join("")}var U={};U.read=function(L,j,G,X,J){var x,C,O=J*8-X-1,H=(1<<O)-1,W=H>>1,N=-7,M=G?J-1:0,Ue=G?-1:1,Be=L[j+M];for(M+=Ue,x=Be&(1<<-N)-1,Be>>=-N,N+=O;N>0;x=x*256+L[j+M],M+=Ue,N-=8);for(C=x&(1<<-N)-1,x>>=-N,N+=X;N>0;C=C*256+L[j+M],M+=Ue,N-=8);if(x===0)x=1-W;else{if(x===H)return C?NaN:(Be?-1:1)*(1/0);C=C+Math.pow(2,X),x=x-W}return(Be?-1:1)*C*Math.pow(2,x-X)},U.write=function(L,j,G,X,J,x){var C,O,H,W=x*8-J-1,N=(1<<W)-1,M=N>>1,Ue=J===23?Math.pow(2,-24)-Math.pow(2,-77):0,Be=X?0:x-1,le=X?1:-1,Se=j<0||j===0&&1/j<0?1:0;for(j=Math.abs(j),isNaN(j)||j===1/0?(O=isNaN(j)?1:0,C=N):(C=Math.floor(Math.log(j)/Math.LN2),j*(H=Math.pow(2,-C))<1&&(C--,H*=2),C+M>=1?j+=Ue/H:j+=Ue*Math.pow(2,1-M),j*H>=2&&(C++,H/=2),C+M>=N?(O=0,C=N):C+M>=1?(O=(j*H-1)*Math.pow(2,J),C=C+M):(O=j*Math.pow(2,M-1)*Math.pow(2,J),C=0));J>=8;L[G+Be]=O&255,Be+=le,O/=256,J-=8);for(C=C<<J|O,W+=J;W>0;L[G+Be]=C&255,Be+=le,C/=256,W-=8);L[G+Be-le]|=Se*128};(function(L){const j=n,G=U,X=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;L.Buffer=N,L.SlowBuffer=$,L.INSPECT_MAX_BYTES=50;const J=2147483647;L.kMaxLength=J;const{Uint8Array:x,ArrayBuffer:C,SharedArrayBuffer:O}=globalThis;N.TYPED_ARRAY_SUPPORT=H(),!N.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function H(){try{const k=new x(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,x.prototype),Object.setPrototypeOf(k,v),k.foo()===42}catch{return!1}}Object.defineProperty(N.prototype,"parent",{enumerable:!0,get:function(){if(N.isBuffer(this))return this.buffer}}),Object.defineProperty(N.prototype,"offset",{enumerable:!0,get:function(){if(N.isBuffer(this))return this.byteOffset}});function W(k){if(k>J)throw new RangeError('The value "'+k+'" is invalid for option "size"');const v=new x(k);return Object.setPrototypeOf(v,N.prototype),v}function N(k,v,b){if(typeof k=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return le(k)}return M(k,v,b)}N.poolSize=8192;function M(k,v,b){if(typeof k=="string")return Se(k,v);if(C.isView(k))return Ve(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(en(k,C)||k&&en(k.buffer,C)||typeof O<"u"&&(en(k,O)||k&&en(k.buffer,O)))return je(k,v,b);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=k.valueOf&&k.valueOf();if(Q!=null&&Q!==k)return N.from(Q,v,b);const oe=re(k);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return N.from(k[Symbol.toPrimitive]("string"),v,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}N.from=function(k,v,b){return M(k,v,b)},Object.setPrototypeOf(N.prototype,x.prototype),Object.setPrototypeOf(N,x);function Ue(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function Be(k,v,b){return Ue(k),k<=0?W(k):v!==void 0?typeof b=="string"?W(k).fill(v,b):W(k).fill(v):W(k)}N.alloc=function(k,v,b){return Be(k,v,b)};function le(k){return Ue(k),W(k<0?0:_e(k)|0)}N.allocUnsafe=function(k){return le(k)},N.allocUnsafeSlow=function(k){return le(k)};function Se(k,v){if((typeof v!="string"||v==="")&&(v="utf8"),!N.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const b=ae(k,v)|0;let Q=W(b);const oe=Q.write(k,v);return oe!==b&&(Q=Q.slice(0,oe)),Q}function ke(k){const v=k.length<0?0:_e(k.length)|0,b=W(v);for(let Q=0;Q<v;Q+=1)b[Q]=k[Q]&255;return b}function Ve(k){if(en(k,x)){const v=new x(k);return je(v.buffer,v.byteOffset,v.byteLength)}return ke(k)}function je(k,v,b){if(v<0||k.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<v+(b||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return v===void 0&&b===void 0?Q=new x(k):b===void 0?Q=new x(k,v):Q=new x(k,v,b),Object.setPrototypeOf(Q,N.prototype),Q}function re(k){if(N.isBuffer(k)){const v=_e(k.length)|0,b=W(v);return b.length===0||k.copy(b,0,0,v),b}if(k.length!==void 0)return typeof k.length!="number"||Ln(k.length)?W(0):ke(k);if(k.type==="Buffer"&&Array.isArray(k.data))return ke(k.data)}function _e(k){if(k>=J)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+J.toString(16)+" bytes");return k|0}function $(k){return+k!=k&&(k=0),N.alloc(+k)}N.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==N.prototype},N.compare=function(v,b){if(en(v,x)&&(v=N.from(v,v.offset,v.byteLength)),en(b,x)&&(b=N.from(b,b.offset,b.byteLength)),!N.isBuffer(v)||!N.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===b)return 0;let Q=v.length,oe=b.length;for(let ye=0,Ie=Math.min(Q,oe);ye<Ie;++ye)if(v[ye]!==b[ye]){Q=v[ye],oe=b[ye];break}return Q<oe?-1:oe<Q?1:0},N.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},N.concat=function(v,b){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return N.alloc(0);let Q;if(b===void 0)for(b=0,Q=0;Q<v.length;++Q)b+=v[Q].length;const oe=N.allocUnsafe(b);let ye=0;for(Q=0;Q<v.length;++Q){let Ie=v[Q];if(en(Ie,x))ye+Ie.length>oe.length?(N.isBuffer(Ie)||(Ie=N.from(Ie)),Ie.copy(oe,ye)):x.prototype.set.call(oe,Ie,ye);else if(N.isBuffer(Ie))Ie.copy(oe,ye);else throw new TypeError('"list" argument must be an Array of Buffers');ye+=Ie.length}return oe};function ae(k,v){if(N.isBuffer(k))return k.length;if(C.isView(k)||en(k,C))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);const b=k.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&b===0)return 0;let oe=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return Tt(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return ot(k).length;default:if(oe)return Q?-1:Tt(k).length;v=(""+v).toLowerCase(),oe=!0}}N.byteLength=ae;function he(k,v,b){let Q=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,v>>>=0,b<=v))return"";for(k||(k="utf8");;)switch(k){case"hex":return Yt(this,v,b);case"utf8":case"utf-8":return $e(this,v,b);case"ascii":return on(this,v,b);case"latin1":case"binary":return Ce(this,v,b);case"base64":return Pe(this,v,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $t(this,v,b);default:if(Q)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),Q=!0}}N.prototype._isBuffer=!0;function Z(k,v,b){const Q=k[v];k[v]=k[b],k[b]=Q}N.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<v;b+=2)Z(this,b,b+1);return this},N.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<v;b+=4)Z(this,b,b+3),Z(this,b+1,b+2);return this},N.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<v;b+=8)Z(this,b,b+7),Z(this,b+1,b+6),Z(this,b+2,b+5),Z(this,b+3,b+4);return this},N.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?$e(this,0,v):he.apply(this,arguments)},N.prototype.toLocaleString=N.prototype.toString,N.prototype.equals=function(v){if(!N.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:N.compare(this,v)===0},N.prototype.inspect=function(){let v="";const b=L.INSPECT_MAX_BYTES;return v=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(v+=" ... "),"<Buffer "+v+">"},X&&(N.prototype[X]=N.prototype.inspect),N.prototype.compare=function(v,b,Q,oe,ye){if(en(v,x)&&(v=N.from(v,v.offset,v.byteLength)),!N.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(b===void 0&&(b=0),Q===void 0&&(Q=v?v.length:0),oe===void 0&&(oe=0),ye===void 0&&(ye=this.length),b<0||Q>v.length||oe<0||ye>this.length)throw new RangeError("out of range index");if(oe>=ye&&b>=Q)return 0;if(oe>=ye)return-1;if(b>=Q)return 1;if(b>>>=0,Q>>>=0,oe>>>=0,ye>>>=0,this===v)return 0;let Ie=ye-oe,at=Q-b;const At=Math.min(Ie,at),Pt=this.slice(oe,ye),vt=v.slice(b,Q);for(let Xe=0;Xe<At;++Xe)if(Pt[Xe]!==vt[Xe]){Ie=Pt[Xe],at=vt[Xe];break}return Ie<at?-1:at<Ie?1:0};function te(k,v,b,Q,oe){if(k.length===0)return-1;if(typeof b=="string"?(Q=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,Ln(b)&&(b=oe?0:k.length-1),b<0&&(b=k.length+b),b>=k.length){if(oe)return-1;b=k.length-1}else if(b<0)if(oe)b=0;else return-1;if(typeof v=="string"&&(v=N.from(v,Q)),N.isBuffer(v))return v.length===0?-1:ve(k,v,b,Q,oe);if(typeof v=="number")return v=v&255,typeof x.prototype.indexOf=="function"?oe?x.prototype.indexOf.call(k,v,b):x.prototype.lastIndexOf.call(k,v,b):ve(k,[v],b,Q,oe);throw new TypeError("val must be string, number or Buffer")}function ve(k,v,b,Q,oe){let ye=1,Ie=k.length,at=v.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(k.length<2||v.length<2)return-1;ye=2,Ie/=2,at/=2,b/=2}function At(vt,Xe){return ye===1?vt[Xe]:vt.readUInt16BE(Xe*ye)}let Pt;if(oe){let vt=-1;for(Pt=b;Pt<Ie;Pt++)if(At(k,Pt)===At(v,vt===-1?0:Pt-vt)){if(vt===-1&&(vt=Pt),Pt-vt+1===at)return vt*ye}else vt!==-1&&(Pt-=Pt-vt),vt=-1}else for(b+at>Ie&&(b=Ie-at),Pt=b;Pt>=0;Pt--){let vt=!0;for(let Xe=0;Xe<at;Xe++)if(At(k,Pt+Xe)!==At(v,Xe)){vt=!1;break}if(vt)return Pt}return-1}N.prototype.includes=function(v,b,Q){return this.indexOf(v,b,Q)!==-1},N.prototype.indexOf=function(v,b,Q){return te(this,v,b,Q,!0)},N.prototype.lastIndexOf=function(v,b,Q){return te(this,v,b,Q,!1)};function Re(k,v,b,Q){b=Number(b)||0;const oe=k.length-b;Q?(Q=Number(Q),Q>oe&&(Q=oe)):Q=oe;const ye=v.length;Q>ye/2&&(Q=ye/2);let Ie;for(Ie=0;Ie<Q;++Ie){const at=parseInt(v.substr(Ie*2,2),16);if(Ln(at))return Ie;k[b+Ie]=at}return Ie}function Ne(k,v,b,Q){return fr(Tt(v,k.length-b),k,b,Q)}function F(k,v,b,Q){return fr(Ot(v),k,b,Q)}function K(k,v,b,Q){return fr(ot(v),k,b,Q)}function be(k,v,b,Q){return fr(St(v,k.length-b),k,b,Q)}N.prototype.write=function(v,b,Q,oe){if(b===void 0)oe="utf8",Q=this.length,b=0;else if(Q===void 0&&typeof b=="string")oe=b,Q=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(Q)?(Q=Q>>>0,oe===void 0&&(oe="utf8")):(oe=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ye=this.length-b;if((Q===void 0||Q>ye)&&(Q=ye),v.length>0&&(Q<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");let Ie=!1;for(;;)switch(oe){case"hex":return Re(this,v,b,Q);case"utf8":case"utf-8":return Ne(this,v,b,Q);case"ascii":case"latin1":case"binary":return F(this,v,b,Q);case"base64":return K(this,v,b,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,v,b,Q);default:if(Ie)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),Ie=!0}},N.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Pe(k,v,b){return v===0&&b===k.length?j.fromByteArray(k):j.fromByteArray(k.slice(v,b))}function $e(k,v,b){b=Math.min(k.length,b);const Q=[];let oe=v;for(;oe<b;){const ye=k[oe];let Ie=null,at=ye>239?4:ye>223?3:ye>191?2:1;if(oe+at<=b){let At,Pt,vt,Xe;switch(at){case 1:ye<128&&(Ie=ye);break;case 2:At=k[oe+1],(At&192)===128&&(Xe=(ye&31)<<6|At&63,Xe>127&&(Ie=Xe));break;case 3:At=k[oe+1],Pt=k[oe+2],(At&192)===128&&(Pt&192)===128&&(Xe=(ye&15)<<12|(At&63)<<6|Pt&63,Xe>2047&&(Xe<55296||Xe>57343)&&(Ie=Xe));break;case 4:At=k[oe+1],Pt=k[oe+2],vt=k[oe+3],(At&192)===128&&(Pt&192)===128&&(vt&192)===128&&(Xe=(ye&15)<<18|(At&63)<<12|(Pt&63)<<6|vt&63,Xe>65535&&Xe<1114112&&(Ie=Xe))}}Ie===null?(Ie=65533,at=1):Ie>65535&&(Ie-=65536,Q.push(Ie>>>10&1023|55296),Ie=56320|Ie&1023),Q.push(Ie),oe+=at}return Ze(Q)}const Fe=4096;function Ze(k){const v=k.length;if(v<=Fe)return String.fromCharCode.apply(String,k);let b="",Q=0;for(;Q<v;)b+=String.fromCharCode.apply(String,k.slice(Q,Q+=Fe));return b}function on(k,v,b){let Q="";b=Math.min(k.length,b);for(let oe=v;oe<b;++oe)Q+=String.fromCharCode(k[oe]&127);return Q}function Ce(k,v,b){let Q="";b=Math.min(k.length,b);for(let oe=v;oe<b;++oe)Q+=String.fromCharCode(k[oe]);return Q}function Yt(k,v,b){const Q=k.length;(!v||v<0)&&(v=0),(!b||b<0||b>Q)&&(b=Q);let oe="";for(let ye=v;ye<b;++ye)oe+=Yr[k[ye]];return oe}function $t(k,v,b){const Q=k.slice(v,b);let oe="";for(let ye=0;ye<Q.length-1;ye+=2)oe+=String.fromCharCode(Q[ye]+Q[ye+1]*256);return oe}N.prototype.slice=function(v,b){const Q=this.length;v=~~v,b=b===void 0?Q:~~b,v<0?(v+=Q,v<0&&(v=0)):v>Q&&(v=Q),b<0?(b+=Q,b<0&&(b=0)):b>Q&&(b=Q),b<v&&(b=v);const oe=this.subarray(v,b);return Object.setPrototypeOf(oe,N.prototype),oe};function Et(k,v,b){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+v>b)throw new RangeError("Trying to access beyond buffer length")}N.prototype.readUintLE=N.prototype.readUIntLE=function(v,b,Q){v=v>>>0,b=b>>>0,Q||Et(v,b,this.length);let oe=this[v],ye=1,Ie=0;for(;++Ie<b&&(ye*=256);)oe+=this[v+Ie]*ye;return oe},N.prototype.readUintBE=N.prototype.readUIntBE=function(v,b,Q){v=v>>>0,b=b>>>0,Q||Et(v,b,this.length);let oe=this[v+--b],ye=1;for(;b>0&&(ye*=256);)oe+=this[v+--b]*ye;return oe},N.prototype.readUint8=N.prototype.readUInt8=function(v,b){return v=v>>>0,b||Et(v,1,this.length),this[v]},N.prototype.readUint16LE=N.prototype.readUInt16LE=function(v,b){return v=v>>>0,b||Et(v,2,this.length),this[v]|this[v+1]<<8},N.prototype.readUint16BE=N.prototype.readUInt16BE=function(v,b){return v=v>>>0,b||Et(v,2,this.length),this[v]<<8|this[v+1]},N.prototype.readUint32LE=N.prototype.readUInt32LE=function(v,b){return v=v>>>0,b||Et(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},N.prototype.readUint32BE=N.prototype.readUInt32BE=function(v,b){return v=v>>>0,b||Et(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},N.prototype.readBigUInt64LE=Qn(function(v){v=v>>>0,ie(v,"offset");const b=this[v],Q=this[v+7];(b===void 0||Q===void 0)&&de(v,this.length-8);const oe=b+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,ye=this[++v]+this[++v]*2**8+this[++v]*2**16+Q*2**24;return BigInt(oe)+(BigInt(ye)<<BigInt(32))}),N.prototype.readBigUInt64BE=Qn(function(v){v=v>>>0,ie(v,"offset");const b=this[v],Q=this[v+7];(b===void 0||Q===void 0)&&de(v,this.length-8);const oe=b*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],ye=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+Q;return(BigInt(oe)<<BigInt(32))+BigInt(ye)}),N.prototype.readIntLE=function(v,b,Q){v=v>>>0,b=b>>>0,Q||Et(v,b,this.length);let oe=this[v],ye=1,Ie=0;for(;++Ie<b&&(ye*=256);)oe+=this[v+Ie]*ye;return ye*=128,oe>=ye&&(oe-=Math.pow(2,8*b)),oe},N.prototype.readIntBE=function(v,b,Q){v=v>>>0,b=b>>>0,Q||Et(v,b,this.length);let oe=b,ye=1,Ie=this[v+--oe];for(;oe>0&&(ye*=256);)Ie+=this[v+--oe]*ye;return ye*=128,Ie>=ye&&(Ie-=Math.pow(2,8*b)),Ie},N.prototype.readInt8=function(v,b){return v=v>>>0,b||Et(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},N.prototype.readInt16LE=function(v,b){v=v>>>0,b||Et(v,2,this.length);const Q=this[v]|this[v+1]<<8;return Q&32768?Q|4294901760:Q},N.prototype.readInt16BE=function(v,b){v=v>>>0,b||Et(v,2,this.length);const Q=this[v+1]|this[v]<<8;return Q&32768?Q|4294901760:Q},N.prototype.readInt32LE=function(v,b){return v=v>>>0,b||Et(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},N.prototype.readInt32BE=function(v,b){return v=v>>>0,b||Et(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},N.prototype.readBigInt64LE=Qn(function(v){v=v>>>0,ie(v,"offset");const b=this[v],Q=this[v+7];(b===void 0||Q===void 0)&&de(v,this.length-8);const oe=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(Q<<24);return(BigInt(oe)<<BigInt(32))+BigInt(b+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),N.prototype.readBigInt64BE=Qn(function(v){v=v>>>0,ie(v,"offset");const b=this[v],Q=this[v+7];(b===void 0||Q===void 0)&&de(v,this.length-8);const oe=(b<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(oe)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+Q)}),N.prototype.readFloatLE=function(v,b){return v=v>>>0,b||Et(v,4,this.length),G.read(this,v,!0,23,4)},N.prototype.readFloatBE=function(v,b){return v=v>>>0,b||Et(v,4,this.length),G.read(this,v,!1,23,4)},N.prototype.readDoubleLE=function(v,b){return v=v>>>0,b||Et(v,8,this.length),G.read(this,v,!0,52,8)},N.prototype.readDoubleBE=function(v,b){return v=v>>>0,b||Et(v,8,this.length),G.read(this,v,!1,52,8)};function wt(k,v,b,Q,oe,ye){if(!N.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>oe||v<ye)throw new RangeError('"value" argument is out of bounds');if(b+Q>k.length)throw new RangeError("Index out of range")}N.prototype.writeUintLE=N.prototype.writeUIntLE=function(v,b,Q,oe){if(v=+v,b=b>>>0,Q=Q>>>0,!oe){const at=Math.pow(2,8*Q)-1;wt(this,v,b,Q,at,0)}let ye=1,Ie=0;for(this[b]=v&255;++Ie<Q&&(ye*=256);)this[b+Ie]=v/ye&255;return b+Q},N.prototype.writeUintBE=N.prototype.writeUIntBE=function(v,b,Q,oe){if(v=+v,b=b>>>0,Q=Q>>>0,!oe){const at=Math.pow(2,8*Q)-1;wt(this,v,b,Q,at,0)}let ye=Q-1,Ie=1;for(this[b+ye]=v&255;--ye>=0&&(Ie*=256);)this[b+ye]=v/Ie&255;return b+Q},N.prototype.writeUint8=N.prototype.writeUInt8=function(v,b,Q){return v=+v,b=b>>>0,Q||wt(this,v,b,1,255,0),this[b]=v&255,b+1},N.prototype.writeUint16LE=N.prototype.writeUInt16LE=function(v,b,Q){return v=+v,b=b>>>0,Q||wt(this,v,b,2,65535,0),this[b]=v&255,this[b+1]=v>>>8,b+2},N.prototype.writeUint16BE=N.prototype.writeUInt16BE=function(v,b,Q){return v=+v,b=b>>>0,Q||wt(this,v,b,2,65535,0),this[b]=v>>>8,this[b+1]=v&255,b+2},N.prototype.writeUint32LE=N.prototype.writeUInt32LE=function(v,b,Q){return v=+v,b=b>>>0,Q||wt(this,v,b,4,4294967295,0),this[b+3]=v>>>24,this[b+2]=v>>>16,this[b+1]=v>>>8,this[b]=v&255,b+4},N.prototype.writeUint32BE=N.prototype.writeUInt32BE=function(v,b,Q){return v=+v,b=b>>>0,Q||wt(this,v,b,4,4294967295,0),this[b]=v>>>24,this[b+1]=v>>>16,this[b+2]=v>>>8,this[b+3]=v&255,b+4};function yt(k,v,b,Q,oe){Y(v,Q,oe,k,b,7);let ye=Number(v&BigInt(4294967295));k[b++]=ye,ye=ye>>8,k[b++]=ye,ye=ye>>8,k[b++]=ye,ye=ye>>8,k[b++]=ye;let Ie=Number(v>>BigInt(32)&BigInt(4294967295));return k[b++]=Ie,Ie=Ie>>8,k[b++]=Ie,Ie=Ie>>8,k[b++]=Ie,Ie=Ie>>8,k[b++]=Ie,b}function Zt(k,v,b,Q,oe){Y(v,Q,oe,k,b,7);let ye=Number(v&BigInt(4294967295));k[b+7]=ye,ye=ye>>8,k[b+6]=ye,ye=ye>>8,k[b+5]=ye,ye=ye>>8,k[b+4]=ye;let Ie=Number(v>>BigInt(32)&BigInt(4294967295));return k[b+3]=Ie,Ie=Ie>>8,k[b+2]=Ie,Ie=Ie>>8,k[b+1]=Ie,Ie=Ie>>8,k[b]=Ie,b+8}N.prototype.writeBigUInt64LE=Qn(function(v,b=0){return yt(this,v,b,BigInt(0),BigInt("0xffffffffffffffff"))}),N.prototype.writeBigUInt64BE=Qn(function(v,b=0){return Zt(this,v,b,BigInt(0),BigInt("0xffffffffffffffff"))}),N.prototype.writeIntLE=function(v,b,Q,oe){if(v=+v,b=b>>>0,!oe){const At=Math.pow(2,8*Q-1);wt(this,v,b,Q,At-1,-At)}let ye=0,Ie=1,at=0;for(this[b]=v&255;++ye<Q&&(Ie*=256);)v<0&&at===0&&this[b+ye-1]!==0&&(at=1),this[b+ye]=(v/Ie>>0)-at&255;return b+Q},N.prototype.writeIntBE=function(v,b,Q,oe){if(v=+v,b=b>>>0,!oe){const At=Math.pow(2,8*Q-1);wt(this,v,b,Q,At-1,-At)}let ye=Q-1,Ie=1,at=0;for(this[b+ye]=v&255;--ye>=0&&(Ie*=256);)v<0&&at===0&&this[b+ye+1]!==0&&(at=1),this[b+ye]=(v/Ie>>0)-at&255;return b+Q},N.prototype.writeInt8=function(v,b,Q){return v=+v,b=b>>>0,Q||wt(this,v,b,1,127,-128),v<0&&(v=255+v+1),this[b]=v&255,b+1},N.prototype.writeInt16LE=function(v,b,Q){return v=+v,b=b>>>0,Q||wt(this,v,b,2,32767,-32768),this[b]=v&255,this[b+1]=v>>>8,b+2},N.prototype.writeInt16BE=function(v,b,Q){return v=+v,b=b>>>0,Q||wt(this,v,b,2,32767,-32768),this[b]=v>>>8,this[b+1]=v&255,b+2},N.prototype.writeInt32LE=function(v,b,Q){return v=+v,b=b>>>0,Q||wt(this,v,b,4,2147483647,-2147483648),this[b]=v&255,this[b+1]=v>>>8,this[b+2]=v>>>16,this[b+3]=v>>>24,b+4},N.prototype.writeInt32BE=function(v,b,Q){return v=+v,b=b>>>0,Q||wt(this,v,b,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[b]=v>>>24,this[b+1]=v>>>16,this[b+2]=v>>>8,this[b+3]=v&255,b+4},N.prototype.writeBigInt64LE=Qn(function(v,b=0){return yt(this,v,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),N.prototype.writeBigInt64BE=Qn(function(v,b=0){return Zt(this,v,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function bt(k,v,b,Q,oe,ye){if(b+Q>k.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function Nt(k,v,b,Q,oe){return v=+v,b=b>>>0,oe||bt(k,v,b,4),G.write(k,v,b,Q,23,4),b+4}N.prototype.writeFloatLE=function(v,b,Q){return Nt(this,v,b,!0,Q)},N.prototype.writeFloatBE=function(v,b,Q){return Nt(this,v,b,!1,Q)};function Lt(k,v,b,Q,oe){return v=+v,b=b>>>0,oe||bt(k,v,b,8),G.write(k,v,b,Q,52,8),b+8}N.prototype.writeDoubleLE=function(v,b,Q){return Lt(this,v,b,!0,Q)},N.prototype.writeDoubleBE=function(v,b,Q){return Lt(this,v,b,!1,Q)},N.prototype.copy=function(v,b,Q,oe){if(!N.isBuffer(v))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!oe&&oe!==0&&(oe=this.length),b>=v.length&&(b=v.length),b||(b=0),oe>0&&oe<Q&&(oe=Q),oe===Q||v.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),v.length-b<oe-Q&&(oe=v.length-b+Q);const ye=oe-Q;return this===v&&typeof x.prototype.copyWithin=="function"?this.copyWithin(b,Q,oe):x.prototype.set.call(v,this.subarray(Q,oe),b),ye},N.prototype.fill=function(v,b,Q,oe){if(typeof v=="string"){if(typeof b=="string"?(oe=b,b=0,Q=this.length):typeof Q=="string"&&(oe=Q,Q=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!N.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(v.length===1){const Ie=v.charCodeAt(0);(oe==="utf8"&&Ie<128||oe==="latin1")&&(v=Ie)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(b<0||this.length<b||this.length<Q)throw new RangeError("Out of range index");if(Q<=b)return this;b=b>>>0,Q=Q===void 0?this.length:Q>>>0,v||(v=0);let ye;if(typeof v=="number")for(ye=b;ye<Q;++ye)this[ye]=v;else{const Ie=N.isBuffer(v)?v:N.from(v,oe),at=Ie.length;if(at===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(ye=0;ye<Q-b;++ye)this[ye+b]=Ie[ye%at]}return this};const cr={};function P(k,v,b){cr[k]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${k}]`,this.stack,delete this.name}get code(){return k}set code(oe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:oe,writable:!0})}toString(){return`${this.name} [${k}]: ${this.message}`}}}P("ERR_BUFFER_OUT_OF_BOUNDS",function(k){return k?`${k} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),P("ERR_INVALID_ARG_TYPE",function(k,v){return`The "${k}" argument must be of type number. Received type ${typeof v}`},TypeError),P("ERR_OUT_OF_RANGE",function(k,v,b){let Q=`The value of "${k}" is out of range.`,oe=b;return Number.isInteger(b)&&Math.abs(b)>2**32?oe=E(String(b)):typeof b=="bigint"&&(oe=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(oe=E(oe)),oe+="n"),Q+=` It must be ${v}. Received ${oe}`,Q},RangeError);function E(k){let v="",b=k.length;const Q=k[0]==="-"?1:0;for(;b>=Q+4;b-=3)v=`_${k.slice(b-3,b)}${v}`;return`${k.slice(0,b)}${v}`}function T(k,v,b){ie(v,"offset"),(k[v]===void 0||k[v+b]===void 0)&&de(v,k.length-(b+1))}function Y(k,v,b,Q,oe,ye){if(k>b||k<v){const Ie=typeof v=="bigint"?"n":"";let at;throw v===0||v===BigInt(0)?at=`>= 0${Ie} and < 2${Ie} ** ${(ye+1)*8}${Ie}`:at=`>= -(2${Ie} ** ${(ye+1)*8-1}${Ie}) and < 2 ** ${(ye+1)*8-1}${Ie}`,new cr.ERR_OUT_OF_RANGE("value",at,k)}T(Q,oe,ye)}function ie(k,v){if(typeof k!="number")throw new cr.ERR_INVALID_ARG_TYPE(v,"number",k)}function de(k,v,b){throw Math.floor(k)!==k?(ie(k,b),new cr.ERR_OUT_OF_RANGE("offset","an integer",k)):v<0?new cr.ERR_BUFFER_OUT_OF_BOUNDS:new cr.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${v}`,k)}const Te=/[^+/0-9A-Za-z-_]/g;function it(k){if(k=k.split("=")[0],k=k.trim().replace(Te,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function Tt(k,v){v=v||1/0;let b;const Q=k.length;let oe=null;const ye=[];for(let Ie=0;Ie<Q;++Ie){if(b=k.charCodeAt(Ie),b>55295&&b<57344){if(!oe){if(b>56319){(v-=3)>-1&&ye.push(239,191,189);continue}else if(Ie+1===Q){(v-=3)>-1&&ye.push(239,191,189);continue}oe=b;continue}if(b<56320){(v-=3)>-1&&ye.push(239,191,189),oe=b;continue}b=(oe-55296<<10|b-56320)+65536}else oe&&(v-=3)>-1&&ye.push(239,191,189);if(oe=null,b<128){if((v-=1)<0)break;ye.push(b)}else if(b<2048){if((v-=2)<0)break;ye.push(b>>6|192,b&63|128)}else if(b<65536){if((v-=3)<0)break;ye.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((v-=4)<0)break;ye.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return ye}function Ot(k){const v=[];for(let b=0;b<k.length;++b)v.push(k.charCodeAt(b)&255);return v}function St(k,v){let b,Q,oe;const ye=[];for(let Ie=0;Ie<k.length&&!((v-=2)<0);++Ie)b=k.charCodeAt(Ie),Q=b>>8,oe=b%256,ye.push(oe),ye.push(Q);return ye}function ot(k){return j.toByteArray(it(k))}function fr(k,v,b,Q){let oe;for(oe=0;oe<Q&&!(oe+b>=v.length||oe>=k.length);++oe)v[oe+b]=k[oe];return oe}function en(k,v){return k instanceof v||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===v.name}function Ln(k){return k!==k}const Yr=(function(){const k="0123456789abcdef",v=new Array(256);for(let b=0;b<16;++b){const Q=b*16;for(let oe=0;oe<16;++oe)v[Q+oe]=k[b]+k[oe]}return v})();function Qn(k){return typeof BigInt>"u"?rs:k}function rs(){throw new Error("BigInt not supported")}})(e);const D=e.Buffer;r.Blob=e.Blob,r.BlobOptions=e.BlobOptions,r.Buffer=e.Buffer,r.File=e.File,r.FileOptions=e.FileOptions,r.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,r.SlowBuffer=e.SlowBuffer,r.TranscodeEncoding=e.TranscodeEncoding,r.atob=e.atob,r.btoa=e.btoa,r.constants=e.constants,r.default=D,r.isAscii=e.isAscii,r.isUtf8=e.isUtf8,r.kMaxLength=e.kMaxLength,r.kStringMaxLength=e.kStringMaxLength,r.resolveObjectURL=e.resolveObjectURL,r.transcode=e.transcode})(gm)),gm}var Lb;function y1(){return Lb||(Lb=1,(function(r,e){var n=Qu(),a=n.Buffer;function o(c,d){for(var p in c)d[p]=c[p]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?r.exports=n:(o(n,e),e.Buffer=l);function l(c,d,p){return a(c,d,p)}l.prototype=Object.create(a.prototype),o(a,l),l.from=function(c,d,p){if(typeof c=="number")throw new TypeError("Argument must not be a number");return a(c,d,p)},l.alloc=function(c,d,p){if(typeof c!="number")throw new TypeError("Argument must be a number");var g=a(c);return d!==void 0?typeof p=="string"?g.fill(d,p):g.fill(d):g.fill(0),g},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return a(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(c)}})(kf,kf.exports)),kf.exports}var Vb;function AB(){if(Vb)return Pf.exports;Vb=1;var r=65536,e=4294967295;function n(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var a=y1().Buffer,o=zr.crypto||zr.msCrypto;o&&o.getRandomValues?Pf.exports=l:Pf.exports=n;function l(c,d){if(c>e)throw new RangeError("requested too many random bytes");var p=a.allocUnsafe(c);if(c>0)if(c>r)for(var g=0;g<c;g+=r)o.getRandomValues(p.slice(g,g+r));else o.getRandomValues(p);return typeof d=="function"?et.nextTick(function(){d(null,p)}):p}return Pf.exports}var Uf={exports:{}},Bf={exports:{}},jb;function _1(){if(jb)return Bf.exports;jb=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(X,J,x){return Function.prototype.apply.call(X,J,x)},n;r&&typeof r.ownKeys=="function"?n=r.ownKeys:Object.getOwnPropertySymbols?n=function(X){return Object.getOwnPropertyNames(X).concat(Object.getOwnPropertySymbols(X))}:n=function(X){return Object.getOwnPropertyNames(X)};function a(G){console&&console.warn&&console.warn(G)}var o=Number.isNaN||function(X){return X!==X};function l(){l.init.call(this)}Bf.exports=l,Bf.exports.once=D,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var c=10;function d(G){if(typeof G!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof G)}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(G){if(typeof G!="number"||G<0||o(G))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+G+".");c=G}}),l.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(X){if(typeof X!="number"||X<0||o(X))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+X+".");return this._maxListeners=X,this};function p(G){return G._maxListeners===void 0?l.defaultMaxListeners:G._maxListeners}l.prototype.getMaxListeners=function(){return p(this)},l.prototype.emit=function(X){for(var J=[],x=1;x<arguments.length;x++)J.push(arguments[x]);var C=X==="error",O=this._events;if(O!==void 0)C=C&&O.error===void 0;else if(!C)return!1;if(C){var H;if(J.length>0&&(H=J[0]),H instanceof Error)throw H;var W=new Error("Unhandled error."+(H?" ("+H.message+")":""));throw W.context=H,W}var N=O[X];if(N===void 0)return!1;if(typeof N=="function")e(N,this,J);else for(var M=N.length,Ue=I(N,M),x=0;x<M;++x)e(Ue[x],this,J);return!0};function g(G,X,J,x){var C,O,H;if(d(J),O=G._events,O===void 0?(O=G._events=Object.create(null),G._eventsCount=0):(O.newListener!==void 0&&(G.emit("newListener",X,J.listener?J.listener:J),O=G._events),H=O[X]),H===void 0)H=O[X]=J,++G._eventsCount;else if(typeof H=="function"?H=O[X]=x?[J,H]:[H,J]:x?H.unshift(J):H.push(J),C=p(G),C>0&&H.length>C&&!H.warned){H.warned=!0;var W=new Error("Possible EventEmitter memory leak detected. "+H.length+" "+String(X)+" listeners added. Use emitter.setMaxListeners() to increase limit");W.name="MaxListenersExceededWarning",W.emitter=G,W.type=X,W.count=H.length,a(W)}return G}l.prototype.addListener=function(X,J){return g(this,X,J,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(X,J){return g(this,X,J,!0)};function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(G,X,J){var x={fired:!1,wrapFn:void 0,target:G,type:X,listener:J},C=y.bind(x);return C.listener=J,x.wrapFn=C,C}l.prototype.once=function(X,J){return d(J),this.on(X,w(this,X,J)),this},l.prototype.prependOnceListener=function(X,J){return d(J),this.prependListener(X,w(this,X,J)),this},l.prototype.removeListener=function(X,J){var x,C,O,H,W;if(d(J),C=this._events,C===void 0)return this;if(x=C[X],x===void 0)return this;if(x===J||x.listener===J)--this._eventsCount===0?this._events=Object.create(null):(delete C[X],C.removeListener&&this.emit("removeListener",X,x.listener||J));else if(typeof x!="function"){for(O=-1,H=x.length-1;H>=0;H--)if(x[H]===J||x[H].listener===J){W=x[H].listener,O=H;break}if(O<0)return this;O===0?x.shift():V(x,O),x.length===1&&(C[X]=x[0]),C.removeListener!==void 0&&this.emit("removeListener",X,W||J)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(X){var J,x,C;if(x=this._events,x===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[X]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete x[X]),this;if(arguments.length===0){var O=Object.keys(x),H;for(C=0;C<O.length;++C)H=O[C],H!=="removeListener"&&this.removeAllListeners(H);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(J=x[X],typeof J=="function")this.removeListener(X,J);else if(J!==void 0)for(C=J.length-1;C>=0;C--)this.removeListener(X,J[C]);return this};function R(G,X,J){var x=G._events;if(x===void 0)return[];var C=x[X];return C===void 0?[]:typeof C=="function"?J?[C.listener||C]:[C]:J?U(C):I(C,C.length)}l.prototype.listeners=function(X){return R(this,X,!0)},l.prototype.rawListeners=function(X){return R(this,X,!1)},l.listenerCount=function(G,X){return typeof G.listenerCount=="function"?G.listenerCount(X):z.call(G,X)},l.prototype.listenerCount=z;function z(G){var X=this._events;if(X!==void 0){var J=X[G];if(typeof J=="function")return 1;if(J!==void 0)return J.length}return 0}l.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function I(G,X){for(var J=new Array(X),x=0;x<X;++x)J[x]=G[x];return J}function V(G,X){for(;X+1<G.length;X++)G[X]=G[X+1];G.pop()}function U(G){for(var X=new Array(G.length),J=0;J<X.length;++J)X[J]=G[J].listener||G[J];return X}function D(G,X){return new Promise(function(J,x){function C(H){G.removeListener(X,O),x(H)}function O(){typeof G.removeListener=="function"&&G.removeListener("error",C),J([].slice.call(arguments))}j(G,X,O,{once:!0}),X!=="error"&&L(G,C,{once:!0})})}function L(G,X,J){typeof G.on=="function"&&j(G,"error",X,J)}function j(G,X,J,x){if(typeof G.on=="function")x.once?G.once(X,J):G.on(X,J);else if(typeof G.addEventListener=="function")G.addEventListener(X,function C(O){x.once&&G.removeEventListener(X,C),J(O)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof G)}return Bf.exports}var ym,Fb;function v1(){return Fb||(Fb=1,ym=_1().EventEmitter),ym}var _m={},vm={},Em,qb;function E1(){return qb||(qb=1,Em=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),a=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var o=42;e[n]=o;for(var l in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,n);if(d.value!==o||d.enumerable!==!0)return!1}return!0}),Em}var wm,zb;function qh(){if(zb)return wm;zb=1;var r=E1();return wm=function(){return r()&&!!Symbol.toStringTag},wm}var bm,Hb;function w1(){return Hb||(Hb=1,bm=Object),bm}var Tm,Gb;function RB(){return Gb||(Gb=1,Tm=Error),Tm}var Sm,Kb;function CB(){return Kb||(Kb=1,Sm=EvalError),Sm}var Am,Yb;function IB(){return Yb||(Yb=1,Am=RangeError),Am}var Rm,Qb;function xB(){return Qb||(Qb=1,Rm=ReferenceError),Rm}var Cm,Wb;function b1(){return Wb||(Wb=1,Cm=SyntaxError),Cm}var Im,$b;function Wu(){return $b||($b=1,Im=TypeError),Im}var xm,Xb;function OB(){return Xb||(Xb=1,xm=URIError),xm}var Om,Jb;function DB(){return Jb||(Jb=1,Om=Math.abs),Om}var Dm,Zb;function NB(){return Zb||(Zb=1,Dm=Math.floor),Dm}var Nm,eT;function MB(){return eT||(eT=1,Nm=Math.max),Nm}var Mm,tT;function PB(){return tT||(tT=1,Mm=Math.min),Mm}var Pm,nT;function kB(){return nT||(nT=1,Pm=Math.pow),Pm}var km,rT;function UB(){return rT||(rT=1,km=Math.round),km}var Um,iT;function BB(){return iT||(iT=1,Um=Number.isNaN||function(e){return e!==e}),Um}var Bm,aT;function LB(){if(aT)return Bm;aT=1;var r=BB();return Bm=function(n){return r(n)||n===0?n:n<0?-1:1},Bm}var Lm,sT;function VB(){return sT||(sT=1,Lm=Object.getOwnPropertyDescriptor),Lm}var Vm,oT;function ll(){if(oT)return Vm;oT=1;var r=VB();if(r)try{r([],"length")}catch{r=null}return Vm=r,Vm}var jm,lT;function zh(){if(lT)return jm;lT=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return jm=r,jm}var Fm,uT;function jB(){if(uT)return Fm;uT=1;var r=typeof Symbol<"u"&&Symbol,e=E1();return Fm=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Fm}var qm,cT;function T1(){return cT||(cT=1,qm=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),qm}var zm,fT;function S1(){if(fT)return zm;fT=1;var r=w1();return zm=r.getPrototypeOf||null,zm}var Hm,hT;function FB(){if(hT)return Hm;hT=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,a="[object Function]",o=function(p,g){for(var y=[],w=0;w<p.length;w+=1)y[w]=p[w];for(var R=0;R<g.length;R+=1)y[R+p.length]=g[R];return y},l=function(p,g){for(var y=[],w=g,R=0;w<p.length;w+=1,R+=1)y[R]=p[w];return y},c=function(d,p){for(var g="",y=0;y<d.length;y+=1)g+=d[y],y+1<d.length&&(g+=p);return g};return Hm=function(p){var g=this;if(typeof g!="function"||e.apply(g)!==a)throw new TypeError(r+g);for(var y=l(arguments,1),w,R=function(){if(this instanceof w){var D=g.apply(this,o(y,arguments));return Object(D)===D?D:this}return g.apply(p,o(y,arguments))},z=n(0,g.length-y.length),I=[],V=0;V<z;V++)I[V]="$"+V;if(w=Function("binder","return function ("+c(I,",")+"){ return binder.apply(this,arguments); }")(R),g.prototype){var U=function(){};U.prototype=g.prototype,w.prototype=new U,U.prototype=null}return w},Hm}var Gm,dT;function $u(){if(dT)return Gm;dT=1;var r=FB();return Gm=Function.prototype.bind||r,Gm}var Km,pT;function R_(){return pT||(pT=1,Km=Function.prototype.call),Km}var Ym,mT;function C_(){return mT||(mT=1,Ym=Function.prototype.apply),Ym}var Qm,gT;function qB(){return gT||(gT=1,Qm=typeof Reflect<"u"&&Reflect&&Reflect.apply),Qm}var Wm,yT;function A1(){if(yT)return Wm;yT=1;var r=$u(),e=C_(),n=R_(),a=qB();return Wm=a||r.call(n,e),Wm}var $m,_T;function I_(){if(_T)return $m;_T=1;var r=$u(),e=Wu(),n=R_(),a=A1();return $m=function(l){if(l.length<1||typeof l[0]!="function")throw new e("a function is required");return a(r,n,l)},$m}var Xm,vT;function zB(){if(vT)return Xm;vT=1;var r=I_(),e=ll(),n;try{n=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var a=!!n&&e&&e(Object.prototype,"__proto__"),o=Object,l=o.getPrototypeOf;return Xm=a&&typeof a.get=="function"?r([a.get]):typeof l=="function"?function(d){return l(d==null?d:o(d))}:!1,Xm}var Jm,ET;function x_(){if(ET)return Jm;ET=1;var r=T1(),e=S1(),n=zB();return Jm=r?function(o){return r(o)}:e?function(o){if(!o||typeof o!="object"&&typeof o!="function")throw new TypeError("getProto: not an object");return e(o)}:n?function(o){return n(o)}:null,Jm}var Zm,wT;function R1(){if(wT)return Zm;wT=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=$u();return Zm=n.call(r,e),Zm}var eg,bT;function C1(){if(bT)return eg;bT=1;var r,e=w1(),n=RB(),a=CB(),o=IB(),l=xB(),c=b1(),d=Wu(),p=OB(),g=DB(),y=NB(),w=MB(),R=PB(),z=kB(),I=UB(),V=LB(),U=Function,D=function(Re){try{return U('"use strict"; return ('+Re+").constructor;")()}catch{}},L=ll(),j=zh(),G=function(){throw new d},X=L?(function(){try{return arguments.callee,G}catch{try{return L(arguments,"callee").get}catch{return G}}})():G,J=jB()(),x=x_(),C=S1(),O=T1(),H=C_(),W=R_(),N={},M=typeof Uint8Array>"u"||!x?r:x(Uint8Array),Ue={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":J&&x?x([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":N,"%AsyncGenerator%":N,"%AsyncGeneratorFunction%":N,"%AsyncIteratorPrototype%":N,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":a,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":U,"%GeneratorFunction%":N,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":J&&x?x(x([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!J||!x?r:x(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":L,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":o,"%ReferenceError%":l,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!J||!x?r:x(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":J&&x?x(""[Symbol.iterator]()):r,"%Symbol%":J?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":X,"%TypedArray%":M,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":W,"%Function.prototype.apply%":H,"%Object.defineProperty%":j,"%Object.getPrototypeOf%":C,"%Math.abs%":g,"%Math.floor%":y,"%Math.max%":w,"%Math.min%":R,"%Math.pow%":z,"%Math.round%":I,"%Math.sign%":V,"%Reflect.getPrototypeOf%":O};if(x)try{null.error}catch(Re){var Be=x(x(Re));Ue["%Error.prototype%"]=Be}var le=function Re(Ne){var F;if(Ne==="%AsyncFunction%")F=D("async function () {}");else if(Ne==="%GeneratorFunction%")F=D("function* () {}");else if(Ne==="%AsyncGeneratorFunction%")F=D("async function* () {}");else if(Ne==="%AsyncGenerator%"){var K=Re("%AsyncGeneratorFunction%");K&&(F=K.prototype)}else if(Ne==="%AsyncIteratorPrototype%"){var be=Re("%AsyncGenerator%");be&&x&&(F=x(be.prototype))}return Ue[Ne]=F,F},Se={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ke=$u(),Ve=R1(),je=ke.call(W,Array.prototype.concat),re=ke.call(H,Array.prototype.splice),_e=ke.call(W,String.prototype.replace),$=ke.call(W,String.prototype.slice),ae=ke.call(W,RegExp.prototype.exec),he=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z=/\\(\\)?/g,te=function(Ne){var F=$(Ne,0,1),K=$(Ne,-1);if(F==="%"&&K!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(K==="%"&&F!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var be=[];return _e(Ne,he,function(Pe,$e,Fe,Ze){be[be.length]=Fe?_e(Ze,Z,"$1"):$e||Pe}),be},ve=function(Ne,F){var K=Ne,be;if(Ve(Se,K)&&(be=Se[K],K="%"+be[0]+"%"),Ve(Ue,K)){var Pe=Ue[K];if(Pe===N&&(Pe=le(K)),typeof Pe>"u"&&!F)throw new d("intrinsic "+Ne+" exists, but is not available. Please file an issue!");return{alias:be,name:K,value:Pe}}throw new c("intrinsic "+Ne+" does not exist!")};return eg=function(Ne,F){if(typeof Ne!="string"||Ne.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof F!="boolean")throw new d('"allowMissing" argument must be a boolean');if(ae(/^%?[^%]*%?$/,Ne)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var K=te(Ne),be=K.length>0?K[0]:"",Pe=ve("%"+be+"%",F),$e=Pe.name,Fe=Pe.value,Ze=!1,on=Pe.alias;on&&(be=on[0],re(K,je([0,1],on)));for(var Ce=1,Yt=!0;Ce<K.length;Ce+=1){var $t=K[Ce],Et=$($t,0,1),wt=$($t,-1);if((Et==='"'||Et==="'"||Et==="`"||wt==='"'||wt==="'"||wt==="`")&&Et!==wt)throw new c("property names with quotes must have matching quotes");if(($t==="constructor"||!Yt)&&(Ze=!0),be+="."+$t,$e="%"+be+"%",Ve(Ue,$e))Fe=Ue[$e];else if(Fe!=null){if(!($t in Fe)){if(!F)throw new d("base intrinsic for "+Ne+" exists, but the property is not available.");return}if(L&&Ce+1>=K.length){var yt=L(Fe,$t);Yt=!!yt,Yt&&"get"in yt&&!("originalValue"in yt.get)?Fe=yt.get:Fe=Fe[$t]}else Yt=Ve(Fe,$t),Fe=Fe[$t];Yt&&!Ze&&(Ue[$e]=Fe)}}return Fe},eg}var tg,TT;function Xu(){if(TT)return tg;TT=1;var r=C1(),e=I_(),n=e([r("%String.prototype.indexOf%")]);return tg=function(o,l){var c=r(o,!!l);return typeof c=="function"&&n(o,".prototype.")>-1?e([c]):c},tg}var ng,ST;function HB(){if(ST)return ng;ST=1;var r=qh()(),e=Xu(),n=e("Object.prototype.toString"),a=function(d){return r&&d&&typeof d=="object"&&Symbol.toStringTag in d?!1:n(d)==="[object Arguments]"},o=function(d){return a(d)?!0:d!==null&&typeof d=="object"&&"length"in d&&typeof d.length=="number"&&d.length>=0&&n(d)!=="[object Array]"&&"callee"in d&&n(d.callee)==="[object Function]"},l=(function(){return a(arguments)})();return a.isLegacyArguments=o,ng=l?a:o,ng}var rg,AT;function GB(){if(AT)return rg;AT=1;var r=Xu(),e=qh()(),n=R1(),a=ll(),o;if(e){var l=r("RegExp.prototype.exec"),c={},d=function(){throw c},p={toString:d,valueOf:d};typeof Symbol.toPrimitive=="symbol"&&(p[Symbol.toPrimitive]=d),o=function(R){if(!R||typeof R!="object")return!1;var z=a(R,"lastIndex"),I=z&&n(z,"value");if(!I)return!1;try{l(R,p)}catch(V){return V===c}}}else{var g=r("Object.prototype.toString"),y="[object RegExp]";o=function(R){return!R||typeof R!="object"&&typeof R!="function"?!1:g(R)===y}}return rg=o,rg}var ig,RT;function KB(){if(RT)return ig;RT=1;var r=Xu(),e=GB(),n=r("RegExp.prototype.exec"),a=Wu();return ig=function(l){if(!e(l))throw new a("`regex` must be a RegExp");return function(d){return n(l,d)!==null}},ig}var ag,CT;function YB(){if(CT)return ag;CT=1;const r=(function*(){}).constructor;return ag=()=>r,ag}var sg,IT;function QB(){if(IT)return sg;IT=1;var r=Xu(),e=KB(),n=e(/^\s*(?:function)?\*/),a=qh()(),o=x_(),l=r("Object.prototype.toString"),c=r("Function.prototype.toString"),d=YB();return sg=function(g){if(typeof g!="function")return!1;if(n(c(g)))return!0;if(!a){var y=l(g);return y==="[object GeneratorFunction]"}if(!o)return!1;var w=d();return w&&o(g)===w.prototype},sg}var og,xT;function WB(){if(xT)return og;xT=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,a;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw a}}),a={},e(function(){throw 42},null,n)}catch(L){L!==a&&(e=null)}else e=null;var o=/^\s*class\b/,l=function(j){try{var G=r.call(j);return o.test(G)}catch{return!1}},c=function(j){try{return l(j)?!1:(r.call(j),!0)}catch{return!1}},d=Object.prototype.toString,p="[object Object]",g="[object Function]",y="[object GeneratorFunction]",w="[object HTMLAllCollection]",R="[object HTML document.all class]",z="[object HTMLCollection]",I=typeof Symbol=="function"&&!!Symbol.toStringTag,V=!(0 in[,]),U=function(){return!1};if(typeof document=="object"){var D=document.all;d.call(D)===d.call(document.all)&&(U=function(j){if((V||!j)&&(typeof j>"u"||typeof j=="object"))try{var G=d.call(j);return(G===w||G===R||G===z||G===p)&&j("")==null}catch{}return!1})}return og=e?function(j){if(U(j))return!0;if(!j||typeof j!="function"&&typeof j!="object")return!1;try{e(j,null,n)}catch(G){if(G!==a)return!1}return!l(j)&&c(j)}:function(j){if(U(j))return!0;if(!j||typeof j!="function"&&typeof j!="object")return!1;if(I)return c(j);if(l(j))return!1;var G=d.call(j);return G!==g&&G!==y&&!/^\[object HTML/.test(G)?!1:c(j)},og}var lg,OT;function $B(){if(OT)return lg;OT=1;var r=WB(),e=Object.prototype.toString,n=Object.prototype.hasOwnProperty,a=function(p,g,y){for(var w=0,R=p.length;w<R;w++)n.call(p,w)&&(y==null?g(p[w],w,p):g.call(y,p[w],w,p))},o=function(p,g,y){for(var w=0,R=p.length;w<R;w++)y==null?g(p.charAt(w),w,p):g.call(y,p.charAt(w),w,p)},l=function(p,g,y){for(var w in p)n.call(p,w)&&(y==null?g(p[w],w,p):g.call(y,p[w],w,p))};function c(d){return e.call(d)==="[object Array]"}return lg=function(p,g,y){if(!r(g))throw new TypeError("iterator must be a function");var w;arguments.length>=3&&(w=y),c(p)?a(p,g,w):typeof p=="string"?o(p,g,w):l(p,g,w)},lg}var ug,DT;function XB(){return DT||(DT=1,ug=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),ug}var cg,NT;function JB(){if(NT)return cg;NT=1;var r=XB(),e=typeof globalThis>"u"?zr:globalThis;return cg=function(){for(var a=[],o=0;o<r.length;o++)typeof e[r[o]]=="function"&&(a[a.length]=r[o]);return a},cg}var fg={exports:{}},hg,MT;function ZB(){if(MT)return hg;MT=1;var r=zh(),e=b1(),n=Wu(),a=ll();return hg=function(l,c,d){if(!l||typeof l!="object"&&typeof l!="function")throw new n("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var p=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,y=arguments.length>5?arguments[5]:null,w=arguments.length>6?arguments[6]:!1,R=!!a&&a(l,c);if(r)r(l,c,{configurable:y===null&&R?R.configurable:!y,enumerable:p===null&&R?R.enumerable:!p,value:d,writable:g===null&&R?R.writable:!g});else if(w||!p&&!g&&!y)l[c]=d;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},hg}var dg,PT;function eL(){if(PT)return dg;PT=1;var r=zh(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},dg=e,dg}var pg,kT;function tL(){if(kT)return pg;kT=1;var r=C1(),e=ZB(),n=eL()(),a=ll(),o=Wu(),l=r("%Math.floor%");return pg=function(d,p){if(typeof d!="function")throw new o("`fn` is not a function");if(typeof p!="number"||p<0||p>4294967295||l(p)!==p)throw new o("`length` must be a positive 32-bit integer");var g=arguments.length>2&&!!arguments[2],y=!0,w=!0;if("length"in d&&a){var R=a(d,"length");R&&!R.configurable&&(y=!1),R&&!R.writable&&(w=!1)}return(y||w||!g)&&(n?e(d,"length",p,!0,!0):e(d,"length",p)),d},pg}var mg,UT;function nL(){if(UT)return mg;UT=1;var r=$u(),e=C_(),n=A1();return mg=function(){return n(r,e,arguments)},mg}var BT;function rL(){return BT||(BT=1,(function(r){var e=tL(),n=zh(),a=I_(),o=nL();r.exports=function(c){var d=a(arguments),p=c.length-(arguments.length-1);return e(d,1+(p>0?p:0),!0)},n?n(r.exports,"apply",{value:o}):r.exports.apply=o})(fg)),fg.exports}var gg,LT;function I1(){if(LT)return gg;LT=1;var r=$B(),e=JB(),n=rL(),a=Xu(),o=ll(),l=x_(),c=a("Object.prototype.toString"),d=qh()(),p=typeof globalThis>"u"?zr:globalThis,g=e(),y=a("String.prototype.slice"),w=a("Array.prototype.indexOf",!0)||function(U,D){for(var L=0;L<U.length;L+=1)if(U[L]===D)return L;return-1},R={__proto__:null};d&&o&&l?r(g,function(V){var U=new p[V];if(Symbol.toStringTag in U&&l){var D=l(U),L=o(D,Symbol.toStringTag);if(!L&&D){var j=l(D);L=o(j,Symbol.toStringTag)}if(L&&L.get){var G=n(L.get);R["$"+V]=G}}}):r(g,function(V){var U=new p[V],D=U.slice||U.set;if(D){var L=n(D);R["$"+V]=L}});var z=function(U){var D=!1;return r(R,function(L,j){if(!D)try{"$"+L(U)===j&&(D=y(j,1))}catch{}}),D},I=function(U){var D=!1;return r(R,function(L,j){if(!D)try{L(U),D=y(j,1)}catch{}}),D};return gg=function(U){if(!U||typeof U!="object")return!1;if(!d){var D=y(c(U),8,-1);return w(g,D)>-1?D:D!=="Object"?!1:I(U)}return o?z(U):null},gg}var yg,VT;function iL(){if(VT)return yg;VT=1;var r=I1();return yg=function(n){return!!r(n)},yg}var jT;function aL(){return jT||(jT=1,(function(r){var e=HB(),n=QB(),a=I1(),o=iL();function l(Ce){return Ce.call.bind(Ce)}var c=typeof BigInt<"u",d=typeof Symbol<"u",p=l(Object.prototype.toString),g=l(Number.prototype.valueOf),y=l(String.prototype.valueOf),w=l(Boolean.prototype.valueOf);if(c)var R=l(BigInt.prototype.valueOf);if(d)var z=l(Symbol.prototype.valueOf);function I(Ce,Yt){if(typeof Ce!="object")return!1;try{return Yt(Ce),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=n,r.isTypedArray=o;function V(Ce){return typeof Promise<"u"&&Ce instanceof Promise||Ce!==null&&typeof Ce=="object"&&typeof Ce.then=="function"&&typeof Ce.catch=="function"}r.isPromise=V;function U(Ce){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ce):o(Ce)||$(Ce)}r.isArrayBufferView=U;function D(Ce){return a(Ce)==="Uint8Array"}r.isUint8Array=D;function L(Ce){return a(Ce)==="Uint8ClampedArray"}r.isUint8ClampedArray=L;function j(Ce){return a(Ce)==="Uint16Array"}r.isUint16Array=j;function G(Ce){return a(Ce)==="Uint32Array"}r.isUint32Array=G;function X(Ce){return a(Ce)==="Int8Array"}r.isInt8Array=X;function J(Ce){return a(Ce)==="Int16Array"}r.isInt16Array=J;function x(Ce){return a(Ce)==="Int32Array"}r.isInt32Array=x;function C(Ce){return a(Ce)==="Float32Array"}r.isFloat32Array=C;function O(Ce){return a(Ce)==="Float64Array"}r.isFloat64Array=O;function H(Ce){return a(Ce)==="BigInt64Array"}r.isBigInt64Array=H;function W(Ce){return a(Ce)==="BigUint64Array"}r.isBigUint64Array=W;function N(Ce){return p(Ce)==="[object Map]"}N.working=typeof Map<"u"&&N(new Map);function M(Ce){return typeof Map>"u"?!1:N.working?N(Ce):Ce instanceof Map}r.isMap=M;function Ue(Ce){return p(Ce)==="[object Set]"}Ue.working=typeof Set<"u"&&Ue(new Set);function Be(Ce){return typeof Set>"u"?!1:Ue.working?Ue(Ce):Ce instanceof Set}r.isSet=Be;function le(Ce){return p(Ce)==="[object WeakMap]"}le.working=typeof WeakMap<"u"&&le(new WeakMap);function Se(Ce){return typeof WeakMap>"u"?!1:le.working?le(Ce):Ce instanceof WeakMap}r.isWeakMap=Se;function ke(Ce){return p(Ce)==="[object WeakSet]"}ke.working=typeof WeakSet<"u"&&ke(new WeakSet);function Ve(Ce){return ke(Ce)}r.isWeakSet=Ve;function je(Ce){return p(Ce)==="[object ArrayBuffer]"}je.working=typeof ArrayBuffer<"u"&&je(new ArrayBuffer);function re(Ce){return typeof ArrayBuffer>"u"?!1:je.working?je(Ce):Ce instanceof ArrayBuffer}r.isArrayBuffer=re;function _e(Ce){return p(Ce)==="[object DataView]"}_e.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&_e(new DataView(new ArrayBuffer(1),0,1));function $(Ce){return typeof DataView>"u"?!1:_e.working?_e(Ce):Ce instanceof DataView}r.isDataView=$;var ae=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function he(Ce){return p(Ce)==="[object SharedArrayBuffer]"}function Z(Ce){return typeof ae>"u"?!1:(typeof he.working>"u"&&(he.working=he(new ae)),he.working?he(Ce):Ce instanceof ae)}r.isSharedArrayBuffer=Z;function te(Ce){return p(Ce)==="[object AsyncFunction]"}r.isAsyncFunction=te;function ve(Ce){return p(Ce)==="[object Map Iterator]"}r.isMapIterator=ve;function Re(Ce){return p(Ce)==="[object Set Iterator]"}r.isSetIterator=Re;function Ne(Ce){return p(Ce)==="[object Generator]"}r.isGeneratorObject=Ne;function F(Ce){return p(Ce)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=F;function K(Ce){return I(Ce,g)}r.isNumberObject=K;function be(Ce){return I(Ce,y)}r.isStringObject=be;function Pe(Ce){return I(Ce,w)}r.isBooleanObject=Pe;function $e(Ce){return c&&I(Ce,R)}r.isBigIntObject=$e;function Fe(Ce){return d&&I(Ce,z)}r.isSymbolObject=Fe;function Ze(Ce){return K(Ce)||be(Ce)||Pe(Ce)||$e(Ce)||Fe(Ce)}r.isBoxedPrimitive=Ze;function on(Ce){return typeof Uint8Array<"u"&&(re(Ce)||Z(Ce))}r.isAnyArrayBuffer=on,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ce){Object.defineProperty(r,Ce,{enumerable:!1,value:function(){throw new Error(Ce+" is not supported in userland")}})})})(vm)),vm}var _g,FT;function sL(){return FT||(FT=1,_g=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),_g}var Lf={exports:{}},qT;function ul(){return qT||(qT=1,typeof Object.create=="function"?Lf.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Lf.exports=function(e,n){if(n){e.super_=n;var a=function(){};a.prototype=n.prototype,e.prototype=new a,e.prototype.constructor=e}}),Lf.exports}var zT;function x1(){return zT||(zT=1,(function(r){var e={},n=Object.getOwnPropertyDescriptors||function(ae){for(var he=Object.keys(ae),Z={},te=0;te<he.length;te++)Z[he[te]]=Object.getOwnPropertyDescriptor(ae,he[te]);return Z},a=/%[sdj%]/g;r.format=function($){if(!J($)){for(var ae=[],he=0;he<arguments.length;he++)ae.push(d(arguments[he]));return ae.join(" ")}for(var he=1,Z=arguments,te=Z.length,ve=String($).replace(a,function(Ne){if(Ne==="%%")return"%";if(he>=te)return Ne;switch(Ne){case"%s":return String(Z[he++]);case"%d":return Number(Z[he++]);case"%j":try{return JSON.stringify(Z[he++])}catch{return"[Circular]"}default:return Ne}}),Re=Z[he];he<te;Re=Z[++he])j(Re)||!H(Re)?ve+=" "+Re:ve+=" "+d(Re);return ve},r.deprecate=function($,ae){if(typeof et<"u"&&et.noDeprecation===!0)return $;if(typeof et>"u")return function(){return r.deprecate($,ae).apply(this,arguments)};var he=!1;function Z(){if(!he){if(et.throwDeprecation)throw new Error(ae);et.traceDeprecation?console.trace(ae):console.error(ae),he=!0}return $.apply(this,arguments)}return Z};var o={},l=/^$/;if(e.NODE_DEBUG){var c=e.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),l=new RegExp("^"+c+"$","i")}r.debuglog=function($){if($=$.toUpperCase(),!o[$])if(l.test($)){var ae=et.pid;o[$]=function(){var he=r.format.apply(r,arguments);console.error("%s %d: %s",$,ae,he)}}else o[$]=function(){};return o[$]};function d($,ae){var he={seen:[],stylize:g};return arguments.length>=3&&(he.depth=arguments[2]),arguments.length>=4&&(he.colors=arguments[3]),L(ae)?he.showHidden=ae:ae&&r._extend(he,ae),C(he.showHidden)&&(he.showHidden=!1),C(he.depth)&&(he.depth=2),C(he.colors)&&(he.colors=!1),C(he.customInspect)&&(he.customInspect=!0),he.colors&&(he.stylize=p),w(he,$,he.depth)}r.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function p($,ae){var he=d.styles[ae];return he?"\x1B["+d.colors[he][0]+"m"+$+"\x1B["+d.colors[he][1]+"m":$}function g($,ae){return $}function y($){var ae={};return $.forEach(function(he,Z){ae[he]=!0}),ae}function w($,ae,he){if($.customInspect&&ae&&M(ae.inspect)&&ae.inspect!==r.inspect&&!(ae.constructor&&ae.constructor.prototype===ae)){var Z=ae.inspect(he,$);return J(Z)||(Z=w($,Z,he)),Z}var te=R($,ae);if(te)return te;var ve=Object.keys(ae),Re=y(ve);if($.showHidden&&(ve=Object.getOwnPropertyNames(ae)),N(ae)&&(ve.indexOf("message")>=0||ve.indexOf("description")>=0))return z(ae);if(ve.length===0){if(M(ae)){var Ne=ae.name?": "+ae.name:"";return $.stylize("[Function"+Ne+"]","special")}if(O(ae))return $.stylize(RegExp.prototype.toString.call(ae),"regexp");if(W(ae))return $.stylize(Date.prototype.toString.call(ae),"date");if(N(ae))return z(ae)}var F="",K=!1,be=["{","}"];if(D(ae)&&(K=!0,be=["[","]"]),M(ae)){var Pe=ae.name?": "+ae.name:"";F=" [Function"+Pe+"]"}if(O(ae)&&(F=" "+RegExp.prototype.toString.call(ae)),W(ae)&&(F=" "+Date.prototype.toUTCString.call(ae)),N(ae)&&(F=" "+z(ae)),ve.length===0&&(!K||ae.length==0))return be[0]+F+be[1];if(he<0)return O(ae)?$.stylize(RegExp.prototype.toString.call(ae),"regexp"):$.stylize("[Object]","special");$.seen.push(ae);var $e;return K?$e=I($,ae,he,Re,ve):$e=ve.map(function(Fe){return V($,ae,he,Re,Fe,K)}),$.seen.pop(),U($e,F,be)}function R($,ae){if(C(ae))return $.stylize("undefined","undefined");if(J(ae)){var he="'"+JSON.stringify(ae).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return $.stylize(he,"string")}if(X(ae))return $.stylize(""+ae,"number");if(L(ae))return $.stylize(""+ae,"boolean");if(j(ae))return $.stylize("null","null")}function z($){return"["+Error.prototype.toString.call($)+"]"}function I($,ae,he,Z,te){for(var ve=[],Re=0,Ne=ae.length;Re<Ne;++Re)Ve(ae,String(Re))?ve.push(V($,ae,he,Z,String(Re),!0)):ve.push("");return te.forEach(function(F){F.match(/^\d+$/)||ve.push(V($,ae,he,Z,F,!0))}),ve}function V($,ae,he,Z,te,ve){var Re,Ne,F;if(F=Object.getOwnPropertyDescriptor(ae,te)||{value:ae[te]},F.get?F.set?Ne=$.stylize("[Getter/Setter]","special"):Ne=$.stylize("[Getter]","special"):F.set&&(Ne=$.stylize("[Setter]","special")),Ve(Z,te)||(Re="["+te+"]"),Ne||($.seen.indexOf(F.value)<0?(j(he)?Ne=w($,F.value,null):Ne=w($,F.value,he-1),Ne.indexOf(`
`)>-1&&(ve?Ne=Ne.split(`
`).map(function(K){return"  "+K}).join(`
`).slice(2):Ne=`
`+Ne.split(`
`).map(function(K){return"   "+K}).join(`
`))):Ne=$.stylize("[Circular]","special")),C(Re)){if(ve&&te.match(/^\d+$/))return Ne;Re=JSON.stringify(""+te),Re.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Re=Re.slice(1,-1),Re=$.stylize(Re,"name")):(Re=Re.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Re=$.stylize(Re,"string"))}return Re+": "+Ne}function U($,ae,he){var Z=$.reduce(function(te,ve){return ve.indexOf(`
`)>=0,te+ve.replace(/\u001b\[\d\d?m/g,"").length+1},0);return Z>60?he[0]+(ae===""?"":ae+`
 `)+" "+$.join(`,
  `)+" "+he[1]:he[0]+ae+" "+$.join(", ")+" "+he[1]}r.types=aL();function D($){return Array.isArray($)}r.isArray=D;function L($){return typeof $=="boolean"}r.isBoolean=L;function j($){return $===null}r.isNull=j;function G($){return $==null}r.isNullOrUndefined=G;function X($){return typeof $=="number"}r.isNumber=X;function J($){return typeof $=="string"}r.isString=J;function x($){return typeof $=="symbol"}r.isSymbol=x;function C($){return $===void 0}r.isUndefined=C;function O($){return H($)&&Be($)==="[object RegExp]"}r.isRegExp=O,r.types.isRegExp=O;function H($){return typeof $=="object"&&$!==null}r.isObject=H;function W($){return H($)&&Be($)==="[object Date]"}r.isDate=W,r.types.isDate=W;function N($){return H($)&&(Be($)==="[object Error]"||$ instanceof Error)}r.isError=N,r.types.isNativeError=N;function M($){return typeof $=="function"}r.isFunction=M;function Ue($){return $===null||typeof $=="boolean"||typeof $=="number"||typeof $=="string"||typeof $=="symbol"||typeof $>"u"}r.isPrimitive=Ue,r.isBuffer=sL();function Be($){return Object.prototype.toString.call($)}function le($){return $<10?"0"+$.toString(10):$.toString(10)}var Se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ke(){var $=new Date,ae=[le($.getHours()),le($.getMinutes()),le($.getSeconds())].join(":");return[$.getDate(),Se[$.getMonth()],ae].join(" ")}r.log=function(){console.log("%s - %s",ke(),r.format.apply(r,arguments))},r.inherits=ul(),r._extend=function($,ae){if(!ae||!H(ae))return $;for(var he=Object.keys(ae),Z=he.length;Z--;)$[he[Z]]=ae[he[Z]];return $};function Ve($,ae){return Object.prototype.hasOwnProperty.call($,ae)}var je=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(ae){if(typeof ae!="function")throw new TypeError('The "original" argument must be of type Function');if(je&&ae[je]){var he=ae[je];if(typeof he!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(he,je,{value:he,enumerable:!1,writable:!1,configurable:!0}),he}function he(){for(var Z,te,ve=new Promise(function(F,K){Z=F,te=K}),Re=[],Ne=0;Ne<arguments.length;Ne++)Re.push(arguments[Ne]);Re.push(function(F,K){F?te(F):Z(K)});try{ae.apply(this,Re)}catch(F){te(F)}return ve}return Object.setPrototypeOf(he,Object.getPrototypeOf(ae)),je&&Object.defineProperty(he,je,{value:he,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(he,n(ae))},r.promisify.custom=je;function re($,ae){if(!$){var he=new Error("Promise was rejected with a falsy value");he.reason=$,$=he}return ae($)}function _e($){if(typeof $!="function")throw new TypeError('The "original" argument must be of type Function');function ae(){for(var he=[],Z=0;Z<arguments.length;Z++)he.push(arguments[Z]);var te=he.pop();if(typeof te!="function")throw new TypeError("The last argument must be of type Function");var ve=this,Re=function(){return te.apply(ve,arguments)};$.apply(this,he).then(function(Ne){et.nextTick(Re.bind(null,null,Ne))},function(Ne){et.nextTick(re.bind(null,Ne,Re))})}return Object.setPrototypeOf(ae,Object.getPrototypeOf($)),Object.defineProperties(ae,n($)),ae}r.callbackify=_e})(_m)),_m}var vg,HT;function oL(){if(HT)return vg;HT=1;function r(I,V){var U=Object.keys(I);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(I);V&&(D=D.filter(function(L){return Object.getOwnPropertyDescriptor(I,L).enumerable})),U.push.apply(U,D)}return U}function e(I){for(var V=1;V<arguments.length;V++){var U=arguments[V]!=null?arguments[V]:{};V%2?r(Object(U),!0).forEach(function(D){n(I,D,U[D])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(U)):r(Object(U)).forEach(function(D){Object.defineProperty(I,D,Object.getOwnPropertyDescriptor(U,D))})}return I}function n(I,V,U){return V=c(V),V in I?Object.defineProperty(I,V,{value:U,enumerable:!0,configurable:!0,writable:!0}):I[V]=U,I}function a(I,V){if(!(I instanceof V))throw new TypeError("Cannot call a class as a function")}function o(I,V){for(var U=0;U<V.length;U++){var D=V[U];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(I,c(D.key),D)}}function l(I,V,U){return V&&o(I.prototype,V),Object.defineProperty(I,"prototype",{writable:!1}),I}function c(I){var V=d(I,"string");return typeof V=="symbol"?V:String(V)}function d(I,V){if(typeof I!="object"||I===null)return I;var U=I[Symbol.toPrimitive];if(U!==void 0){var D=U.call(I,V);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}var p=Qu(),g=p.Buffer,y=x1(),w=y.inspect,R=w&&w.custom||"inspect";function z(I,V,U){g.prototype.copy.call(I,V,U)}return vg=(function(){function I(){a(this,I),this.head=null,this.tail=null,this.length=0}return l(I,[{key:"push",value:function(U){var D={data:U,next:null};this.length>0?this.tail.next=D:this.head=D,this.tail=D,++this.length}},{key:"unshift",value:function(U){var D={data:U,next:this.head};this.length===0&&(this.tail=D),this.head=D,++this.length}},{key:"shift",value:function(){if(this.length!==0){var U=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,U}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(U){if(this.length===0)return"";for(var D=this.head,L=""+D.data;D=D.next;)L+=U+D.data;return L}},{key:"concat",value:function(U){if(this.length===0)return g.alloc(0);for(var D=g.allocUnsafe(U>>>0),L=this.head,j=0;L;)z(L.data,D,j),j+=L.data.length,L=L.next;return D}},{key:"consume",value:function(U,D){var L;return U<this.head.data.length?(L=this.head.data.slice(0,U),this.head.data=this.head.data.slice(U)):U===this.head.data.length?L=this.shift():L=D?this._getString(U):this._getBuffer(U),L}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(U){var D=this.head,L=1,j=D.data;for(U-=j.length;D=D.next;){var G=D.data,X=U>G.length?G.length:U;if(X===G.length?j+=G:j+=G.slice(0,U),U-=X,U===0){X===G.length?(++L,D.next?this.head=D.next:this.head=this.tail=null):(this.head=D,D.data=G.slice(X));break}++L}return this.length-=L,j}},{key:"_getBuffer",value:function(U){var D=g.allocUnsafe(U),L=this.head,j=1;for(L.data.copy(D),U-=L.data.length;L=L.next;){var G=L.data,X=U>G.length?G.length:U;if(G.copy(D,D.length-U,0,X),U-=X,U===0){X===G.length?(++j,L.next?this.head=L.next:this.head=this.tail=null):(this.head=L,L.data=G.slice(X));break}++j}return this.length-=j,D}},{key:R,value:function(U,D){return w(this,e(e({},D),{},{depth:0,customInspect:!1}))}}]),I})(),vg}var Eg,GT;function O1(){if(GT)return Eg;GT=1;function r(c,d){var p=this,g=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return g||y?(d?d(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,et.nextTick(o,this,c)):et.nextTick(o,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(w){!d&&w?p._writableState?p._writableState.errorEmitted?et.nextTick(n,p):(p._writableState.errorEmitted=!0,et.nextTick(e,p,w)):et.nextTick(e,p,w):d?(et.nextTick(n,p),d(w)):et.nextTick(n,p)}),this)}function e(c,d){o(c,d),n(c)}function n(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(c,d){c.emit("error",d)}function l(c,d){var p=c._readableState,g=c._writableState;p&&p.autoDestroy||g&&g.autoDestroy?c.destroy(d):c.emit("error",d)}return Eg={destroy:r,undestroy:a,errorOrDestroy:l},Eg}var wg={},KT;function cl(){if(KT)return wg;KT=1;function r(d,p){d.prototype=Object.create(p.prototype),d.prototype.constructor=d,d.__proto__=p}var e={};function n(d,p,g){g||(g=Error);function y(R,z,I){return typeof p=="string"?p:p(R,z,I)}var w=(function(R){r(z,R);function z(I,V,U){return R.call(this,y(I,V,U))||this}return z})(g);w.prototype.name=g.name,w.prototype.code=d,e[d]=w}function a(d,p){if(Array.isArray(d)){var g=d.length;return d=d.map(function(y){return String(y)}),g>2?"one of ".concat(p," ").concat(d.slice(0,g-1).join(", "),", or ")+d[g-1]:g===2?"one of ".concat(p," ").concat(d[0]," or ").concat(d[1]):"of ".concat(p," ").concat(d[0])}else return"of ".concat(p," ").concat(String(d))}function o(d,p,g){return d.substr(0,p.length)===p}function l(d,p,g){return(g===void 0||g>d.length)&&(g=d.length),d.substring(g-p.length,g)===p}function c(d,p,g){return typeof g!="number"&&(g=0),g+p.length>d.length?!1:d.indexOf(p,g)!==-1}return n("ERR_INVALID_OPT_VALUE",function(d,p){return'The value "'+p+'" is invalid for option "'+d+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(d,p,g){var y;typeof p=="string"&&o(p,"not ")?(y="must not be",p=p.replace(/^not /,"")):y="must be";var w;if(l(d," argument"))w="The ".concat(d," ").concat(y," ").concat(a(p,"type"));else{var R=c(d,".")?"property":"argument";w='The "'.concat(d,'" ').concat(R," ").concat(y," ").concat(a(p,"type"))}return w+=". Received type ".concat(typeof g),w},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(d){return"The "+d+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(d){return"Cannot call "+d+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(d){return"Unknown encoding: "+d},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),wg.codes=e,wg}var bg,YT;function D1(){if(YT)return bg;YT=1;var r=cl().codes.ERR_INVALID_OPT_VALUE;function e(a,o,l){return a.highWaterMark!=null?a.highWaterMark:o?a[l]:null}function n(a,o,l,c){var d=e(o,c,l);if(d!=null){if(!(isFinite(d)&&Math.floor(d)===d)||d<0){var p=c?l:"highWaterMark";throw new r(p,d)}return Math.floor(d)}return a.objectMode?16:16*1024}return bg={getHighWaterMark:n},bg}var Tg,QT;function lL(){if(QT)return Tg;QT=1,Tg=r;function r(n,a){if(e("noDeprecation"))return n;var o=!1;function l(){if(!o){if(e("throwDeprecation"))throw new Error(a);e("traceDeprecation")?console.trace(a):console.warn(a),o=!0}return n.apply(this,arguments)}return l}function e(n){try{if(!zr.localStorage)return!1}catch{return!1}var a=zr.localStorage[n];return a==null?!1:String(a).toLowerCase()==="true"}return Tg}var Sg,WT;function N1(){if(WT)return Sg;WT=1,Sg=C;function r(Z){var te=this;this.next=null,this.entry=null,this.finish=function(){he(te,Z)}}var e;C.WritableState=J;var n={deprecate:lL()},a=v1(),o=Qu().Buffer,l=(typeof zr<"u"?zr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(Z){return o.from(Z)}function d(Z){return o.isBuffer(Z)||Z instanceof l}var p=O1(),g=D1(),y=g.getHighWaterMark,w=cl().codes,R=w.ERR_INVALID_ARG_TYPE,z=w.ERR_METHOD_NOT_IMPLEMENTED,I=w.ERR_MULTIPLE_CALLBACK,V=w.ERR_STREAM_CANNOT_PIPE,U=w.ERR_STREAM_DESTROYED,D=w.ERR_STREAM_NULL_VALUES,L=w.ERR_STREAM_WRITE_AFTER_END,j=w.ERR_UNKNOWN_ENCODING,G=p.errorOrDestroy;ul()(C,a);function X(){}function J(Z,te,ve){e=e||Jo(),Z=Z||{},typeof ve!="boolean"&&(ve=te instanceof e),this.objectMode=!!Z.objectMode,ve&&(this.objectMode=this.objectMode||!!Z.writableObjectMode),this.highWaterMark=y(this,Z,"writableHighWaterMark",ve),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Re=Z.decodeStrings===!1;this.decodeStrings=!Re,this.defaultEncoding=Z.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ne){le(te,Ne)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Z.emitClose!==!1,this.autoDestroy=!!Z.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}J.prototype.getBuffer=function(){for(var te=this.bufferedRequest,ve=[];te;)ve.push(te),te=te.next;return ve},(function(){try{Object.defineProperty(J.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var x;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(te){return x.call(this,te)?!0:this!==C?!1:te&&te._writableState instanceof J}})):x=function(te){return te instanceof this};function C(Z){e=e||Jo();var te=this instanceof e;if(!te&&!x.call(C,this))return new C(Z);this._writableState=new J(Z,this,te),this.writable=!0,Z&&(typeof Z.write=="function"&&(this._write=Z.write),typeof Z.writev=="function"&&(this._writev=Z.writev),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.final=="function"&&(this._final=Z.final)),a.call(this)}C.prototype.pipe=function(){G(this,new V)};function O(Z,te){var ve=new L;G(Z,ve),et.nextTick(te,ve)}function H(Z,te,ve,Re){var Ne;return ve===null?Ne=new D:typeof ve!="string"&&!te.objectMode&&(Ne=new R("chunk",["string","Buffer"],ve)),Ne?(G(Z,Ne),et.nextTick(Re,Ne),!1):!0}C.prototype.write=function(Z,te,ve){var Re=this._writableState,Ne=!1,F=!Re.objectMode&&d(Z);return F&&!o.isBuffer(Z)&&(Z=c(Z)),typeof te=="function"&&(ve=te,te=null),F?te="buffer":te||(te=Re.defaultEncoding),typeof ve!="function"&&(ve=X),Re.ending?O(this,ve):(F||H(this,Re,Z,ve))&&(Re.pendingcb++,Ne=N(this,Re,F,Z,te,ve)),Ne},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var Z=this._writableState;Z.corked&&(Z.corked--,!Z.writing&&!Z.corked&&!Z.bufferProcessing&&Z.bufferedRequest&&Ve(this,Z))},C.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new j(te);return this._writableState.defaultEncoding=te,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function W(Z,te,ve){return!Z.objectMode&&Z.decodeStrings!==!1&&typeof te=="string"&&(te=o.from(te,ve)),te}Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function N(Z,te,ve,Re,Ne,F){if(!ve){var K=W(te,Re,Ne);Re!==K&&(ve=!0,Ne="buffer",Re=K)}var be=te.objectMode?1:Re.length;te.length+=be;var Pe=te.length<te.highWaterMark;if(Pe||(te.needDrain=!0),te.writing||te.corked){var $e=te.lastBufferedRequest;te.lastBufferedRequest={chunk:Re,encoding:Ne,isBuf:ve,callback:F,next:null},$e?$e.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else M(Z,te,!1,be,Re,Ne,F);return Pe}function M(Z,te,ve,Re,Ne,F,K){te.writelen=Re,te.writecb=K,te.writing=!0,te.sync=!0,te.destroyed?te.onwrite(new U("write")):ve?Z._writev(Ne,te.onwrite):Z._write(Ne,F,te.onwrite),te.sync=!1}function Ue(Z,te,ve,Re,Ne){--te.pendingcb,ve?(et.nextTick(Ne,Re),et.nextTick($,Z,te),Z._writableState.errorEmitted=!0,G(Z,Re)):(Ne(Re),Z._writableState.errorEmitted=!0,G(Z,Re),$(Z,te))}function Be(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}function le(Z,te){var ve=Z._writableState,Re=ve.sync,Ne=ve.writecb;if(typeof Ne!="function")throw new I;if(Be(ve),te)Ue(Z,ve,Re,te,Ne);else{var F=je(ve)||Z.destroyed;!F&&!ve.corked&&!ve.bufferProcessing&&ve.bufferedRequest&&Ve(Z,ve),Re?et.nextTick(Se,Z,ve,F,Ne):Se(Z,ve,F,Ne)}}function Se(Z,te,ve,Re){ve||ke(Z,te),te.pendingcb--,Re(),$(Z,te)}function ke(Z,te){te.length===0&&te.needDrain&&(te.needDrain=!1,Z.emit("drain"))}function Ve(Z,te){te.bufferProcessing=!0;var ve=te.bufferedRequest;if(Z._writev&&ve&&ve.next){var Re=te.bufferedRequestCount,Ne=new Array(Re),F=te.corkedRequestsFree;F.entry=ve;for(var K=0,be=!0;ve;)Ne[K]=ve,ve.isBuf||(be=!1),ve=ve.next,K+=1;Ne.allBuffers=be,M(Z,te,!0,te.length,Ne,"",F.finish),te.pendingcb++,te.lastBufferedRequest=null,F.next?(te.corkedRequestsFree=F.next,F.next=null):te.corkedRequestsFree=new r(te),te.bufferedRequestCount=0}else{for(;ve;){var Pe=ve.chunk,$e=ve.encoding,Fe=ve.callback,Ze=te.objectMode?1:Pe.length;if(M(Z,te,!1,Ze,Pe,$e,Fe),ve=ve.next,te.bufferedRequestCount--,te.writing)break}ve===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=ve,te.bufferProcessing=!1}C.prototype._write=function(Z,te,ve){ve(new z("_write()"))},C.prototype._writev=null,C.prototype.end=function(Z,te,ve){var Re=this._writableState;return typeof Z=="function"?(ve=Z,Z=null,te=null):typeof te=="function"&&(ve=te,te=null),Z!=null&&this.write(Z,te),Re.corked&&(Re.corked=1,this.uncork()),Re.ending||ae(this,Re,ve),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function je(Z){return Z.ending&&Z.length===0&&Z.bufferedRequest===null&&!Z.finished&&!Z.writing}function re(Z,te){Z._final(function(ve){te.pendingcb--,ve&&G(Z,ve),te.prefinished=!0,Z.emit("prefinish"),$(Z,te)})}function _e(Z,te){!te.prefinished&&!te.finalCalled&&(typeof Z._final=="function"&&!te.destroyed?(te.pendingcb++,te.finalCalled=!0,et.nextTick(re,Z,te)):(te.prefinished=!0,Z.emit("prefinish")))}function $(Z,te){var ve=je(te);if(ve&&(_e(Z,te),te.pendingcb===0&&(te.finished=!0,Z.emit("finish"),te.autoDestroy))){var Re=Z._readableState;(!Re||Re.autoDestroy&&Re.endEmitted)&&Z.destroy()}return ve}function ae(Z,te,ve){te.ending=!0,$(Z,te),ve&&(te.finished?et.nextTick(ve):Z.once("finish",ve)),te.ended=!0,Z.writable=!1}function he(Z,te,ve){var Re=Z.entry;for(Z.entry=null;Re;){var Ne=Re.callback;te.pendingcb--,Ne(ve),Re=Re.next}te.corkedRequestsFree.next=Z}return Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(te){this._writableState&&(this._writableState.destroyed=te)}}),C.prototype.destroy=p.destroy,C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(Z,te){te(Z)},Sg}var Ag,$T;function Jo(){if($T)return Ag;$T=1;var r=Object.keys||function(g){var y=[];for(var w in g)y.push(w);return y};Ag=c;var e=M1(),n=N1();ul()(c,e);for(var a=r(n.prototype),o=0;o<a.length;o++){var l=a[o];c.prototype[l]||(c.prototype[l]=n.prototype[l])}function c(g){if(!(this instanceof c))return new c(g);e.call(this,g),n.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function d(){this._writableState.ended||et.nextTick(p,this)}function p(g){g.end()}return Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),Ag}var Rg={},XT;function JT(){if(XT)return Rg;XT=1;var r=y1().Buffer,e=r.isEncoding||function(D){switch(D=""+D,D&&D.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(D){if(!D)return"utf8";for(var L;;)switch(D){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return D;default:if(L)return;D=(""+D).toLowerCase(),L=!0}}function a(D){var L=n(D);if(typeof L!="string"&&(r.isEncoding===e||!e(D)))throw new Error("Unknown encoding: "+D);return L||D}Rg.StringDecoder=o;function o(D){this.encoding=a(D);var L;switch(this.encoding){case"utf16le":this.text=w,this.end=R,L=4;break;case"utf8":this.fillLast=p,L=4;break;case"base64":this.text=z,this.end=I,L=3;break;default:this.write=V,this.end=U;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(L)}o.prototype.write=function(D){if(D.length===0)return"";var L,j;if(this.lastNeed){if(L=this.fillLast(D),L===void 0)return"";j=this.lastNeed,this.lastNeed=0}else j=0;return j<D.length?L?L+this.text(D,j):this.text(D,j):L||""},o.prototype.end=y,o.prototype.text=g,o.prototype.fillLast=function(D){if(this.lastNeed<=D.length)return D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,this.lastTotal-this.lastNeed,0,D.length),this.lastNeed-=D.length};function l(D){return D<=127?0:D>>5===6?2:D>>4===14?3:D>>3===30?4:D>>6===2?-1:-2}function c(D,L,j){var G=L.length-1;if(G<j)return 0;var X=l(L[G]);return X>=0?(X>0&&(D.lastNeed=X-1),X):--G<j||X===-2?0:(X=l(L[G]),X>=0?(X>0&&(D.lastNeed=X-2),X):--G<j||X===-2?0:(X=l(L[G]),X>=0?(X>0&&(X===2?X=0:D.lastNeed=X-3),X):0))}function d(D,L,j){if((L[0]&192)!==128)return D.lastNeed=0,"";if(D.lastNeed>1&&L.length>1){if((L[1]&192)!==128)return D.lastNeed=1,"";if(D.lastNeed>2&&L.length>2&&(L[2]&192)!==128)return D.lastNeed=2,""}}function p(D){var L=this.lastTotal-this.lastNeed,j=d(this,D);if(j!==void 0)return j;if(this.lastNeed<=D.length)return D.copy(this.lastChar,L,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);D.copy(this.lastChar,L,0,D.length),this.lastNeed-=D.length}function g(D,L){var j=c(this,D,L);if(!this.lastNeed)return D.toString("utf8",L);this.lastTotal=j;var G=D.length-(j-this.lastNeed);return D.copy(this.lastChar,0,G),D.toString("utf8",L,G)}function y(D){var L=D&&D.length?this.write(D):"";return this.lastNeed?L+"":L}function w(D,L){if((D.length-L)%2===0){var j=D.toString("utf16le",L);if(j){var G=j.charCodeAt(j.length-1);if(G>=55296&&G<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1],j.slice(0,-1)}return j}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=D[D.length-1],D.toString("utf16le",L,D.length-1)}function R(D){var L=D&&D.length?this.write(D):"";if(this.lastNeed){var j=this.lastTotal-this.lastNeed;return L+this.lastChar.toString("utf16le",0,j)}return L}function z(D,L){var j=(D.length-L)%3;return j===0?D.toString("base64",L):(this.lastNeed=3-j,this.lastTotal=3,j===1?this.lastChar[0]=D[D.length-1]:(this.lastChar[0]=D[D.length-2],this.lastChar[1]=D[D.length-1]),D.toString("base64",L,D.length-j))}function I(D){var L=D&&D.length?this.write(D):"";return this.lastNeed?L+this.lastChar.toString("base64",0,3-this.lastNeed):L}function V(D){return D.toString(this.encoding)}function U(D){return D&&D.length?this.write(D):""}return Rg}var Cg,ZT;function O_(){if(ZT)return Cg;ZT=1;var r=cl().codes.ERR_STREAM_PREMATURE_CLOSE;function e(l){var c=!1;return function(){if(!c){c=!0;for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];l.apply(this,p)}}}function n(){}function a(l){return l.setHeader&&typeof l.abort=="function"}function o(l,c,d){if(typeof c=="function")return o(l,null,c);c||(c={}),d=e(d||n);var p=c.readable||c.readable!==!1&&l.readable,g=c.writable||c.writable!==!1&&l.writable,y=function(){l.writable||R()},w=l._writableState&&l._writableState.finished,R=function(){g=!1,w=!0,p||d.call(l)},z=l._readableState&&l._readableState.endEmitted,I=function(){p=!1,z=!0,g||d.call(l)},V=function(j){d.call(l,j)},U=function(){var j;if(p&&!z)return(!l._readableState||!l._readableState.ended)&&(j=new r),d.call(l,j);if(g&&!w)return(!l._writableState||!l._writableState.ended)&&(j=new r),d.call(l,j)},D=function(){l.req.on("finish",R)};return a(l)?(l.on("complete",R),l.on("abort",U),l.req?D():l.on("request",D)):g&&!l._writableState&&(l.on("end",y),l.on("close",y)),l.on("end",I),l.on("finish",R),c.error!==!1&&l.on("error",V),l.on("close",U),function(){l.removeListener("complete",R),l.removeListener("abort",U),l.removeListener("request",D),l.req&&l.req.removeListener("finish",R),l.removeListener("end",y),l.removeListener("close",y),l.removeListener("finish",R),l.removeListener("end",I),l.removeListener("error",V),l.removeListener("close",U)}}return Cg=o,Cg}var Ig,eS;function uL(){if(eS)return Ig;eS=1;var r;function e(j,G,X){return G=n(G),G in j?Object.defineProperty(j,G,{value:X,enumerable:!0,configurable:!0,writable:!0}):j[G]=X,j}function n(j){var G=a(j,"string");return typeof G=="symbol"?G:String(G)}function a(j,G){if(typeof j!="object"||j===null)return j;var X=j[Symbol.toPrimitive];if(X!==void 0){var J=X.call(j,G);if(typeof J!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(G==="string"?String:Number)(j)}var o=O_(),l=Symbol("lastResolve"),c=Symbol("lastReject"),d=Symbol("error"),p=Symbol("ended"),g=Symbol("lastPromise"),y=Symbol("handlePromise"),w=Symbol("stream");function R(j,G){return{value:j,done:G}}function z(j){var G=j[l];if(G!==null){var X=j[w].read();X!==null&&(j[g]=null,j[l]=null,j[c]=null,G(R(X,!1)))}}function I(j){et.nextTick(z,j)}function V(j,G){return function(X,J){j.then(function(){if(G[p]){X(R(void 0,!0));return}G[y](X,J)},J)}}var U=Object.getPrototypeOf(function(){}),D=Object.setPrototypeOf((r={get stream(){return this[w]},next:function(){var G=this,X=this[d];if(X!==null)return Promise.reject(X);if(this[p])return Promise.resolve(R(void 0,!0));if(this[w].destroyed)return new Promise(function(O,H){et.nextTick(function(){G[d]?H(G[d]):O(R(void 0,!0))})});var J=this[g],x;if(J)x=new Promise(V(J,this));else{var C=this[w].read();if(C!==null)return Promise.resolve(R(C,!1));x=new Promise(this[y])}return this[g]=x,x}},e(r,Symbol.asyncIterator,function(){return this}),e(r,"return",function(){var G=this;return new Promise(function(X,J){G[w].destroy(null,function(x){if(x){J(x);return}X(R(void 0,!0))})})}),r),U),L=function(G){var X,J=Object.create(D,(X={},e(X,w,{value:G,writable:!0}),e(X,l,{value:null,writable:!0}),e(X,c,{value:null,writable:!0}),e(X,d,{value:null,writable:!0}),e(X,p,{value:G._readableState.endEmitted,writable:!0}),e(X,y,{value:function(C,O){var H=J[w].read();H?(J[g]=null,J[l]=null,J[c]=null,C(R(H,!1))):(J[l]=C,J[c]=O)},writable:!0}),X));return J[g]=null,o(G,function(x){if(x&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"){var C=J[c];C!==null&&(J[g]=null,J[l]=null,J[c]=null,C(x)),J[d]=x;return}var O=J[l];O!==null&&(J[g]=null,J[l]=null,J[c]=null,O(R(void 0,!0))),J[p]=!0}),G.on("readable",I.bind(null,J)),J};return Ig=L,Ig}var xg,tS;function cL(){return tS||(tS=1,xg=function(){throw new Error("Readable.from is not available in the browser")}),xg}var Og,nS;function M1(){if(nS)return Og;nS=1,Og=O;var r;O.ReadableState=C,_1().EventEmitter;var e=function(K,be){return K.listeners(be).length},n=v1(),a=Qu().Buffer,o=(typeof zr<"u"?zr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function l(F){return a.from(F)}function c(F){return a.isBuffer(F)||F instanceof o}var d=x1(),p;d&&d.debuglog?p=d.debuglog("stream"):p=function(){};var g=oL(),y=O1(),w=D1(),R=w.getHighWaterMark,z=cl().codes,I=z.ERR_INVALID_ARG_TYPE,V=z.ERR_STREAM_PUSH_AFTER_EOF,U=z.ERR_METHOD_NOT_IMPLEMENTED,D=z.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,L,j,G;ul()(O,n);var X=y.errorOrDestroy,J=["error","close","destroy","pause","resume"];function x(F,K,be){if(typeof F.prependListener=="function")return F.prependListener(K,be);!F._events||!F._events[K]?F.on(K,be):Array.isArray(F._events[K])?F._events[K].unshift(be):F._events[K]=[be,F._events[K]]}function C(F,K,be){r=r||Jo(),F=F||{},typeof be!="boolean"&&(be=K instanceof r),this.objectMode=!!F.objectMode,be&&(this.objectMode=this.objectMode||!!F.readableObjectMode),this.highWaterMark=R(this,F,"readableHighWaterMark",be),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=F.emitClose!==!1,this.autoDestroy=!!F.autoDestroy,this.destroyed=!1,this.defaultEncoding=F.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,F.encoding&&(L||(L=JT().StringDecoder),this.decoder=new L(F.encoding),this.encoding=F.encoding)}function O(F){if(r=r||Jo(),!(this instanceof O))return new O(F);var K=this instanceof r;this._readableState=new C(F,this,K),this.readable=!0,F&&(typeof F.read=="function"&&(this._read=F.read),typeof F.destroy=="function"&&(this._destroy=F.destroy)),n.call(this)}Object.defineProperty(O.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(K){this._readableState&&(this._readableState.destroyed=K)}}),O.prototype.destroy=y.destroy,O.prototype._undestroy=y.undestroy,O.prototype._destroy=function(F,K){K(F)},O.prototype.push=function(F,K){var be=this._readableState,Pe;return be.objectMode?Pe=!0:typeof F=="string"&&(K=K||be.defaultEncoding,K!==be.encoding&&(F=a.from(F,K),K=""),Pe=!0),H(this,F,K,!1,Pe)},O.prototype.unshift=function(F){return H(this,F,null,!0,!1)};function H(F,K,be,Pe,$e){p("readableAddChunk",K);var Fe=F._readableState;if(K===null)Fe.reading=!1,le(F,Fe);else{var Ze;if($e||(Ze=N(Fe,K)),Ze)X(F,Ze);else if(Fe.objectMode||K&&K.length>0)if(typeof K!="string"&&!Fe.objectMode&&Object.getPrototypeOf(K)!==a.prototype&&(K=l(K)),Pe)Fe.endEmitted?X(F,new D):W(F,Fe,K,!0);else if(Fe.ended)X(F,new V);else{if(Fe.destroyed)return!1;Fe.reading=!1,Fe.decoder&&!be?(K=Fe.decoder.write(K),Fe.objectMode||K.length!==0?W(F,Fe,K,!1):Ve(F,Fe)):W(F,Fe,K,!1)}else Pe||(Fe.reading=!1,Ve(F,Fe))}return!Fe.ended&&(Fe.length<Fe.highWaterMark||Fe.length===0)}function W(F,K,be,Pe){K.flowing&&K.length===0&&!K.sync?(K.awaitDrain=0,F.emit("data",be)):(K.length+=K.objectMode?1:be.length,Pe?K.buffer.unshift(be):K.buffer.push(be),K.needReadable&&Se(F)),Ve(F,K)}function N(F,K){var be;return!c(K)&&typeof K!="string"&&K!==void 0&&!F.objectMode&&(be=new I("chunk",["string","Buffer","Uint8Array"],K)),be}O.prototype.isPaused=function(){return this._readableState.flowing===!1},O.prototype.setEncoding=function(F){L||(L=JT().StringDecoder);var K=new L(F);this._readableState.decoder=K,this._readableState.encoding=this._readableState.decoder.encoding;for(var be=this._readableState.buffer.head,Pe="";be!==null;)Pe+=K.write(be.data),be=be.next;return this._readableState.buffer.clear(),Pe!==""&&this._readableState.buffer.push(Pe),this._readableState.length=Pe.length,this};var M=1073741824;function Ue(F){return F>=M?F=M:(F--,F|=F>>>1,F|=F>>>2,F|=F>>>4,F|=F>>>8,F|=F>>>16,F++),F}function Be(F,K){return F<=0||K.length===0&&K.ended?0:K.objectMode?1:F!==F?K.flowing&&K.length?K.buffer.head.data.length:K.length:(F>K.highWaterMark&&(K.highWaterMark=Ue(F)),F<=K.length?F:K.ended?K.length:(K.needReadable=!0,0))}O.prototype.read=function(F){p("read",F),F=parseInt(F,10);var K=this._readableState,be=F;if(F!==0&&(K.emittedReadable=!1),F===0&&K.needReadable&&((K.highWaterMark!==0?K.length>=K.highWaterMark:K.length>0)||K.ended))return p("read: emitReadable",K.length,K.ended),K.length===0&&K.ended?ve(this):Se(this),null;if(F=Be(F,K),F===0&&K.ended)return K.length===0&&ve(this),null;var Pe=K.needReadable;p("need readable",Pe),(K.length===0||K.length-F<K.highWaterMark)&&(Pe=!0,p("length less than watermark",Pe)),K.ended||K.reading?(Pe=!1,p("reading or ended",Pe)):Pe&&(p("do read"),K.reading=!0,K.sync=!0,K.length===0&&(K.needReadable=!0),this._read(K.highWaterMark),K.sync=!1,K.reading||(F=Be(be,K)));var $e;return F>0?$e=te(F,K):$e=null,$e===null?(K.needReadable=K.length<=K.highWaterMark,F=0):(K.length-=F,K.awaitDrain=0),K.length===0&&(K.ended||(K.needReadable=!0),be!==F&&K.ended&&ve(this)),$e!==null&&this.emit("data",$e),$e};function le(F,K){if(p("onEofChunk"),!K.ended){if(K.decoder){var be=K.decoder.end();be&&be.length&&(K.buffer.push(be),K.length+=K.objectMode?1:be.length)}K.ended=!0,K.sync?Se(F):(K.needReadable=!1,K.emittedReadable||(K.emittedReadable=!0,ke(F)))}}function Se(F){var K=F._readableState;p("emitReadable",K.needReadable,K.emittedReadable),K.needReadable=!1,K.emittedReadable||(p("emitReadable",K.flowing),K.emittedReadable=!0,et.nextTick(ke,F))}function ke(F){var K=F._readableState;p("emitReadable_",K.destroyed,K.length,K.ended),!K.destroyed&&(K.length||K.ended)&&(F.emit("readable"),K.emittedReadable=!1),K.needReadable=!K.flowing&&!K.ended&&K.length<=K.highWaterMark,Z(F)}function Ve(F,K){K.readingMore||(K.readingMore=!0,et.nextTick(je,F,K))}function je(F,K){for(;!K.reading&&!K.ended&&(K.length<K.highWaterMark||K.flowing&&K.length===0);){var be=K.length;if(p("maybeReadMore read 0"),F.read(0),be===K.length)break}K.readingMore=!1}O.prototype._read=function(F){X(this,new U("_read()"))},O.prototype.pipe=function(F,K){var be=this,Pe=this._readableState;switch(Pe.pipesCount){case 0:Pe.pipes=F;break;case 1:Pe.pipes=[Pe.pipes,F];break;default:Pe.pipes.push(F);break}Pe.pipesCount+=1,p("pipe count=%d opts=%j",Pe.pipesCount,K);var $e=(!K||K.end!==!1)&&F!==et.stdout&&F!==et.stderr,Fe=$e?on:bt;Pe.endEmitted?et.nextTick(Fe):be.once("end",Fe),F.on("unpipe",Ze);function Ze(Nt,Lt){p("onunpipe"),Nt===be&&Lt&&Lt.hasUnpiped===!1&&(Lt.hasUnpiped=!0,$t())}function on(){p("onend"),F.end()}var Ce=re(be);F.on("drain",Ce);var Yt=!1;function $t(){p("cleanup"),F.removeListener("close",yt),F.removeListener("finish",Zt),F.removeListener("drain",Ce),F.removeListener("error",wt),F.removeListener("unpipe",Ze),be.removeListener("end",on),be.removeListener("end",bt),be.removeListener("data",Et),Yt=!0,Pe.awaitDrain&&(!F._writableState||F._writableState.needDrain)&&Ce()}be.on("data",Et);function Et(Nt){p("ondata");var Lt=F.write(Nt);p("dest.write",Lt),Lt===!1&&((Pe.pipesCount===1&&Pe.pipes===F||Pe.pipesCount>1&&Ne(Pe.pipes,F)!==-1)&&!Yt&&(p("false write response, pause",Pe.awaitDrain),Pe.awaitDrain++),be.pause())}function wt(Nt){p("onerror",Nt),bt(),F.removeListener("error",wt),e(F,"error")===0&&X(F,Nt)}x(F,"error",wt);function yt(){F.removeListener("finish",Zt),bt()}F.once("close",yt);function Zt(){p("onfinish"),F.removeListener("close",yt),bt()}F.once("finish",Zt);function bt(){p("unpipe"),be.unpipe(F)}return F.emit("pipe",be),Pe.flowing||(p("pipe resume"),be.resume()),F};function re(F){return function(){var be=F._readableState;p("pipeOnDrain",be.awaitDrain),be.awaitDrain&&be.awaitDrain--,be.awaitDrain===0&&e(F,"data")&&(be.flowing=!0,Z(F))}}O.prototype.unpipe=function(F){var K=this._readableState,be={hasUnpiped:!1};if(K.pipesCount===0)return this;if(K.pipesCount===1)return F&&F!==K.pipes?this:(F||(F=K.pipes),K.pipes=null,K.pipesCount=0,K.flowing=!1,F&&F.emit("unpipe",this,be),this);if(!F){var Pe=K.pipes,$e=K.pipesCount;K.pipes=null,K.pipesCount=0,K.flowing=!1;for(var Fe=0;Fe<$e;Fe++)Pe[Fe].emit("unpipe",this,{hasUnpiped:!1});return this}var Ze=Ne(K.pipes,F);return Ze===-1?this:(K.pipes.splice(Ze,1),K.pipesCount-=1,K.pipesCount===1&&(K.pipes=K.pipes[0]),F.emit("unpipe",this,be),this)},O.prototype.on=function(F,K){var be=n.prototype.on.call(this,F,K),Pe=this._readableState;return F==="data"?(Pe.readableListening=this.listenerCount("readable")>0,Pe.flowing!==!1&&this.resume()):F==="readable"&&!Pe.endEmitted&&!Pe.readableListening&&(Pe.readableListening=Pe.needReadable=!0,Pe.flowing=!1,Pe.emittedReadable=!1,p("on readable",Pe.length,Pe.reading),Pe.length?Se(this):Pe.reading||et.nextTick($,this)),be},O.prototype.addListener=O.prototype.on,O.prototype.removeListener=function(F,K){var be=n.prototype.removeListener.call(this,F,K);return F==="readable"&&et.nextTick(_e,this),be},O.prototype.removeAllListeners=function(F){var K=n.prototype.removeAllListeners.apply(this,arguments);return(F==="readable"||F===void 0)&&et.nextTick(_e,this),K};function _e(F){var K=F._readableState;K.readableListening=F.listenerCount("readable")>0,K.resumeScheduled&&!K.paused?K.flowing=!0:F.listenerCount("data")>0&&F.resume()}function $(F){p("readable nexttick read 0"),F.read(0)}O.prototype.resume=function(){var F=this._readableState;return F.flowing||(p("resume"),F.flowing=!F.readableListening,ae(this,F)),F.paused=!1,this};function ae(F,K){K.resumeScheduled||(K.resumeScheduled=!0,et.nextTick(he,F,K))}function he(F,K){p("resume",K.reading),K.reading||F.read(0),K.resumeScheduled=!1,F.emit("resume"),Z(F),K.flowing&&!K.reading&&F.read(0)}O.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Z(F){var K=F._readableState;for(p("flow",K.flowing);K.flowing&&F.read()!==null;);}O.prototype.wrap=function(F){var K=this,be=this._readableState,Pe=!1;F.on("end",function(){if(p("wrapped end"),be.decoder&&!be.ended){var Ze=be.decoder.end();Ze&&Ze.length&&K.push(Ze)}K.push(null)}),F.on("data",function(Ze){if(p("wrapped data"),be.decoder&&(Ze=be.decoder.write(Ze)),!(be.objectMode&&Ze==null)&&!(!be.objectMode&&(!Ze||!Ze.length))){var on=K.push(Ze);on||(Pe=!0,F.pause())}});for(var $e in F)this[$e]===void 0&&typeof F[$e]=="function"&&(this[$e]=(function(on){return function(){return F[on].apply(F,arguments)}})($e));for(var Fe=0;Fe<J.length;Fe++)F.on(J[Fe],this.emit.bind(this,J[Fe]));return this._read=function(Ze){p("wrapped _read",Ze),Pe&&(Pe=!1,F.resume())},this},typeof Symbol=="function"&&(O.prototype[Symbol.asyncIterator]=function(){return j===void 0&&(j=uL()),j(this)}),Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(O.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(O.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(K){this._readableState&&(this._readableState.flowing=K)}}),O._fromList=te,Object.defineProperty(O.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function te(F,K){if(K.length===0)return null;var be;return K.objectMode?be=K.buffer.shift():!F||F>=K.length?(K.decoder?be=K.buffer.join(""):K.buffer.length===1?be=K.buffer.first():be=K.buffer.concat(K.length),K.buffer.clear()):be=K.buffer.consume(F,K.decoder),be}function ve(F){var K=F._readableState;p("endReadable",K.endEmitted),K.endEmitted||(K.ended=!0,et.nextTick(Re,K,F))}function Re(F,K){if(p("endReadableNT",F.endEmitted,F.length),!F.endEmitted&&F.length===0&&(F.endEmitted=!0,K.readable=!1,K.emit("end"),F.autoDestroy)){var be=K._writableState;(!be||be.autoDestroy&&be.finished)&&K.destroy()}}typeof Symbol=="function"&&(O.from=function(F,K){return G===void 0&&(G=cL()),G(O,F,K)});function Ne(F,K){for(var be=0,Pe=F.length;be<Pe;be++)if(F[be]===K)return be;return-1}return Og}var Dg,rS;function P1(){if(rS)return Dg;rS=1,Dg=d;var r=cl().codes,e=r.ERR_METHOD_NOT_IMPLEMENTED,n=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=r.ERR_TRANSFORM_WITH_LENGTH_0,l=Jo();ul()(d,l);function c(y,w){var R=this._transformState;R.transforming=!1;var z=R.writecb;if(z===null)return this.emit("error",new n);R.writechunk=null,R.writecb=null,w!=null&&this.push(w),z(y);var I=this._readableState;I.reading=!1,(I.needReadable||I.length<I.highWaterMark)&&this._read(I.highWaterMark)}function d(y){if(!(this instanceof d))return new d(y);l.call(this,y),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",p)}function p(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(w,R){g(y,w,R)}):g(this,null,null)}d.prototype.push=function(y,w){return this._transformState.needTransform=!1,l.prototype.push.call(this,y,w)},d.prototype._transform=function(y,w,R){R(new e("_transform()"))},d.prototype._write=function(y,w,R){var z=this._transformState;if(z.writecb=R,z.writechunk=y,z.writeencoding=w,!z.transforming){var I=this._readableState;(z.needTransform||I.needReadable||I.length<I.highWaterMark)&&this._read(I.highWaterMark)}},d.prototype._read=function(y){var w=this._transformState;w.writechunk!==null&&!w.transforming?(w.transforming=!0,this._transform(w.writechunk,w.writeencoding,w.afterTransform)):w.needTransform=!0},d.prototype._destroy=function(y,w){l.prototype._destroy.call(this,y,function(R){w(R)})};function g(y,w,R){if(w)return y.emit("error",w);if(R!=null&&y.push(R),y._writableState.length)throw new o;if(y._transformState.transforming)throw new a;return y.push(null)}return Dg}var Ng,iS;function fL(){if(iS)return Ng;iS=1,Ng=e;var r=P1();ul()(e,r);function e(n){if(!(this instanceof e))return new e(n);r.call(this,n)}return e.prototype._transform=function(n,a,o){o(null,n)},Ng}var Mg,aS;function hL(){if(aS)return Mg;aS=1;var r;function e(R){var z=!1;return function(){z||(z=!0,R.apply(void 0,arguments))}}var n=cl().codes,a=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function l(R){if(R)throw R}function c(R){return R.setHeader&&typeof R.abort=="function"}function d(R,z,I,V){V=e(V);var U=!1;R.on("close",function(){U=!0}),r===void 0&&(r=O_()),r(R,{readable:z,writable:I},function(L){if(L)return V(L);U=!0,V()});var D=!1;return function(L){if(!U&&!D){if(D=!0,c(R))return R.abort();if(typeof R.destroy=="function")return R.destroy();V(L||new o("pipe"))}}}function p(R){R()}function g(R,z){return R.pipe(z)}function y(R){return!R.length||typeof R[R.length-1]!="function"?l:R.pop()}function w(){for(var R=arguments.length,z=new Array(R),I=0;I<R;I++)z[I]=arguments[I];var V=y(z);if(Array.isArray(z[0])&&(z=z[0]),z.length<2)throw new a("streams");var U,D=z.map(function(L,j){var G=j<z.length-1,X=j>0;return d(L,G,X,function(J){U||(U=J),J&&D.forEach(p),!G&&(D.forEach(p),V(U))})});return z.reduce(g)}return Mg=w,Mg}var sS;function dL(){return sS||(sS=1,(function(r,e){e=r.exports=M1(),e.Stream=e,e.Readable=e,e.Writable=N1(),e.Duplex=Jo(),e.Transform=P1(),e.PassThrough=fL(),e.finished=O_(),e.pipeline=hL()})(Uf,Uf.exports)),Uf.exports}var Pg,oS;function pL(){if(oS)return Pg;oS=1;let r;return Pg=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:zr):e=>(r||(r=Promise.resolve())).then(e).catch(n=>setTimeout(()=>{throw n},0)),Pg}var kg,lS;function mL(){if(lS)return kg;lS=1;function r(n,a){for(const o in a)Object.defineProperty(n,o,{value:a[o],enumerable:!0,configurable:!0});return n}function e(n,a,o){if(!n||typeof n=="string")throw new TypeError("Please pass an Error to err-code");o||(o={}),typeof a=="object"&&(o=a,a=""),a&&(o.code=a);try{return r(n,o)}catch{o.message=n.message,o.stack=n.stack;const c=function(){};return c.prototype=Object.create(Object.getPrototypeOf(n)),r(new c,o)}}return kg=e,kg}var Ug,uS;function gL(){if(uS)return Ug;uS=1;const r=TB()("simple-peer"),e=SB(),n=AB(),a=dL(),o=pL(),l=mL(),{Buffer:c}=Qu(),d=64*1024,p=5*1e3,g=5*1e3;function y(z){return z.replace(/a=ice-options:trickle\s\n/g,"")}function w(z){console.warn(z)}class R extends a.Duplex{constructor(I){if(I=Object.assign({allowHalfOpen:!1},I),super(I),this._id=n(4).toString("hex").slice(0,7),this._debug("new peer %o",I),this.channelName=I.initiator?I.channelName||n(20).toString("hex"):null,this.initiator=I.initiator||!1,this.channelConfig=I.channelConfig||R.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},R.config,I.config),this.offerOptions=I.offerOptions||{},this.answerOptions=I.answerOptions||{},this.sdpTransform=I.sdpTransform||(V=>V),this.streams=I.streams||(I.stream?[I.stream]:[]),this.trickle=I.trickle!==void 0?I.trickle:!0,this.allowHalfTrickle=I.allowHalfTrickle!==void 0?I.allowHalfTrickle:!1,this.iceCompleteTimeout=I.iceCompleteTimeout||p,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=I.wrtc&&typeof I.wrtc=="object"?I.wrtc:e(),!this._wrtc)throw l(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(V){this.destroy(l(V,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=V=>{this._onIceCandidate(V)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(V=>{this.destroy(l(V,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=V=>{this._setupData(V)},this.streams&&this.streams.forEach(V=>{this.addStream(V)}),this._pc.ontrack=V=>{this._onTrack(V)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(I){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof I=="string")try{I=JSON.parse(I)}catch{I={}}this._debug("signal()"),I.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),I.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(I.transceiverRequest.kind,I.transceiverRequest.init)),I.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(I.candidate):this._pendingCandidates.push(I.candidate)),I.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(I)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(V=>{this._addIceCandidate(V)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(V=>{this.destroy(l(V,"ERR_SET_REMOTE_DESCRIPTION"))}),!I.sdp&&!I.candidate&&!I.renegotiate&&!I.transceiverRequest&&this.destroy(l(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(I){const V=new this._wrtc.RTCIceCandidate(I);this._pc.addIceCandidate(V).catch(U=>{!V.address||V.address.endsWith(".local")?w("Ignoring unsupported ICE candidate."):this.destroy(l(U,"ERR_ADD_ICE_CANDIDATE"))})}send(I){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(I)}}addTransceiver(I,V){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(I,V),this._needsNegotiation()}catch(U){this.destroy(l(U,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:I,init:V}})}}addStream(I){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),I.getTracks().forEach(V=>{this.addTrack(V,I)})}}addTrack(I,V){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const U=this._senderMap.get(I)||new Map;let D=U.get(V);if(!D)D=this._pc.addTrack(I,V),U.set(V,D),this._senderMap.set(I,U),this._needsNegotiation();else throw D.removed?l(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):l(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(I,V,U){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const D=this._senderMap.get(I),L=D?D.get(U):null;if(!L)throw l(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");V&&this._senderMap.set(V,D),L.replaceTrack!=null?L.replaceTrack(V):this.destroy(l(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(I,V){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const U=this._senderMap.get(I),D=U?U.get(V):null;if(!D)throw l(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{D.removed=!0,this._pc.removeTrack(D)}catch(L){L.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(D):this.destroy(l(L,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(I){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),I.getTracks().forEach(V=>{this.removeTrack(V,I)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,o(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(I){this._destroy(I,()=>{})}_destroy(I,V){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",I&&(I.message||I)),o(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",I&&(I.message||I)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,I&&this.emit("error",I),this.emit("close"),V()}))}_setupData(I){if(!I.channel)return this.destroy(l(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=I.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=d),this.channelName=this._channel.label,this._channel.onmessage=U=>{this._onChannelMessage(U)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=U=>{const D=U.error instanceof Error?U.error:new Error(`Datachannel error: ${U.message} ${U.filename}:${U.lineno}:${U.colno}`);this.destroy(l(D,"ERR_DATA_CHANNEL"))};let V=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(V&&this._onChannelClose(),V=!0):V=!1},g)}_read(){}_write(I,V,U){if(this.destroyed)return U(l(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(I)}catch(D){return this.destroy(l(D,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>d?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=U):U(null)}else this._debug("write before connect"),this._chunk=I,this._cb=U}_onFinish(){if(this.destroyed)return;const I=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?I():this.once("connect",I)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(I=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(I.sdp=y(I.sdp)),I.sdp=this.sdpTransform(I.sdp);const V=()=>{if(this.destroyed)return;const L=this._pc.localDescription||I;this._debug("signal"),this.emit("signal",{type:L.type,sdp:L.sdp})},U=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?V():this.once("_iceComplete",V))},D=L=>{this.destroy(l(L,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(I).then(U).catch(D)}).catch(I=>{this.destroy(l(I,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(I=>{!I.mid&&I.sender.track&&!I.requested&&(I.requested=!0,this.addTransceiver(I.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(I=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(I.sdp=y(I.sdp)),I.sdp=this.sdpTransform(I.sdp);const V=()=>{if(this.destroyed)return;const L=this._pc.localDescription||I;this._debug("signal"),this.emit("signal",{type:L.type,sdp:L.sdp}),this.initiator||this._requestMissingTransceivers()},U=()=>{this.destroyed||(this.trickle||this._iceComplete?V():this.once("_iceComplete",V))},D=L=>{this.destroy(l(L,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(I).then(U).catch(D)}).catch(I=>{this.destroy(l(I,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(l(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const I=this._pc.iceConnectionState,V=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",I,V),this.emit("iceStateChange",I,V),(I==="connected"||I==="completed")&&(this._pcReady=!0,this._maybeReady()),I==="failed"&&this.destroy(l(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),I==="closed"&&this.destroy(l(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(I){const V=U=>(Object.prototype.toString.call(U.values)==="[object Array]"&&U.values.forEach(D=>{Object.assign(U,D)}),U);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(U=>{const D=[];U.forEach(L=>{D.push(V(L))}),I(null,D)},U=>I(U)):this._pc.getStats.length>0?this._pc.getStats(U=>{if(this.destroyed)return;const D=[];U.result().forEach(L=>{const j={};L.names().forEach(G=>{j[G]=L.stat(G)}),j.id=L.id,j.type=L.type,j.timestamp=L.timestamp,D.push(V(j))}),I(null,D)},U=>I(U)):I(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const I=()=>{this.destroyed||this.getStats((V,U)=>{if(this.destroyed)return;V&&(U=[]);const D={},L={},j={};let G=!1;U.forEach(J=>{(J.type==="remotecandidate"||J.type==="remote-candidate")&&(D[J.id]=J),(J.type==="localcandidate"||J.type==="local-candidate")&&(L[J.id]=J),(J.type==="candidatepair"||J.type==="candidate-pair")&&(j[J.id]=J)});const X=J=>{G=!0;let x=L[J.localCandidateId];x&&(x.ip||x.address)?(this.localAddress=x.ip||x.address,this.localPort=Number(x.port)):x&&x.ipAddress?(this.localAddress=x.ipAddress,this.localPort=Number(x.portNumber)):typeof J.googLocalAddress=="string"&&(x=J.googLocalAddress.split(":"),this.localAddress=x[0],this.localPort=Number(x[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let C=D[J.remoteCandidateId];C&&(C.ip||C.address)?(this.remoteAddress=C.ip||C.address,this.remotePort=Number(C.port)):C&&C.ipAddress?(this.remoteAddress=C.ipAddress,this.remotePort=Number(C.portNumber)):typeof J.googRemoteAddress=="string"&&(C=J.googRemoteAddress.split(":"),this.remoteAddress=C[0],this.remotePort=Number(C[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(U.forEach(J=>{J.type==="transport"&&J.selectedCandidatePairId&&X(j[J.selectedCandidatePairId]),(J.type==="googCandidatePair"&&J.googActiveConnection==="true"||(J.type==="candidatepair"||J.type==="candidate-pair")&&J.selected)&&X(J)}),!G&&(!Object.keys(j).length||Object.keys(L).length)){setTimeout(I,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(x){return this.destroy(l(x,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const J=this._cb;this._cb=null,J(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};I()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>d||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(I=>{this._pc.removeTrack(I),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(I){this.destroyed||(I.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:I.candidate.candidate,sdpMLineIndex:I.candidate.sdpMLineIndex,sdpMid:I.candidate.sdpMid}}):!I.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),I.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(I){if(this.destroyed)return;let V=I.data;V instanceof ArrayBuffer&&(V=c.from(V)),this.push(V)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const I=this._cb;this._cb=null,I(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(I){this.destroyed||I.streams.forEach(V=>{this._debug("on track"),this.emit("track",I.track,V),this._remoteTracks.push({track:I.track,stream:V}),!this._remoteStreams.some(U=>U.id===V.id)&&(this._remoteStreams.push(V),o(()=>{this._debug("on stream"),this.emit("stream",V)}))})}_debug(){const I=[].slice.call(arguments);I[0]="["+this._id+"] "+I[0],r.apply(null,I)}}return R.WEBRTC_SUPPORT=!!e(),R.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},R.channelConfig={},Ug=R,Ug}var yL=gL();const _L=cS(yL),vL=()=>{const{roomId:r}=a2(),e=ts(),n=r.replace("room-",""),a=ue.useRef(null),o=ue.useRef(null),l=ue.useRef(null),c=ue.useRef(null),d=ue.useRef(null),p=ue.useRef(null),g=ue.useRef(!1),y=ue.useRef(null),w=ue.useRef(null),[R,z]=ue.useState("loading"),[I,V]=ue.useState("waiting"),[U,D]=ue.useState(""),[L,j]=ue.useState(0),[G,X]=ue.useState(!1),[J,x]=ue.useState(!1),C=Be=>{const le=String(Math.floor(Be/3600)).padStart(2,"0"),Se=String(Math.floor(Be%3600/60)).padStart(2,"0"),ke=String(Be%60).padStart(2,"0");return`${le}:${Se}:${ke}`},O=ue.useCallback(()=>{p.current&&(p.current(),p.current=null),l.current&&(l.current.destroy(),l.current=null),w.current&&(clearInterval(w.current),w.current=null),o.current&&(o.current.srcObject=null),g.current=!1,V("waiting")},[]),H=async()=>{if(!d.current)return;const[Be,le]=await Promise.all([Rb(oi(d.current,"doctorCandidates")),Rb(oi(d.current,"customerCandidates"))]);await Promise.all([...Be.docs.map(Se=>Cb(Se.ref)),...le.docs.map(Se=>Cb(Se.ref))]),await wr(d.current,{offer:null,answer:null})},W=ue.useCallback(async(Be,le)=>{if(g.current||!c.current)return;g.current=!0;const Se=new _L({initiator:Be,trickle:!0,stream:c.current,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"}]}});l.current=Se,Se.on("stream",async Ve=>{o.current.srcObject=Ve,o.current.play().catch(()=>{}),V("active"),y.current||(y.current=Date.now(),w.current=setInterval(()=>{const je=Math.floor((Date.now()-y.current)/1e3);j(je)},1e3),await wr(Hn(hn,"bookings",n),{status:"in_call",callStartedAt:uu()}))}),Se.on("signal",async Ve=>{if(d.current){if(Ve.type==="offer")await wr(d.current,{offer:Ve});else if(Ve.type==="answer")await wr(d.current,{answer:Ve});else if(Ve.candidate){const je=Be?"doctorCandidates":"customerCandidates";await XR(oi(d.current,je),Ve)}}});const ke=Be?"customerCandidates":"doctorCandidates";Ha(oi(d.current,ke),Ve=>{Ve.docChanges().forEach(je=>{je.type==="added"&&Se.signal(je.doc.data())})}),le&&Se.signal(le),Se.on("close",()=>{O(),d.current&&wr(d.current,{ended:!0,endedAt:uu()}).catch(()=>{})}),Se.on("error",()=>{O(),d.current&&wr(d.current,{ended:!0,endedAt:uu()}).catch(()=>{})})},[n,O]);ue.useEffect(()=>((async()=>{const le=Gn.currentUser;if(!le)return;const Se=Hn(hn,"bookings",n),ke=await Pu(Se);if(ke.exists()&&ke.data().status==="completed"){V("completed"),D("Booking already completed");return}const je=(await Pu(Hn(hn,"users",le.uid))).data()?.role||"customer";z(je);const re=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});c.current=re,a.current.srcObject=re,d.current=Hn(hn,"videoRooms",r),await v_(d.current,{active:!0},{merge:!0}),p.current=Ha(d.current,_e=>{const $=_e.data();if($){if($.ended){if(!y.current&&$.callStartedAt&&$.callEndedAt){const ae=$.callStartedAt.toMillis?$.callStartedAt.toMillis():Date.now(),he=$.callEndedAt.toMillis?$.callEndedAt.toMillis():Date.now(),Z=Math.max(0,Math.floor((he-ae)/1e3));j(Z)}O(),e("/")}je==="doctor"&&!$.offer&&!g.current&&W(!0),je==="customer"&&$.offer&&!g.current&&W(!1,$.offer),je==="doctor"&&$.answer&&l.current&&!l.current._answered&&(l.current.signal($.answer),l.current._answered=!0)}})})(),()=>{O(),c.current?.getTracks().forEach(le=>le.stop())}),[n,r,W,O,e]);const N=()=>{const Be=c.current?.getAudioTracks()[0];Be&&(Be.enabled=!Be.enabled,X(!Be.enabled))},M=()=>{const Be=c.current?.getVideoTracks()[0];Be&&(Be.enabled=!Be.enabled,x(!Be.enabled))},Ue=async()=>{const Be=Date.now(),le=y.current?Math.floor((Be-y.current)/1e3):L;await wr(Hn(hn,"bookings",n),{status:"completed",callEndedAt:uu(),callDurationSeconds:le}),d.current&&await wr(d.current,{ended:!0,endedAt:uu()}),await H(),O(),e("/")};return I==="completed"?ne.jsx("h2",{style:{color:"#4caf50",textAlign:"center"},children:" Booking Completed"}):ne.jsxs("div",{style:{background:"#000",height:"100vh",position:"relative"},children:[ne.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"}}),ne.jsxs("div",{style:{position:"absolute",top:12,left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.6)",color:"#fff",padding:"6px 14px",borderRadius:20,fontSize:14},children:[" ",C(L)]}),ne.jsx("video",{ref:a,autoPlay:!0,muted:!0,playsInline:!0,style:{position:"absolute",bottom:90,right:20,width:120,height:160,borderRadius:12,border:"2px solid #fff",objectFit:"cover"}}),ne.jsxs("div",{style:{position:"absolute",bottom:20,width:"100%",display:"flex",justifyContent:"center",gap:12},children:[ne.jsx("button",{onClick:N,children:G?"Unmute":"Mute"}),ne.jsx("button",{onClick:M,children:J?"Video On":"Video Off"}),ne.jsx("button",{onClick:Ue,style:{background:"red",color:"#fff"},children:"End"})]})]})};function EL(){const r=ts(),[e,n]=ue.useState(null),[a,o]=ue.useState(null),[l,c]=ue.useState(!0);return ue.useEffect(()=>{const d=_D(Gn,async p=>{if(c(!0),p){const g=Hn(hn,"users",p.uid),y=await Pu(g);if(y.exists()){const w=y.data();n(p),o(w.role);const R=window.location.pathname,z=R.startsWith(`/${w.role}-portal`),I=R.startsWith("/video-call"),V=R==="/login"||R==="/register";w.role&&w.phoneNumber&&!z&&!I&&!V&&(console.log("Redirecting to portal from:",R),r(`/${w.role}-portal`,{replace:!0}))}else n(p)}else n(null),o(null);c(!1)});return()=>d()},[r]),l?ne.jsxs("div",{style:{padding:"4rem",textAlign:"center"},children:[ne.jsx("div",{style:{fontSize:"3rem"},children:""}),ne.jsx("h2",{children:"Loading Swasthya Sakhi..."})]}):ne.jsxs(ne.Fragment,{children:[e&&ne.jsx("header",{className:"app-header",style:{background:"linear-gradient(135deg, #4CAF50, #45a049)",color:"white",padding:"1rem 1.5rem",position:"sticky",top:0,zIndex:1e3,boxShadow:"0 2px 10px rgba(0,0,0,0.15)"},children:ne.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"space-between",maxWidth:"1400px",margin:"0 auto",gap:"1rem"},children:[ne.jsxs("div",{style:{flex:"1 1 auto",minWidth:"200px"},children:[ne.jsx("h1",{style:{margin:0,fontSize:"clamp(1.4rem, 4vw, 1.8rem)"},children:" Swasthya Sakhi"}),ne.jsx("p",{className:"tagline",style:{margin:"0.25rem 0 0",fontSize:"clamp(0.85rem, 3vw, 1rem)",opacity:.9},children:"Affordable Healthcare for Everyone"})]}),ne.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flex:"0 0 auto",flexWrap:"wrap",justifyContent:"flex-end"},children:[ne.jsx("span",{style:{fontSize:"clamp(0.9rem, 3.5vw, 1.1rem)",fontWeight:500,whiteSpace:"nowrap"},children:a?`${a.charAt(0).toUpperCase()+a.slice(1)} Portal`:"Portal"}),ne.jsx("button",{onClick:async()=>{await Gn.signOut(),r("/",{replace:!0})},style:{padding:"0.6rem 1.2rem",background:"rgba(255,255,255,0.2)",color:"white",border:"1px solid rgba(255,255,255,0.4)",borderRadius:"8px",fontSize:"clamp(0.9rem, 3.5vw, 1rem)",cursor:"pointer",transition:"all 0.2s",whiteSpace:"nowrap"},children:"Logout"})]})]})}),ne.jsxs(E2,{children:[ne.jsx(La,{path:"/",element:ne.jsx(mB,{})}),ne.jsx(La,{path:"/login",element:ne.jsx(gB,{})}),ne.jsx(La,{path:"/register",element:ne.jsx(yB,{})}),ne.jsx(La,{path:"/customer-portal",element:e?ne.jsx(vB,{}):ne.jsx(bf,{to:"/",replace:!0})}),ne.jsx(La,{path:"/doctor-portal",element:e?ne.jsx(EB,{}):ne.jsx(bf,{to:"/",replace:!0})}),ne.jsx(La,{path:"/video-call/:roomId",element:e?ne.jsx(vL,{isDoctor:a==="doctor",userId:e.uid}):ne.jsx(bf,{to:"/",replace:!0})}),ne.jsx(La,{path:"*",element:ne.jsx(bf,{to:"/",replace:!0})})]})]})}function wL(){return ne.jsx(H2,{children:ne.jsx("div",{className:"App",children:ne.jsx(EL,{})})})}bI.createRoot(document.getElementById("root")).render(ne.jsx(wL,{}));
