(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();var Yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Wp={exports:{}},lu={};var nw;function pI(){if(nw)return lu;nw=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(a,o,l){var c=null;if(l!==void 0&&(c=""+l),o.key!==void 0&&(c=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:r,type:a,key:c,ref:o!==void 0?o:null,props:l}}return lu.Fragment=e,lu.jsx=n,lu.jsxs=n,lu}var rw;function mI(){return rw||(rw=1,Wp.exports=pI()),Wp.exports}var G=mI(),Yp={exports:{}};function gI(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var yS={exports:{}},mn=yS.exports={},ui,ci;function qg(){throw new Error("setTimeout has not been defined")}function zg(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ui=setTimeout:ui=qg}catch{ui=qg}try{typeof clearTimeout=="function"?ci=clearTimeout:ci=zg}catch{ci=zg}})();function _S(r){if(ui===setTimeout)return setTimeout(r,0);if((ui===qg||!ui)&&setTimeout)return ui=setTimeout,setTimeout(r,0);try{return ui(r,0)}catch{try{return ui.call(null,r,0)}catch{return ui.call(this,r,0)}}}function yI(r){if(ci===clearTimeout)return clearTimeout(r);if((ci===zg||!ci)&&clearTimeout)return ci=clearTimeout,clearTimeout(r);try{return ci(r)}catch{try{return ci.call(null,r)}catch{return ci.call(this,r)}}}var Hi=[],Fo=!1,Ns,Hf=-1;function _I(){!Fo||!Ns||(Fo=!1,Ns.length?Hi=Ns.concat(Hi):Hf=-1,Hi.length&&vS())}function vS(){if(!Fo){var r=_S(_I);Fo=!0;for(var e=Hi.length;e;){for(Ns=Hi,Hi=[];++Hf<e;)Ns&&Ns[Hf].run();Hf=-1,e=Hi.length}Ns=null,Fo=!1,yI(r)}}mn.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Hi.push(new ES(r,e)),Hi.length===1&&!Fo&&_S(vS)};function ES(r,e){this.fun=r,this.array=e}ES.prototype.run=function(){this.fun.apply(null,this.array)};mn.title="browser";mn.browser=!0;mn.env={};mn.argv=[];mn.version="";mn.versions={};function ra(){}mn.on=ra;mn.addListener=ra;mn.once=ra;mn.off=ra;mn.removeListener=ra;mn.removeAllListeners=ra;mn.emit=ra;mn.prependListener=ra;mn.prependOnceListener=ra;mn.listeners=function(r){return[]};mn.binding=function(r){throw new Error("process.binding is not supported")};mn.cwd=function(){return"/"};mn.chdir=function(r){throw new Error("process.chdir is not supported")};mn.umask=function(){return 0};var vI=yS.exports;const et=gI(vI);var tt={},iw;function EI(){if(iw)return tt;iw=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),R=Symbol.iterator;function H(ne){return ne===null||typeof ne!="object"?null:(ne=R&&ne[R]||ne["@@iterator"],typeof ne=="function"?ne:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,P={};function O(ne,ve,Z){this.props=ne,this.context=ve,this.refs=P,this.updater=Z||I}O.prototype.isReactComponent={},O.prototype.setState=function(ne,ve){if(typeof ne!="object"&&typeof ne!="function"&&ne!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ne,ve,"setState")},O.prototype.forceUpdate=function(ne){this.updater.enqueueForceUpdate(this,ne,"forceUpdate")};function U(){}U.prototype=O.prototype;function j(ne,ve,Z){this.props=ne,this.context=ve,this.refs=P,this.updater=Z||I}var K=j.prototype=new U;K.constructor=j,F(K,O.prototype),K.isPureReactComponent=!0;var X=Array.isArray;function J(){}var x={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function D(ne,ve,Z){var ie=Z.ref;return{$$typeof:r,type:ne,key:ve,ref:ie!==void 0?ie:null,props:Z}}function W(ne,ve){return D(ne.type,ve,ne.props)}function ee(ne){return typeof ne=="object"&&ne!==null&&ne.$$typeof===r}function M(ne){var ve={"=":"=0",":":"=2"};return"$"+ne.replace(/[=:]/g,function(Z){return ve[Z]})}var $=/\/+/g;function Ke(ne,ve){return typeof ne=="object"&&ne!==null&&ne.key!=null?M(""+ne.key):ve.toString(36)}function ke(ne){switch(ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason;default:switch(typeof ne.status=="string"?ne.then(J,J):(ne.status="pending",ne.then(function(ve){ne.status==="pending"&&(ne.status="fulfilled",ne.value=ve)},function(ve){ne.status==="pending"&&(ne.status="rejected",ne.reason=ve)})),ne.status){case"fulfilled":return ne.value;case"rejected":throw ne.reason}}throw ne}function ae(ne,ve,Z,ie,he){var te=typeof ne;(te==="undefined"||te==="boolean")&&(ne=null);var N=!1;if(ne===null)N=!0;else switch(te){case"bigint":case"string":case"number":N=!0;break;case"object":switch(ne.$$typeof){case r:case e:N=!0;break;case y:return N=ne._init,ae(N(ne._payload),ve,Z,ie,he)}}if(N)return he=he(ne),N=ie===""?"."+Ke(ne,0):ie,X(he)?(Z="",N!=null&&(Z=N.replace($,"$&/")+"/"),ae(he,ve,Z,"",function(Te){return Te})):he!=null&&(ee(he)&&(he=W(he,Z+(he.key==null||ne&&ne.key===he.key?"":(""+he.key).replace($,"$&/")+"/")+N)),ve.push(he)),1;N=0;var ce=ie===""?".":ie+":";if(X(ne))for(var pe=0;pe<ne.length;pe++)ie=ne[pe],te=ce+Ke(ie,pe),N+=ae(ie,ve,Z,te,he);else if(pe=H(ne),typeof pe=="function")for(ne=pe.call(ne),pe=0;!(ie=ne.next()).done;)ie=ie.value,te=ce+Ke(ie,pe++),N+=ae(ie,ve,Z,te,he);else if(te==="object"){if(typeof ne.then=="function")return ae(ke(ne),ve,Z,ie,he);throw ve=String(ne),Error("Objects are not valid as a React child (found: "+(ve==="[object Object]"?"object with keys {"+Object.keys(ne).join(", ")+"}":ve)+"). If you meant to render a collection of children, use an array instead.")}return N}function ge(ne,ve,Z){if(ne==null)return ne;var ie=[],he=0;return ae(ne,ie,"","",function(te){return ve.call(Z,te,he++)}),ie}function xe(ne){if(ne._status===-1){var ve=ne._result;ve=ve(),ve.then(function(Z){(ne._status===0||ne._status===-1)&&(ne._status=1,ne._result=Z)},function(Z){(ne._status===0||ne._status===-1)&&(ne._status=2,ne._result=Z)}),ne._status===-1&&(ne._status=0,ne._result=ve)}if(ne._status===1)return ne._result.default;throw ne._result}var Ue=typeof reportError=="function"?reportError:function(ne){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ve=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ne=="object"&&ne!==null&&typeof ne.message=="string"?String(ne.message):String(ne),error:ne});if(!window.dispatchEvent(ve))return}else if(typeof et=="object"&&typeof et.emit=="function"){et.emit("uncaughtException",ne);return}console.error(ne)},Le={map:ge,forEach:function(ne,ve,Z){ge(ne,function(){ve.apply(this,arguments)},Z)},count:function(ne){var ve=0;return ge(ne,function(){ve++}),ve},toArray:function(ne){return ge(ne,function(ve){return ve})||[]},only:function(ne){if(!ee(ne))throw Error("React.Children.only expected to receive a single React element child.");return ne}};return tt.Activity=w,tt.Children=Le,tt.Component=O,tt.Fragment=n,tt.Profiler=o,tt.PureComponent=j,tt.StrictMode=a,tt.Suspense=p,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,tt.__COMPILER_RUNTIME={__proto__:null,c:function(ne){return x.H.useMemoCache(ne)}},tt.cache=function(ne){return function(){return ne.apply(null,arguments)}},tt.cacheSignal=function(){return null},tt.cloneElement=function(ne,ve,Z){if(ne==null)throw Error("The argument must be a React element, but you passed "+ne+".");var ie=F({},ne.props),he=ne.key;if(ve!=null)for(te in ve.key!==void 0&&(he=""+ve.key),ve)!C.call(ve,te)||te==="key"||te==="__self"||te==="__source"||te==="ref"&&ve.ref===void 0||(ie[te]=ve[te]);var te=arguments.length-2;if(te===1)ie.children=Z;else if(1<te){for(var N=Array(te),ce=0;ce<te;ce++)N[ce]=arguments[ce+2];ie.children=N}return D(ne.type,he,ie)},tt.createContext=function(ne){return ne={$$typeof:c,_currentValue:ne,_currentValue2:ne,_threadCount:0,Provider:null,Consumer:null},ne.Provider=ne,ne.Consumer={$$typeof:l,_context:ne},ne},tt.createElement=function(ne,ve,Z){var ie,he={},te=null;if(ve!=null)for(ie in ve.key!==void 0&&(te=""+ve.key),ve)C.call(ve,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(he[ie]=ve[ie]);var N=arguments.length-2;if(N===1)he.children=Z;else if(1<N){for(var ce=Array(N),pe=0;pe<N;pe++)ce[pe]=arguments[pe+2];he.children=ce}if(ne&&ne.defaultProps)for(ie in N=ne.defaultProps,N)he[ie]===void 0&&(he[ie]=N[ie]);return D(ne,te,he)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(ne){return{$$typeof:d,render:ne}},tt.isValidElement=ee,tt.lazy=function(ne){return{$$typeof:y,_payload:{_status:-1,_result:ne},_init:xe}},tt.memo=function(ne,ve){return{$$typeof:g,type:ne,compare:ve===void 0?null:ve}},tt.startTransition=function(ne){var ve=x.T,Z={};x.T=Z;try{var ie=ne(),he=x.S;he!==null&&he(Z,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(J,Ue)}catch(te){Ue(te)}finally{ve!==null&&Z.types!==null&&(ve.types=Z.types),x.T=ve}},tt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},tt.use=function(ne){return x.H.use(ne)},tt.useActionState=function(ne,ve,Z){return x.H.useActionState(ne,ve,Z)},tt.useCallback=function(ne,ve){return x.H.useCallback(ne,ve)},tt.useContext=function(ne){return x.H.useContext(ne)},tt.useDebugValue=function(){},tt.useDeferredValue=function(ne,ve){return x.H.useDeferredValue(ne,ve)},tt.useEffect=function(ne,ve){return x.H.useEffect(ne,ve)},tt.useEffectEvent=function(ne){return x.H.useEffectEvent(ne)},tt.useId=function(){return x.H.useId()},tt.useImperativeHandle=function(ne,ve,Z){return x.H.useImperativeHandle(ne,ve,Z)},tt.useInsertionEffect=function(ne,ve){return x.H.useInsertionEffect(ne,ve)},tt.useLayoutEffect=function(ne,ve){return x.H.useLayoutEffect(ne,ve)},tt.useMemo=function(ne,ve){return x.H.useMemo(ne,ve)},tt.useOptimistic=function(ne,ve){return x.H.useOptimistic(ne,ve)},tt.useReducer=function(ne,ve,Z){return x.H.useReducer(ne,ve,Z)},tt.useRef=function(ne){return x.H.useRef(ne)},tt.useState=function(ne){return x.H.useState(ne)},tt.useSyncExternalStore=function(ne,ve,Z){return x.H.useSyncExternalStore(ne,ve,Z)},tt.useTransition=function(){return x.H.useTransition()},tt.version="19.2.4",tt}var aw;function _y(){return aw||(aw=1,Yp.exports=EI()),Yp.exports}var le=_y(),Qp={exports:{}},uu={},$p={exports:{}},Xp={};var sw;function wI(){return sw||(sw=1,(function(r){function e(ae,ge){var xe=ae.length;ae.push(ge);e:for(;0<xe;){var Ue=xe-1>>>1,Le=ae[Ue];if(0<o(Le,ge))ae[Ue]=ge,ae[xe]=Le,xe=Ue;else break e}}function n(ae){return ae.length===0?null:ae[0]}function a(ae){if(ae.length===0)return null;var ge=ae[0],xe=ae.pop();if(xe!==ge){ae[0]=xe;e:for(var Ue=0,Le=ae.length,ne=Le>>>1;Ue<ne;){var ve=2*(Ue+1)-1,Z=ae[ve],ie=ve+1,he=ae[ie];if(0>o(Z,xe))ie<Le&&0>o(he,Z)?(ae[Ue]=he,ae[ie]=xe,Ue=ie):(ae[Ue]=Z,ae[ve]=xe,Ue=ve);else if(ie<Le&&0>o(he,xe))ae[Ue]=he,ae[ie]=xe,Ue=ie;else break e}}return ge}function o(ae,ge){var xe=ae.sortIndex-ge.sortIndex;return xe!==0?xe:ae.id-ge.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var p=[],g=[],y=1,w=null,R=3,H=!1,I=!1,F=!1,P=!1,O=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function K(ae){for(var ge=n(g);ge!==null;){if(ge.callback===null)a(g);else if(ge.startTime<=ae)a(g),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=n(g)}}function X(ae){if(F=!1,K(ae),!I)if(n(p)!==null)I=!0,J||(J=!0,M());else{var ge=n(g);ge!==null&&ke(X,ge.startTime-ae)}}var J=!1,x=-1,C=5,D=-1;function W(){return P?!0:!(r.unstable_now()-D<C)}function ee(){if(P=!1,J){var ae=r.unstable_now();D=ae;var ge=!0;try{e:{I=!1,F&&(F=!1,U(x),x=-1),H=!0;var xe=R;try{t:{for(K(ae),w=n(p);w!==null&&!(w.expirationTime>ae&&W());){var Ue=w.callback;if(typeof Ue=="function"){w.callback=null,R=w.priorityLevel;var Le=Ue(w.expirationTime<=ae);if(ae=r.unstable_now(),typeof Le=="function"){w.callback=Le,K(ae),ge=!0;break t}w===n(p)&&a(p),K(ae)}else a(p);w=n(p)}if(w!==null)ge=!0;else{var ne=n(g);ne!==null&&ke(X,ne.startTime-ae),ge=!1}}break e}finally{w=null,R=xe,H=!1}ge=void 0}}finally{ge?M():J=!1}}}var M;if(typeof j=="function")M=function(){j(ee)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,Ke=$.port2;$.port1.onmessage=ee,M=function(){Ke.postMessage(null)}}else M=function(){O(ee,0)};function ke(ae,ge){x=O(function(){ae(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ae){ae.callback=null},r.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<ae?Math.floor(1e3/ae):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(ae){switch(R){case 1:case 2:case 3:var ge=3;break;default:ge=R}var xe=R;R=ge;try{return ae()}finally{R=xe}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(ae,ge){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var xe=R;R=ae;try{return ge()}finally{R=xe}},r.unstable_scheduleCallback=function(ae,ge,xe){var Ue=r.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?Ue+xe:Ue):xe=Ue,ae){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=xe+Le,ae={id:y++,callback:ge,priorityLevel:ae,startTime:xe,expirationTime:Le,sortIndex:-1},xe>Ue?(ae.sortIndex=xe,e(g,ae),n(p)===null&&ae===n(g)&&(F?(U(x),x=-1):F=!0,ke(X,xe-Ue))):(ae.sortIndex=Le,e(p,ae),I||H||(I=!0,J||(J=!0,M()))),ae},r.unstable_shouldYield=W,r.unstable_wrapCallback=function(ae){var ge=R;return function(){var xe=R;R=ge;try{return ae.apply(this,arguments)}finally{R=xe}}}})(Xp)),Xp}var ow;function bI(){return ow||(ow=1,$p.exports=wI()),$p.exports}var Jp={exports:{}},qn={};var lw;function TI(){if(lw)return qn;lw=1;var r=_y();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var a={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(p,g,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:y}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return qn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,qn.createPortal=function(p,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,y)},qn.flushSync=function(p){var g=c.T,y=a.p;try{if(c.T=null,a.p=2,p)return p()}finally{c.T=g,a.p=y,a.d.f()}},qn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(p,g))},qn.prefetchDNS=function(p){typeof p=="string"&&a.d.D(p)},qn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var y=g.as,w=d(y,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,H=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?a.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:R,fetchPriority:H}):y==="script"&&a.d.X(p,{crossOrigin:w,integrity:R,fetchPriority:H,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},qn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);a.d.M(p,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(p)},qn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,w=d(y,g.crossOrigin);a.d.L(p,y,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},qn.preloadModule=function(p,g){if(typeof p=="string")if(g){var y=d(g.as,g.crossOrigin);a.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(p)},qn.requestFormReset=function(p){a.d.r(p)},qn.unstable_batchedUpdates=function(p,g){return p(g)},qn.useFormState=function(p,g,y){return c.H.useFormState(p,g,y)},qn.useFormStatus=function(){return c.H.useHostTransitionStatus()},qn.version="19.2.4",qn}var uw;function SI(){if(uw)return Jp.exports;uw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jp.exports=TI(),Jp.exports}var cw;function AI(){if(cw)return uu;cw=1;var r=bI(),e=_y(),n=SI();function a(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l(t){var i=t,s=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(s=i.return),t=i.return;while(t)}return i.tag===3?s:null}function c(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function d(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(l(t)!==t)throw Error(a(188))}function g(t){var i=t.alternate;if(!i){if(i=l(t),i===null)throw Error(a(188));return i!==t?null:t}for(var s=t,u=i;;){var h=s.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){s=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===s)return p(h),t;if(m===u)return p(h),i;m=m.sibling}throw Error(a(188))}if(s.return!==u.return)s=h,u=m;else{for(var S=!1,L=h.child;L;){if(L===s){S=!0,s=h,u=m;break}if(L===u){S=!0,u=h,s=m;break}L=L.sibling}if(!S){for(L=m.child;L;){if(L===s){S=!0,s=m,u=h;break}if(L===u){S=!0,u=m,s=h;break}L=L.sibling}if(!S)throw Error(a(189))}}if(s.alternate!==u)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,R=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),j=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var $=Symbol.for("react.client.reference");function Ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===$?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case O:return"Profiler";case P:return"StrictMode";case X:return"Suspense";case J:return"SuspenseList";case D:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case I:return"Portal";case j:return t.displayName||"Context";case U:return(t._context.displayName||"Context")+".Consumer";case K:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x:return i=t.displayName||null,i!==null?i:Ke(t.type)||"Memo";case C:i=t._payload,t=t._init;try{return Ke(t(i))}catch{}}return null}var ke=Array.isArray,ae=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Ue=[],Le=-1;function ne(t){return{current:t}}function ve(t){0>Le||(t.current=Ue[Le],Ue[Le]=null,Le--)}function Z(t,i){Le++,Ue[Le]=t.current,t.current=i}var ie=ne(null),he=ne(null),te=ne(null),N=ne(null);function ce(t,i){switch(Z(te,i),Z(he,t),Z(ie,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?AE(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=AE(i),t=RE(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ve(ie),Z(ie,t)}function pe(){ve(ie),ve(he),ve(te)}function Te(t){t.memoizedState!==null&&Z(N,t);var i=ie.current,s=RE(i,t.type);i!==s&&(Z(he,t),Z(ie,s))}function V(t){he.current===t&&(ve(ie),ve(he)),N.current===t&&(ve(N),iu._currentValue=xe)}var q,Ee;function Pe(t){if(q===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);q=i&&i[1]||"",Ee=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+q+t+Ee}var Qe=!1;function je(t,i){if(!t||Qe)return"";Qe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var Ne=function(){throw Error()};if(Object.defineProperty(Ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ne,[])}catch(Se){var we=Se}Reflect.construct(t,[],Ne)}else{try{Ne.call()}catch(Se){we=Se}t.call(Ne.prototype)}}else{try{throw Error()}catch(Se){we=Se}(Ne=t())&&typeof Ne.catch=="function"&&Ne.catch(function(){})}}catch(Se){if(Se&&we&&typeof Se.stack=="string")return[Se.stack,we.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),S=m[0],L=m[1];if(S&&L){var re=S.split(`
`),_e=L.split(`
`);for(h=u=0;u<re.length&&!re[u].includes("DetermineComponentFrameRoot");)u++;for(;h<_e.length&&!_e[h].includes("DetermineComponentFrameRoot");)h++;if(u===re.length||h===_e.length)for(u=re.length-1,h=_e.length-1;1<=u&&0<=h&&re[u]!==_e[h];)h--;for(;1<=u&&0<=h;u--,h--)if(re[u]!==_e[h]){if(u!==1||h!==1)do if(u--,h--,0>h||re[u]!==_e[h]){var Ce=`
`+re[u].replace(" at new "," at ");return t.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",t.displayName)),Ce}while(1<=u&&0<=h);break}}}finally{Qe=!1,Error.prepareStackTrace=s}return(s=t?t.displayName||t.name:"")?Pe(s):""}function Ze(t,i){switch(t.tag){case 26:case 27:case 5:return Pe(t.type);case 16:return Pe("Lazy");case 13:return t.child!==i&&i!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return je(t.type,!1);case 11:return je(t.type.render,!1);case 1:return je(t.type,!0);case 31:return Pe("Activity");default:return""}}function cn(t){try{var i="",s=null;do i+=Ze(t,s),s=t,t=t.return;while(t);return i}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ie=Object.prototype.hasOwnProperty,Xt=r.unstable_scheduleCallback,en=r.unstable_cancelCallback,wt=r.unstable_shouldYield,bt=r.unstable_requestPaint,_t=r.unstable_now,nn=r.unstable_getCurrentPriorityLevel,Tt=r.unstable_ImmediatePriority,Mt=r.unstable_UserBlockingPriority,Vt=r.unstable_NormalPriority,pr=r.unstable_LowPriority,k=r.unstable_IdlePriority,E=r.log,T=r.unstable_setDisableYieldValue,Y=null,se=null;function me(t){if(typeof E=="function"&&T(t),se&&typeof se.setStrictMode=="function")try{se.setStrictMode(Y,t)}catch{}}var Re=Math.clz32?Math.clz32:Dt,it=Math.log,St=Math.LN2;function Dt(t){return t>>>=0,t===0?32:31-(it(t)/St|0)|0}var At=256,ot=262144,mr=4194304;function rn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function jn(t,i,s){var u=t.pendingLanes;if(u===0)return 0;var h=0,m=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var L=u&134217727;return L!==0?(u=L&~m,u!==0?h=rn(u):(S&=L,S!==0?h=rn(S):s||(s=L&~t,s!==0&&(h=rn(s))))):(L=u&~m,L!==0?h=rn(L):S!==0?h=rn(S):s||(s=u&~t,s!==0&&(h=rn(s)))),h===0?0:i!==0&&i!==h&&(i&m)===0&&(m=h&-h,s=i&-i,m>=s||m===32&&(s&4194048)!==0)?i:h}function Jr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Qn(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function as(){var t=mr;return mr<<=1,(mr&62914560)===0&&(mr=4194304),t}function B(t){for(var i=[],s=0;31>s;s++)i.push(t);return i}function v(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function b(t,i,s,u,h,m){var S=t.pendingLanes;t.pendingLanes=s,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=s,t.entangledLanes&=s,t.errorRecoveryDisabledLanes&=s,t.shellSuspendCounter=0;var L=t.entanglements,re=t.expirationTimes,_e=t.hiddenUpdates;for(s=S&~s;0<s;){var Ce=31-Re(s),Ne=1<<Ce;L[Ce]=0,re[Ce]=-1;var we=_e[Ce];if(we!==null)for(_e[Ce]=null,Ce=0;Ce<we.length;Ce++){var Se=we[Ce];Se!==null&&(Se.lane&=-536870913)}s&=~Ne}u!==0&&Q(t,u,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(S&~i))}function Q(t,i,s){t.pendingLanes|=i,t.suspendedLanes&=~i;var u=31-Re(i);t.entangledLanes|=i,t.entanglements[u]=t.entanglements[u]|1073741824|s&261930}function ue(t,i){var s=t.entangledLanes|=i;for(t=t.entanglements;s;){var u=31-Re(s),h=1<<u;h&i|t[u]&i&&(t[u]|=i),s&=~h}}function be(t,i){var s=i&-i;return s=(s&42)!==0?1:Oe(s),(s&(t.suspendedLanes|i))!==0?0:s}function Oe(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function at(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Rt(){var t=ge.p;return t!==0?t:(t=window.event,t===void 0?32:QE(t.type))}function kt(t,i){var s=ge.p;try{return ge.p=t,i()}finally{ge.p=s}}var Et=Math.random().toString(36).slice(2),Xe="__reactFiber$"+Et,Dn="__reactProps$"+Et,Zr="__reactContainer$"+Et,aa="__reactEvents$"+Et,ei="__reactListeners$"+Et,rc="__reactHandles$"+Et,pl="__reactResources$"+Et,Ei="__reactMarker$"+Et;function ss(t){delete t[Xe],delete t[Dn],delete t[aa],delete t[ei],delete t[rc]}function wi(t){var i=t[Xe];if(i)return i;for(var s=t.parentNode;s;){if(i=s[Zr]||s[Xe]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(t=ME(t);t!==null;){if(s=t[Xe])return s;t=ME(t)}return i}t=s,s=t.parentNode}return null}function bi(t){if(t=t[Xe]||t[Zr]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function os(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(a(33))}function jr(t){var i=t[pl];return i||(i=t[pl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function fn(t){t[Ei]=!0}var $s=new Set,sa={};function $n(t,i){ti(t,i),ti(t+"Capture",i)}function ti(t,i){for(sa[t]=i,t=0;t<i.length;t++)$s.add(i[t])}var Yh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ml={},gl={};function ic(t){return Ie.call(gl,t)?!0:Ie.call(ml,t)?!1:Yh.test(t)?gl[t]=!0:(ml[t]=!0,!1)}function oa(t,i,s){if(ic(i))if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+s)}}function la(t,i,s){if(s===null)t.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+s)}}function xr(t,i,s,u){if(u===null)t.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttributeNS(i,s,""+u)}}function Xn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ac(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Qh(t,i,s){var u=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,m=u.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(S){s=""+S,m.call(this,S)}}),Object.defineProperty(t,i,{enumerable:u.enumerable}),{getValue:function(){return s},setValue:function(S){s=""+S},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xs(t){if(!t._valueTracker){var i=ac(t)?"checked":"value";t._valueTracker=Qh(t,i,""+t[i])}}function yl(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return t&&(u=ac(t)?t.checked?"true":"false":t.value),t=u,t!==s?(i.setValue(t),!0):!1}function Js(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ti=/[\n"\\]/g;function an(t){return t.replace(Ti,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ua(t,i,s,u,h,m,S,L){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),i!=null?S==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Xn(i)):t.value!==""+Xn(i)&&(t.value=""+Xn(i)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),i!=null?Zs(t,S,Xn(i)):s!=null?Zs(t,S,Xn(s)):u!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?t.name=""+Xn(L):t.removeAttribute("name")}function ls(t,i,s,u,h,m,S,L){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),i!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||i!=null)){Xs(t);return}s=s!=null?""+Xn(s):"",i=i!=null?""+Xn(i):s,L||i===t.value||(t.value=i),t.defaultValue=i}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=L?t.checked:!!u,t.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S),Xs(t)}function Zs(t,i,s){i==="number"&&Js(t.ownerDocument)===t||t.defaultValue===""+s||(t.defaultValue=""+s)}function Ct(t,i,s,u){if(t=t.options,i){i={};for(var h=0;h<s.length;h++)i["$"+s[h]]=!0;for(s=0;s<t.length;s++)h=i.hasOwnProperty("$"+t[s].value),t[s].selected!==h&&(t[s].selected=h),h&&u&&(t[s].defaultSelected=!0)}else{for(s=""+Xn(s),i=null,h=0;h<t.length;h++){if(t[h].value===s){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function us(t,i,s){if(i!=null&&(i=""+Xn(i),i!==t.value&&(t.value=i),s==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=s!=null?""+Xn(s):""}function ca(t,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(a(92));if(ke(u)){if(1<u.length)throw Error(a(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=Xn(i),t.defaultValue=s,u=t.textContent,u===s&&u!==""&&u!==null&&(t.value=u),Xs(t)}function Or(t,i){if(i){var s=t.firstChild;if(s&&s===t.lastChild&&s.nodeType===3){s.nodeValue=i;return}}t.textContent=i}var $h=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _l(t,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":u?t.setProperty(i,s):typeof s!="number"||s===0||$h.has(i)?i==="float"?t.cssFloat=s:t[i]=(""+s).trim():t[i]=s+"px"}function sc(t,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(t=t.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var h in i)u=i[h],i.hasOwnProperty(h)&&s[h]!==u&&_l(t,h,u)}else for(var m in i)i.hasOwnProperty(m)&&_l(t,m,i[m])}function vl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Jh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ni(t){return Jh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Rn(){}var eo=null;function to(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Si=null,gr=null;function oc(t){var i=bi(t);if(i&&(t=i.stateNode)){var s=t[Dn]||null;e:switch(t=i.stateNode,i.type){case"input":if(ua(t,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=t;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+an(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==t&&u.form===t.form){var h=u[Dn]||null;if(!h)throw Error(a(90));ua(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===t.form&&yl(u)}break e;case"textarea":us(t,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&Ct(t,!!s.multiple,i,!1)}}}var El=!1;function lc(t,i,s){if(El)return t(i,s);El=!0;try{var u=t(i);return u}finally{if(El=!1,(Si!==null||gr!==null)&&(af(),Si&&(i=Si,t=gr,gr=Si=null,oc(i),t)))for(i=0;i<t.length;i++)oc(t[i])}}function ir(t,i){var s=t.stateNode;if(s===null)return null;var u=s[Dn]||null;if(u===null)return null;s=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var Fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wl=!1;if(Fr)try{var ri={};Object.defineProperty(ri,"passive",{get:function(){wl=!0}}),window.addEventListener("test",ri,ri),window.removeEventListener("test",ri,ri)}catch{wl=!1}var yr=null,no=null,ii=null;function fa(){if(ii)return ii;var t,i=no,s=i.length,u,h="value"in yr?yr.value:yr.textContent,m=h.length;for(t=0;t<s&&i[t]===h[t];t++);var S=s-t;for(u=1;u<=S&&i[s-u]===h[m-u];u++);return ii=h.slice(t,1<u?1-u:void 0)}function cs(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ha(){return!0}function Kt(){return!1}function Fn(t){function i(s,u,h,m,S){this._reactName=s,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var L in t)t.hasOwnProperty(L)&&(s=t[L],this[L]=s?s(m):m[L]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ha:Kt,this.isPropagationStopped=Kt,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ha)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ha)},persist:function(){},isPersistent:ha}),i}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fs=Fn(Ai),da=w({},Ai,{view:0,detail:0}),uc=Fn(da),pa,ro,Jn,hs=w({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ga,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jn&&(Jn&&t.type==="mousemove"?(pa=t.screenX-Jn.screenX,ro=t.screenY-Jn.screenY):ro=pa=0,Jn=t),pa)},movementY:function(t){return"movementY"in t?t.movementY:ro}}),cc=Fn(hs),ds=w({},hs,{dataTransfer:0}),fc=Fn(ds),bl=w({},da,{relatedTarget:0}),ma=Fn(bl),hc=w({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),io=Fn(hc),Zh=w({},Ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dc=Fn(Zh),ps=w({},Ai,{data:0}),Tl=Fn(ps),pc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Al={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Al[t])?!!i[t]:!1}function ga(){return mc}var gc=w({},da,{key:function(t){if(t.key){var i=pc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=cs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Sl[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ga,charCode:function(t){return t.type==="keypress"?cs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),yc=Fn(gc),Ri=w({},hs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rl=Fn(Ri),_c=w({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ga}),vc=Fn(_c),Ec=w({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),ao=Fn(Ec),Zn=w({},hs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wc=Fn(Zn),bc=w({},Ai,{newState:0,oldState:0}),ya=Fn(bc),f=[9,13,27,32],_=Fr&&"CompositionEvent"in window,A=null;Fr&&"documentMode"in document&&(A=document.documentMode);var z=Fr&&"TextEvent"in window&&!A,de=Fr&&(!_||A&&8<A&&11>=A),Ae=" ",Ve=!1;function Pt(t,i){switch(t){case"keyup":return f.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gn(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ut=!1;function Cn(t,i){switch(t){case"compositionend":return gn(i);case"keypress":return i.which!==32?null:(Ve=!0,Ae);case"textInput":return t=i.data,t===Ae&&Ve?null:t;default:return null}}function In(t,i){if(ut)return t==="compositionend"||!_&&Pt(t,i)?(t=fa(),ii=no=yr=null,ut=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de&&i.locale!=="ko"?null:i.data;default:return null}}var _a={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ar(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!_a[t.type]:i==="textarea"}function ms(t,i,s,u){Si?gr?gr.push(u):gr=[u]:Si=u,i=hf(i,"onChange"),0<i.length&&(s=new fs("onChange","change",null,s,u),t.push({event:s,listeners:i}))}var Ci=null,Cl=null;function F1(t){vE(t,0)}function Tc(t){var i=os(t);if(yl(i))return t}function L_(t,i){if(t==="change")return i}var V_=!1;if(Fr){var ed;if(Fr){var td="oninput"in document;if(!td){var j_=document.createElement("div");j_.setAttribute("oninput","return;"),td=typeof j_.oninput=="function"}ed=td}else ed=!1;V_=ed&&(!document.documentMode||9<document.documentMode)}function F_(){Ci&&(Ci.detachEvent("onpropertychange",q_),Cl=Ci=null)}function q_(t){if(t.propertyName==="value"&&Tc(Cl)){var i=[];ms(i,Cl,t,to(t)),lc(F1,i)}}function q1(t,i,s){t==="focusin"?(F_(),Ci=i,Cl=s,Ci.attachEvent("onpropertychange",q_)):t==="focusout"&&F_()}function z1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tc(Cl)}function H1(t,i){if(t==="click")return Tc(i)}function G1(t,i){if(t==="input"||t==="change")return Tc(i)}function K1(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var _r=typeof Object.is=="function"?Object.is:K1;function Il(t,i){if(_r(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var s=Object.keys(t),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var h=s[u];if(!Ie.call(i,h)||!_r(t[h],i[h]))return!1}return!0}function z_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function H_(t,i){var s=z_(t);t=0;for(var u;s;){if(s.nodeType===3){if(u=t+s.textContent.length,t<=i&&u>=i)return{node:s,offset:i-t};t=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=z_(s)}}function G_(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?G_(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function K_(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Js(t.document);i instanceof t.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)t=i.contentWindow;else break;i=Js(t.document)}return i}function nd(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var W1=Fr&&"documentMode"in document&&11>=document.documentMode,so=null,rd=null,xl=null,id=!1;function W_(t,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;id||so==null||so!==Js(u)||(u=so,"selectionStart"in u&&nd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),xl&&Il(xl,u)||(xl=u,u=hf(rd,"onSelect"),0<u.length&&(i=new fs("onSelect","select",null,i,s),t.push({event:i,listeners:u}),i.target=so)))}function gs(t,i){var s={};return s[t.toLowerCase()]=i.toLowerCase(),s["Webkit"+t]="webkit"+i,s["Moz"+t]="moz"+i,s}var oo={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},ad={},Y_={};Fr&&(Y_=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function ys(t){if(ad[t])return ad[t];if(!oo[t])return t;var i=oo[t],s;for(s in i)if(i.hasOwnProperty(s)&&s in Y_)return ad[t]=i[s];return t}var Q_=ys("animationend"),$_=ys("animationiteration"),X_=ys("animationstart"),Y1=ys("transitionrun"),Q1=ys("transitionstart"),$1=ys("transitioncancel"),J_=ys("transitionend"),Z_=new Map,sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");sd.push("scrollEnd");function qr(t,i){Z_.set(t,i),$n(i,[t])}var Sc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof et=="object"&&typeof et.emit=="function"){et.emit("uncaughtException",t);return}console.error(t)},Dr=[],lo=0,od=0;function Ac(){for(var t=lo,i=od=lo=0;i<t;){var s=Dr[i];Dr[i++]=null;var u=Dr[i];Dr[i++]=null;var h=Dr[i];Dr[i++]=null;var m=Dr[i];if(Dr[i++]=null,u!==null&&h!==null){var S=u.pending;S===null?h.next=h:(h.next=S.next,S.next=h),u.pending=h}m!==0&&e0(s,h,m)}}function Rc(t,i,s,u){Dr[lo++]=t,Dr[lo++]=i,Dr[lo++]=s,Dr[lo++]=u,od|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function ld(t,i,s,u){return Rc(t,i,s,u),Cc(t)}function _s(t,i){return Rc(t,null,null,i),Cc(t)}function e0(t,i,s){t.lanes|=s;var u=t.alternate;u!==null&&(u.lanes|=s);for(var h=!1,m=t.return;m!==null;)m.childLanes|=s,u=m.alternate,u!==null&&(u.childLanes|=s),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&i!==null&&(h=31-Re(s),t=m.hiddenUpdates,u=t[h],u===null?t[h]=[i]:u.push(i),i.lane=s|536870912),m):null}function Cc(t){if(50<Xl)throw Xl=0,yp=null,Error(a(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var uo={};function X1(t,i,s,u){this.tag=t,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vr(t,i,s,u){return new X1(t,i,s,u)}function ud(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ii(t,i){var s=t.alternate;return s===null?(s=vr(t.tag,i,t.key,t.mode),s.elementType=t.elementType,s.type=t.type,s.stateNode=t.stateNode,s.alternate=t,t.alternate=s):(s.pendingProps=i,s.type=t.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=t.flags&65011712,s.childLanes=t.childLanes,s.lanes=t.lanes,s.child=t.child,s.memoizedProps=t.memoizedProps,s.memoizedState=t.memoizedState,s.updateQueue=t.updateQueue,i=t.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=t.sibling,s.index=t.index,s.ref=t.ref,s.refCleanup=t.refCleanup,s}function t0(t,i){t.flags&=65011714;var s=t.alternate;return s===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=s.childLanes,t.lanes=s.lanes,t.child=s.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=s.memoizedProps,t.memoizedState=s.memoizedState,t.updateQueue=s.updateQueue,t.type=s.type,i=s.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ic(t,i,s,u,h,m){var S=0;if(u=t,typeof t=="function")ud(t)&&(S=1);else if(typeof t=="string")S=nI(t,s,ie.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case D:return t=vr(31,s,i,h),t.elementType=D,t.lanes=m,t;case F:return vs(s.children,h,m,i);case P:S=8,h|=24;break;case O:return t=vr(12,s,i,h|2),t.elementType=O,t.lanes=m,t;case X:return t=vr(13,s,i,h),t.elementType=X,t.lanes=m,t;case J:return t=vr(19,s,i,h),t.elementType=J,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j:S=10;break e;case U:S=9;break e;case K:S=11;break e;case x:S=14;break e;case C:S=16,u=null;break e}S=29,s=Error(a(130,t===null?"null":typeof t,"")),u=null}return i=vr(S,s,i,h),i.elementType=t,i.type=u,i.lanes=m,i}function vs(t,i,s,u){return t=vr(7,t,u,i),t.lanes=s,t}function cd(t,i,s){return t=vr(6,t,null,i),t.lanes=s,t}function n0(t){var i=vr(18,null,null,0);return i.stateNode=t,i}function fd(t,i,s){return i=vr(4,t.children!==null?t.children:[],t.key,i),i.lanes=s,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var r0=new WeakMap;function Nr(t,i){if(typeof t=="object"&&t!==null){var s=r0.get(t);return s!==void 0?s:(i={value:t,source:i,stack:cn(i)},r0.set(t,i),i)}return{value:t,source:i,stack:cn(i)}}var co=[],fo=0,xc=null,Ol=0,Mr=[],Pr=0,va=null,ai=1,si="";function xi(t,i){co[fo++]=Ol,co[fo++]=xc,xc=t,Ol=i}function i0(t,i,s){Mr[Pr++]=ai,Mr[Pr++]=si,Mr[Pr++]=va,va=t;var u=ai;t=si;var h=32-Re(u)-1;u&=~(1<<h),s+=1;var m=32-Re(i)+h;if(30<m){var S=h-h%5;m=(u&(1<<S)-1).toString(32),u>>=S,h-=S,ai=1<<32-Re(i)+h|s<<h|u,si=m+t}else ai=1<<m|s<<h|u,si=t}function hd(t){t.return!==null&&(xi(t,1),i0(t,1,0))}function dd(t){for(;t===xc;)xc=co[--fo],co[fo]=null,Ol=co[--fo],co[fo]=null;for(;t===va;)va=Mr[--Pr],Mr[Pr]=null,si=Mr[--Pr],Mr[Pr]=null,ai=Mr[--Pr],Mr[Pr]=null}function a0(t,i){Mr[Pr++]=ai,Mr[Pr++]=si,Mr[Pr++]=va,ai=i.id,si=i.overflow,va=t}var Nn=null,Wt=null,gt=!1,Ea=null,kr=!1,pd=Error(a(519));function wa(t){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Dl(Nr(i,t)),pd}function s0(t){var i=t.stateNode,s=t.type,u=t.memoizedProps;switch(i[Xe]=t,i[Dn]=u,s){case"dialog":ht("cancel",i),ht("close",i);break;case"iframe":case"object":case"embed":ht("load",i);break;case"video":case"audio":for(s=0;s<Zl.length;s++)ht(Zl[s],i);break;case"source":ht("error",i);break;case"img":case"image":case"link":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"input":ht("invalid",i),ls(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ht("invalid",i);break;case"textarea":ht("invalid",i),ca(i,u.value,u.defaultValue,u.children)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||TE(i.textContent,s)?(u.popover!=null&&(ht("beforetoggle",i),ht("toggle",i)),u.onScroll!=null&&ht("scroll",i),u.onScrollEnd!=null&&ht("scrollend",i),u.onClick!=null&&(i.onclick=Rn),i=!0):i=!1,i||wa(t,!0)}function o0(t){for(Nn=t.return;Nn;)switch(Nn.tag){case 5:case 31:case 13:kr=!1;return;case 27:case 3:kr=!0;return;default:Nn=Nn.return}}function ho(t){if(t!==Nn)return!1;if(!gt)return o0(t),gt=!0,!1;var i=t.tag,s;if((s=i!==3&&i!==27)&&((s=i===5)&&(s=t.type,s=!(s!=="form"&&s!=="button")||Np(t.type,t.memoizedProps)),s=!s),s&&Wt&&wa(t),o0(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Wt=NE(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));Wt=NE(t)}else i===27?(i=Wt,ka(t.type)?(t=Up,Up=null,Wt=t):Wt=i):Wt=Nn?Ur(t.stateNode.nextSibling):null;return!0}function Es(){Wt=Nn=null,gt=!1}function md(){var t=Ea;return t!==null&&(ur===null?ur=t:ur.push.apply(ur,t),Ea=null),t}function Dl(t){Ea===null?Ea=[t]:Ea.push(t)}var gd=ne(null),ws=null,Oi=null;function ba(t,i,s){Z(gd,i._currentValue),i._currentValue=s}function Di(t){t._currentValue=gd.current,ve(gd)}function yd(t,i,s){for(;t!==null;){var u=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),t===s)break;t=t.return}}function _d(t,i,s,u){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var S=h.child;m=m.firstContext;e:for(;m!==null;){var L=m;m=h;for(var re=0;re<i.length;re++)if(L.context===i[re]){m.lanes|=s,L=m.alternate,L!==null&&(L.lanes|=s),yd(m.return,s,t),u||(S=null);break e}m=L.next}}else if(h.tag===18){if(S=h.return,S===null)throw Error(a(341));S.lanes|=s,m=S.alternate,m!==null&&(m.lanes|=s),yd(S,s,t),S=null}else S=h.child;if(S!==null)S.return=h;else for(S=h;S!==null;){if(S===t){S=null;break}if(h=S.sibling,h!==null){h.return=S.return,S=h;break}S=S.return}h=S}}function po(t,i,s,u){t=null;for(var h=i,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var S=h.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var L=h.type;_r(h.pendingProps.value,S.value)||(t!==null?t.push(L):t=[L])}}else if(h===N.current){if(S=h.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(iu):t=[iu])}h=h.return}t!==null&&_d(i,t,s,u),i.flags|=262144}function Oc(t){for(t=t.firstContext;t!==null;){if(!_r(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function bs(t){ws=t,Oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Mn(t){return l0(ws,t)}function Dc(t,i){return ws===null&&bs(t),l0(t,i)}function l0(t,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Oi===null){if(t===null)throw Error(a(308));Oi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Oi=Oi.next=i;return s}var J1=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(s,u){t.push(u)}};this.abort=function(){i.aborted=!0,t.forEach(function(s){return s()})}},Z1=r.unstable_scheduleCallback,eC=r.unstable_NormalPriority,yn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vd(){return{controller:new J1,data:new Map,refCount:0}}function Nl(t){t.refCount--,t.refCount===0&&Z1(eC,function(){t.controller.abort()})}var Ml=null,Ed=0,mo=0,go=null;function tC(t,i){if(Ml===null){var s=Ml=[];Ed=0,mo=Tp(),go={status:"pending",value:void 0,then:function(u){s.push(u)}}}return Ed++,i.then(u0,u0),i}function u0(){if(--Ed===0&&Ml!==null){go!==null&&(go.status="fulfilled");var t=Ml;Ml=null,mo=0,go=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function nC(t,i){var s=[],u={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return t.then(function(){u.status="fulfilled",u.value=i;for(var h=0;h<s.length;h++)(0,s[h])(i)},function(h){for(u.status="rejected",u.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),u}var c0=ae.S;ae.S=function(t,i){Wv=_t(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&tC(t,i),c0!==null&&c0(t,i)};var Ts=ne(null);function wd(){var t=Ts.current;return t!==null?t:Ht.pooledCache}function Nc(t,i){i===null?Z(Ts,Ts.current):Z(Ts,i.pool)}function f0(){var t=wd();return t===null?null:{parent:yn._currentValue,pool:t}}var yo=Error(a(460)),bd=Error(a(474)),Mc=Error(a(542)),Pc={then:function(){}};function h0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function d0(t,i,s){switch(s=t[s],s===void 0?t.push(i):s!==i&&(i.then(Rn,Rn),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,m0(t),t;default:if(typeof i.status=="string")i.then(Rn,Rn);else{if(t=Ht,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=i,t.status="pending",t.then(function(u){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=u}},function(u){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,m0(t),t}throw As=i,yo}}function Ss(t){try{var i=t._init;return i(t._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(As=s,yo):s}}var As=null;function p0(){if(As===null)throw Error(a(459));var t=As;return As=null,t}function m0(t){if(t===yo||t===Mc)throw Error(a(483))}var _o=null,Pl=0;function kc(t){var i=Pl;return Pl+=1,_o===null&&(_o=[]),d0(_o,t,i)}function kl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Bc(t,i){throw i.$$typeof===R?Error(a(525)):(t=Object.prototype.toString.call(i),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function g0(t){function i(fe,oe){if(t){var ye=fe.deletions;ye===null?(fe.deletions=[oe],fe.flags|=16):ye.push(oe)}}function s(fe,oe){if(!t)return null;for(;oe!==null;)i(fe,oe),oe=oe.sibling;return null}function u(fe){for(var oe=new Map;fe!==null;)fe.key!==null?oe.set(fe.key,fe):oe.set(fe.index,fe),fe=fe.sibling;return oe}function h(fe,oe){return fe=Ii(fe,oe),fe.index=0,fe.sibling=null,fe}function m(fe,oe,ye){return fe.index=ye,t?(ye=fe.alternate,ye!==null?(ye=ye.index,ye<oe?(fe.flags|=67108866,oe):ye):(fe.flags|=67108866,oe)):(fe.flags|=1048576,oe)}function S(fe){return t&&fe.alternate===null&&(fe.flags|=67108866),fe}function L(fe,oe,ye,De){return oe===null||oe.tag!==6?(oe=cd(ye,fe.mode,De),oe.return=fe,oe):(oe=h(oe,ye),oe.return=fe,oe)}function re(fe,oe,ye,De){var We=ye.type;return We===F?Ce(fe,oe,ye.props.children,De,ye.key):oe!==null&&(oe.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===C&&Ss(We)===oe.type)?(oe=h(oe,ye.props),kl(oe,ye),oe.return=fe,oe):(oe=Ic(ye.type,ye.key,ye.props,null,fe.mode,De),kl(oe,ye),oe.return=fe,oe)}function _e(fe,oe,ye,De){return oe===null||oe.tag!==4||oe.stateNode.containerInfo!==ye.containerInfo||oe.stateNode.implementation!==ye.implementation?(oe=fd(ye,fe.mode,De),oe.return=fe,oe):(oe=h(oe,ye.children||[]),oe.return=fe,oe)}function Ce(fe,oe,ye,De,We){return oe===null||oe.tag!==7?(oe=vs(ye,fe.mode,De,We),oe.return=fe,oe):(oe=h(oe,ye),oe.return=fe,oe)}function Ne(fe,oe,ye){if(typeof oe=="string"&&oe!==""||typeof oe=="number"||typeof oe=="bigint")return oe=cd(""+oe,fe.mode,ye),oe.return=fe,oe;if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case H:return ye=Ic(oe.type,oe.key,oe.props,null,fe.mode,ye),kl(ye,oe),ye.return=fe,ye;case I:return oe=fd(oe,fe.mode,ye),oe.return=fe,oe;case C:return oe=Ss(oe),Ne(fe,oe,ye)}if(ke(oe)||M(oe))return oe=vs(oe,fe.mode,ye,null),oe.return=fe,oe;if(typeof oe.then=="function")return Ne(fe,kc(oe),ye);if(oe.$$typeof===j)return Ne(fe,Dc(fe,oe),ye);Bc(fe,oe)}return null}function we(fe,oe,ye,De){var We=oe!==null?oe.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return We!==null?null:L(fe,oe,""+ye,De);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case H:return ye.key===We?re(fe,oe,ye,De):null;case I:return ye.key===We?_e(fe,oe,ye,De):null;case C:return ye=Ss(ye),we(fe,oe,ye,De)}if(ke(ye)||M(ye))return We!==null?null:Ce(fe,oe,ye,De,null);if(typeof ye.then=="function")return we(fe,oe,kc(ye),De);if(ye.$$typeof===j)return we(fe,oe,Dc(fe,ye),De);Bc(fe,ye)}return null}function Se(fe,oe,ye,De,We){if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return fe=fe.get(ye)||null,L(oe,fe,""+De,We);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case H:return fe=fe.get(De.key===null?ye:De.key)||null,re(oe,fe,De,We);case I:return fe=fe.get(De.key===null?ye:De.key)||null,_e(oe,fe,De,We);case C:return De=Ss(De),Se(fe,oe,ye,De,We)}if(ke(De)||M(De))return fe=fe.get(ye)||null,Ce(oe,fe,De,We,null);if(typeof De.then=="function")return Se(fe,oe,ye,kc(De),We);if(De.$$typeof===j)return Se(fe,oe,ye,Dc(oe,De),We);Bc(oe,De)}return null}function qe(fe,oe,ye,De){for(var We=null,It=null,Ge=oe,lt=oe=0,pt=null;Ge!==null&&lt<ye.length;lt++){Ge.index>lt?(pt=Ge,Ge=null):pt=Ge.sibling;var xt=we(fe,Ge,ye[lt],De);if(xt===null){Ge===null&&(Ge=pt);break}t&&Ge&&xt.alternate===null&&i(fe,Ge),oe=m(xt,oe,lt),It===null?We=xt:It.sibling=xt,It=xt,Ge=pt}if(lt===ye.length)return s(fe,Ge),gt&&xi(fe,lt),We;if(Ge===null){for(;lt<ye.length;lt++)Ge=Ne(fe,ye[lt],De),Ge!==null&&(oe=m(Ge,oe,lt),It===null?We=Ge:It.sibling=Ge,It=Ge);return gt&&xi(fe,lt),We}for(Ge=u(Ge);lt<ye.length;lt++)pt=Se(Ge,fe,lt,ye[lt],De),pt!==null&&(t&&pt.alternate!==null&&Ge.delete(pt.key===null?lt:pt.key),oe=m(pt,oe,lt),It===null?We=pt:It.sibling=pt,It=pt);return t&&Ge.forEach(function(ja){return i(fe,ja)}),gt&&xi(fe,lt),We}function $e(fe,oe,ye,De){if(ye==null)throw Error(a(151));for(var We=null,It=null,Ge=oe,lt=oe=0,pt=null,xt=ye.next();Ge!==null&&!xt.done;lt++,xt=ye.next()){Ge.index>lt?(pt=Ge,Ge=null):pt=Ge.sibling;var ja=we(fe,Ge,xt.value,De);if(ja===null){Ge===null&&(Ge=pt);break}t&&Ge&&ja.alternate===null&&i(fe,Ge),oe=m(ja,oe,lt),It===null?We=ja:It.sibling=ja,It=ja,Ge=pt}if(xt.done)return s(fe,Ge),gt&&xi(fe,lt),We;if(Ge===null){for(;!xt.done;lt++,xt=ye.next())xt=Ne(fe,xt.value,De),xt!==null&&(oe=m(xt,oe,lt),It===null?We=xt:It.sibling=xt,It=xt);return gt&&xi(fe,lt),We}for(Ge=u(Ge);!xt.done;lt++,xt=ye.next())xt=Se(Ge,fe,lt,xt.value,De),xt!==null&&(t&&xt.alternate!==null&&Ge.delete(xt.key===null?lt:xt.key),oe=m(xt,oe,lt),It===null?We=xt:It.sibling=xt,It=xt);return t&&Ge.forEach(function(dI){return i(fe,dI)}),gt&&xi(fe,lt),We}function qt(fe,oe,ye,De){if(typeof ye=="object"&&ye!==null&&ye.type===F&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case H:e:{for(var We=ye.key;oe!==null;){if(oe.key===We){if(We=ye.type,We===F){if(oe.tag===7){s(fe,oe.sibling),De=h(oe,ye.props.children),De.return=fe,fe=De;break e}}else if(oe.elementType===We||typeof We=="object"&&We!==null&&We.$$typeof===C&&Ss(We)===oe.type){s(fe,oe.sibling),De=h(oe,ye.props),kl(De,ye),De.return=fe,fe=De;break e}s(fe,oe);break}else i(fe,oe);oe=oe.sibling}ye.type===F?(De=vs(ye.props.children,fe.mode,De,ye.key),De.return=fe,fe=De):(De=Ic(ye.type,ye.key,ye.props,null,fe.mode,De),kl(De,ye),De.return=fe,fe=De)}return S(fe);case I:e:{for(We=ye.key;oe!==null;){if(oe.key===We)if(oe.tag===4&&oe.stateNode.containerInfo===ye.containerInfo&&oe.stateNode.implementation===ye.implementation){s(fe,oe.sibling),De=h(oe,ye.children||[]),De.return=fe,fe=De;break e}else{s(fe,oe);break}else i(fe,oe);oe=oe.sibling}De=fd(ye,fe.mode,De),De.return=fe,fe=De}return S(fe);case C:return ye=Ss(ye),qt(fe,oe,ye,De)}if(ke(ye))return qe(fe,oe,ye,De);if(M(ye)){if(We=M(ye),typeof We!="function")throw Error(a(150));return ye=We.call(ye),$e(fe,oe,ye,De)}if(typeof ye.then=="function")return qt(fe,oe,kc(ye),De);if(ye.$$typeof===j)return qt(fe,oe,Dc(fe,ye),De);Bc(fe,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,oe!==null&&oe.tag===6?(s(fe,oe.sibling),De=h(oe,ye),De.return=fe,fe=De):(s(fe,oe),De=cd(ye,fe.mode,De),De.return=fe,fe=De),S(fe)):s(fe,oe)}return function(fe,oe,ye,De){try{Pl=0;var We=qt(fe,oe,ye,De);return _o=null,We}catch(Ge){if(Ge===yo||Ge===Mc)throw Ge;var It=vr(29,Ge,null,fe.mode);return It.lanes=De,It.return=fe,It}}}var Rs=g0(!0),y0=g0(!1),Ta=!1;function Td(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Sa(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Aa(t,i,s){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Nt&2)!==0){var h=u.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),u.pending=i,i=Cc(t),e0(t,null,s),i}return Rc(t,u,i,s),Cc(t)}function Bl(t,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194048)!==0)){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,ue(t,s)}}function Ad(t,i){var s=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var h=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var S={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?h=m=S:m=m.next=S,s=s.next}while(s!==null);m===null?h=m=i:m=m.next=i}else h=m=i;s={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},t.updateQueue=s;return}t=s.lastBaseUpdate,t===null?s.firstBaseUpdate=i:t.next=i,s.lastBaseUpdate=i}var Rd=!1;function Ul(){if(Rd){var t=go;if(t!==null)throw t}}function Ll(t,i,s,u){Rd=!1;var h=t.updateQueue;Ta=!1;var m=h.firstBaseUpdate,S=h.lastBaseUpdate,L=h.shared.pending;if(L!==null){h.shared.pending=null;var re=L,_e=re.next;re.next=null,S===null?m=_e:S.next=_e,S=re;var Ce=t.alternate;Ce!==null&&(Ce=Ce.updateQueue,L=Ce.lastBaseUpdate,L!==S&&(L===null?Ce.firstBaseUpdate=_e:L.next=_e,Ce.lastBaseUpdate=re))}if(m!==null){var Ne=h.baseState;S=0,Ce=_e=re=null,L=m;do{var we=L.lane&-536870913,Se=we!==L.lane;if(Se?(dt&we)===we:(u&we)===we){we!==0&&we===mo&&(Rd=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var qe=t,$e=L;we=i;var qt=s;switch($e.tag){case 1:if(qe=$e.payload,typeof qe=="function"){Ne=qe.call(qt,Ne,we);break e}Ne=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=$e.payload,we=typeof qe=="function"?qe.call(qt,Ne,we):qe,we==null)break e;Ne=w({},Ne,we);break e;case 2:Ta=!0}}we=L.callback,we!==null&&(t.flags|=64,Se&&(t.flags|=8192),Se=h.callbacks,Se===null?h.callbacks=[we]:Se.push(we))}else Se={lane:we,tag:L.tag,payload:L.payload,callback:L.callback,next:null},Ce===null?(_e=Ce=Se,re=Ne):Ce=Ce.next=Se,S|=we;if(L=L.next,L===null){if(L=h.shared.pending,L===null)break;Se=L,L=Se.next,Se.next=null,h.lastBaseUpdate=Se,h.shared.pending=null}}while(!0);Ce===null&&(re=Ne),h.baseState=re,h.firstBaseUpdate=_e,h.lastBaseUpdate=Ce,m===null&&(h.shared.lanes=0),Oa|=S,t.lanes=S,t.memoizedState=Ne}}function _0(t,i){if(typeof t!="function")throw Error(a(191,t));t.call(i)}function v0(t,i){var s=t.callbacks;if(s!==null)for(t.callbacks=null,t=0;t<s.length;t++)_0(s[t],i)}var vo=ne(null),Uc=ne(0);function E0(t,i){t=ji,Z(Uc,t),Z(vo,i),ji=t|i.baseLanes}function Cd(){Z(Uc,ji),Z(vo,vo.current)}function Id(){ji=Uc.current,ve(vo),ve(Uc)}var Er=ne(null),Br=null;function Ra(t){var i=t.alternate;Z(hn,hn.current&1),Z(Er,t),Br===null&&(i===null||vo.current!==null||i.memoizedState!==null)&&(Br=t)}function xd(t){Z(hn,hn.current),Z(Er,t),Br===null&&(Br=t)}function w0(t){t.tag===22?(Z(hn,hn.current),Z(Er,t),Br===null&&(Br=t)):Ca()}function Ca(){Z(hn,hn.current),Z(Er,Er.current)}function wr(t){ve(Er),Br===t&&(Br=null),ve(hn)}var hn=ne(0);function Lc(t){for(var i=t;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||kp(s)||Bp(s)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Ni=0,st=null,jt=null,_n=null,Vc=!1,Eo=!1,Cs=!1,jc=0,Vl=0,wo=null,rC=0;function sn(){throw Error(a(321))}function Od(t,i){if(i===null)return!1;for(var s=0;s<i.length&&s<t.length;s++)if(!_r(t[s],i[s]))return!1;return!0}function Dd(t,i,s,u,h,m){return Ni=m,st=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ae.H=t===null||t.memoizedState===null?iv:Kd,Cs=!1,m=s(u,h),Cs=!1,Eo&&(m=T0(i,s,u,h)),b0(t),m}function b0(t){ae.H=ql;var i=jt!==null&&jt.next!==null;if(Ni=0,_n=jt=st=null,Vc=!1,Vl=0,wo=null,i)throw Error(a(300));t===null||vn||(t=t.dependencies,t!==null&&Oc(t)&&(vn=!0))}function T0(t,i,s,u){st=t;var h=0;do{if(Eo&&(wo=null),Vl=0,Eo=!1,25<=h)throw Error(a(301));if(h+=1,_n=jt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}ae.H=av,m=i(s,u)}while(Eo);return m}function iC(){var t=ae.H,i=t.useState()[0];return i=typeof i.then=="function"?jl(i):i,t=t.useState()[0],(jt!==null?jt.memoizedState:null)!==t&&(st.flags|=1024),i}function Nd(){var t=jc!==0;return jc=0,t}function Md(t,i,s){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~s}function Pd(t){if(Vc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Vc=!1}Ni=0,_n=jt=st=null,Eo=!1,Vl=jc=0,wo=null}function er(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?st.memoizedState=_n=t:_n=_n.next=t,_n}function dn(){if(jt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var i=_n===null?st.memoizedState:_n.next;if(i!==null)_n=i,jt=t;else{if(t===null)throw st.alternate===null?Error(a(467)):Error(a(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},_n===null?st.memoizedState=_n=t:_n=_n.next=t}return _n}function Fc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(t){var i=Vl;return Vl+=1,wo===null&&(wo=[]),t=d0(wo,t,i),i=st,(_n===null?i.memoizedState:_n.next)===null&&(i=i.alternate,ae.H=i===null||i.memoizedState===null?iv:Kd),t}function qc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jl(t);if(t.$$typeof===j)return Mn(t)}throw Error(a(438,String(t)))}function kd(t){var i=null,s=st.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=st.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Fc(),st.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(t),u=0;u<t;u++)s[u]=W;return i.index++,s}function Mi(t,i){return typeof i=="function"?i(t):i}function zc(t){var i=dn();return Bd(i,jt,t)}function Bd(t,i,s){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=s;var h=t.baseQueue,m=u.pending;if(m!==null){if(h!==null){var S=h.next;h.next=m.next,m.next=S}i.baseQueue=h=m,u.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{i=h.next;var L=S=null,re=null,_e=i,Ce=!1;do{var Ne=_e.lane&-536870913;if(Ne!==_e.lane?(dt&Ne)===Ne:(Ni&Ne)===Ne){var we=_e.revertLane;if(we===0)re!==null&&(re=re.next={lane:0,revertLane:0,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),Ne===mo&&(Ce=!0);else if((Ni&we)===we){_e=_e.next,we===mo&&(Ce=!0);continue}else Ne={lane:0,revertLane:_e.revertLane,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},re===null?(L=re=Ne,S=m):re=re.next=Ne,st.lanes|=we,Oa|=we;Ne=_e.action,Cs&&s(m,Ne),m=_e.hasEagerState?_e.eagerState:s(m,Ne)}else we={lane:Ne,revertLane:_e.revertLane,gesture:_e.gesture,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},re===null?(L=re=we,S=m):re=re.next=we,st.lanes|=Ne,Oa|=Ne;_e=_e.next}while(_e!==null&&_e!==i);if(re===null?S=m:re.next=L,!_r(m,t.memoizedState)&&(vn=!0,Ce&&(s=go,s!==null)))throw s;t.memoizedState=m,t.baseState=S,t.baseQueue=re,u.lastRenderedState=m}return h===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Ud(t){var i=dn(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=t;var u=s.dispatch,h=s.pending,m=i.memoizedState;if(h!==null){s.pending=null;var S=h=h.next;do m=t(m,S.action),S=S.next;while(S!==h);_r(m,i.memoizedState)||(vn=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),s.lastRenderedState=m}return[m,u]}function S0(t,i,s){var u=st,h=dn(),m=gt;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=i();var S=!_r((jt||h).memoizedState,s);if(S&&(h.memoizedState=s,vn=!0),h=h.queue,jd(C0.bind(null,u,h,t),[t]),h.getSnapshot!==i||S||_n!==null&&_n.memoizedState.tag&1){if(u.flags|=2048,bo(9,{destroy:void 0},R0.bind(null,u,h,s,i),null),Ht===null)throw Error(a(349));m||(Ni&127)!==0||A0(u,i,s)}return s}function A0(t,i,s){t.flags|=16384,t={getSnapshot:i,value:s},i=st.updateQueue,i===null?(i=Fc(),st.updateQueue=i,i.stores=[t]):(s=i.stores,s===null?i.stores=[t]:s.push(t))}function R0(t,i,s,u){i.value=s,i.getSnapshot=u,I0(i)&&x0(t)}function C0(t,i,s){return s(function(){I0(i)&&x0(t)})}function I0(t){var i=t.getSnapshot;t=t.value;try{var s=i();return!_r(t,s)}catch{return!0}}function x0(t){var i=_s(t,2);i!==null&&cr(i,t,2)}function Ld(t){var i=er();if(typeof t=="function"){var s=t;if(t=s(),Cs){me(!0);try{s()}finally{me(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:t},i}function O0(t,i,s,u){return t.baseState=s,Bd(t,jt,typeof u=="function"?u:Mi)}function aC(t,i,s,u,h){if(Kc(t))throw Error(a(485));if(t=i.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};ae.T!==null?s(!0):m.isTransition=!1,u(m),s=i.pending,s===null?(m.next=i.pending=m,D0(i,m)):(m.next=s.next,i.pending=s.next=m)}}function D0(t,i){var s=i.action,u=i.payload,h=t.state;if(i.isTransition){var m=ae.T,S={};ae.T=S;try{var L=s(h,u),re=ae.S;re!==null&&re(S,L),N0(t,i,L)}catch(_e){Vd(t,i,_e)}finally{m!==null&&S.types!==null&&(m.types=S.types),ae.T=m}}else try{m=s(h,u),N0(t,i,m)}catch(_e){Vd(t,i,_e)}}function N0(t,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){M0(t,i,u)},function(u){return Vd(t,i,u)}):M0(t,i,s)}function M0(t,i,s){i.status="fulfilled",i.value=s,P0(i),t.state=s,i=t.pending,i!==null&&(s=i.next,s===i?t.pending=null:(s=s.next,i.next=s,D0(t,s)))}function Vd(t,i,s){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,P0(i),i=i.next;while(i!==u)}t.action=null}function P0(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function k0(t,i){return i}function B0(t,i){if(gt){var s=Ht.formState;if(s!==null){e:{var u=st;if(gt){if(Wt){t:{for(var h=Wt,m=kr;h.nodeType!==8;){if(!m){h=null;break t}if(h=Ur(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){Wt=Ur(h.nextSibling),u=h.data==="F!";break e}}wa(u)}u=!1}u&&(i=s[0])}}return s=er(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k0,lastRenderedState:i},s.queue=u,s=tv.bind(null,st,u),u.dispatch=s,u=Ld(!1),m=Gd.bind(null,st,!1,u.queue),u=er(),h={state:i,dispatch:null,action:t,pending:null},u.queue=h,s=aC.bind(null,st,h,m,s),h.dispatch=s,u.memoizedState=t,[i,s,!1]}function U0(t){var i=dn();return L0(i,jt,t)}function L0(t,i,s){if(i=Bd(t,i,k0)[0],t=zc(Mi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=jl(i)}catch(S){throw S===yo?Mc:S}else u=i;i=dn();var h=i.queue,m=h.dispatch;return s!==i.memoizedState&&(st.flags|=2048,bo(9,{destroy:void 0},sC.bind(null,h,s),null)),[u,m,t]}function sC(t,i){t.action=i}function V0(t){var i=dn(),s=jt;if(s!==null)return L0(i,s,t);dn(),i=i.memoizedState,s=dn();var u=s.queue.dispatch;return s.memoizedState=t,[i,u,!1]}function bo(t,i,s,u){return t={tag:t,create:s,deps:u,inst:i,next:null},i=st.updateQueue,i===null&&(i=Fc(),st.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=t.next=t:(u=s.next,s.next=t,t.next=u,i.lastEffect=t),t}function j0(){return dn().memoizedState}function Hc(t,i,s,u){var h=er();st.flags|=t,h.memoizedState=bo(1|i,{destroy:void 0},s,u===void 0?null:u)}function Gc(t,i,s,u){var h=dn();u=u===void 0?null:u;var m=h.memoizedState.inst;jt!==null&&u!==null&&Od(u,jt.memoizedState.deps)?h.memoizedState=bo(i,m,s,u):(st.flags|=t,h.memoizedState=bo(1|i,m,s,u))}function F0(t,i){Hc(8390656,8,t,i)}function jd(t,i){Gc(2048,8,t,i)}function oC(t){st.flags|=4;var i=st.updateQueue;if(i===null)i=Fc(),st.updateQueue=i,i.events=[t];else{var s=i.events;s===null?i.events=[t]:s.push(t)}}function q0(t){var i=dn().memoizedState;return oC({ref:i,nextImpl:t}),function(){if((Nt&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function z0(t,i){return Gc(4,2,t,i)}function H0(t,i){return Gc(4,4,t,i)}function G0(t,i){if(typeof i=="function"){t=t();var s=i(t);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function K0(t,i,s){s=s!=null?s.concat([t]):null,Gc(4,4,G0.bind(null,i,t),s)}function Fd(){}function W0(t,i){var s=dn();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&Od(i,u[1])?u[0]:(s.memoizedState=[t,i],t)}function Y0(t,i){var s=dn();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&Od(i,u[1]))return u[0];if(u=t(),Cs){me(!0);try{t()}finally{me(!1)}}return s.memoizedState=[u,i],u}function qd(t,i,s){return s===void 0||(Ni&1073741824)!==0&&(dt&261930)===0?t.memoizedState=i:(t.memoizedState=s,t=Qv(),st.lanes|=t,Oa|=t,s)}function Q0(t,i,s,u){return _r(s,i)?s:vo.current!==null?(t=qd(t,s,u),_r(t,i)||(vn=!0),t):(Ni&42)===0||(Ni&1073741824)!==0&&(dt&261930)===0?(vn=!0,t.memoizedState=s):(t=Qv(),st.lanes|=t,Oa|=t,i)}function $0(t,i,s,u,h){var m=ge.p;ge.p=m!==0&&8>m?m:8;var S=ae.T,L={};ae.T=L,Gd(t,!1,i,s);try{var re=h(),_e=ae.S;if(_e!==null&&_e(L,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var Ce=nC(re,u);Fl(t,i,Ce,Sr(t))}else Fl(t,i,u,Sr(t))}catch(Ne){Fl(t,i,{then:function(){},status:"rejected",reason:Ne},Sr())}finally{ge.p=m,S!==null&&L.types!==null&&(S.types=L.types),ae.T=S}}function lC(){}function zd(t,i,s,u){if(t.tag!==5)throw Error(a(476));var h=X0(t).queue;$0(t,h,i,xe,s===null?lC:function(){return J0(t),s(u)})}function X0(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:xe},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mi,lastRenderedState:s},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function J0(t){var i=X0(t);i.next===null&&(i=t.alternate.memoizedState),Fl(t,i.next.queue,{},Sr())}function Hd(){return Mn(iu)}function Z0(){return dn().memoizedState}function ev(){return dn().memoizedState}function uC(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var s=Sr();t=Sa(s);var u=Aa(i,t,s);u!==null&&(cr(u,i,s),Bl(u,i,s)),i={cache:vd()},t.payload=i;return}i=i.return}}function cC(t,i,s){var u=Sr();s={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Kc(t)?nv(i,s):(s=ld(t,i,s,u),s!==null&&(cr(s,t,u),rv(s,i,u)))}function tv(t,i,s){var u=Sr();Fl(t,i,s,u)}function Fl(t,i,s,u){var h={lane:u,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Kc(t))nv(i,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var S=i.lastRenderedState,L=m(S,s);if(h.hasEagerState=!0,h.eagerState=L,_r(L,S))return Rc(t,i,h,0),Ht===null&&Ac(),!1}catch{}if(s=ld(t,i,h,u),s!==null)return cr(s,t,u),rv(s,i,u),!0}return!1}function Gd(t,i,s,u){if(u={lane:2,revertLane:Tp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Kc(t)){if(i)throw Error(a(479))}else i=ld(t,s,u,2),i!==null&&cr(i,t,2)}function Kc(t){var i=t.alternate;return t===st||i!==null&&i===st}function nv(t,i){Eo=Vc=!0;var s=t.pending;s===null?i.next=i:(i.next=s.next,s.next=i),t.pending=i}function rv(t,i,s){if((s&4194048)!==0){var u=i.lanes;u&=t.pendingLanes,s|=u,i.lanes=s,ue(t,s)}}var ql={readContext:Mn,use:qc,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useLayoutEffect:sn,useInsertionEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useSyncExternalStore:sn,useId:sn,useHostTransitionStatus:sn,useFormState:sn,useActionState:sn,useOptimistic:sn,useMemoCache:sn,useCacheRefresh:sn};ql.useEffectEvent=sn;var iv={readContext:Mn,use:qc,useCallback:function(t,i){return er().memoizedState=[t,i===void 0?null:i],t},useContext:Mn,useEffect:F0,useImperativeHandle:function(t,i,s){s=s!=null?s.concat([t]):null,Hc(4194308,4,G0.bind(null,i,t),s)},useLayoutEffect:function(t,i){return Hc(4194308,4,t,i)},useInsertionEffect:function(t,i){Hc(4,2,t,i)},useMemo:function(t,i){var s=er();i=i===void 0?null:i;var u=t();if(Cs){me(!0);try{t()}finally{me(!1)}}return s.memoizedState=[u,i],u},useReducer:function(t,i,s){var u=er();if(s!==void 0){var h=s(i);if(Cs){me(!0);try{s(i)}finally{me(!1)}}}else h=i;return u.memoizedState=u.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},u.queue=t,t=t.dispatch=cC.bind(null,st,t),[u.memoizedState,t]},useRef:function(t){var i=er();return t={current:t},i.memoizedState=t},useState:function(t){t=Ld(t);var i=t.queue,s=tv.bind(null,st,i);return i.dispatch=s,[t.memoizedState,s]},useDebugValue:Fd,useDeferredValue:function(t,i){var s=er();return qd(s,t,i)},useTransition:function(){var t=Ld(!1);return t=$0.bind(null,st,t.queue,!0,!1),er().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,s){var u=st,h=er();if(gt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Ht===null)throw Error(a(349));(dt&127)!==0||A0(u,i,s)}h.memoizedState=s;var m={value:s,getSnapshot:i};return h.queue=m,F0(C0.bind(null,u,m,t),[t]),u.flags|=2048,bo(9,{destroy:void 0},R0.bind(null,u,m,s,i),null),s},useId:function(){var t=er(),i=Ht.identifierPrefix;if(gt){var s=si,u=ai;s=(u&~(1<<32-Re(u)-1)).toString(32)+s,i="_"+i+"R_"+s,s=jc++,0<s&&(i+="H"+s.toString(32)),i+="_"}else s=rC++,i="_"+i+"r_"+s.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Hd,useFormState:B0,useActionState:B0,useOptimistic:function(t){var i=er();i.memoizedState=i.baseState=t;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=Gd.bind(null,st,!0,s),s.dispatch=i,[t,i]},useMemoCache:kd,useCacheRefresh:function(){return er().memoizedState=uC.bind(null,st)},useEffectEvent:function(t){var i=er(),s={impl:t};return i.memoizedState=s,function(){if((Nt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Kd={readContext:Mn,use:qc,useCallback:W0,useContext:Mn,useEffect:jd,useImperativeHandle:K0,useInsertionEffect:z0,useLayoutEffect:H0,useMemo:Y0,useReducer:zc,useRef:j0,useState:function(){return zc(Mi)},useDebugValue:Fd,useDeferredValue:function(t,i){var s=dn();return Q0(s,jt.memoizedState,t,i)},useTransition:function(){var t=zc(Mi)[0],i=dn().memoizedState;return[typeof t=="boolean"?t:jl(t),i]},useSyncExternalStore:S0,useId:Z0,useHostTransitionStatus:Hd,useFormState:U0,useActionState:U0,useOptimistic:function(t,i){var s=dn();return O0(s,jt,t,i)},useMemoCache:kd,useCacheRefresh:ev};Kd.useEffectEvent=q0;var av={readContext:Mn,use:qc,useCallback:W0,useContext:Mn,useEffect:jd,useImperativeHandle:K0,useInsertionEffect:z0,useLayoutEffect:H0,useMemo:Y0,useReducer:Ud,useRef:j0,useState:function(){return Ud(Mi)},useDebugValue:Fd,useDeferredValue:function(t,i){var s=dn();return jt===null?qd(s,t,i):Q0(s,jt.memoizedState,t,i)},useTransition:function(){var t=Ud(Mi)[0],i=dn().memoizedState;return[typeof t=="boolean"?t:jl(t),i]},useSyncExternalStore:S0,useId:Z0,useHostTransitionStatus:Hd,useFormState:V0,useActionState:V0,useOptimistic:function(t,i){var s=dn();return jt!==null?O0(s,jt,t,i):(s.baseState=t,[t,s.queue.dispatch])},useMemoCache:kd,useCacheRefresh:ev};av.useEffectEvent=q0;function Wd(t,i,s,u){i=t.memoizedState,s=s(u,i),s=s==null?i:w({},i,s),t.memoizedState=s,t.lanes===0&&(t.updateQueue.baseState=s)}var Yd={enqueueSetState:function(t,i,s){t=t._reactInternals;var u=Sr(),h=Sa(u);h.payload=i,s!=null&&(h.callback=s),i=Aa(t,h,u),i!==null&&(cr(i,t,u),Bl(i,t,u))},enqueueReplaceState:function(t,i,s){t=t._reactInternals;var u=Sr(),h=Sa(u);h.tag=1,h.payload=i,s!=null&&(h.callback=s),i=Aa(t,h,u),i!==null&&(cr(i,t,u),Bl(i,t,u))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var s=Sr(),u=Sa(s);u.tag=2,i!=null&&(u.callback=i),i=Aa(t,u,s),i!==null&&(cr(i,t,s),Bl(i,t,s))}};function sv(t,i,s,u,h,m,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,m,S):i.prototype&&i.prototype.isPureReactComponent?!Il(s,u)||!Il(h,m):!0}function ov(t,i,s,u){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==t&&Yd.enqueueReplaceState(i,i.state,null)}function Is(t,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(t=t.defaultProps){s===i&&(s=w({},s));for(var h in t)s[h]===void 0&&(s[h]=t[h])}return s}function lv(t){Sc(t)}function uv(t){console.error(t)}function cv(t){Sc(t)}function Wc(t,i){try{var s=t.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function fv(t,i,s){try{var u=t.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Qd(t,i,s){return s=Sa(s),s.tag=3,s.payload={element:null},s.callback=function(){Wc(t,i)},s}function hv(t){return t=Sa(t),t.tag=3,t}function dv(t,i,s,u){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;t.payload=function(){return h(m)},t.callback=function(){fv(i,s,u)}}var S=s.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){fv(i,s,u),typeof h!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var L=u.stack;this.componentDidCatch(u.value,{componentStack:L!==null?L:""})})}function fC(t,i,s,u,h){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&po(i,s,h,!0),s=Er.current,s!==null){switch(s.tag){case 31:case 13:return Br===null?sf():s.alternate===null&&on===0&&(on=3),s.flags&=-257,s.flags|=65536,s.lanes=h,u===Pc?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),Ep(t,u,h)),!1;case 22:return s.flags|=65536,u===Pc?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),Ep(t,u,h)),!1}throw Error(a(435,s.tag))}return Ep(t,u,h),sf(),!1}if(gt)return i=Er.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,u!==pd&&(t=Error(a(422),{cause:u}),Dl(Nr(t,s)))):(u!==pd&&(i=Error(a(423),{cause:u}),Dl(Nr(i,s))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,u=Nr(u,s),h=Qd(t.stateNode,u,h),Ad(t,h),on!==4&&(on=2)),!1;var m=Error(a(520),{cause:u});if(m=Nr(m,s),$l===null?$l=[m]:$l.push(m),on!==4&&(on=2),i===null)return!0;u=Nr(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,t=h&-h,s.lanes|=t,t=Qd(s.stateNode,u,t),Ad(s,t),!1;case 1:if(i=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Da===null||!Da.has(m))))return s.flags|=65536,h&=-h,s.lanes|=h,h=hv(h),dv(h,t,s,u),Ad(s,h),!1}s=s.return}while(s!==null);return!1}var $d=Error(a(461)),vn=!1;function Pn(t,i,s,u){i.child=t===null?y0(i,null,s,u):Rs(i,t.child,s,u)}function pv(t,i,s,u,h){s=s.render;var m=i.ref;if("ref"in u){var S={};for(var L in u)L!=="ref"&&(S[L]=u[L])}else S=u;return bs(i),u=Dd(t,i,s,S,m,h),L=Nd(),t!==null&&!vn?(Md(t,i,h),Pi(t,i,h)):(gt&&L&&hd(i),i.flags|=1,Pn(t,i,u,h),i.child)}function mv(t,i,s,u,h){if(t===null){var m=s.type;return typeof m=="function"&&!ud(m)&&m.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=m,gv(t,i,m,u,h)):(t=Ic(s.type,null,u,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(m=t.child,!ip(t,h)){var S=m.memoizedProps;if(s=s.compare,s=s!==null?s:Il,s(S,u)&&t.ref===i.ref)return Pi(t,i,h)}return i.flags|=1,t=Ii(m,u),t.ref=i.ref,t.return=i,i.child=t}function gv(t,i,s,u,h){if(t!==null){var m=t.memoizedProps;if(Il(m,u)&&t.ref===i.ref)if(vn=!1,i.pendingProps=u=m,ip(t,h))(t.flags&131072)!==0&&(vn=!0);else return i.lanes=t.lanes,Pi(t,i,h)}return Xd(t,i,s,u,h)}function yv(t,i,s,u){var h=u.children,m=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((i.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,t!==null){for(u=i.child=t.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~m}else u=0,i.child=null;return _v(t,i,m,s,u)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Nc(i,m!==null?m.cachePool:null),m!==null?E0(i,m):Cd(),w0(i);else return u=i.lanes=536870912,_v(t,i,m!==null?m.baseLanes|s:s,s,u)}else m!==null?(Nc(i,m.cachePool),E0(i,m),Ca(),i.memoizedState=null):(t!==null&&Nc(i,null),Cd(),Ca());return Pn(t,i,h,s),i.child}function zl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function _v(t,i,s,u,h){var m=wd();return m=m===null?null:{parent:yn._currentValue,pool:m},i.memoizedState={baseLanes:s,cachePool:m},t!==null&&Nc(i,null),Cd(),w0(i),t!==null&&po(t,i,u,!0),i.childLanes=h,null}function Yc(t,i){return i=$c({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function vv(t,i,s){return Rs(i,t.child,null,s),t=Yc(i,i.pendingProps),t.flags|=2,wr(i),i.memoizedState=null,t}function hC(t,i,s){var u=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(gt){if(u.mode==="hidden")return t=Yc(i,u),i.lanes=536870912,zl(null,t);if(xd(i),(t=Wt)?(t=DE(t,kr),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:va!==null?{id:ai,overflow:si}:null,retryLane:536870912,hydrationErrors:null},s=n0(t),s.return=i,i.child=s,Nn=i,Wt=null)):t=null,t===null)throw wa(i);return i.lanes=536870912,null}return Yc(i,u)}var m=t.memoizedState;if(m!==null){var S=m.dehydrated;if(xd(i),h)if(i.flags&256)i.flags&=-257,i=vv(t,i,s);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(a(558));else if(vn||po(t,i,s,!1),h=(s&t.childLanes)!==0,vn||h){if(u=Ht,u!==null&&(S=be(u,s),S!==0&&S!==m.retryLane))throw m.retryLane=S,_s(t,S),cr(u,t,S),$d;sf(),i=vv(t,i,s)}else t=m.treeContext,Wt=Ur(S.nextSibling),Nn=i,gt=!0,Ea=null,kr=!1,t!==null&&a0(i,t),i=Yc(i,u),i.flags|=4096;return i}return t=Ii(t.child,{mode:u.mode,children:u.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Qc(t,i){var s=i.ref;if(s===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(t===null||t.ref!==s)&&(i.flags|=4194816)}}function Xd(t,i,s,u,h){return bs(i),s=Dd(t,i,s,u,void 0,h),u=Nd(),t!==null&&!vn?(Md(t,i,h),Pi(t,i,h)):(gt&&u&&hd(i),i.flags|=1,Pn(t,i,s,h),i.child)}function Ev(t,i,s,u,h,m){return bs(i),i.updateQueue=null,s=T0(i,u,s,h),b0(t),u=Nd(),t!==null&&!vn?(Md(t,i,m),Pi(t,i,m)):(gt&&u&&hd(i),i.flags|=1,Pn(t,i,s,m),i.child)}function wv(t,i,s,u,h){if(bs(i),i.stateNode===null){var m=uo,S=s.contextType;typeof S=="object"&&S!==null&&(m=Mn(S)),m=new s(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Yd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},Td(i),S=s.contextType,m.context=typeof S=="object"&&S!==null?Mn(S):uo,m.state=i.memoizedState,S=s.getDerivedStateFromProps,typeof S=="function"&&(Wd(i,s,S,u),m.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&Yd.enqueueReplaceState(m,m.state,null),Ll(i,u,m,h),Ul(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(t===null){m=i.stateNode;var L=i.memoizedProps,re=Is(s,L);m.props=re;var _e=m.context,Ce=s.contextType;S=uo,typeof Ce=="object"&&Ce!==null&&(S=Mn(Ce));var Ne=s.getDerivedStateFromProps;Ce=typeof Ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",L=i.pendingProps!==L,Ce||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(L||_e!==S)&&ov(i,m,u,S),Ta=!1;var we=i.memoizedState;m.state=we,Ll(i,u,m,h),Ul(),_e=i.memoizedState,L||we!==_e||Ta?(typeof Ne=="function"&&(Wd(i,s,Ne,u),_e=i.memoizedState),(re=Ta||sv(i,s,re,u,we,_e,S))?(Ce||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=_e),m.props=u,m.state=_e,m.context=S,u=re):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Sd(t,i),S=i.memoizedProps,Ce=Is(s,S),m.props=Ce,Ne=i.pendingProps,we=m.context,_e=s.contextType,re=uo,typeof _e=="object"&&_e!==null&&(re=Mn(_e)),L=s.getDerivedStateFromProps,(_e=typeof L=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==Ne||we!==re)&&ov(i,m,u,re),Ta=!1,we=i.memoizedState,m.state=we,Ll(i,u,m,h),Ul();var Se=i.memoizedState;S!==Ne||we!==Se||Ta||t!==null&&t.dependencies!==null&&Oc(t.dependencies)?(typeof L=="function"&&(Wd(i,s,L,u),Se=i.memoizedState),(Ce=Ta||sv(i,s,Ce,u,we,Se,re)||t!==null&&t.dependencies!==null&&Oc(t.dependencies))?(_e||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,Se,re),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,Se,re)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===t.memoizedProps&&we===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&we===t.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Se),m.props=u,m.state=Se,m.context=re,u=Ce):(typeof m.componentDidUpdate!="function"||S===t.memoizedProps&&we===t.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&we===t.memoizedState||(i.flags|=1024),u=!1)}return m=u,Qc(t,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,t!==null&&u?(i.child=Rs(i,t.child,null,h),i.child=Rs(i,null,s,h)):Pn(t,i,s,h),i.memoizedState=m.state,t=i.child):t=Pi(t,i,h),t}function bv(t,i,s,u){return Es(),i.flags|=256,Pn(t,i,s,u),i.child}var Jd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zd(t){return{baseLanes:t,cachePool:f0()}}function ep(t,i,s){return t=t!==null?t.childLanes&~s:0,i&&(t|=Tr),t}function Tv(t,i,s){var u=i.pendingProps,h=!1,m=(i.flags&128)!==0,S;if((S=m)||(S=t!==null&&t.memoizedState===null?!1:(hn.current&2)!==0),S&&(h=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,t===null){if(gt){if(h?Ra(i):Ca(),(t=Wt)?(t=DE(t,kr),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:va!==null?{id:ai,overflow:si}:null,retryLane:536870912,hydrationErrors:null},s=n0(t),s.return=i,i.child=s,Nn=i,Wt=null)):t=null,t===null)throw wa(i);return Bp(t)?i.lanes=32:i.lanes=536870912,null}var L=u.children;return u=u.fallback,h?(Ca(),h=i.mode,L=$c({mode:"hidden",children:L},h),u=vs(u,h,s,null),L.return=i,u.return=i,L.sibling=u,i.child=L,u=i.child,u.memoizedState=Zd(s),u.childLanes=ep(t,S,s),i.memoizedState=Jd,zl(null,u)):(Ra(i),tp(i,L))}var re=t.memoizedState;if(re!==null&&(L=re.dehydrated,L!==null)){if(m)i.flags&256?(Ra(i),i.flags&=-257,i=np(t,i,s)):i.memoizedState!==null?(Ca(),i.child=t.child,i.flags|=128,i=null):(Ca(),L=u.fallback,h=i.mode,u=$c({mode:"visible",children:u.children},h),L=vs(L,h,s,null),L.flags|=2,u.return=i,L.return=i,u.sibling=L,i.child=u,Rs(i,t.child,null,s),u=i.child,u.memoizedState=Zd(s),u.childLanes=ep(t,S,s),i.memoizedState=Jd,i=zl(null,u));else if(Ra(i),Bp(L)){if(S=L.nextSibling&&L.nextSibling.dataset,S)var _e=S.dgst;S=_e,u=Error(a(419)),u.stack="",u.digest=S,Dl({value:u,source:null,stack:null}),i=np(t,i,s)}else if(vn||po(t,i,s,!1),S=(s&t.childLanes)!==0,vn||S){if(S=Ht,S!==null&&(u=be(S,s),u!==0&&u!==re.retryLane))throw re.retryLane=u,_s(t,u),cr(S,t,u),$d;kp(L)||sf(),i=np(t,i,s)}else kp(L)?(i.flags|=192,i.child=t.child,i=null):(t=re.treeContext,Wt=Ur(L.nextSibling),Nn=i,gt=!0,Ea=null,kr=!1,t!==null&&a0(i,t),i=tp(i,u.children),i.flags|=4096);return i}return h?(Ca(),L=u.fallback,h=i.mode,re=t.child,_e=re.sibling,u=Ii(re,{mode:"hidden",children:u.children}),u.subtreeFlags=re.subtreeFlags&65011712,_e!==null?L=Ii(_e,L):(L=vs(L,h,s,null),L.flags|=2),L.return=i,u.return=i,u.sibling=L,i.child=u,zl(null,u),u=i.child,L=t.child.memoizedState,L===null?L=Zd(s):(h=L.cachePool,h!==null?(re=yn._currentValue,h=h.parent!==re?{parent:re,pool:re}:h):h=f0(),L={baseLanes:L.baseLanes|s,cachePool:h}),u.memoizedState=L,u.childLanes=ep(t,S,s),i.memoizedState=Jd,zl(t.child,u)):(Ra(i),s=t.child,t=s.sibling,s=Ii(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,t!==null&&(S=i.deletions,S===null?(i.deletions=[t],i.flags|=16):S.push(t)),i.child=s,i.memoizedState=null,s)}function tp(t,i){return i=$c({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function $c(t,i){return t=vr(22,t,null,i),t.lanes=0,t}function np(t,i,s){return Rs(i,t.child,null,s),t=tp(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Sv(t,i,s){t.lanes|=i;var u=t.alternate;u!==null&&(u.lanes|=i),yd(t.return,i,s)}function rp(t,i,s,u,h,m){var S=t.memoizedState;S===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:h,treeForkCount:m}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=s,S.tailMode=h,S.treeForkCount=m)}function Av(t,i,s){var u=i.pendingProps,h=u.revealOrder,m=u.tail;u=u.children;var S=hn.current,L=(S&2)!==0;if(L?(S=S&1|2,i.flags|=128):S&=1,Z(hn,S),Pn(t,i,u,s),u=gt?Ol:0,!L&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sv(t,s,i);else if(t.tag===19)Sv(t,s,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(s=i.child,h=null;s!==null;)t=s.alternate,t!==null&&Lc(t)===null&&(h=s),s=s.sibling;s=h,s===null?(h=i.child,i.child=null):(h=s.sibling,s.sibling=null),rp(i,!1,h,s,m,u);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Lc(t)===null){i.child=h;break}t=h.sibling,h.sibling=s,s=h,h=t}rp(i,!0,s,null,m,u);break;case"together":rp(i,!1,null,null,void 0,u);break;default:i.memoizedState=null}return i.child}function Pi(t,i,s){if(t!==null&&(i.dependencies=t.dependencies),Oa|=i.lanes,(s&i.childLanes)===0)if(t!==null){if(po(t,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(a(153));if(i.child!==null){for(t=i.child,s=Ii(t,t.pendingProps),i.child=s,s.return=i;t.sibling!==null;)t=t.sibling,s=s.sibling=Ii(t,t.pendingProps),s.return=i;s.sibling=null}return i.child}function ip(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Oc(t)))}function dC(t,i,s){switch(i.tag){case 3:ce(i,i.stateNode.containerInfo),ba(i,yn,t.memoizedState.cache),Es();break;case 27:case 5:Te(i);break;case 4:ce(i,i.stateNode.containerInfo);break;case 10:ba(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,xd(i),null;break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Ra(i),i.flags|=128,null):(s&i.child.childLanes)!==0?Tv(t,i,s):(Ra(i),t=Pi(t,i,s),t!==null?t.sibling:null);Ra(i);break;case 19:var h=(t.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(po(t,i,s,!1),u=(s&i.childLanes)!==0),h){if(u)return Av(t,i,s);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Z(hn,hn.current),u)break;return null;case 22:return i.lanes=0,yv(t,i,s,i.pendingProps);case 24:ba(i,yn,t.memoizedState.cache)}return Pi(t,i,s)}function Rv(t,i,s){if(t!==null)if(t.memoizedProps!==i.pendingProps)vn=!0;else{if(!ip(t,s)&&(i.flags&128)===0)return vn=!1,dC(t,i,s);vn=(t.flags&131072)!==0}else vn=!1,gt&&(i.flags&1048576)!==0&&i0(i,Ol,i.index);switch(i.lanes=0,i.tag){case 16:e:{var u=i.pendingProps;if(t=Ss(i.elementType),i.type=t,typeof t=="function")ud(t)?(u=Is(t,u),i.tag=1,i=wv(null,i,t,u,s)):(i.tag=0,i=Xd(null,i,t,u,s));else{if(t!=null){var h=t.$$typeof;if(h===K){i.tag=11,i=pv(null,i,t,u,s);break e}else if(h===x){i.tag=14,i=mv(null,i,t,u,s);break e}}throw i=Ke(t)||t,Error(a(306,i,""))}}return i;case 0:return Xd(t,i,i.type,i.pendingProps,s);case 1:return u=i.type,h=Is(u,i.pendingProps),wv(t,i,u,h,s);case 3:e:{if(ce(i,i.stateNode.containerInfo),t===null)throw Error(a(387));u=i.pendingProps;var m=i.memoizedState;h=m.element,Sd(t,i),Ll(i,u,null,s);var S=i.memoizedState;if(u=S.cache,ba(i,yn,u),u!==m.cache&&_d(i,[yn],s,!0),Ul(),u=S.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=bv(t,i,u,s);break e}else if(u!==h){h=Nr(Error(a(424)),i),Dl(h),i=bv(t,i,u,s);break e}else for(t=i.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Wt=Ur(t.firstChild),Nn=i,gt=!0,Ea=null,kr=!0,s=y0(i,null,u,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Es(),u===h){i=Pi(t,i,s);break e}Pn(t,i,u,s)}i=i.child}return i;case 26:return Qc(t,i),t===null?(s=UE(i.type,null,i.pendingProps,null))?i.memoizedState=s:gt||(s=i.type,t=i.pendingProps,u=df(te.current).createElement(s),u[Xe]=i,u[Dn]=t,kn(u,s,t),fn(u),i.stateNode=u):i.memoizedState=UE(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Te(i),t===null&&gt&&(u=i.stateNode=PE(i.type,i.pendingProps,te.current),Nn=i,kr=!0,h=Wt,ka(i.type)?(Up=h,Wt=Ur(u.firstChild)):Wt=h),Pn(t,i,i.pendingProps.children,s),Qc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&gt&&((h=u=Wt)&&(u=zC(u,i.type,i.pendingProps,kr),u!==null?(i.stateNode=u,Nn=i,Wt=Ur(u.firstChild),kr=!1,h=!0):h=!1),h||wa(i)),Te(i),h=i.type,m=i.pendingProps,S=t!==null?t.memoizedProps:null,u=m.children,Np(h,m)?u=null:S!==null&&Np(h,S)&&(i.flags|=32),i.memoizedState!==null&&(h=Dd(t,i,iC,null,null,s),iu._currentValue=h),Qc(t,i),Pn(t,i,u,s),i.child;case 6:return t===null&&gt&&((t=s=Wt)&&(s=HC(s,i.pendingProps,kr),s!==null?(i.stateNode=s,Nn=i,Wt=null,t=!0):t=!1),t||wa(i)),null;case 13:return Tv(t,i,s);case 4:return ce(i,i.stateNode.containerInfo),u=i.pendingProps,t===null?i.child=Rs(i,null,u,s):Pn(t,i,u,s),i.child;case 11:return pv(t,i,i.type,i.pendingProps,s);case 7:return Pn(t,i,i.pendingProps,s),i.child;case 8:return Pn(t,i,i.pendingProps.children,s),i.child;case 12:return Pn(t,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,ba(i,i.type,u.value),Pn(t,i,u.children,s),i.child;case 9:return h=i.type._context,u=i.pendingProps.children,bs(i),h=Mn(h),u=u(h),i.flags|=1,Pn(t,i,u,s),i.child;case 14:return mv(t,i,i.type,i.pendingProps,s);case 15:return gv(t,i,i.type,i.pendingProps,s);case 19:return Av(t,i,s);case 31:return hC(t,i,s);case 22:return yv(t,i,s,i.pendingProps);case 24:return bs(i),u=Mn(yn),t===null?(h=wd(),h===null&&(h=Ht,m=vd(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=s),h=m),i.memoizedState={parent:u,cache:h},Td(i),ba(i,yn,h)):((t.lanes&s)!==0&&(Sd(t,i),Ll(i,null,null,s),Ul()),h=t.memoizedState,m=i.memoizedState,h.parent!==u?(h={parent:u,cache:u},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ba(i,yn,u)):(u=m.cache,ba(i,yn,u),u!==h.cache&&_d(i,[yn],s,!0))),Pn(t,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function ki(t){t.flags|=4}function ap(t,i,s,u,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(Zv())t.flags|=8192;else throw As=Pc,bd}else t.flags&=-16777217}function Cv(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!qE(i))if(Zv())t.flags|=8192;else throw As=Pc,bd}function Xc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?as():536870912,t.lanes|=i,Ro|=i)}function Hl(t,i){if(!gt)switch(t.tailMode){case"hidden":i=t.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t.tail=null:s.sibling=null;break;case"collapsed":s=t.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Yt(t){var i=t.alternate!==null&&t.alternate.child===t.child,s=0,u=0;if(i)for(var h=t.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)s|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=s,i}function pC(t,i,s){var u=i.pendingProps;switch(dd(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yt(i),null;case 1:return Yt(i),null;case 3:return s=i.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Di(yn),pe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(t===null||t.child===null)&&(ho(i)?ki(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,md())),Yt(i),null;case 26:var h=i.type,m=i.memoizedState;return t===null?(ki(i),m!==null?(Yt(i),Cv(i,m)):(Yt(i),ap(i,h,null,u,s))):m?m!==t.memoizedState?(ki(i),Yt(i),Cv(i,m)):(Yt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==u&&ki(i),Yt(i),ap(i,h,t,u,s)),null;case 27:if(V(i),s=te.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&ki(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Yt(i),null}t=ie.current,ho(i)?s0(i):(t=PE(h,u,s),i.stateNode=t,ki(i))}return Yt(i),null;case 5:if(V(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==u&&ki(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Yt(i),null}if(m=ie.current,ho(i))s0(i);else{var S=df(te.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?S.createElement(h,{is:u.is}):S.createElement(h)}}m[Xe]=i,m[Dn]=u;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=m;e:switch(kn(m,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ki(i)}}return Yt(i),ap(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,s),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==u&&ki(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(t=te.current,ho(i)){if(t=i.stateNode,s=i.memoizedProps,u=null,h=Nn,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}t[Xe]=i,t=!!(t.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||TE(t.nodeValue,s)),t||wa(i,!0)}else t=df(t).createTextNode(u),t[Xe]=i,i.stateNode=t}return Yt(i),null;case 31:if(s=i.memoizedState,t===null||t.memoizedState!==null){if(u=ho(i),s!==null){if(t===null){if(!u)throw Error(a(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(557));t[Xe]=i}else Es(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Yt(i),t=!1}else s=md(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=s),t=!0;if(!t)return i.flags&256?(wr(i),i):(wr(i),null);if((i.flags&128)!==0)throw Error(a(558))}return Yt(i),null;case 13:if(u=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ho(i),u!==null&&u.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Xe]=i}else Es(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Yt(i),h=!1}else h=md(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(wr(i),i):(wr(i),null)}return wr(i),(i.flags&128)!==0?(i.lanes=s,i):(s=u!==null,t=t!==null&&t.memoizedState!==null,s&&(u=i.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)),s!==t&&s&&(i.child.flags|=8192),Xc(i,i.updateQueue),Yt(i),null);case 4:return pe(),t===null&&Cp(i.stateNode.containerInfo),Yt(i),null;case 10:return Di(i.type),Yt(i),null;case 19:if(ve(hn),u=i.memoizedState,u===null)return Yt(i),null;if(h=(i.flags&128)!==0,m=u.rendering,m===null)if(h)Hl(u,!1);else{if(on!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(m=Lc(t),m!==null){for(i.flags|=128,Hl(u,!1),t=m.updateQueue,i.updateQueue=t,Xc(i,t),i.subtreeFlags=0,t=s,s=i.child;s!==null;)t0(s,t),s=s.sibling;return Z(hn,hn.current&1|2),gt&&xi(i,u.treeForkCount),i.child}t=t.sibling}u.tail!==null&&_t()>nf&&(i.flags|=128,h=!0,Hl(u,!1),i.lanes=4194304)}else{if(!h)if(t=Lc(m),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Xc(i,t),Hl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!gt)return Yt(i),null}else 2*_t()-u.renderingStartTime>nf&&s!==536870912&&(i.flags|=128,h=!0,Hl(u,!1),i.lanes=4194304);u.isBackwards?(m.sibling=i.child,i.child=m):(t=u.last,t!==null?t.sibling=m:i.child=m,u.last=m)}return u.tail!==null?(t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=_t(),t.sibling=null,s=hn.current,Z(hn,h?s&1|2:s&1),gt&&xi(i,u.treeForkCount),t):(Yt(i),null);case 22:case 23:return wr(i),Id(),u=i.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(Yt(i),i.subtreeFlags&6&&(i.flags|=8192)):Yt(i),s=i.updateQueue,s!==null&&Xc(i,s.retryQueue),s=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),t!==null&&ve(Ts),null;case 24:return s=null,t!==null&&(s=t.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Di(yn),Yt(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function mC(t,i){switch(dd(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Di(yn),pe(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return V(i),null;case 31:if(i.memoizedState!==null){if(wr(i),i.alternate===null)throw Error(a(340));Es()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(wr(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Es()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ve(hn),null;case 4:return pe(),null;case 10:return Di(i.type),null;case 22:case 23:return wr(i),Id(),t!==null&&ve(Ts),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Di(yn),null;case 25:return null;default:return null}}function Iv(t,i){switch(dd(i),i.tag){case 3:Di(yn),pe();break;case 26:case 27:case 5:V(i);break;case 4:pe();break;case 31:i.memoizedState!==null&&wr(i);break;case 13:wr(i);break;case 19:ve(hn);break;case 10:Di(i.type);break;case 22:case 23:wr(i),Id(),t!==null&&ve(Ts);break;case 24:Di(yn)}}function Gl(t,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var h=u.next;s=h;do{if((s.tag&t)===t){u=void 0;var m=s.create,S=s.inst;u=m(),S.destroy=u}s=s.next}while(s!==h)}}catch(L){Ut(i,i.return,L)}}function Ia(t,i,s){try{var u=i.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&t)===t){var S=u.inst,L=S.destroy;if(L!==void 0){S.destroy=void 0,h=i;var re=s,_e=L;try{_e()}catch(Ce){Ut(h,re,Ce)}}}u=u.next}while(u!==m)}}catch(Ce){Ut(i,i.return,Ce)}}function xv(t){var i=t.updateQueue;if(i!==null){var s=t.stateNode;try{v0(i,s)}catch(u){Ut(t,t.return,u)}}}function Ov(t,i,s){s.props=Is(t.type,t.memoizedProps),s.state=t.memoizedState;try{s.componentWillUnmount()}catch(u){Ut(t,i,u)}}function Kl(t,i){try{var s=t.ref;if(s!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof s=="function"?t.refCleanup=s(u):s.current=u}}catch(h){Ut(t,i,h)}}function oi(t,i){var s=t.ref,u=t.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(h){Ut(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Ut(t,i,h)}else s.current=null}function Dv(t){var i=t.type,s=t.memoizedProps,u=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(h){Ut(t,t.return,h)}}function sp(t,i,s){try{var u=t.stateNode;UC(u,t.type,s,i),u[Dn]=i}catch(h){Ut(t,t.return,h)}}function Nv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ka(t.type)||t.tag===4}function op(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ka(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function lp(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(t,i):(i=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.appendChild(t),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Rn));else if(u!==4&&(u===27&&ka(t.type)&&(s=t.stateNode,i=null),t=t.child,t!==null))for(lp(t,i,s),t=t.sibling;t!==null;)lp(t,i,s),t=t.sibling}function Jc(t,i,s){var u=t.tag;if(u===5||u===6)t=t.stateNode,i?s.insertBefore(t,i):s.appendChild(t);else if(u!==4&&(u===27&&ka(t.type)&&(s=t.stateNode),t=t.child,t!==null))for(Jc(t,i,s),t=t.sibling;t!==null;)Jc(t,i,s),t=t.sibling}function Mv(t){var i=t.stateNode,s=t.memoizedProps;try{for(var u=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);kn(i,u,s),i[Xe]=t,i[Dn]=s}catch(m){Ut(t,t.return,m)}}var Bi=!1,En=!1,up=!1,Pv=typeof WeakSet=="function"?WeakSet:Set,xn=null;function gC(t,i){if(t=t.containerInfo,Op=Ef,t=K_(t),nd(t)){if("selectionStart"in t)var s={start:t.selectionStart,end:t.selectionEnd};else e:{s=(s=t.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var S=0,L=-1,re=-1,_e=0,Ce=0,Ne=t,we=null;t:for(;;){for(var Se;Ne!==s||h!==0&&Ne.nodeType!==3||(L=S+h),Ne!==m||u!==0&&Ne.nodeType!==3||(re=S+u),Ne.nodeType===3&&(S+=Ne.nodeValue.length),(Se=Ne.firstChild)!==null;)we=Ne,Ne=Se;for(;;){if(Ne===t)break t;if(we===s&&++_e===h&&(L=S),we===m&&++Ce===u&&(re=S),(Se=Ne.nextSibling)!==null)break;Ne=we,we=Ne.parentNode}Ne=Se}s=L===-1||re===-1?null:{start:L,end:re}}else s=null}s=s||{start:0,end:0}}else s=null;for(Dp={focusedElem:t,selectionRange:s},Ef=!1,xn=i;xn!==null;)if(i=xn,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,xn=t;else for(;xn!==null;){switch(i=xn,m=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(s=0;s<t.length;s++)h=t[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,s=i,h=m.memoizedProps,m=m.memoizedState,u=s.stateNode;try{var qe=Is(s.type,h);t=u.getSnapshotBeforeUpdate(qe,m),u.__reactInternalSnapshotBeforeUpdate=t}catch($e){Ut(s,s.return,$e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,s=t.nodeType,s===9)Pp(t);else if(s===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Pp(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=i.sibling,t!==null){t.return=i.return,xn=t;break}xn=i.return}}function kv(t,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Li(t,s),u&4&&Gl(5,s);break;case 1:if(Li(t,s),u&4)if(t=s.stateNode,i===null)try{t.componentDidMount()}catch(S){Ut(s,s.return,S)}else{var h=Is(s.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Ut(s,s.return,S)}}u&64&&xv(s),u&512&&Kl(s,s.return);break;case 3:if(Li(t,s),u&64&&(t=s.updateQueue,t!==null)){if(i=null,s.child!==null)switch(s.child.tag){case 27:case 5:i=s.child.stateNode;break;case 1:i=s.child.stateNode}try{v0(t,i)}catch(S){Ut(s,s.return,S)}}break;case 27:i===null&&u&4&&Mv(s);case 26:case 5:Li(t,s),i===null&&u&4&&Dv(s),u&512&&Kl(s,s.return);break;case 12:Li(t,s);break;case 31:Li(t,s),u&4&&Lv(t,s);break;case 13:Li(t,s),u&4&&Vv(t,s),u&64&&(t=s.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(s=AC.bind(null,s),GC(t,s))));break;case 22:if(u=s.memoizedState!==null||Bi,!u){i=i!==null&&i.memoizedState!==null||En,h=Bi;var m=En;Bi=u,(En=i)&&!m?Vi(t,s,(s.subtreeFlags&8772)!==0):Li(t,s),Bi=h,En=m}break;case 30:break;default:Li(t,s)}}function Bv(t){var i=t.alternate;i!==null&&(t.alternate=null,Bv(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ss(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Jt=null,sr=!1;function Ui(t,i,s){for(s=s.child;s!==null;)Uv(t,i,s),s=s.sibling}function Uv(t,i,s){if(se&&typeof se.onCommitFiberUnmount=="function")try{se.onCommitFiberUnmount(Y,s)}catch{}switch(s.tag){case 26:En||oi(s,i),Ui(t,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:En||oi(s,i);var u=Jt,h=sr;ka(s.type)&&(Jt=s.stateNode,sr=!1),Ui(t,i,s),tu(s.stateNode),Jt=u,sr=h;break;case 5:En||oi(s,i);case 6:if(u=Jt,h=sr,Jt=null,Ui(t,i,s),Jt=u,sr=h,Jt!==null)if(sr)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(s.stateNode)}catch(m){Ut(s,i,m)}else try{Jt.removeChild(s.stateNode)}catch(m){Ut(s,i,m)}break;case 18:Jt!==null&&(sr?(t=Jt,xE(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,s.stateNode),Po(t)):xE(Jt,s.stateNode));break;case 4:u=Jt,h=sr,Jt=s.stateNode.containerInfo,sr=!0,Ui(t,i,s),Jt=u,sr=h;break;case 0:case 11:case 14:case 15:Ia(2,s,i),En||Ia(4,s,i),Ui(t,i,s);break;case 1:En||(oi(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&Ov(s,i,u)),Ui(t,i,s);break;case 21:Ui(t,i,s);break;case 22:En=(u=En)||s.memoizedState!==null,Ui(t,i,s),En=u;break;default:Ui(t,i,s)}}function Lv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Po(t)}catch(s){Ut(i,i.return,s)}}}function Vv(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Po(t)}catch(s){Ut(i,i.return,s)}}function yC(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Pv),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Pv),i;default:throw Error(a(435,t.tag))}}function Zc(t,i){var s=yC(t);i.forEach(function(u){if(!s.has(u)){s.add(u);var h=RC.bind(null,t,u);u.then(h,h)}})}function or(t,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var h=s[u],m=t,S=i,L=S;e:for(;L!==null;){switch(L.tag){case 27:if(ka(L.type)){Jt=L.stateNode,sr=!1;break e}break;case 5:Jt=L.stateNode,sr=!1;break e;case 3:case 4:Jt=L.stateNode.containerInfo,sr=!0;break e}L=L.return}if(Jt===null)throw Error(a(160));Uv(m,S,h),Jt=null,sr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)jv(i,t),i=i.sibling}var zr=null;function jv(t,i){var s=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:or(i,t),lr(t),u&4&&(Ia(3,t,t.return),Gl(3,t),Ia(5,t,t.return));break;case 1:or(i,t),lr(t),u&512&&(En||s===null||oi(s,s.return)),u&64&&Bi&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(s=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var h=zr;if(or(i,t),lr(t),u&512&&(En||s===null||oi(s,s.return)),u&4){var m=s!==null?s.memoizedState:null;if(u=t.memoizedState,s===null)if(u===null)if(t.stateNode===null){e:{u=t.type,s=t.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Ei]||m[Xe]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),kn(m,u,s),m[Xe]=t,fn(m),u=m;break e;case"link":var S=jE("link","href",h).get(u+(s.href||""));if(S){for(var L=0;L<S.length;L++)if(m=S[L],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){S.splice(L,1);break t}}m=h.createElement(u),kn(m,u,s),h.head.appendChild(m);break;case"meta":if(S=jE("meta","content",h).get(u+(s.content||""))){for(L=0;L<S.length;L++)if(m=S[L],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){S.splice(L,1);break t}}m=h.createElement(u),kn(m,u,s),h.head.appendChild(m);break;default:throw Error(a(468,u))}m[Xe]=t,fn(m),u=m}t.stateNode=u}else FE(h,t.type,t.stateNode);else t.stateNode=VE(h,u,t.memoizedProps);else m!==u?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,u===null?FE(h,t.type,t.stateNode):VE(h,u,t.memoizedProps)):u===null&&t.stateNode!==null&&sp(t,t.memoizedProps,s.memoizedProps)}break;case 27:or(i,t),lr(t),u&512&&(En||s===null||oi(s,s.return)),s!==null&&u&4&&sp(t,t.memoizedProps,s.memoizedProps);break;case 5:if(or(i,t),lr(t),u&512&&(En||s===null||oi(s,s.return)),t.flags&32){h=t.stateNode;try{Or(h,"")}catch(qe){Ut(t,t.return,qe)}}u&4&&t.stateNode!=null&&(h=t.memoizedProps,sp(t,h,s!==null?s.memoizedProps:h)),u&1024&&(up=!0);break;case 6:if(or(i,t),lr(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,s=t.stateNode;try{s.nodeValue=u}catch(qe){Ut(t,t.return,qe)}}break;case 3:if(gf=null,h=zr,zr=pf(i.containerInfo),or(i,t),zr=h,lr(t),u&4&&s!==null&&s.memoizedState.isDehydrated)try{Po(i.containerInfo)}catch(qe){Ut(t,t.return,qe)}up&&(up=!1,Fv(t));break;case 4:u=zr,zr=pf(t.stateNode.containerInfo),or(i,t),lr(t),zr=u;break;case 12:or(i,t),lr(t);break;case 31:or(i,t),lr(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Zc(t,u)));break;case 13:or(i,t),lr(t),t.child.flags&8192&&t.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tf=_t()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Zc(t,u)));break;case 22:h=t.memoizedState!==null;var re=s!==null&&s.memoizedState!==null,_e=Bi,Ce=En;if(Bi=_e||h,En=Ce||re,or(i,t),En=Ce,Bi=_e,lr(t),u&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(s===null||re||Bi||En||xs(t)),s=null,i=t;;){if(i.tag===5||i.tag===26){if(s===null){re=s=i;try{if(m=re.stateNode,h)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{L=re.stateNode;var Ne=re.memoizedProps.style,we=Ne!=null&&Ne.hasOwnProperty("display")?Ne.display:null;L.style.display=we==null||typeof we=="boolean"?"":(""+we).trim()}}catch(qe){Ut(re,re.return,qe)}}}else if(i.tag===6){if(s===null){re=i;try{re.stateNode.nodeValue=h?"":re.memoizedProps}catch(qe){Ut(re,re.return,qe)}}}else if(i.tag===18){if(s===null){re=i;try{var Se=re.stateNode;h?OE(Se,!0):OE(re.stateNode,!1)}catch(qe){Ut(re,re.return,qe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=t.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,Zc(t,s))));break;case 19:or(i,t),lr(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,Zc(t,u)));break;case 30:break;case 21:break;default:or(i,t),lr(t)}}function lr(t){var i=t.flags;if(i&2){try{for(var s,u=t.return;u!==null;){if(Nv(u)){s=u;break}u=u.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,m=op(t);Jc(t,m,h);break;case 5:var S=s.stateNode;s.flags&32&&(Or(S,""),s.flags&=-33);var L=op(t);Jc(t,L,S);break;case 3:case 4:var re=s.stateNode.containerInfo,_e=op(t);lp(t,_e,re);break;default:throw Error(a(161))}}catch(Ce){Ut(t,t.return,Ce)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Fv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Fv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Li(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)kv(t,i.alternate,i),i=i.sibling}function xs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ia(4,i,i.return),xs(i);break;case 1:oi(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Ov(i,i.return,s),xs(i);break;case 27:tu(i.stateNode);case 26:case 5:oi(i,i.return),xs(i);break;case 22:i.memoizedState===null&&xs(i);break;case 30:xs(i);break;default:xs(i)}t=t.sibling}}function Vi(t,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,h=t,m=i,S=m.flags;switch(m.tag){case 0:case 11:case 15:Vi(h,m,s),Gl(4,m);break;case 1:if(Vi(h,m,s),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(_e){Ut(u,u.return,_e)}if(u=m,h=u.updateQueue,h!==null){var L=u.stateNode;try{var re=h.shared.hiddenCallbacks;if(re!==null)for(h.shared.hiddenCallbacks=null,h=0;h<re.length;h++)_0(re[h],L)}catch(_e){Ut(u,u.return,_e)}}s&&S&64&&xv(m),Kl(m,m.return);break;case 27:Mv(m);case 26:case 5:Vi(h,m,s),s&&u===null&&S&4&&Dv(m),Kl(m,m.return);break;case 12:Vi(h,m,s);break;case 31:Vi(h,m,s),s&&S&4&&Lv(h,m);break;case 13:Vi(h,m,s),s&&S&4&&Vv(h,m);break;case 22:m.memoizedState===null&&Vi(h,m,s),Kl(m,m.return);break;case 30:break;default:Vi(h,m,s)}i=i.sibling}}function cp(t,i){var s=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==s&&(t!=null&&t.refCount++,s!=null&&Nl(s))}function fp(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Nl(t))}function Hr(t,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)qv(t,i,s,u),i=i.sibling}function qv(t,i,s,u){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Hr(t,i,s,u),h&2048&&Gl(9,i);break;case 1:Hr(t,i,s,u);break;case 3:Hr(t,i,s,u),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Nl(t)));break;case 12:if(h&2048){Hr(t,i,s,u),t=i.stateNode;try{var m=i.memoizedProps,S=m.id,L=m.onPostCommit;typeof L=="function"&&L(S,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(re){Ut(i,i.return,re)}}else Hr(t,i,s,u);break;case 31:Hr(t,i,s,u);break;case 13:Hr(t,i,s,u);break;case 23:break;case 22:m=i.stateNode,S=i.alternate,i.memoizedState!==null?m._visibility&2?Hr(t,i,s,u):Wl(t,i):m._visibility&2?Hr(t,i,s,u):(m._visibility|=2,To(t,i,s,u,(i.subtreeFlags&10256)!==0||!1)),h&2048&&cp(S,i);break;case 24:Hr(t,i,s,u),h&2048&&fp(i.alternate,i);break;default:Hr(t,i,s,u)}}function To(t,i,s,u,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var m=t,S=i,L=s,re=u,_e=S.flags;switch(S.tag){case 0:case 11:case 15:To(m,S,L,re,h),Gl(8,S);break;case 23:break;case 22:var Ce=S.stateNode;S.memoizedState!==null?Ce._visibility&2?To(m,S,L,re,h):Wl(m,S):(Ce._visibility|=2,To(m,S,L,re,h)),h&&_e&2048&&cp(S.alternate,S);break;case 24:To(m,S,L,re,h),h&&_e&2048&&fp(S.alternate,S);break;default:To(m,S,L,re,h)}i=i.sibling}}function Wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=t,u=i,h=u.flags;switch(u.tag){case 22:Wl(s,u),h&2048&&cp(u.alternate,u);break;case 24:Wl(s,u),h&2048&&fp(u.alternate,u);break;default:Wl(s,u)}i=i.sibling}}var Yl=8192;function So(t,i,s){if(t.subtreeFlags&Yl)for(t=t.child;t!==null;)zv(t,i,s),t=t.sibling}function zv(t,i,s){switch(t.tag){case 26:So(t,i,s),t.flags&Yl&&t.memoizedState!==null&&rI(s,zr,t.memoizedState,t.memoizedProps);break;case 5:So(t,i,s);break;case 3:case 4:var u=zr;zr=pf(t.stateNode.containerInfo),So(t,i,s),zr=u;break;case 22:t.memoizedState===null&&(u=t.alternate,u!==null&&u.memoizedState!==null?(u=Yl,Yl=16777216,So(t,i,s),Yl=u):So(t,i,s));break;default:So(t,i,s)}}function Hv(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ql(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];xn=u,Kv(u,t)}Hv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Gv(t),t=t.sibling}function Gv(t){switch(t.tag){case 0:case 11:case 15:Ql(t),t.flags&2048&&Ia(9,t,t.return);break;case 3:Ql(t);break;case 12:Ql(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,ef(t)):Ql(t);break;default:Ql(t)}}function ef(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];xn=u,Kv(u,t)}Hv(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ia(8,i,i.return),ef(i);break;case 22:s=i.stateNode,s._visibility&2&&(s._visibility&=-3,ef(i));break;default:ef(i)}t=t.sibling}}function Kv(t,i){for(;xn!==null;){var s=xn;switch(s.tag){case 0:case 11:case 15:Ia(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Nl(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,xn=u;else e:for(s=t;xn!==null;){u=xn;var h=u.sibling,m=u.return;if(Bv(u),u===s){xn=null;break e}if(h!==null){h.return=m,xn=h;break e}xn=m}}}var _C={getCacheForType:function(t){var i=Mn(yn),s=i.data.get(t);return s===void 0&&(s=t(),i.data.set(t,s)),s},cacheSignal:function(){return Mn(yn).controller.signal}},vC=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Ht=null,ft=null,dt=0,Bt=0,br=null,xa=!1,Ao=!1,hp=!1,ji=0,on=0,Oa=0,Os=0,dp=0,Tr=0,Ro=0,$l=null,ur=null,pp=!1,tf=0,Wv=0,nf=1/0,rf=null,Da=null,Sn=0,Na=null,Co=null,Fi=0,mp=0,gp=null,Yv=null,Xl=0,yp=null;function Sr(){return(Nt&2)!==0&&dt!==0?dt&-dt:ae.T!==null?Tp():Rt()}function Qv(){if(Tr===0)if((dt&536870912)===0||gt){var t=ot;ot<<=1,(ot&3932160)===0&&(ot=262144),Tr=t}else Tr=536870912;return t=Er.current,t!==null&&(t.flags|=32),Tr}function cr(t,i,s){(t===Ht&&(Bt===2||Bt===9)||t.cancelPendingCommit!==null)&&(Io(t,0),Ma(t,dt,Tr,!1)),v(t,s),((Nt&2)===0||t!==Ht)&&(t===Ht&&((Nt&2)===0&&(Os|=s),on===4&&Ma(t,dt,Tr,!1)),li(t))}function $v(t,i,s){if((Nt&6)!==0)throw Error(a(327));var u=!s&&(i&127)===0&&(i&t.expiredLanes)===0||Jr(t,i),h=u?bC(t,i):vp(t,i,!0),m=u;do{if(h===0){Ao&&!u&&Ma(t,i,0,!1);break}else{if(s=t.current.alternate,m&&!EC(s)){h=vp(t,i,!1),m=!1;continue}if(h===2){if(m=i,t.errorRecoveryDisabledLanes&m)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var L=t;h=$l;var re=L.current.memoizedState.isDehydrated;if(re&&(Io(L,S).flags|=256),S=vp(L,S,!1),S!==2){if(hp&&!re){L.errorRecoveryDisabledLanes|=m,Os|=m,h=4;break e}m=ur,ur=h,m!==null&&(ur===null?ur=m:ur.push.apply(ur,m))}h=S}if(m=!1,h!==2)continue}}if(h===1){Io(t,0),Ma(t,i,0,!0);break}e:{switch(u=t,m=h,m){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:Ma(u,i,Tr,!xa);break e;case 2:ur=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(h=tf+300-_t(),10<h)){if(Ma(u,i,Tr,!xa),jn(u,0,!0)!==0)break e;Fi=i,u.timeoutHandle=CE(Xv.bind(null,u,s,ur,rf,pp,i,Tr,Os,Ro,xa,m,"Throttled",-0,0),h);break e}Xv(u,s,ur,rf,pp,i,Tr,Os,Ro,xa,m,null,-0,0)}}break}while(!0);li(t)}function Xv(t,i,s,u,h,m,S,L,re,_e,Ce,Ne,we,Se){if(t.timeoutHandle=-1,Ne=i.subtreeFlags,Ne&8192||(Ne&16785408)===16785408){Ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rn},zv(i,m,Ne);var qe=(m&62914560)===m?tf-_t():(m&4194048)===m?Wv-_t():0;if(qe=iI(Ne,qe),qe!==null){Fi=m,t.cancelPendingCommit=qe(aE.bind(null,t,i,m,s,u,h,S,L,re,Ce,Ne,null,we,Se)),Ma(t,m,S,!_e);return}}aE(t,i,m,s,u,h,S,L,re)}function EC(t){for(var i=t;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var h=s[u],m=h.getSnapshot;h=h.value;try{if(!_r(m(),h))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ma(t,i,s,u){i&=~dp,i&=~Os,t.suspendedLanes|=i,t.pingedLanes&=~i,u&&(t.warmLanes|=i),u=t.expirationTimes;for(var h=i;0<h;){var m=31-Re(h),S=1<<m;u[m]=-1,h&=~S}s!==0&&Q(t,s,i)}function af(){return(Nt&6)===0?(Jl(0),!1):!0}function _p(){if(ft!==null){if(Bt===0)var t=ft.return;else t=ft,Oi=ws=null,Pd(t),_o=null,Pl=0,t=ft;for(;t!==null;)Iv(t.alternate,t),t=t.return;ft=null}}function Io(t,i){var s=t.timeoutHandle;s!==-1&&(t.timeoutHandle=-1,jC(s)),s=t.cancelPendingCommit,s!==null&&(t.cancelPendingCommit=null,s()),Fi=0,_p(),Ht=t,ft=s=Ii(t.current,null),dt=i,Bt=0,br=null,xa=!1,Ao=Jr(t,i),hp=!1,Ro=Tr=dp=Os=Oa=on=0,ur=$l=null,pp=!1,(i&8)!==0&&(i|=i&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=i;0<u;){var h=31-Re(u),m=1<<h;i|=t[h],u&=~m}return ji=i,Ac(),s}function Jv(t,i){st=null,ae.H=ql,i===yo||i===Mc?(i=p0(),Bt=3):i===bd?(i=p0(),Bt=4):Bt=i===$d?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,br=i,ft===null&&(on=1,Wc(t,Nr(i,t.current)))}function Zv(){var t=Er.current;return t===null?!0:(dt&4194048)===dt?Br===null:(dt&62914560)===dt||(dt&536870912)!==0?t===Br:!1}function eE(){var t=ae.H;return ae.H=ql,t===null?ql:t}function tE(){var t=ae.A;return ae.A=_C,t}function sf(){on=4,xa||(dt&4194048)!==dt&&Er.current!==null||(Ao=!0),(Oa&134217727)===0&&(Os&134217727)===0||Ht===null||Ma(Ht,dt,Tr,!1)}function vp(t,i,s){var u=Nt;Nt|=2;var h=eE(),m=tE();(Ht!==t||dt!==i)&&(rf=null,Io(t,i)),i=!1;var S=on;e:do try{if(Bt!==0&&ft!==null){var L=ft,re=br;switch(Bt){case 8:_p(),S=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(i=!0);var _e=Bt;if(Bt=0,br=null,xo(t,L,re,_e),s&&Ao){S=0;break e}break;default:_e=Bt,Bt=0,br=null,xo(t,L,re,_e)}}wC(),S=on;break}catch(Ce){Jv(t,Ce)}while(!0);return i&&t.shellSuspendCounter++,Oi=ws=null,Nt=u,ae.H=h,ae.A=m,ft===null&&(Ht=null,dt=0,Ac()),S}function wC(){for(;ft!==null;)nE(ft)}function bC(t,i){var s=Nt;Nt|=2;var u=eE(),h=tE();Ht!==t||dt!==i?(rf=null,nf=_t()+500,Io(t,i)):Ao=Jr(t,i);e:do try{if(Bt!==0&&ft!==null){i=ft;var m=br;t:switch(Bt){case 1:Bt=0,br=null,xo(t,i,m,1);break;case 2:case 9:if(h0(m)){Bt=0,br=null,rE(i);break}i=function(){Bt!==2&&Bt!==9||Ht!==t||(Bt=7),li(t)},m.then(i,i);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:h0(m)?(Bt=0,br=null,rE(i)):(Bt=0,br=null,xo(t,i,m,7));break;case 5:var S=null;switch(ft.tag){case 26:S=ft.memoizedState;case 5:case 27:var L=ft;if(S?qE(S):L.stateNode.complete){Bt=0,br=null;var re=L.sibling;if(re!==null)ft=re;else{var _e=L.return;_e!==null?(ft=_e,of(_e)):ft=null}break t}}Bt=0,br=null,xo(t,i,m,5);break;case 6:Bt=0,br=null,xo(t,i,m,6);break;case 8:_p(),on=6;break e;default:throw Error(a(462))}}TC();break}catch(Ce){Jv(t,Ce)}while(!0);return Oi=ws=null,ae.H=u,ae.A=h,Nt=s,ft!==null?0:(Ht=null,dt=0,Ac(),on)}function TC(){for(;ft!==null&&!wt();)nE(ft)}function nE(t){var i=Rv(t.alternate,t,ji);t.memoizedProps=t.pendingProps,i===null?of(t):ft=i}function rE(t){var i=t,s=i.alternate;switch(i.tag){case 15:case 0:i=Ev(s,i,i.pendingProps,i.type,void 0,dt);break;case 11:i=Ev(s,i,i.pendingProps,i.type.render,i.ref,dt);break;case 5:Pd(i);default:Iv(s,i),i=ft=t0(i,ji),i=Rv(s,i,ji)}t.memoizedProps=t.pendingProps,i===null?of(t):ft=i}function xo(t,i,s,u){Oi=ws=null,Pd(i),_o=null,Pl=0;var h=i.return;try{if(fC(t,h,i,s,dt)){on=1,Wc(t,Nr(s,t.current)),ft=null;return}}catch(m){if(h!==null)throw ft=h,m;on=1,Wc(t,Nr(s,t.current)),ft=null;return}i.flags&32768?(gt||u===1?t=!0:Ao||(dt&536870912)!==0?t=!1:(xa=t=!0,(u===2||u===9||u===3||u===6)&&(u=Er.current,u!==null&&u.tag===13&&(u.flags|=16384))),iE(i,t)):of(i)}function of(t){var i=t;do{if((i.flags&32768)!==0){iE(i,xa);return}t=i.return;var s=pC(i.alternate,i,ji);if(s!==null){ft=s;return}if(i=i.sibling,i!==null){ft=i;return}ft=i=t}while(i!==null);on===0&&(on=5)}function iE(t,i){do{var s=mC(t.alternate,t);if(s!==null){s.flags&=32767,ft=s;return}if(s=t.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(t=t.sibling,t!==null)){ft=t;return}ft=t=s}while(t!==null);on=6,ft=null}function aE(t,i,s,u,h,m,S,L,re){t.cancelPendingCommit=null;do lf();while(Sn!==0);if((Nt&6)!==0)throw Error(a(327));if(i!==null){if(i===t.current)throw Error(a(177));if(m=i.lanes|i.childLanes,m|=od,b(t,s,m,S,L,re),t===Ht&&(ft=Ht=null,dt=0),Co=i,Na=t,Fi=s,mp=m,gp=h,Yv=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,CC(Vt,function(){return cE(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=ae.T,ae.T=null,h=ge.p,ge.p=2,S=Nt,Nt|=4;try{gC(t,i,s)}finally{Nt=S,ge.p=h,ae.T=u}}Sn=1,sE(),oE(),lE()}}function sE(){if(Sn===1){Sn=0;var t=Na,i=Co,s=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||s){s=ae.T,ae.T=null;var u=ge.p;ge.p=2;var h=Nt;Nt|=4;try{jv(i,t);var m=Dp,S=K_(t.containerInfo),L=m.focusedElem,re=m.selectionRange;if(S!==L&&L&&L.ownerDocument&&G_(L.ownerDocument.documentElement,L)){if(re!==null&&nd(L)){var _e=re.start,Ce=re.end;if(Ce===void 0&&(Ce=_e),"selectionStart"in L)L.selectionStart=_e,L.selectionEnd=Math.min(Ce,L.value.length);else{var Ne=L.ownerDocument||document,we=Ne&&Ne.defaultView||window;if(we.getSelection){var Se=we.getSelection(),qe=L.textContent.length,$e=Math.min(re.start,qe),qt=re.end===void 0?$e:Math.min(re.end,qe);!Se.extend&&$e>qt&&(S=qt,qt=$e,$e=S);var fe=H_(L,$e),oe=H_(L,qt);if(fe&&oe&&(Se.rangeCount!==1||Se.anchorNode!==fe.node||Se.anchorOffset!==fe.offset||Se.focusNode!==oe.node||Se.focusOffset!==oe.offset)){var ye=Ne.createRange();ye.setStart(fe.node,fe.offset),Se.removeAllRanges(),$e>qt?(Se.addRange(ye),Se.extend(oe.node,oe.offset)):(ye.setEnd(oe.node,oe.offset),Se.addRange(ye))}}}}for(Ne=[],Se=L;Se=Se.parentNode;)Se.nodeType===1&&Ne.push({element:Se,left:Se.scrollLeft,top:Se.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<Ne.length;L++){var De=Ne[L];De.element.scrollLeft=De.left,De.element.scrollTop=De.top}}Ef=!!Op,Dp=Op=null}finally{Nt=h,ge.p=u,ae.T=s}}t.current=i,Sn=2}}function oE(){if(Sn===2){Sn=0;var t=Na,i=Co,s=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||s){s=ae.T,ae.T=null;var u=ge.p;ge.p=2;var h=Nt;Nt|=4;try{kv(t,i.alternate,i)}finally{Nt=h,ge.p=u,ae.T=s}}Sn=3}}function lE(){if(Sn===4||Sn===3){Sn=0,bt();var t=Na,i=Co,s=Fi,u=Yv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Sn=5:(Sn=0,Co=Na=null,uE(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Da=null),at(s),i=i.stateNode,se&&typeof se.onCommitFiberRoot=="function")try{se.onCommitFiberRoot(Y,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=ae.T,h=ge.p,ge.p=2,ae.T=null;try{for(var m=t.onRecoverableError,S=0;S<u.length;S++){var L=u[S];m(L.value,{componentStack:L.stack})}}finally{ae.T=i,ge.p=h}}(Fi&3)!==0&&lf(),li(t),h=t.pendingLanes,(s&261930)!==0&&(h&42)!==0?t===yp?Xl++:(Xl=0,yp=t):Xl=0,Jl(0)}}function uE(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Nl(i)))}function lf(){return sE(),oE(),lE(),cE()}function cE(){if(Sn!==5)return!1;var t=Na,i=mp;mp=0;var s=at(Fi),u=ae.T,h=ge.p;try{ge.p=32>s?32:s,ae.T=null,s=gp,gp=null;var m=Na,S=Fi;if(Sn=0,Co=Na=null,Fi=0,(Nt&6)!==0)throw Error(a(331));var L=Nt;if(Nt|=4,Gv(m.current),qv(m,m.current,S,s),Nt=L,Jl(0,!1),se&&typeof se.onPostCommitFiberRoot=="function")try{se.onPostCommitFiberRoot(Y,m)}catch{}return!0}finally{ge.p=h,ae.T=u,uE(t,i)}}function fE(t,i,s){i=Nr(s,i),i=Qd(t.stateNode,i,2),t=Aa(t,i,2),t!==null&&(v(t,2),li(t))}function Ut(t,i,s){if(t.tag===3)fE(t,t,s);else for(;i!==null;){if(i.tag===3){fE(i,t,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Da===null||!Da.has(u))){t=Nr(s,t),s=hv(2),u=Aa(i,s,2),u!==null&&(dv(s,u,i,t),v(u,2),li(u));break}}i=i.return}}function Ep(t,i,s){var u=t.pingCache;if(u===null){u=t.pingCache=new vC;var h=new Set;u.set(i,h)}else h=u.get(i),h===void 0&&(h=new Set,u.set(i,h));h.has(s)||(hp=!0,h.add(s),t=SC.bind(null,t,i,s),i.then(t,t))}function SC(t,i,s){var u=t.pingCache;u!==null&&u.delete(i),t.pingedLanes|=t.suspendedLanes&s,t.warmLanes&=~s,Ht===t&&(dt&s)===s&&(on===4||on===3&&(dt&62914560)===dt&&300>_t()-tf?(Nt&2)===0&&Io(t,0):dp|=s,Ro===dt&&(Ro=0)),li(t)}function hE(t,i){i===0&&(i=as()),t=_s(t,i),t!==null&&(v(t,i),li(t))}function AC(t){var i=t.memoizedState,s=0;i!==null&&(s=i.retryLane),hE(t,s)}function RC(t,i){var s=0;switch(t.tag){case 31:case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(s=h.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),hE(t,s)}function CC(t,i){return Xt(t,i)}var uf=null,Oo=null,wp=!1,cf=!1,bp=!1,Pa=0;function li(t){t!==Oo&&t.next===null&&(Oo===null?uf=Oo=t:Oo=Oo.next=t),cf=!0,wp||(wp=!0,xC())}function Jl(t,i){if(!bp&&cf){bp=!0;do for(var s=!1,u=uf;u!==null;){if(t!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var S=u.suspendedLanes,L=u.pingedLanes;m=(1<<31-Re(42|t)+1)-1,m&=h&~(S&~L),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,gE(u,m))}else m=dt,m=jn(u,u===Ht?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Jr(u,m)||(s=!0,gE(u,m));u=u.next}while(s);bp=!1}}function IC(){dE()}function dE(){cf=wp=!1;var t=0;Pa!==0&&VC()&&(t=Pa);for(var i=_t(),s=null,u=uf;u!==null;){var h=u.next,m=pE(u,i);m===0?(u.next=null,s===null?uf=h:s.next=h,h===null&&(Oo=s)):(s=u,(t!==0||(m&3)!==0)&&(cf=!0)),u=h}Sn!==0&&Sn!==5||Jl(t),Pa!==0&&(Pa=0)}function pE(t,i){for(var s=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var S=31-Re(m),L=1<<S,re=h[S];re===-1?((L&s)===0||(L&u)!==0)&&(h[S]=Qn(L,i)):re<=i&&(t.expiredLanes|=L),m&=~L}if(i=Ht,s=dt,s=jn(t,t===i?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,s===0||t===i&&(Bt===2||Bt===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&en(u),t.callbackNode=null,t.callbackPriority=0;if((s&3)===0||Jr(t,s)){if(i=s&-s,i===t.callbackPriority)return i;switch(u!==null&&en(u),at(s)){case 2:case 8:s=Mt;break;case 32:s=Vt;break;case 268435456:s=k;break;default:s=Vt}return u=mE.bind(null,t),s=Xt(s,u),t.callbackPriority=i,t.callbackNode=s,i}return u!==null&&u!==null&&en(u),t.callbackPriority=2,t.callbackNode=null,2}function mE(t,i){if(Sn!==0&&Sn!==5)return t.callbackNode=null,t.callbackPriority=0,null;var s=t.callbackNode;if(lf()&&t.callbackNode!==s)return null;var u=dt;return u=jn(t,t===Ht?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:($v(t,u,i),pE(t,_t()),t.callbackNode!=null&&t.callbackNode===s?mE.bind(null,t):null)}function gE(t,i){if(lf())return null;$v(t,i,!0)}function xC(){FC(function(){(Nt&6)!==0?Xt(Tt,IC):dE()})}function Tp(){if(Pa===0){var t=mo;t===0&&(t=At,At<<=1,(At&261888)===0&&(At=256)),Pa=t}return Pa}function yE(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ni(""+t)}function _E(t,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,t.id&&s.setAttribute("form",t.id),i.parentNode.insertBefore(s,i),t=new FormData(t),s.parentNode.removeChild(s),t}function OC(t,i,s,u,h){if(i==="submit"&&s&&s.stateNode===h){var m=yE((h[Dn]||null).action),S=u.submitter;S&&(i=(i=S[Dn]||null)?yE(i.formAction):S.getAttribute("formAction"),i!==null&&(m=i,S=null));var L=new fs("action","action",null,u,h);t.push({event:L,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Pa!==0){var re=S?_E(h,S):new FormData(h);zd(s,{pending:!0,data:re,method:h.method,action:m},null,re)}}else typeof m=="function"&&(L.preventDefault(),re=S?_E(h,S):new FormData(h),zd(s,{pending:!0,data:re,method:h.method,action:m},m,re))},currentTarget:h}]})}}for(var Sp=0;Sp<sd.length;Sp++){var Ap=sd[Sp],DC=Ap.toLowerCase(),NC=Ap[0].toUpperCase()+Ap.slice(1);qr(DC,"on"+NC)}qr(Q_,"onAnimationEnd"),qr($_,"onAnimationIteration"),qr(X_,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(Y1,"onTransitionRun"),qr(Q1,"onTransitionStart"),qr($1,"onTransitionCancel"),qr(J_,"onTransitionEnd"),ti("onMouseEnter",["mouseout","mouseover"]),ti("onMouseLeave",["mouseout","mouseover"]),ti("onPointerEnter",["pointerout","pointerover"]),ti("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zl));function vE(t,i){i=(i&4)!==0;for(var s=0;s<t.length;s++){var u=t[s],h=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var S=u.length-1;0<=S;S--){var L=u[S],re=L.instance,_e=L.currentTarget;if(L=L.listener,re!==m&&h.isPropagationStopped())break e;m=L,h.currentTarget=_e;try{m(h)}catch(Ce){Sc(Ce)}h.currentTarget=null,m=re}else for(S=0;S<u.length;S++){if(L=u[S],re=L.instance,_e=L.currentTarget,L=L.listener,re!==m&&h.isPropagationStopped())break e;m=L,h.currentTarget=_e;try{m(h)}catch(Ce){Sc(Ce)}h.currentTarget=null,m=re}}}}function ht(t,i){var s=i[aa];s===void 0&&(s=i[aa]=new Set);var u=t+"__bubble";s.has(u)||(EE(i,t,2,!1),s.add(u))}function Rp(t,i,s){var u=0;i&&(u|=4),EE(s,t,u,i)}var ff="_reactListening"+Math.random().toString(36).slice(2);function Cp(t){if(!t[ff]){t[ff]=!0,$s.forEach(function(s){s!=="selectionchange"&&(MC.has(s)||Rp(s,!1,t),Rp(s,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[ff]||(i[ff]=!0,Rp("selectionchange",!1,i))}}function EE(t,i,s,u){switch(QE(i)){case 2:var h=oI;break;case 8:h=lI;break;default:h=qp}s=h.bind(null,i,s,t),h=void 0,!wl||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(i,s,{capture:!0,passive:h}):t.addEventListener(i,s,!0):h!==void 0?t.addEventListener(i,s,{passive:h}):t.addEventListener(i,s,!1)}function Ip(t,i,s,u,h){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var L=u.stateNode.containerInfo;if(L===h)break;if(S===4)for(S=u.return;S!==null;){var re=S.tag;if((re===3||re===4)&&S.stateNode.containerInfo===h)return;S=S.return}for(;L!==null;){if(S=wi(L),S===null)return;if(re=S.tag,re===5||re===6||re===26||re===27){u=m=S;continue e}L=L.parentNode}}u=u.return}lc(function(){var _e=m,Ce=to(s),Ne=[];e:{var we=Z_.get(t);if(we!==void 0){var Se=fs,qe=t;switch(t){case"keypress":if(cs(s)===0)break e;case"keydown":case"keyup":Se=yc;break;case"focusin":qe="focus",Se=ma;break;case"focusout":qe="blur",Se=ma;break;case"beforeblur":case"afterblur":Se=ma;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=vc;break;case Q_:case $_:case X_:Se=io;break;case J_:Se=ao;break;case"scroll":case"scrollend":Se=uc;break;case"wheel":Se=wc;break;case"copy":case"cut":case"paste":Se=dc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=Rl;break;case"toggle":case"beforetoggle":Se=ya}var $e=(i&4)!==0,qt=!$e&&(t==="scroll"||t==="scrollend"),fe=$e?we!==null?we+"Capture":null:we;$e=[];for(var oe=_e,ye;oe!==null;){var De=oe;if(ye=De.stateNode,De=De.tag,De!==5&&De!==26&&De!==27||ye===null||fe===null||(De=ir(oe,fe),De!=null&&$e.push(eu(oe,De,ye))),qt)break;oe=oe.return}0<$e.length&&(we=new Se(we,qe,null,s,Ce),Ne.push({event:we,listeners:$e}))}}if((i&7)===0){e:{if(we=t==="mouseover"||t==="pointerover",Se=t==="mouseout"||t==="pointerout",we&&s!==eo&&(qe=s.relatedTarget||s.fromElement)&&(wi(qe)||qe[Zr]))break e;if((Se||we)&&(we=Ce.window===Ce?Ce:(we=Ce.ownerDocument)?we.defaultView||we.parentWindow:window,Se?(qe=s.relatedTarget||s.toElement,Se=_e,qe=qe?wi(qe):null,qe!==null&&(qt=l(qe),$e=qe.tag,qe!==qt||$e!==5&&$e!==27&&$e!==6)&&(qe=null)):(Se=null,qe=_e),Se!==qe)){if($e=cc,De="onMouseLeave",fe="onMouseEnter",oe="mouse",(t==="pointerout"||t==="pointerover")&&($e=Rl,De="onPointerLeave",fe="onPointerEnter",oe="pointer"),qt=Se==null?we:os(Se),ye=qe==null?we:os(qe),we=new $e(De,oe+"leave",Se,s,Ce),we.target=qt,we.relatedTarget=ye,De=null,wi(Ce)===_e&&($e=new $e(fe,oe+"enter",qe,s,Ce),$e.target=ye,$e.relatedTarget=qt,De=$e),qt=De,Se&&qe)t:{for($e=PC,fe=Se,oe=qe,ye=0,De=fe;De;De=$e(De))ye++;De=0;for(var We=oe;We;We=$e(We))De++;for(;0<ye-De;)fe=$e(fe),ye--;for(;0<De-ye;)oe=$e(oe),De--;for(;ye--;){if(fe===oe||oe!==null&&fe===oe.alternate){$e=fe;break t}fe=$e(fe),oe=$e(oe)}$e=null}else $e=null;Se!==null&&wE(Ne,we,Se,$e,!1),qe!==null&&qt!==null&&wE(Ne,qt,qe,$e,!0)}}e:{if(we=_e?os(_e):window,Se=we.nodeName&&we.nodeName.toLowerCase(),Se==="select"||Se==="input"&&we.type==="file")var It=L_;else if(ar(we))if(V_)It=G1;else{It=z1;var Ge=q1}else Se=we.nodeName,!Se||Se.toLowerCase()!=="input"||we.type!=="checkbox"&&we.type!=="radio"?_e&&vl(_e.elementType)&&(It=L_):It=H1;if(It&&(It=It(t,_e))){ms(Ne,It,s,Ce);break e}Ge&&Ge(t,we,_e),t==="focusout"&&_e&&we.type==="number"&&_e.memoizedProps.value!=null&&Zs(we,"number",we.value)}switch(Ge=_e?os(_e):window,t){case"focusin":(ar(Ge)||Ge.contentEditable==="true")&&(so=Ge,rd=_e,xl=null);break;case"focusout":xl=rd=so=null;break;case"mousedown":id=!0;break;case"contextmenu":case"mouseup":case"dragend":id=!1,W_(Ne,s,Ce);break;case"selectionchange":if(W1)break;case"keydown":case"keyup":W_(Ne,s,Ce)}var lt;if(_)e:{switch(t){case"compositionstart":var pt="onCompositionStart";break e;case"compositionend":pt="onCompositionEnd";break e;case"compositionupdate":pt="onCompositionUpdate";break e}pt=void 0}else ut?Pt(t,s)&&(pt="onCompositionEnd"):t==="keydown"&&s.keyCode===229&&(pt="onCompositionStart");pt&&(de&&s.locale!=="ko"&&(ut||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&ut&&(lt=fa()):(yr=Ce,no="value"in yr?yr.value:yr.textContent,ut=!0)),Ge=hf(_e,pt),0<Ge.length&&(pt=new Tl(pt,t,null,s,Ce),Ne.push({event:pt,listeners:Ge}),lt?pt.data=lt:(lt=gn(s),lt!==null&&(pt.data=lt)))),(lt=z?Cn(t,s):In(t,s))&&(pt=hf(_e,"onBeforeInput"),0<pt.length&&(Ge=new Tl("onBeforeInput","beforeinput",null,s,Ce),Ne.push({event:Ge,listeners:pt}),Ge.data=lt)),OC(Ne,t,_e,s,Ce)}vE(Ne,i)})}function eu(t,i,s){return{instance:t,listener:i,currentTarget:s}}function hf(t,i){for(var s=i+"Capture",u=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=ir(t,s),h!=null&&u.unshift(eu(t,h,m)),h=ir(t,i),h!=null&&u.push(eu(t,h,m))),t.tag===3)return u;t=t.return}return[]}function PC(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wE(t,i,s,u,h){for(var m=i._reactName,S=[];s!==null&&s!==u;){var L=s,re=L.alternate,_e=L.stateNode;if(L=L.tag,re!==null&&re===u)break;L!==5&&L!==26&&L!==27||_e===null||(re=_e,h?(_e=ir(s,m),_e!=null&&S.unshift(eu(s,_e,re))):h||(_e=ir(s,m),_e!=null&&S.push(eu(s,_e,re)))),s=s.return}S.length!==0&&t.push({event:i,listeners:S})}var kC=/\r\n?/g,BC=/\u0000|\uFFFD/g;function bE(t){return(typeof t=="string"?t:""+t).replace(kC,`
`).replace(BC,"")}function TE(t,i){return i=bE(i),bE(t)===i}function Ft(t,i,s,u,h,m){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||Or(t,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&Or(t,""+u);break;case"className":la(t,"class",u);break;case"tabIndex":la(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":la(t,s,u);break;case"style":sc(t,u,m);break;case"data":if(i!=="object"){la(t,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){t.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=ni(""+u),t.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(i!=="input"&&Ft(t,i,"name",h.name,h,null),Ft(t,i,"formEncType",h.formEncType,h,null),Ft(t,i,"formMethod",h.formMethod,h,null),Ft(t,i,"formTarget",h.formTarget,h,null)):(Ft(t,i,"encType",h.encType,h,null),Ft(t,i,"method",h.method,h,null),Ft(t,i,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(s);break}u=ni(""+u),t.setAttribute(s,u);break;case"onClick":u!=null&&(t.onclick=Rn);break;case"onScroll":u!=null&&ht("scroll",t);break;case"onScrollEnd":u!=null&&ht("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}s=ni(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""+u):t.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,""):t.removeAttribute(s);break;case"capture":case"download":u===!0?t.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(s,u):t.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(s,u):t.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(s):t.setAttribute(s,u);break;case"popover":ht("beforetoggle",t),ht("toggle",t),oa(t,"popover",u);break;case"xlinkActuate":xr(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":xr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":xr(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":xr(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":xr(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":xr(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":xr(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":xr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":xr(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":oa(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Xh.get(s)||s,oa(t,s,u))}}function xp(t,i,s,u,h,m){switch(s){case"style":sc(t,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(h.children!=null)throw Error(a(60));t.innerHTML=s}}break;case"children":typeof u=="string"?Or(t,u):(typeof u=="number"||typeof u=="bigint")&&Or(t,""+u);break;case"onScroll":u!=null&&ht("scroll",t);break;case"onScrollEnd":u!=null&&ht("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Rn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!sa.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),i=s.slice(2,h?s.length-7:void 0),m=t[Dn]||null,m=m!=null?m[s]:null,typeof m=="function"&&t.removeEventListener(i,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(s in t?t[s]=null:t.hasAttribute(s)&&t.removeAttribute(s)),t.addEventListener(i,u,h);break e}s in t?t[s]=u:u===!0?t.setAttribute(s,""):oa(t,s,u)}}}function kn(t,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",t),ht("load",t);var u=!1,h=!1,m;for(m in s)if(s.hasOwnProperty(m)){var S=s[m];if(S!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ft(t,i,m,S,s,null)}}h&&Ft(t,i,"srcSet",s.srcSet,s,null),u&&Ft(t,i,"src",s.src,s,null);return;case"input":ht("invalid",t);var L=m=S=h=null,re=null,_e=null;for(u in s)if(s.hasOwnProperty(u)){var Ce=s[u];if(Ce!=null)switch(u){case"name":h=Ce;break;case"type":S=Ce;break;case"checked":re=Ce;break;case"defaultChecked":_e=Ce;break;case"value":m=Ce;break;case"defaultValue":L=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(a(137,i));break;default:Ft(t,i,u,Ce,s,null)}}ls(t,m,L,re,_e,S,h,!1);return;case"select":ht("invalid",t),u=S=m=null;for(h in s)if(s.hasOwnProperty(h)&&(L=s[h],L!=null))switch(h){case"value":m=L;break;case"defaultValue":S=L;break;case"multiple":u=L;default:Ft(t,i,h,L,s,null)}i=m,s=S,t.multiple=!!u,i!=null?Ct(t,!!u,i,!1):s!=null&&Ct(t,!!u,s,!0);return;case"textarea":ht("invalid",t),m=h=u=null;for(S in s)if(s.hasOwnProperty(S)&&(L=s[S],L!=null))switch(S){case"value":u=L;break;case"defaultValue":h=L;break;case"children":m=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(a(91));break;default:Ft(t,i,S,L,s,null)}ca(t,u,h,m);return;case"option":for(re in s)s.hasOwnProperty(re)&&(u=s[re],u!=null)&&(re==="selected"?t.selected=u&&typeof u!="function"&&typeof u!="symbol":Ft(t,i,re,u,s,null));return;case"dialog":ht("beforetoggle",t),ht("toggle",t),ht("cancel",t),ht("close",t);break;case"iframe":case"object":ht("load",t);break;case"video":case"audio":for(u=0;u<Zl.length;u++)ht(Zl[u],t);break;case"image":ht("error",t),ht("load",t);break;case"details":ht("toggle",t);break;case"embed":case"source":case"link":ht("error",t),ht("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in s)if(s.hasOwnProperty(_e)&&(u=s[_e],u!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Ft(t,i,_e,u,s,null)}return;default:if(vl(i)){for(Ce in s)s.hasOwnProperty(Ce)&&(u=s[Ce],u!==void 0&&xp(t,i,Ce,u,s,void 0));return}}for(L in s)s.hasOwnProperty(L)&&(u=s[L],u!=null&&Ft(t,i,L,u,s,null))}function UC(t,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,S=null,L=null,re=null,_e=null,Ce=null;for(Se in s){var Ne=s[Se];if(s.hasOwnProperty(Se)&&Ne!=null)switch(Se){case"checked":break;case"value":break;case"defaultValue":re=Ne;default:u.hasOwnProperty(Se)||Ft(t,i,Se,null,u,Ne)}}for(var we in u){var Se=u[we];if(Ne=s[we],u.hasOwnProperty(we)&&(Se!=null||Ne!=null))switch(we){case"type":m=Se;break;case"name":h=Se;break;case"checked":_e=Se;break;case"defaultChecked":Ce=Se;break;case"value":S=Se;break;case"defaultValue":L=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(a(137,i));break;default:Se!==Ne&&Ft(t,i,we,Se,u,Ne)}}ua(t,S,L,re,_e,Ce,m,h);return;case"select":Se=S=L=we=null;for(m in s)if(re=s[m],s.hasOwnProperty(m)&&re!=null)switch(m){case"value":break;case"multiple":Se=re;default:u.hasOwnProperty(m)||Ft(t,i,m,null,u,re)}for(h in u)if(m=u[h],re=s[h],u.hasOwnProperty(h)&&(m!=null||re!=null))switch(h){case"value":we=m;break;case"defaultValue":L=m;break;case"multiple":S=m;default:m!==re&&Ft(t,i,h,m,u,re)}i=L,s=S,u=Se,we!=null?Ct(t,!!s,we,!1):!!u!=!!s&&(i!=null?Ct(t,!!s,i,!0):Ct(t,!!s,s?[]:"",!1));return;case"textarea":Se=we=null;for(L in s)if(h=s[L],s.hasOwnProperty(L)&&h!=null&&!u.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Ft(t,i,L,null,u,h)}for(S in u)if(h=u[S],m=s[S],u.hasOwnProperty(S)&&(h!=null||m!=null))switch(S){case"value":we=h;break;case"defaultValue":Se=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==m&&Ft(t,i,S,h,u,m)}us(t,we,Se);return;case"option":for(var qe in s)we=s[qe],s.hasOwnProperty(qe)&&we!=null&&!u.hasOwnProperty(qe)&&(qe==="selected"?t.selected=!1:Ft(t,i,qe,null,u,we));for(re in u)we=u[re],Se=s[re],u.hasOwnProperty(re)&&we!==Se&&(we!=null||Se!=null)&&(re==="selected"?t.selected=we&&typeof we!="function"&&typeof we!="symbol":Ft(t,i,re,we,u,Se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var $e in s)we=s[$e],s.hasOwnProperty($e)&&we!=null&&!u.hasOwnProperty($e)&&Ft(t,i,$e,null,u,we);for(_e in u)if(we=u[_e],Se=s[_e],u.hasOwnProperty(_e)&&we!==Se&&(we!=null||Se!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(a(137,i));break;default:Ft(t,i,_e,we,u,Se)}return;default:if(vl(i)){for(var qt in s)we=s[qt],s.hasOwnProperty(qt)&&we!==void 0&&!u.hasOwnProperty(qt)&&xp(t,i,qt,void 0,u,we);for(Ce in u)we=u[Ce],Se=s[Ce],!u.hasOwnProperty(Ce)||we===Se||we===void 0&&Se===void 0||xp(t,i,Ce,we,u,Se);return}}for(var fe in s)we=s[fe],s.hasOwnProperty(fe)&&we!=null&&!u.hasOwnProperty(fe)&&Ft(t,i,fe,null,u,we);for(Ne in u)we=u[Ne],Se=s[Ne],!u.hasOwnProperty(Ne)||we===Se||we==null&&Se==null||Ft(t,i,Ne,we,u,Se)}function SE(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function LC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,s=performance.getEntriesByType("resource"),u=0;u<s.length;u++){var h=s[u],m=h.transferSize,S=h.initiatorType,L=h.duration;if(m&&L&&SE(S)){for(S=0,L=h.responseEnd,u+=1;u<s.length;u++){var re=s[u],_e=re.startTime;if(_e>L)break;var Ce=re.transferSize,Ne=re.initiatorType;Ce&&SE(Ne)&&(re=re.responseEnd,S+=Ce*(re<L?1:(L-_e)/(re-_e)))}if(--u,i+=8*(m+S)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Op=null,Dp=null;function df(t){return t.nodeType===9?t:t.ownerDocument}function AE(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RE(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Np(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Mp=null;function VC(){var t=window.event;return t&&t.type==="popstate"?t===Mp?!1:(Mp=t,!0):(Mp=null,!1)}var CE=typeof setTimeout=="function"?setTimeout:void 0,jC=typeof clearTimeout=="function"?clearTimeout:void 0,IE=typeof Promise=="function"?Promise:void 0,FC=typeof queueMicrotask=="function"?queueMicrotask:typeof IE<"u"?function(t){return IE.resolve(null).then(t).catch(qC)}:CE;function qC(t){setTimeout(function(){throw t})}function ka(t){return t==="head"}function xE(t,i){var s=i,u=0;do{var h=s.nextSibling;if(t.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(u===0){t.removeChild(h),Po(i);return}u--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")u++;else if(s==="html")tu(t.ownerDocument.documentElement);else if(s==="head"){s=t.ownerDocument.head,tu(s);for(var m=s.firstChild;m;){var S=m.nextSibling,L=m.nodeName;m[Ei]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=S}}else s==="body"&&tu(t.ownerDocument.body);s=h}while(s);Po(i)}function OE(t,i){var s=t;t=0;do{var u=s.nextSibling;if(s.nodeType===1?i?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(i?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(t===0)break;t--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||t++;s=u}while(s)}function Pp(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Pp(s),ss(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}t.removeChild(s)}}function zC(t,i,s,u){for(;t.nodeType===1;){var h=s;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Ei])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=Ur(t.nextSibling),t===null)break}return null}function HC(t,i,s){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Ur(t.nextSibling),t===null))return null;return t}function DE(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Ur(t.nextSibling),t===null))return null;return t}function kp(t){return t.data==="$?"||t.data==="$~"}function Bp(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function GC(t,i){var s=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||s.readyState!=="loading")i();else{var u=function(){i(),s.removeEventListener("DOMContentLoaded",u)};s.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Ur(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Up=null;function NE(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="/$"||s==="/&"){if(i===0)return Ur(t.nextSibling);i--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||i++}t=t.nextSibling}return null}function ME(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var s=t.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(i===0)return t;i--}else s!=="/$"&&s!=="/&"||i++}t=t.previousSibling}return null}function PE(t,i,s){switch(i=df(s),t){case"html":if(t=i.documentElement,!t)throw Error(a(452));return t;case"head":if(t=i.head,!t)throw Error(a(453));return t;case"body":if(t=i.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function tu(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ss(t)}var Lr=new Map,kE=new Set;function pf(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=ge.d;ge.d={f:KC,r:WC,D:YC,C:QC,L:$C,m:XC,X:ZC,S:JC,M:eI};function KC(){var t=qi.f(),i=af();return t||i}function WC(t){var i=bi(t);i!==null&&i.tag===5&&i.type==="form"?J0(i):qi.r(t)}var Do=typeof document>"u"?null:document;function BE(t,i,s){var u=Do;if(u&&typeof i=="string"&&i){var h=an(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),kE.has(h)||(kE.add(h),t={rel:t,crossOrigin:s,href:i},u.querySelector(h)===null&&(i=u.createElement("link"),kn(i,"link",t),fn(i),u.head.appendChild(i)))}}function YC(t){qi.D(t),BE("dns-prefetch",t,null)}function QC(t,i){qi.C(t,i),BE("preconnect",t,i)}function $C(t,i,s){qi.L(t,i,s);var u=Do;if(u&&t&&i){var h='link[rel="preload"][as="'+an(i)+'"]';i==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+an(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+an(s.imageSizes)+'"]')):h+='[href="'+an(t)+'"]';var m=h;switch(i){case"style":m=No(t);break;case"script":m=Mo(t)}Lr.has(m)||(t=w({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:t,as:i},s),Lr.set(m,t),u.querySelector(h)!==null||i==="style"&&u.querySelector(nu(m))||i==="script"&&u.querySelector(ru(m))||(i=u.createElement("link"),kn(i,"link",t),fn(i),u.head.appendChild(i)))}}function XC(t,i){qi.m(t,i);var s=Do;if(s&&t){var u=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+an(u)+'"][href="'+an(t)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Mo(t)}if(!Lr.has(m)&&(t=w({rel:"modulepreload",href:t},i),Lr.set(m,t),s.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ru(m)))return}u=s.createElement("link"),kn(u,"link",t),fn(u),s.head.appendChild(u)}}}function JC(t,i,s){qi.S(t,i,s);var u=Do;if(u&&t){var h=jr(u).hoistableStyles,m=No(t);i=i||"default";var S=h.get(m);if(!S){var L={loading:0,preload:null};if(S=u.querySelector(nu(m)))L.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},s),(s=Lr.get(m))&&Lp(t,s);var re=S=u.createElement("link");fn(re),kn(re,"link",t),re._p=new Promise(function(_e,Ce){re.onload=_e,re.onerror=Ce}),re.addEventListener("load",function(){L.loading|=1}),re.addEventListener("error",function(){L.loading|=2}),L.loading|=4,mf(S,i,u)}S={type:"stylesheet",instance:S,count:1,state:L},h.set(m,S)}}}function ZC(t,i){qi.X(t,i);var s=Do;if(s&&t){var u=jr(s).hoistableScripts,h=Mo(t),m=u.get(h);m||(m=s.querySelector(ru(h)),m||(t=w({src:t,async:!0},i),(i=Lr.get(h))&&Vp(t,i),m=s.createElement("script"),fn(m),kn(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function eI(t,i){qi.M(t,i);var s=Do;if(s&&t){var u=jr(s).hoistableScripts,h=Mo(t),m=u.get(h);m||(m=s.querySelector(ru(h)),m||(t=w({src:t,async:!0,type:"module"},i),(i=Lr.get(h))&&Vp(t,i),m=s.createElement("script"),fn(m),kn(m,"link",t),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function UE(t,i,s,u){var h=(h=te.current)?pf(h):null;if(!h)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=No(s.href),s=jr(h).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){t=No(s.href);var m=jr(h).hoistableStyles,S=m.get(t);if(S||(h=h.ownerDocument||h,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,S),(m=h.querySelector(nu(t)))&&!m._p&&(S.instance=m,S.state.loading=5),Lr.has(t)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Lr.set(t,s),m||tI(h,t,s,S.state))),i&&u===null)throw Error(a(528,""));return S}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Mo(s),s=jr(h).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function No(t){return'href="'+an(t)+'"'}function nu(t){return'link[rel="stylesheet"]['+t+"]"}function LE(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function tI(t,i,s,u){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=t.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),kn(i,"link",s),fn(i),t.head.appendChild(i))}function Mo(t){return'[src="'+an(t)+'"]'}function ru(t){return"script[async]"+t}function VE(t,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=t.querySelector('style[data-href~="'+an(s.href)+'"]');if(u)return i.instance=u,fn(u),u;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),fn(u),kn(u,"style",h),mf(u,s.precedence,t),i.instance=u;case"stylesheet":h=No(s.href);var m=t.querySelector(nu(h));if(m)return i.state.loading|=4,i.instance=m,fn(m),m;u=LE(s),(h=Lr.get(h))&&Lp(u,h),m=(t.ownerDocument||t).createElement("link"),fn(m);var S=m;return S._p=new Promise(function(L,re){S.onload=L,S.onerror=re}),kn(m,"link",u),i.state.loading|=4,mf(m,s.precedence,t),i.instance=m;case"script":return m=Mo(s.src),(h=t.querySelector(ru(m)))?(i.instance=h,fn(h),h):(u=s,(h=Lr.get(m))&&(u=w({},s),Vp(u,h)),t=t.ownerDocument||t,h=t.createElement("script"),fn(h),kn(h,"link",u),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,mf(u,s.precedence,t));return i.instance}function mf(t,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,S=0;S<u.length;S++){var L=u[S];if(L.dataset.precedence===i)m=L;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(t,i.firstChild))}function Lp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Vp(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var gf=null;function jE(t,i,s){if(gf===null){var u=new Map,h=gf=new Map;h.set(s,u)}else h=gf,u=h.get(s),u||(u=new Map,h.set(s,u));if(u.has(t))return u;for(u.set(t,null),s=s.getElementsByTagName(t),h=0;h<s.length;h++){var m=s[h];if(!(m[Ei]||m[Xe]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(i)||"";S=t+S;var L=u.get(S);L?L.push(m):u.set(S,[m])}}return u}function FE(t,i,s){t=t.ownerDocument||t,t.head.insertBefore(s,i==="title"?t.querySelector("head > title"):null)}function nI(t,i,s){if(s===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(t=i.disabled,typeof i.precedence=="string"&&t==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function qE(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function rI(t,i,s,u){if(s.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=No(u.href),m=i.querySelector(nu(h));if(m){i=m._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=yf.bind(t),i.then(t,t)),s.state.loading|=4,s.instance=m,fn(m);return}m=i.ownerDocument||i,u=LE(u),(h=Lr.get(h))&&Lp(u,h),m=m.createElement("link"),fn(m);var S=m;S._p=new Promise(function(L,re){S.onload=L,S.onerror=re}),kn(m,"link",u),s.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(t.count++,s=yf.bind(t),i.addEventListener("load",s),i.addEventListener("error",s))}}var jp=0;function iI(t,i){return t.stylesheets&&t.count===0&&vf(t,t.stylesheets),0<t.count||0<t.imgCount?function(s){var u=setTimeout(function(){if(t.stylesheets&&vf(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+i);0<t.imgBytes&&jp===0&&(jp=62500*LC());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&vf(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>jp?50:800)+i);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function yf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _f=null;function vf(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_f=new Map,i.forEach(aI,t),_f=null,yf.call(t))}function aI(t,i){if(!(i.state.loading&4)){var s=_f.get(t);if(s)var u=s.get(null);else{s=new Map,_f.set(t,s);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var S=h[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(s.set(S.dataset.precedence,S),u=S)}u&&s.set(null,u)}h=i.instance,S=h.getAttribute("data-precedence"),m=s.get(S)||u,m===u&&s.set(null,h),s.set(S,h),this.count++,u=yf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var iu={$$typeof:j,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function sI(t,i,s,u,h,m,S,L,re){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=B(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=B(0),this.hiddenUpdates=B(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=re,this.incompleteTransitions=new Map}function zE(t,i,s,u,h,m,S,L,re,_e,Ce,Ne){return t=new sI(t,i,s,S,re,_e,Ce,Ne,L),i=1,m===!0&&(i|=24),m=vr(3,null,null,i),t.current=m,m.stateNode=t,i=vd(),i.refCount++,t.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:s,cache:i},Td(m),t}function HE(t){return t?(t=uo,t):uo}function GE(t,i,s,u,h,m){h=HE(h),u.context===null?u.context=h:u.pendingContext=h,u=Sa(i),u.payload={element:s},m=m===void 0?null:m,m!==null&&(u.callback=m),s=Aa(t,u,i),s!==null&&(cr(s,t,i),Bl(s,t,i))}function KE(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var s=t.retryLane;t.retryLane=s!==0&&s<i?s:i}}function Fp(t,i){KE(t,i),(t=t.alternate)&&KE(t,i)}function WE(t){if(t.tag===13||t.tag===31){var i=_s(t,67108864);i!==null&&cr(i,t,67108864),Fp(t,67108864)}}function YE(t){if(t.tag===13||t.tag===31){var i=Sr();i=Oe(i);var s=_s(t,i);s!==null&&cr(s,t,i),Fp(t,i)}}var Ef=!0;function oI(t,i,s,u){var h=ae.T;ae.T=null;var m=ge.p;try{ge.p=2,qp(t,i,s,u)}finally{ge.p=m,ae.T=h}}function lI(t,i,s,u){var h=ae.T;ae.T=null;var m=ge.p;try{ge.p=8,qp(t,i,s,u)}finally{ge.p=m,ae.T=h}}function qp(t,i,s,u){if(Ef){var h=zp(u);if(h===null)Ip(t,i,u,wf,s),$E(t,u);else if(cI(h,t,i,s,u))u.stopPropagation();else if($E(t,u),i&4&&-1<uI.indexOf(t)){for(;h!==null;){var m=bi(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=rn(m.pendingLanes);if(S!==0){var L=m;for(L.pendingLanes|=2,L.entangledLanes|=2;S;){var re=1<<31-Re(S);L.entanglements[1]|=re,S&=~re}li(m),(Nt&6)===0&&(nf=_t()+500,Jl(0))}}break;case 31:case 13:L=_s(m,2),L!==null&&cr(L,m,2),af(),Fp(m,2)}if(m=zp(u),m===null&&Ip(t,i,u,wf,s),m===h)break;h=m}h!==null&&u.stopPropagation()}else Ip(t,i,u,null,s)}}function zp(t){return t=to(t),Hp(t)}var wf=null;function Hp(t){if(wf=null,t=wi(t),t!==null){var i=l(t);if(i===null)t=null;else{var s=i.tag;if(s===13){if(t=c(i),t!==null)return t;t=null}else if(s===31){if(t=d(i),t!==null)return t;t=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return wf=t,null}function QE(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(nn()){case Tt:return 2;case Mt:return 8;case Vt:case pr:return 32;case k:return 268435456;default:return 32}default:return 32}}var Gp=!1,Ba=null,Ua=null,La=null,au=new Map,su=new Map,Va=[],uI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $E(t,i){switch(t){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":Ua=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":au.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":su.delete(i.pointerId)}}function ou(t,i,s,u,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},i!==null&&(i=bi(i),i!==null&&WE(i)),t):(t.eventSystemFlags|=u,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function cI(t,i,s,u,h){switch(i){case"focusin":return Ba=ou(Ba,t,i,s,u,h),!0;case"dragenter":return Ua=ou(Ua,t,i,s,u,h),!0;case"mouseover":return La=ou(La,t,i,s,u,h),!0;case"pointerover":var m=h.pointerId;return au.set(m,ou(au.get(m)||null,t,i,s,u,h)),!0;case"gotpointercapture":return m=h.pointerId,su.set(m,ou(su.get(m)||null,t,i,s,u,h)),!0}return!1}function XE(t){var i=wi(t.target);if(i!==null){var s=l(i);if(s!==null){if(i=s.tag,i===13){if(i=c(s),i!==null){t.blockedOn=i,kt(t.priority,function(){YE(s)});return}}else if(i===31){if(i=d(s),i!==null){t.blockedOn=i,kt(t.priority,function(){YE(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){t.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bf(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var s=zp(t.nativeEvent);if(s===null){s=t.nativeEvent;var u=new s.constructor(s.type,s);eo=u,s.target.dispatchEvent(u),eo=null}else return i=bi(s),i!==null&&WE(i),t.blockedOn=s,!1;i.shift()}return!0}function JE(t,i,s){bf(t)&&s.delete(i)}function fI(){Gp=!1,Ba!==null&&bf(Ba)&&(Ba=null),Ua!==null&&bf(Ua)&&(Ua=null),La!==null&&bf(La)&&(La=null),au.forEach(JE),su.forEach(JE)}function Tf(t,i){t.blockedOn===i&&(t.blockedOn=null,Gp||(Gp=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fI)))}var Sf=null;function ZE(t){Sf!==t&&(Sf=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sf===t&&(Sf=null);for(var i=0;i<t.length;i+=3){var s=t[i],u=t[i+1],h=t[i+2];if(typeof u!="function"){if(Hp(u||s)===null)continue;break}var m=bi(s);m!==null&&(t.splice(i,3),i-=3,zd(m,{pending:!0,data:h,method:s.method,action:u},u,h))}}))}function Po(t){function i(re){return Tf(re,t)}Ba!==null&&Tf(Ba,t),Ua!==null&&Tf(Ua,t),La!==null&&Tf(La,t),au.forEach(i),su.forEach(i);for(var s=0;s<Va.length;s++){var u=Va[s];u.blockedOn===t&&(u.blockedOn=null)}for(;0<Va.length&&(s=Va[0],s.blockedOn===null);)XE(s),s.blockedOn===null&&Va.shift();if(s=(t.ownerDocument||t).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var h=s[u],m=s[u+1],S=h[Dn]||null;if(typeof m=="function")S||ZE(s);else if(S){var L=null;if(m&&m.hasAttribute("formAction")){if(h=m,S=m[Dn]||null)L=S.formAction;else if(Hp(h)!==null)continue}else L=S.action;typeof L=="function"?s[u+1]=L:(s.splice(u,3),u-=3),ZE(s)}}}function ew(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return h=S})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),u||setTimeout(s,20)}function s(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(s,100),function(){u=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Kp(t){this._internalRoot=t}Af.prototype.render=Kp.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,u=Sr();GE(s,u,t,i,null,null)},Af.prototype.unmount=Kp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;GE(t.current,2,null,t,null,null),af(),i[Zr]=null}};function Af(t){this._internalRoot=t}Af.prototype.unstable_scheduleHydration=function(t){if(t){var i=Rt();t={blockedOn:null,target:t,priority:i};for(var s=0;s<Va.length&&i!==0&&i<Va[s].priority;s++);Va.splice(s,0,t),s===0&&XE(t)}};var tw=e.version;if(tw!=="19.2.4")throw Error(a(527,tw,"19.2.4"));ge.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var hI={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rf.isDisabled&&Rf.supportsFiber)try{Y=Rf.inject(hI),se=Rf}catch{}}return uu.createRoot=function(t,i){if(!o(t))throw Error(a(299));var s=!1,u="",h=lv,m=uv,S=cv;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=zE(t,1,!1,null,null,s,u,null,h,m,S,ew),t[Zr]=i.current,Cp(t),new Kp(i)},uu.hydrateRoot=function(t,i,s){if(!o(t))throw Error(a(299));var u=!1,h="",m=lv,S=uv,L=cv,re=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(S=s.onCaughtError),s.onRecoverableError!==void 0&&(L=s.onRecoverableError),s.formState!==void 0&&(re=s.formState)),i=zE(t,1,!0,i,s??null,u,h,re,m,S,L,ew),i.context=HE(null),s=i.current,u=Sr(),u=Oe(u),h=Sa(u),h.callback=null,Aa(s,h,u),s=u,i.current.lanes=s,v(i,s),li(i),t[Zr]=i.current,Cp(t),new Af(i)},uu.version="19.2.4",uu}var fw;function RI(){if(fw)return Qp.exports;fw=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qp.exports=AI(),Qp.exports}var CI=RI();const II=gS(CI),Ls=globalThis||void 0||self;var hw="popstate";function xI(r={}){function e(a,o){let{pathname:l,search:c,hash:d}=a.location;return Hg("",{pathname:l,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(a,o){return typeof o=="string"?o:Au(o)}return DI(e,n,null,r)}function Zt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Qr(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OI(){return Math.random().toString(36).substring(2,10)}function dw(r,e){return{usr:r.state,key:r.key,idx:e}}function Hg(r,e,n=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?nl(e):e,state:n,key:e&&e.key||a||OI()}}function Au({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function nl(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function DI(r,e,n,a={}){let{window:o=document.defaultView,v5Compat:l=!1}=a,c=o.history,d="POP",p=null,g=y();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function y(){return(c.state||{idx:null}).idx}function w(){d="POP";let P=y(),O=P==null?null:P-g;g=P,p&&p({action:d,location:F.location,delta:O})}function R(P,O){d="PUSH";let U=Hg(F.location,P,O);g=y()+1;let j=dw(U,g),K=F.createHref(U);try{c.pushState(j,"",K)}catch(X){if(X instanceof DOMException&&X.name==="DataCloneError")throw X;o.location.assign(K)}l&&p&&p({action:d,location:F.location,delta:1})}function H(P,O){d="REPLACE";let U=Hg(F.location,P,O);g=y();let j=dw(U,g),K=F.createHref(U);c.replaceState(j,"",K),l&&p&&p({action:d,location:F.location,delta:0})}function I(P){return NI(P)}let F={get action(){return d},get location(){return r(o,c)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(hw,w),p=P,()=>{o.removeEventListener(hw,w),p=null}},createHref(P){return e(o,P)},createURL:I,encodeLocation(P){let O=I(P);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:R,replace:H,go(P){return c.go(P)}};return F}function NI(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(n,"No window.location.(origin|href) available to create URL");let a=typeof r=="string"?r:Au(r);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=n+a),new URL(a,n)}function wS(r,e,n="/"){return MI(r,e,n,!1)}function MI(r,e,n,a){let o=typeof e=="string"?nl(e):e,l=Xi(o.pathname||"/",n);if(l==null)return null;let c=bS(r);PI(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=GI(l);d=zI(c[p],g,a)}return d}function bS(r,e=[],n=[],a="",o=!1){let l=(c,d,p=o,g)=>{let y={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(a)&&p)return;Zt(y.relativePath.startsWith(a),`Absolute route path "${y.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(a.length)}let w=Qi([a,y.relativePath]),R=n.concat(y);c.children&&c.children.length>0&&(Zt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${w}".`),bS(c.children,e,R,w,p)),!(c.path==null&&!c.index)&&e.push({path:w,score:FI(w,c.index),routesMeta:R})};return r.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of TS(c.path))l(c,d,!0,p)}),e}function TS(r){let e=r.split("/");if(e.length===0)return[];let[n,...a]=e,o=n.endsWith("?"),l=n.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let c=TS(a.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),o&&d.push(...c),d.map(p=>r.startsWith("/")&&p===""?"/":p)}function PI(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:qI(e.routesMeta.map(a=>a.childrenIndex),n.routesMeta.map(a=>a.childrenIndex)))}var kI=/^:[\w-]+$/,BI=3,UI=2,LI=1,VI=10,jI=-2,pw=r=>r==="*";function FI(r,e){let n=r.split("/"),a=n.length;return n.some(pw)&&(a+=jI),e&&(a+=UI),n.filter(o=>!pw(o)).reduce((o,l)=>o+(kI.test(l)?BI:l===""?LI:VI),a)}function qI(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function zI(r,e,n=!1){let{routesMeta:a}=r,o={},l="/",c=[];for(let d=0;d<a.length;++d){let p=a[d],g=d===a.length-1,y=l==="/"?e:e.slice(l.length)||"/",w=rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},y),R=p.route;if(!w&&g&&n&&!a[a.length-1].route.index&&(w=rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},y)),!w)return null;Object.assign(o,w.params),c.push({params:o,pathname:Qi([l,w.pathname]),pathnameBase:QI(Qi([l,w.pathnameBase])),route:R}),w.pathnameBase!=="/"&&(l=Qi([l,w.pathnameBase]))}return c}function rh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,a]=HI(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let l=o[0],c=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:y,isOptional:w},R)=>{if(y==="*"){let I=d[R]||"";c=l.slice(0,l.length-I.length).replace(/(.)\/+$/,"$1")}const H=d[R];return w&&!H?g[y]=void 0:g[y]=(H||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:r}}function HI(r,e=!1,n=!0){Qr(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(a.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function GI(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qr(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Xi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,a=r.charAt(n);return a&&a!=="/"?null:r.slice(n)||"/"}var KI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function WI(r,e="/"){let{pathname:n,search:a="",hash:o=""}=typeof r=="string"?nl(r):r,l;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?l=mw(n.substring(1),"/"):l=mw(n,e)):l=e,{pathname:l,search:$I(a),hash:XI(o)}}function mw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Zp(r,e,n,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YI(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vy(r){let e=YI(r);return e.map((n,a)=>a===e.length-1?n.pathname:n.pathnameBase)}function Ey(r,e,n,a=!1){let o;typeof r=="string"?o=nl(r):(o={...r},Zt(!o.pathname||!o.pathname.includes("?"),Zp("?","pathname","search",o)),Zt(!o.pathname||!o.pathname.includes("#"),Zp("#","pathname","hash",o)),Zt(!o.search||!o.search.includes("#"),Zp("#","search","hash",o)));let l=r===""||o.pathname==="",c=l?"/":o.pathname,d;if(c==null)d=n;else{let w=e.length-1;if(!a&&c.startsWith("..")){let R=c.split("/");for(;R[0]==="..";)R.shift(),w-=1;o.pathname=R.join("/")}d=w>=0?e[w]:"/"}let p=WI(o,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||y)&&(p.pathname+="/"),p}var Qi=r=>r.join("/").replace(/\/\/+/g,"/"),QI=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$I=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,XI=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,JI=class{constructor(r,e,n,a=!1){this.status=r,this.statusText=e||"",this.internal=a,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function ZI(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function ex(r){return r.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var SS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function AS(r,e){let n=r;if(typeof n!="string"||!KI.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let a=n,o=!1;if(SS)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Xi(c.pathname,e);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:o=!0}catch{Qr(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RS=["POST","PUT","PATCH","DELETE"];new Set(RS);var tx=["GET",...RS];new Set(tx);var rl=le.createContext(null);rl.displayName="DataRouter";var wh=le.createContext(null);wh.displayName="DataRouterState";var nx=le.createContext(!1),CS=le.createContext({isTransitioning:!1});CS.displayName="ViewTransition";var rx=le.createContext(new Map);rx.displayName="Fetchers";var ix=le.createContext(null);ix.displayName="Await";var Ir=le.createContext(null);Ir.displayName="Navigation";var Bu=le.createContext(null);Bu.displayName="Location";var Xr=le.createContext({outlet:null,matches:[],isDataRoute:!1});Xr.displayName="Route";var wy=le.createContext(null);wy.displayName="RouteError";var IS="REACT_ROUTER_ERROR",ax="REDIRECT",sx="ROUTE_ERROR_RESPONSE";function ox(r){if(r.startsWith(`${IS}:${ax}:{`))try{let e=JSON.parse(r.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function lx(r){if(r.startsWith(`${IS}:${sx}:{`))try{let e=JSON.parse(r.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new JI(e.status,e.statusText,e.data)}catch{}}function ux(r,{relative:e}={}){Zt(il(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:a}=le.useContext(Ir),{hash:o,pathname:l,search:c}=Uu(r,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Qi([n,l])),a.createHref({pathname:d,search:c,hash:o})}function il(){return le.useContext(Bu)!=null}function ns(){return Zt(il(),"useLocation() may be used only in the context of a <Router> component."),le.useContext(Bu).location}var xS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function OS(r){le.useContext(Ir).static||le.useLayoutEffect(r)}function rs(){let{isDataRoute:r}=le.useContext(Xr);return r?Tx():cx()}function cx(){Zt(il(),"useNavigate() may be used only in the context of a <Router> component.");let r=le.useContext(rl),{basename:e,navigator:n}=le.useContext(Ir),{matches:a}=le.useContext(Xr),{pathname:o}=ns(),l=JSON.stringify(vy(a)),c=le.useRef(!1);return OS(()=>{c.current=!0}),le.useCallback((p,g={})=>{if(Qr(c.current,xS),!c.current)return;if(typeof p=="number"){n.go(p);return}let y=Ey(p,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Qi([e,y.pathname])),(g.replace?n.replace:n.push)(y,g.state,g)},[e,n,l,o,r])}le.createContext(null);function fx(){let{matches:r}=le.useContext(Xr),e=r[r.length-1];return e?e.params:{}}function Uu(r,{relative:e}={}){let{matches:n}=le.useContext(Xr),{pathname:a}=ns(),o=JSON.stringify(vy(n));return le.useMemo(()=>Ey(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function hx(r,e){return DS(r,e)}function DS(r,e,n,a,o){Zt(il(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=le.useContext(Ir),{matches:c}=le.useContext(Xr),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",y=d?d.pathnameBase:"/",w=d&&d.route;{let U=w&&w.path||"";MS(g,!w||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let R=ns(),H;if(e){let U=typeof e=="string"?nl(e):e;Zt(y==="/"||U.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${U.pathname}" was given in the \`location\` prop.`),H=U}else H=R;let I=H.pathname||"/",F=I;if(y!=="/"){let U=y.replace(/^\//,"").split("/");F="/"+I.replace(/^\//,"").split("/").slice(U.length).join("/")}let P=wS(r,{pathname:F});Qr(w||P!=null,`No routes matched location "${H.pathname}${H.search}${H.hash}" `),Qr(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${H.pathname}${H.search}${H.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=yx(P&&P.map(U=>Object.assign({},U,{params:Object.assign({},p,U.params),pathname:Qi([y,l.encodeLocation?l.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?y:Qi([y,l.encodeLocation?l.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),c,n,a,o);return e&&O?le.createElement(Bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...H},navigationType:"POP"}},O):O}function dx(){let r=bx(),e=ZI(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",r),c=le.createElement(le.Fragment,null,le.createElement("p",null," Hey developer "),le.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",le.createElement("code",{style:l},"ErrorBoundary")," or"," ",le.createElement("code",{style:l},"errorElement")," prop on your route.")),le.createElement(le.Fragment,null,le.createElement("h2",null,"Unexpected Application Error!"),le.createElement("h3",{style:{fontStyle:"italic"}},e),n?le.createElement("pre",{style:o},n):null,c)}var px=le.createElement(dx,null),NS=class extends le.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const n=lx(r.digest);n&&(r=n)}let e=r!==void 0?le.createElement(Xr.Provider,{value:this.props.routeContext},le.createElement(wy.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?le.createElement(mx,{error:r},e):e}};NS.contextType=nx;var em=new WeakMap;function mx({children:r,error:e}){let{basename:n}=le.useContext(Ir);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let a=ox(e.digest);if(a){let o=em.get(e);if(o)throw o;let l=AS(a.location,n);if(SS&&!em.get(e))if(l.isExternal||a.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:a.replace}));throw em.set(e,c),c}return le.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return r}function gx({routeContext:r,match:e,children:n}){let a=le.useContext(rl);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),le.createElement(Xr.Provider,{value:r},n)}function yx(r,e=[],n=null,a=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let l=r,c=n?.errors;if(c!=null){let y=l.findIndex(w=>w.route.id&&c?.[w.route.id]!==void 0);Zt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,p=-1;if(n)for(let y=0;y<l.length;y++){let w=l[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=y),w.route.id){let{loaderData:R,errors:H}=n,I=w.route.loader&&!R.hasOwnProperty(w.route.id)&&(!H||H[w.route.id]===void 0);if(w.route.lazy||I){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=n&&a?(y,w)=>{a(y,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:ex(n.matches),errorInfo:w})}:void 0;return l.reduceRight((y,w,R)=>{let H,I=!1,F=null,P=null;n&&(H=c&&w.route.id?c[w.route.id]:void 0,F=w.route.errorElement||px,d&&(p<0&&R===0?(MS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,P=null):p===R&&(I=!0,P=w.route.hydrateFallbackElement||null)));let O=e.concat(l.slice(0,R+1)),U=()=>{let j;return H?j=F:I?j=P:w.route.Component?j=le.createElement(w.route.Component,null):w.route.element?j=w.route.element:j=y,le.createElement(gx,{match:w,routeContext:{outlet:y,matches:O,isDataRoute:n!=null},children:j})};return n&&(w.route.ErrorBoundary||w.route.errorElement||R===0)?le.createElement(NS,{location:n.location,revalidation:n.revalidation,component:F,error:H,children:U(),routeContext:{outlet:null,matches:O,isDataRoute:!0},onError:g}):U()},null)}function by(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _x(r){let e=le.useContext(rl);return Zt(e,by(r)),e}function vx(r){let e=le.useContext(wh);return Zt(e,by(r)),e}function Ex(r){let e=le.useContext(Xr);return Zt(e,by(r)),e}function Ty(r){let e=Ex(r),n=e.matches[e.matches.length-1];return Zt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function wx(){return Ty("useRouteId")}function bx(){let r=le.useContext(wy),e=vx("useRouteError"),n=Ty("useRouteError");return r!==void 0?r:e.errors?.[n]}function Tx(){let{router:r}=_x("useNavigate"),e=Ty("useNavigate"),n=le.useRef(!1);return OS(()=>{n.current=!0}),le.useCallback(async(o,l={})=>{Qr(n.current,xS),n.current&&(typeof o=="number"?await r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var gw={};function MS(r,e,n){!e&&!gw[r]&&(gw[r]=!0,Qr(!1,n))}le.memo(Sx);function Sx({routes:r,future:e,state:n,onError:a}){return DS(r,void 0,n,a,e)}function Cf({to:r,replace:e,state:n,relative:a}){Zt(il(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=le.useContext(Ir);Qr(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=le.useContext(Xr),{pathname:c}=ns(),d=rs(),p=Ey(r,vy(l),c,a==="path"),g=JSON.stringify(p);return le.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:a})},[d,g,a,e,n]),null}function fr(r){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ax({basename:r="/",children:e=null,location:n,navigationType:a="POP",navigator:o,static:l=!1,unstable_useTransitions:c}){Zt(!il(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),p=le.useMemo(()=>({basename:d,navigator:o,static:l,unstable_useTransitions:c,future:{}}),[d,o,l,c]);typeof n=="string"&&(n=nl(n));let{pathname:g="/",search:y="",hash:w="",state:R=null,key:H="default"}=n,I=le.useMemo(()=>{let F=Xi(g,d);return F==null?null:{location:{pathname:F,search:y,hash:w,state:R,key:H},navigationType:a}},[d,g,y,w,R,H,a]);return Qr(I!=null,`<Router basename="${d}"> is not able to match the URL "${g}${y}${w}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:le.createElement(Ir.Provider,{value:p},le.createElement(Bu.Provider,{children:e,value:I}))}function Rx({children:r,location:e}){return hx(Gg(r),e)}function Gg(r,e=[]){let n=[];return le.Children.forEach(r,(a,o)=>{if(!le.isValidElement(a))return;let l=[...e,o];if(a.type===le.Fragment){n.push.apply(n,Gg(a.props.children,l));return}Zt(a.type===fr,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Gg(a.props.children,l)),n.push(c)}),n}var Gf="get",Kf="application/x-www-form-urlencoded";function bh(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function Cx(r){return bh(r)&&r.tagName.toLowerCase()==="button"}function Ix(r){return bh(r)&&r.tagName.toLowerCase()==="form"}function xx(r){return bh(r)&&r.tagName.toLowerCase()==="input"}function Ox(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Dx(r,e){return r.button===0&&(!e||e==="_self")&&!Ox(r)}var If=null;function Nx(){if(If===null)try{new FormData(document.createElement("form"),0),If=!1}catch{If=!0}return If}var Mx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tm(r){return r!=null&&!Mx.has(r)?(Qr(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kf}"`),null):r}function Px(r,e){let n,a,o,l,c;if(Ix(r)){let d=r.getAttribute("action");a=d?Xi(d,e):null,n=r.getAttribute("method")||Gf,o=tm(r.getAttribute("enctype"))||Kf,l=new FormData(r)}else if(Cx(r)||xx(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||d.getAttribute("action");if(a=p?Xi(p,e):null,n=r.getAttribute("formmethod")||d.getAttribute("method")||Gf,o=tm(r.getAttribute("formenctype"))||tm(d.getAttribute("enctype"))||Kf,l=new FormData(d,r),!Nx()){let{name:g,type:y,value:w}=r;if(y==="image"){let R=g?`${g}.`:"";l.append(`${R}x`,"0"),l.append(`${R}y`,"0")}else g&&l.append(g,w)}}else{if(bh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gf,a=null,o=Kf,c=r}return l&&o==="text/plain"&&(c=l,l=void 0),{action:a,method:n.toLowerCase(),encType:o,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Sy(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function kx(r,e,n,a){let o=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:e&&Xi(o.pathname,e)==="/"?o.pathname=`${e.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function Bx(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ux(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Lx(r,e,n){let a=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let c=await Bx(l,n);return c.links?c.links():[]}return[]}));return qx(a.flat(1).filter(Ux).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yw(r,e,n,a,o,l){let c=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{let y=a.routes[p.route.id];if(!y||!y.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Vx(r,e,{includeHydrateFallback:n}={}){return jx(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function jx(r){return[...new Set(r)]}function Fx(r){let e={},n=Object.keys(r).sort();for(let a of n)e[a]=r[a];return e}function qx(r,e){let n=new Set;return new Set(e),r.reduce((a,o)=>{let l=JSON.stringify(Fx(o));return n.has(l)||(n.add(l),a.push({key:l,link:o})),a},[])}function PS(){let r=le.useContext(rl);return Sy(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function zx(){let r=le.useContext(wh);return Sy(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ay=le.createContext(void 0);Ay.displayName="FrameworkContext";function kS(){let r=le.useContext(Ay);return Sy(r,"You must render this element inside a <HydratedRouter> element"),r}function Hx(r,e){let n=le.useContext(Ay),[a,o]=le.useState(!1),[l,c]=le.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:y,onTouchStart:w}=e,R=le.useRef(null);le.useEffect(()=>{if(r==="render"&&c(!0),r==="viewport"){let F=O=>{O.forEach(U=>{c(U.isIntersecting)})},P=new IntersectionObserver(F,{threshold:.5});return R.current&&P.observe(R.current),()=>{P.disconnect()}}},[r]),le.useEffect(()=>{if(a){let F=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(F)}}},[a]);let H=()=>{o(!0)},I=()=>{o(!1),c(!1)};return n?r!=="intent"?[l,R,{}]:[l,R,{onFocus:cu(d,H),onBlur:cu(p,I),onMouseEnter:cu(g,H),onMouseLeave:cu(y,I),onTouchStart:cu(w,H)}]:[!1,R,{}]}function cu(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Gx({page:r,...e}){let{router:n}=PS(),a=le.useMemo(()=>wS(n.routes,r,n.basename),[n.routes,r,n.basename]);return a?le.createElement(Wx,{page:r,matches:a,...e}):null}function Kx(r){let{manifest:e,routeModules:n}=kS(),[a,o]=le.useState([]);return le.useEffect(()=>{let l=!1;return Lx(r,e,n).then(c=>{l||o(c)}),()=>{l=!0}},[r,e,n]),a}function Wx({page:r,matches:e,...n}){let a=ns(),{future:o,manifest:l,routeModules:c}=kS(),{basename:d}=PS(),{loaderData:p,matches:g}=zx(),y=le.useMemo(()=>yw(r,e,g,l,a,"data"),[r,e,g,l,a]),w=le.useMemo(()=>yw(r,e,g,l,a,"assets"),[r,e,g,l,a]),R=le.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let F=new Set,P=!1;if(e.forEach(U=>{let j=l.routes[U.route.id];!j||!j.hasLoader||(!y.some(K=>K.route.id===U.route.id)&&U.route.id in p&&c[U.route.id]?.shouldRevalidate||j.hasClientLoader?P=!0:F.add(U.route.id))}),F.size===0)return[];let O=kx(r,d,o.unstable_trailingSlashAwareDataRequests,"data");return P&&F.size>0&&O.searchParams.set("_routes",e.filter(U=>F.has(U.route.id)).map(U=>U.route.id).join(",")),[O.pathname+O.search]},[d,o.unstable_trailingSlashAwareDataRequests,p,a,l,y,e,r,c]),H=le.useMemo(()=>Vx(w,l),[w,l]),I=Kx(w);return le.createElement(le.Fragment,null,R.map(F=>le.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),H.map(F=>le.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),I.map(({key:F,link:P})=>le.createElement("link",{key:F,nonce:n.nonce,...P,crossOrigin:P.crossOrigin??n.crossOrigin})))}function Yx(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Qx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qx&&(window.__reactRouterVersion="7.13.0")}catch{}function $x({basename:r,children:e,unstable_useTransitions:n,window:a}){let o=le.useRef();o.current==null&&(o.current=xI({window:a,v5Compat:!0}));let l=o.current,[c,d]=le.useState({action:l.action,location:l.location}),p=le.useCallback(g=>{n===!1?d(g):le.startTransition(()=>d(g))},[n]);return le.useLayoutEffect(()=>l.listen(p),[l,p]),le.createElement(Ax,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var BS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ih=le.forwardRef(function({onClick:e,discover:n="render",prefetch:a="none",relative:o,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:y,viewTransition:w,unstable_defaultShouldRevalidate:R,...H},I){let{basename:F,unstable_useTransitions:P}=le.useContext(Ir),O=typeof g=="string"&&BS.test(g),U=AS(g,F);g=U.to;let j=ux(g,{relative:o}),[K,X,J]=Hx(a,H),x=e2(g,{replace:c,state:d,target:p,preventScrollReset:y,relative:o,viewTransition:w,unstable_defaultShouldRevalidate:R,unstable_useTransitions:P});function C(W){e&&e(W),W.defaultPrevented||x(W)}let D=le.createElement("a",{...H,...J,href:U.absoluteURL||j,onClick:U.isExternal||l?e:C,ref:Yx(I,X),target:p,"data-discover":!O&&n==="render"?"true":void 0});return K&&!O?le.createElement(le.Fragment,null,D,le.createElement(Gx,{page:j})):D});ih.displayName="Link";var Xx=le.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:d,children:p,...g},y){let w=Uu(c,{relative:g.relative}),R=ns(),H=le.useContext(wh),{navigator:I,basename:F}=le.useContext(Ir),P=H!=null&&a2(w)&&d===!0,O=I.encodeLocation?I.encodeLocation(w).pathname:w.pathname,U=R.pathname,j=H&&H.navigation&&H.navigation.location?H.navigation.location.pathname:null;n||(U=U.toLowerCase(),j=j?j.toLowerCase():null,O=O.toLowerCase()),j&&F&&(j=Xi(j,F)||j);const K=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let X=U===O||!o&&U.startsWith(O)&&U.charAt(K)==="/",J=j!=null&&(j===O||!o&&j.startsWith(O)&&j.charAt(O.length)==="/"),x={isActive:X,isPending:J,isTransitioning:P},C=X?e:void 0,D;typeof a=="function"?D=a(x):D=[a,X?"active":null,J?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let W=typeof l=="function"?l(x):l;return le.createElement(ih,{...g,"aria-current":C,className:D,ref:y,style:W,to:c,viewTransition:d},typeof p=="function"?p(x):p)});Xx.displayName="NavLink";var Jx=le.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:a,replace:o,state:l,method:c=Gf,action:d,onSubmit:p,relative:g,preventScrollReset:y,viewTransition:w,unstable_defaultShouldRevalidate:R,...H},I)=>{let{unstable_useTransitions:F}=le.useContext(Ir),P=r2(),O=i2(d,{relative:g}),U=c.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&BS.test(d),K=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let J=X.nativeEvent.submitter,x=J?.getAttribute("formmethod")||c,C=()=>P(J||X.currentTarget,{fetcherKey:e,method:x,navigate:n,replace:o,state:l,relative:g,preventScrollReset:y,viewTransition:w,unstable_defaultShouldRevalidate:R});F&&n!==!1?le.startTransition(()=>C()):C()};return le.createElement("form",{ref:I,method:U,action:O,onSubmit:a?p:K,...H,"data-discover":!j&&r==="render"?"true":void 0})});Jx.displayName="Form";function Zx(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function US(r){let e=le.useContext(rl);return Zt(e,Zx(r)),e}function e2(r,{target:e,replace:n,state:a,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:p}={}){let g=rs(),y=ns(),w=Uu(r,{relative:l});return le.useCallback(R=>{if(Dx(R,e)){R.preventDefault();let H=n!==void 0?n:Au(y)===Au(w),I=()=>g(r,{replace:H,state:a,preventScrollReset:o,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});p?le.startTransition(()=>I()):I()}},[y,g,w,n,a,e,r,o,l,c,d,p])}var t2=0,n2=()=>`__${String(++t2)}__`;function r2(){let{router:r}=US("useSubmit"),{basename:e}=le.useContext(Ir),n=wx(),a=r.fetch,o=r.navigate;return le.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:y,body:w}=Px(l,e);if(c.navigate===!1){let R=c.fetcherKey||n2();await a(R,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:w,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await o(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:y,body:w,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,o,e,n])}function i2(r,{relative:e}={}){let{basename:n}=le.useContext(Ir),a=le.useContext(Xr);Zt(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),l={...Uu(r||".",{relative:e})},c=ns();if(r==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(y=>y==="")){d.delete("index"),p.filter(w=>w).forEach(w=>d.append("index",w));let y=d.toString();l.search=y?`?${y}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Qi([n,l.pathname])),Au(l)}function a2(r,{relative:e}={}){let n=le.useContext(CS);Zt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=US("useViewTransitionState"),o=Uu(r,{relative:e});if(!n.isTransitioning)return!1;let l=Xi(n.currentLocation.pathname,a)||n.currentLocation.pathname,c=Xi(n.nextLocation.pathname,a)||n.nextLocation.pathname;return rh(o.pathname,c)!=null||rh(o.pathname,l)!=null}var _w={};const LS=function(r){const e=[];let n=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},s2=function(r){const e=[];let n=0,a=0;for(;n<r.length;){const o=r[n++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[n++];e[a++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[n++],c=r[n++],d=r[n++],p=((o&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(p>>10)),e[a++]=String.fromCharCode(56320+(p&1023))}else{const l=r[n++],c=r[n++];e[a++]=String.fromCharCode((o&15)<<12|(l&63)<<6|c&63)}}return e.join("")},VS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const l=r[o],c=o+1<r.length,d=c?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,y=l>>2,w=(l&3)<<4|d>>4;let R=(d&15)<<2|g>>6,H=g&63;p||(H=64,c||(R=64)),a.push(n[y],n[w],n[R],n[H])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(LS(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):s2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const l=n[r.charAt(o++)],d=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,l==null||d==null||g==null||w==null)throw new o2;const R=l<<2|d>>4;if(a.push(R),g!==64){const H=d<<4&240|g>>2;if(a.push(H),w!==64){const I=g<<6&192|w;a.push(I)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class o2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l2=function(r){const e=LS(r);return VS.encodeByteArray(e,!0)},ah=function(r){return l2(r).replace(/\./g,"")},jS=function(r){try{return VS.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function u2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof Ls<"u")return Ls;throw new Error("Unable to locate global object.")}const c2=()=>u2().__FIREBASE_DEFAULTS__,f2=()=>{if(typeof et>"u"||typeof _w>"u")return;const r=_w.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},h2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&jS(r[1]);return e&&JSON.parse(e)},Th=()=>{try{return c2()||f2()||h2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},FS=r=>{var e,n;return(n=(e=Th())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},qS=r=>{const e=FS(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),a]:[e.substring(0,n),a]},zS=()=>{var r;return(r=Th())===null||r===void 0?void 0:r.config},HS=r=>{var e;return(e=Th())===null||e===void 0?void 0:e[`_${r}`]};class d2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,a)=>{n?this.reject(n):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,a))}}}function GS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ah(JSON.stringify(n)),ah(JSON.stringify(c)),""].join(".")}function Yn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function p2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yn())}function m2(){var r;const e=(r=Th())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(Ls.process)==="[object process]"}catch{return!1}}function g2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v2(){const r=Yn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function E2(){return!m2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w2(){try{return typeof indexedDB=="object"}catch{return!1}}function b2(){return new Promise((r,e)=>{try{let n=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}const T2="FirebaseError";class _i extends Error{constructor(e,n,a){super(n),this.code=e,this.customData=a,this.name=T2,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lu.prototype.create)}}class Lu{constructor(e,n,a){this.service=e,this.serviceName=n,this.errors=a}create(e,...n){const a=n[0]||{},o=`${this.service}/${e}`,l=this.errors[e],c=l?S2(l,a):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new _i(o,d,a)}}function S2(r,e){return r.replace(A2,(n,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const A2=/\{\$([^}]+)}/g;function R2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ru(r,e){if(r===e)return!0;const n=Object.keys(r),a=Object.keys(e);for(const o of n){if(!a.includes(o))return!1;const l=r[o],c=e[o];if(vw(l)&&vw(c)){if(!Ru(l,c))return!1}else if(l!==c)return!1}for(const o of a)if(!n.includes(o))return!1;return!0}function vw(r){return r!==null&&typeof r=="object"}function al(r){const e=[];for(const[n,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function C2(r,e){const n=new I2(r,e);return n.subscribe.bind(n)}class I2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,a){let o;if(e===void 0&&n===void 0&&a===void 0)throw new Error("Missing Observer.");x2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:a},o.next===void 0&&(o.next=nm),o.error===void 0&&(o.error=nm),o.complete===void 0&&(o.complete=nm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function nm(){}function $t(r){return r&&r._delegate?r._delegate:r}class Ja{constructor(e,n,a){this.name=e,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ds="[DEFAULT]";class O2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const a=new d2;if(this.instancesDeferred.set(n,a),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const a=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(N2(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[n,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:o});a.resolve(l)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:n});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);a===d&&c.resolve(o)}return o}onInit(e,n){var a;const o=this.normalizeInstanceIdentifier(n),l=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;l.add(e),this.onInitCallbacks.set(o,l);const c=this.instances.get(o);return c&&e(c,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const a=this.onInitCallbacks.get(n);if(a)for(const o of a)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:D2(e),options:n}),this.instances.set(e,a),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D2(r){return r===Ds?void 0:r}function N2(r){return r.instantiationMode==="EAGER"}class M2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new O2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var yt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(yt||(yt={}));const P2={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},k2=yt.INFO,B2={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},U2=(r,e,...n)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=B2[e];if(o)console[o](`[${a}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ry{constructor(e){this.name=e,this._logLevel=k2,this._logHandler=U2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const L2=(r,e)=>e.some(n=>r instanceof n);let Ew,ww;function V2(){return Ew||(Ew=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j2(){return ww||(ww=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const KS=new WeakMap,Kg=new WeakMap,WS=new WeakMap,rm=new WeakMap,Cy=new WeakMap;function F2(r){const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{n(Wa(r.result)),o()},c=()=>{a(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&KS.set(n,r)}).catch(()=>{}),Cy.set(e,r),e}function q2(r){if(Kg.has(r))return;const e=new Promise((n,a)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{n(),o()},c=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});Kg.set(r,e)}let Wg={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Kg.get(r);if(e==="objectStoreNames")return r.objectStoreNames||WS.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wa(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function z2(r){Wg=r(Wg)}function H2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const a=r.call(im(this),e,...n);return WS.set(a,e.sort?e.sort():[e]),Wa(a)}:j2().includes(r)?function(...e){return r.apply(im(this),e),Wa(KS.get(this))}:function(...e){return Wa(r.apply(im(this),e))}}function G2(r){return typeof r=="function"?H2(r):(r instanceof IDBTransaction&&q2(r),L2(r,V2())?new Proxy(r,Wg):r)}function Wa(r){if(r instanceof IDBRequest)return F2(r);if(rm.has(r))return rm.get(r);const e=G2(r);return e!==r&&(rm.set(r,e),Cy.set(e,r)),e}const im=r=>Cy.get(r);function K2(r,e,{blocked:n,upgrade:a,blocking:o,terminated:l}={}){const c=indexedDB.open(r,e),d=Wa(c);return a&&c.addEventListener("upgradeneeded",p=>{a(Wa(c.result),p.oldVersion,p.newVersion,Wa(c.transaction),p)}),n&&c.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const W2=["get","getKey","getAll","getAllKeys","count"],Y2=["put","add","delete","clear"],am=new Map;function bw(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),a=e!==n,o=Y2.includes(n);if(!(n in(a?IDBIndex:IDBObjectStore).prototype)||!(o||W2.includes(n)))return;const l=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let g=p.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return am.set(e,l),l}z2(r=>({...r,get:(e,n,a)=>bw(e,n)||r.get(e,n,a),has:(e,n)=>!!bw(e,n)||r.has(e,n)}));class Q2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($2(n)){const a=n.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(n=>n).join(" ")}}function $2(r){const e=r.getComponent();return e?.type==="VERSION"}const Yg="@firebase/app",Tw="0.10.13";const Ji=new Ry("@firebase/app"),X2="@firebase/app-compat",J2="@firebase/analytics-compat",Z2="@firebase/analytics",eO="@firebase/app-check-compat",tO="@firebase/app-check",nO="@firebase/auth",rO="@firebase/auth-compat",iO="@firebase/database",aO="@firebase/data-connect",sO="@firebase/database-compat",oO="@firebase/functions",lO="@firebase/functions-compat",uO="@firebase/installations",cO="@firebase/installations-compat",fO="@firebase/messaging",hO="@firebase/messaging-compat",dO="@firebase/performance",pO="@firebase/performance-compat",mO="@firebase/remote-config",gO="@firebase/remote-config-compat",yO="@firebase/storage",_O="@firebase/storage-compat",vO="@firebase/firestore",EO="@firebase/vertexai-preview",wO="@firebase/firestore-compat",bO="firebase",TO="10.14.1";const Qg="[DEFAULT]",SO={[Yg]:"fire-core",[X2]:"fire-core-compat",[Z2]:"fire-analytics",[J2]:"fire-analytics-compat",[tO]:"fire-app-check",[eO]:"fire-app-check-compat",[nO]:"fire-auth",[rO]:"fire-auth-compat",[iO]:"fire-rtdb",[aO]:"fire-data-connect",[sO]:"fire-rtdb-compat",[oO]:"fire-fn",[lO]:"fire-fn-compat",[uO]:"fire-iid",[cO]:"fire-iid-compat",[fO]:"fire-fcm",[hO]:"fire-fcm-compat",[dO]:"fire-perf",[pO]:"fire-perf-compat",[mO]:"fire-rc",[gO]:"fire-rc-compat",[yO]:"fire-gcs",[_O]:"fire-gcs-compat",[vO]:"fire-fst",[wO]:"fire-fst-compat",[EO]:"fire-vertex","fire-js":"fire-js",[bO]:"fire-js-all"};const sh=new Map,AO=new Map,$g=new Map;function Sw(r,e){try{r.container.addComponent(e)}catch(n){Ji.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Vs(r){const e=r.name;if($g.has(e))return Ji.debug(`There were multiple attempts to register component ${e}.`),!1;$g.set(e,r);for(const n of sh.values())Sw(n,r);for(const n of AO.values())Sw(n,r);return!0}function Sh(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Gi(r){return r.settings!==void 0}const RO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ya=new Lu("app","Firebase",RO);class CO{constructor(e,n,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ya.create("app-deleted",{appName:this._name})}}const Gs=TO;function YS(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Qg,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Ya.create("bad-app-name",{appName:String(o)});if(n||(n=zS()),!n)throw Ya.create("no-options");const l=sh.get(o);if(l){if(Ru(n,l.options)&&Ru(a,l.config))return l;throw Ya.create("duplicate-app",{appName:o})}const c=new M2(o);for(const p of $g.values())c.addComponent(p);const d=new CO(n,a,c);return sh.set(o,d),d}function Iy(r=Qg){const e=sh.get(r);if(!e&&r===Qg&&zS())return YS();if(!e)throw Ya.create("no-app",{appName:r});return e}function di(r,e,n){var a;let o=(a=SO[r])!==null&&a!==void 0?a:r;n&&(o+=`-${n}`);const l=o.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ji.warn(d.join(" "));return}Vs(new Ja(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const IO="firebase-heartbeat-database",xO=1,Cu="firebase-heartbeat-store";let sm=null;function QS(){return sm||(sm=K2(IO,xO,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Cu)}catch(n){console.warn(n)}}}}).catch(r=>{throw Ya.create("idb-open",{originalErrorMessage:r.message})})),sm}async function OO(r){try{const n=(await QS()).transaction(Cu),a=await n.objectStore(Cu).get($S(r));return await n.done,a}catch(e){if(e instanceof _i)Ji.warn(e.message);else{const n=Ya.create("idb-get",{originalErrorMessage:e?.message});Ji.warn(n.message)}}}async function Aw(r,e){try{const a=(await QS()).transaction(Cu,"readwrite");await a.objectStore(Cu).put(e,$S(r)),await a.done}catch(n){if(n instanceof _i)Ji.warn(n.message);else{const a=Ya.create("idb-set",{originalErrorMessage:n?.message});Ji.warn(a.message)}}}function $S(r){return`${r.name}!${r.options.appId}`}const DO=1024,NO=720*60*60*1e3;class MO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kO(n),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Rw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const d=new Date(c.date).valueOf();return Date.now()-d<=NO}),this._storage.overwrite(this._heartbeatsCache))}catch(a){Ji.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Rw(),{heartbeatsToSend:a,unsentEntries:o}=PO(this._heartbeatsCache.heartbeats),l=ah(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Ji.warn(n),""}}}function Rw(){return new Date().toISOString().substring(0,10)}function PO(r,e=DO){const n=[];let a=r.slice();for(const o of r){const l=n.find(c=>c.agent===o.agent);if(l){if(l.dates.push(o.date),Cw(n)>e){l.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Cw(n)>e){n.pop();break}a=a.slice(1)}return{heartbeatsToSend:n,unsentEntries:a}}class kO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return w2()?b2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await OO(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Aw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Aw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Cw(r){return ah(JSON.stringify({version:2,heartbeats:r})).length}function BO(r){Vs(new Ja("platform-logger",e=>new Q2(e),"PRIVATE")),Vs(new Ja("heartbeat",e=>new MO(e),"PRIVATE")),di(Yg,Tw,r),di(Yg,Tw,"esm2017"),di("fire-js","")}BO("");function xy(r,e){var n={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(n[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(n[a[o]]=r[a[o]]);return n}function XS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UO=XS,JS=new Lu("auth","Firebase",XS());const oh=new Ry("@firebase/auth");function LO(r,...e){oh.logLevel<=yt.WARN&&oh.warn(`Auth (${Gs}): ${r}`,...e)}function Wf(r,...e){oh.logLevel<=yt.ERROR&&oh.error(`Auth (${Gs}): ${r}`,...e)}function Zi(r,...e){throw Oy(r,...e)}function Cr(r,...e){return Oy(r,...e)}function ZS(r,e,n){const a=Object.assign(Object.assign({},UO()),{[e]:n});return new Lu("auth","Firebase",a).create(e,{appName:r.name})}function Qa(r){return ZS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Oy(r,...e){if(typeof r!="string"){const n=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(n,...a)}return JS.create(r,...e)}function He(r,e,...n){if(!r)throw Oy(e,...n)}function Ki(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Wf(e),new Error(e)}function ea(r,e){r||Ki(e)}function Xg(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function eA(){return Iw()==="http:"||Iw()==="https:"}function Iw(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function VO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eA()||y2()||"connection"in navigator)?navigator.onLine:!0}function jO(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Vu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ea(n>e,"Short delay should be less than long delay!"),this.isMobile=p2()||_2()}get(){return VO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dy(r,e){ea(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class tA{static initialize(e,n,a){this.fetchImpl=e,n&&(this.headersImpl=n),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const FO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const qO=new Vu(3e4,6e4);function ia(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function vi(r,e,n,a,o={}){return nA(r,o,async()=>{let l={},c={};a&&(e==="GET"?c=a:l={body:JSON.stringify(a)});const d=al(Object.assign({key:r.config.apiKey},c)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},l);return g2()||(g.referrerPolicy="no-referrer"),tA.fetch()(rA(r,r.config.apiHost,n,d),g)})}async function nA(r,e,n){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},FO),e);try{const o=new zO(r),l=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw pu(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw pu(r,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw pu(r,"email-already-in-use",c);if(p==="USER_DISABLED")throw pu(r,"user-disabled",c);const y=a[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ZS(r,y,g);Zi(r,y)}}catch(o){if(o instanceof _i)throw o;Zi(r,"network-request-failed",{message:String(o)})}}async function Ah(r,e,n,a,o={}){const l=await vi(r,e,n,a,o);return"mfaPendingCredential"in l&&Zi(r,"multi-factor-auth-required",{_serverResponse:l}),l}function rA(r,e,n,a){const o=`${e}${n}?${a}`;return r.config.emulator?Dy(r.config,o):`${r.config.apiScheme}://${o}`}class zO{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,a)=>{this.timer=setTimeout(()=>a(Cr(this.auth,"network-request-failed")),qO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function pu(r,e,n){const a={appName:r.name};n.email&&(a.email=n.email),n.phoneNumber&&(a.phoneNumber=n.phoneNumber);const o=Cr(r,e,a);return o.customData._tokenResponse=n,o}function xw(r){return r!==void 0&&r.getResponse!==void 0}async function HO(r){return(await vi(r,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function GO(r,e){return vi(r,"POST","/v1/accounts:delete",e)}async function iA(r,e){return vi(r,"POST","/v1/accounts:lookup",e)}function vu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KO(r,e=!1){const n=$t(r),a=await n.getIdToken(e),o=Ny(a);He(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,c=l?.sign_in_provider;return{claims:o,token:a,authTime:vu(om(o.auth_time)),issuedAtTime:vu(om(o.iat)),expirationTime:vu(om(o.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function om(r){return Number(r)*1e3}function Ny(r){const[e,n,a]=r.split(".");if(e===void 0||n===void 0||a===void 0)return Wf("JWT malformed, contained fewer than 3 sections"),null;try{const o=jS(n);return o?JSON.parse(o):(Wf("Failed to decode base64 JWT payload"),null)}catch(o){return Wf("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Ow(r){const e=Ny(r);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Iu(r,e,n=!1){if(n)return e;try{return await e}catch(a){throw a instanceof _i&&WO(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function WO({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class YO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jg{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vu(this.lastLoginAt),this.creationTime=vu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function lh(r){var e;const n=r.auth,a=await r.getIdToken(),o=await Iu(r,iA(n,{idToken:a}));He(o?.users.length,n,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?aA(l.providerUserInfo):[],d=$O(r.providerData,c),p=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!d?.length,y=p?g:!1,w={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Jg(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,w)}async function QO(r){const e=$t(r);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $O(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function aA(r){return r.map(e=>{var{providerId:n}=e,a=xy(e,["providerId"]);return{providerId:n,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}async function XO(r,e){const n=await nA(r,{},async()=>{const a=al({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,c=rA(r,o,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",tA.fetch()(c,{method:"POST",headers:d,body:a})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function JO(r,e){return vi(r,"POST","/v2/accounts:revokeToken",ia(r,e))}class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ow(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){He(e.length!==0,"internal-error");const n=Ow(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:a,refreshToken:o,expiresIn:l}=await XO(e,n);this.updateTokensAndExpiration(a,o,Number(l))}updateTokensAndExpiration(e,n,a){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,n){const{refreshToken:a,accessToken:o,expirationTime:l}=n,c=new qo;return a&&(He(typeof a=="string","internal-error",{appName:e}),c.refreshToken=a),o&&(He(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),l&&(He(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return Ki("not implemented")}}function Fa(r,e){He(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Wi{constructor(e){var{uid:n,auth:a,stsTokenManager:o}=e,l=xy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new YO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Iu(this,this.stsTokenManager.getToken(this.auth,e));return He(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return KO(this,e)}reload(){return QO(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),n&&await lh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gi(this.auth.app))return Promise.reject(Qa(this.auth));const e=await this.getIdToken();return await Iu(this,GO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var a,o,l,c,d,p,g,y;const w=(a=n.displayName)!==null&&a!==void 0?a:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,H=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,I=(c=n.photoURL)!==null&&c!==void 0?c:void 0,F=(d=n.tenantId)!==null&&d!==void 0?d:void 0,P=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,O=(g=n.createdAt)!==null&&g!==void 0?g:void 0,U=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:j,emailVerified:K,isAnonymous:X,providerData:J,stsTokenManager:x}=n;He(j&&x,e,"internal-error");const C=qo.fromJSON(this.name,x);He(typeof j=="string",e,"internal-error"),Fa(w,e.name),Fa(R,e.name),He(typeof K=="boolean",e,"internal-error"),He(typeof X=="boolean",e,"internal-error"),Fa(H,e.name),Fa(I,e.name),Fa(F,e.name),Fa(P,e.name),Fa(O,e.name),Fa(U,e.name);const D=new Wi({uid:j,auth:e,email:R,emailVerified:K,displayName:w,isAnonymous:X,photoURL:I,phoneNumber:H,tenantId:F,stsTokenManager:C,createdAt:O,lastLoginAt:U});return J&&Array.isArray(J)&&(D.providerData=J.map(W=>Object.assign({},W))),P&&(D._redirectEventId=P),D}static async _fromIdTokenResponse(e,n,a=!1){const o=new qo;o.updateFromServerResponse(n);const l=new Wi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await lh(l),l}static async _fromGetAccountInfoResponse(e,n,a){const o=n.users[0];He(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?aA(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!l?.length,d=new qo;d.updateFromIdToken(a);const p=new Wi({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new Jg(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!l?.length};return Object.assign(p,g),p}}const Dw=new Map;function Yi(r){ea(r instanceof Function,"Expected a class definition");let e=Dw.get(r);return e?(ea(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Dw.set(r,e),e)}class sA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sA.type="NONE";const Nw=sA;function Yf(r,e,n){return`firebase:${r}:${e}:${n}`}class zo{constructor(e,n,a){this.persistence=e,this.auth=n,this.userKey=a;const{config:o,name:l}=this.auth;this.fullUserKey=Yf(this.userKey,o.apiKey,l),this.fullPersistenceKey=Yf("persistence",o.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,a="authUser"){if(!n.length)return new zo(Yi(Nw),e,a);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Yi(Nw);const c=Yf(a,e.config.apiKey,e.name);let d=null;for(const g of n)try{const y=await g._get(c);if(y){const w=Wi._fromJSON(e,y);g!==l&&(d=w),l=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new zo(l,e,a):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new zo(l,e,a))}}function Mw(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hA(e))return"Blackberry";if(dA(e))return"Webos";if(lA(e))return"Safari";if((e.includes("chrome/")||uA(e))&&!e.includes("edge/"))return"Chrome";if(fA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(n);if(a?.length===2)return a[1]}return"Other"}function oA(r=Yn()){return/firefox\//i.test(r)}function lA(r=Yn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uA(r=Yn()){return/crios\//i.test(r)}function cA(r=Yn()){return/iemobile/i.test(r)}function fA(r=Yn()){return/android/i.test(r)}function hA(r=Yn()){return/blackberry/i.test(r)}function dA(r=Yn()){return/webos/i.test(r)}function My(r=Yn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ZO(r=Yn()){var e;return My(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function eD(){return v2()&&document.documentMode===10}function pA(r=Yn()){return My(r)||fA(r)||dA(r)||hA(r)||/windows phone/i.test(r)||cA(r)}function mA(r,e=[]){let n;switch(r){case"Browser":n=Mw(Yn());break;case"Worker":n=`${Mw(Yn())}-${r}`;break;default:n=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Gs}/${a}`}class tD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const a=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});a.onAbort=n,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const a of this.queue)await a(e),a.onAbort&&n.push(a.onAbort)}catch(a){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function nD(r,e={}){return vi(r,"GET","/v2/passwordPolicy",ia(r,e))}const rD=6;class iD{constructor(e){var n,a,o,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=c.minPasswordLength)!==null&&n!==void 0?n:rD,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,a,o,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(a=p.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,n){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(n.meetsMinPasswordLength=e.length>=a),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,n,a,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class aD{constructor(e,n,a,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pw(this),this.idTokenSubscription=new Pw(this),this.beforeStateQueue=new tD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yi(n)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await zo.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await iA(this,{idToken:e}),a=await Wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(a)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&p?.user&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gi(this.app))return Promise.reject(Qa(this));const n=e?$t(e):null;return n&&He(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gi(this.app)?Promise.reject(Qa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gi(this.app)?Promise.reject(Qa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await nD(this),n=new iD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lu("auth","Firebase",e())}onAuthStateChanged(e,n,a){return this.registerStateListener(this.authStateSubscription,e,n,a)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,a){return this.registerStateListener(this.idTokenSubscription,e,n,a)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(a.tenantId=this.tenantId),await JO(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const a=await this.getOrInitRedirectPersistenceManager(n);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yi(e)||this._popupRedirectResolver;He(n,this,"argument-error"),this.redirectPersistenceManager=await zo.create(this,[Yi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,a;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,a,o){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,a,o);return()=>{c=!0,p()}}else{const p=e.addObserver(n);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(n["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&LO(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Ks(r){return $t(r)}class Pw{constructor(e){this.auth=e,this.observer=null,this.addObserver=C2(n=>this.observer=n)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sD(r){Rh=r}function gA(r){return Rh.loadJS(r)}function oD(){return Rh.recaptchaV2Script}function lD(){return Rh.gapiScript}function yA(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function uD(r,e){const n=Sh(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),l=n.getOptions();if(Ru(l,e??{}))return o;Zi(o,"already-initialized")}return n.initialize({options:e})}function cD(r,e){const n=e?.persistence||[],a=(Array.isArray(n)?n:[n]).map(Yi);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e?.popupRedirectResolver)}function fD(r,e,n){const a=Ks(r);He(a._canInitEmulator,a,"emulator-config-failed"),He(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,l=_A(e),{host:c,port:d}=hD(e),p=d===null?"":`:${d}`;a.config.emulator={url:`${l}//${c}${p}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})}),dD()}function _A(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function hD(r){const e=_A(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const a=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const l=o[1];return{host:l,port:kw(a.substr(l.length+1))}}else{const[l,c]=a.split(":");return{host:l,port:kw(c)}}}function kw(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function dD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Py{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}async function Ho(r,e){return Ah(r,"POST","/v1/accounts:signInWithIdp",ia(r,e))}const pD="http://localhost";class js extends Py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=n,l=xy(n,["providerId","signInMethod"]);if(!a||!o)return null;const c=new js(a,o);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const n=this.buildRequest();return Ho(e,n)}_linkToIdToken(e,n){const a=this.buildRequest();return a.idToken=n,Ho(e,a)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ho(e,n)}buildRequest(){const e={requestUri:pD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=al(n)}return e}}async function mD(r,e){return vi(r,"POST","/v1/accounts:sendVerificationCode",ia(r,e))}async function gD(r,e){return Ah(r,"POST","/v1/accounts:signInWithPhoneNumber",ia(r,e))}async function yD(r,e){const n=await Ah(r,"POST","/v1/accounts:signInWithPhoneNumber",ia(r,e));if(n.temporaryProof)throw pu(r,"account-exists-with-different-credential",n);return n}const _D={USER_NOT_FOUND:"user-not-found"};async function vD(r,e){const n=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Ah(r,"POST","/v1/accounts:signInWithPhoneNumber",ia(r,n),_D)}class ks extends Py{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new ks({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new ks({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return gD(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return yD(e,Object.assign({idToken:n},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return vD(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:a,verificationCode:o}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:a,code:o}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:a,phoneNumber:o,temporaryProof:l}=e;return!a&&!n&&!o&&!l?null:new ks({verificationId:n,verificationCode:a,phoneNumber:o,temporaryProof:l})}}class vA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ju extends vA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class qa extends ju{constructor(){super("facebook.com")}static credential(e){return js._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qa.credential(e.oauthAccessToken)}catch{return null}}}qa.FACEBOOK_SIGN_IN_METHOD="facebook.com";qa.PROVIDER_ID="facebook.com";class zi extends ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return js._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:a}=e;if(!n&&!a)return null;try{return zi.credential(n,a)}catch{return null}}}zi.GOOGLE_SIGN_IN_METHOD="google.com";zi.PROVIDER_ID="google.com";class za extends ju{constructor(){super("github.com")}static credential(e){return js._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return za.credentialFromTaggedObject(e)}static credentialFromError(e){return za.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return za.credential(e.oauthAccessToken)}catch{return null}}}za.GITHUB_SIGN_IN_METHOD="github.com";za.PROVIDER_ID="github.com";class Ha extends ju{constructor(){super("twitter.com")}static credential(e,n){return js._fromParams({providerId:Ha.PROVIDER_ID,signInMethod:Ha.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ha.credentialFromTaggedObject(e)}static credentialFromError(e){return Ha.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:a}=e;if(!n||!a)return null;try{return Ha.credential(n,a)}catch{return null}}}Ha.TWITTER_SIGN_IN_METHOD="twitter.com";Ha.PROVIDER_ID="twitter.com";class Ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,a,o=!1){const l=await Wi._fromIdTokenResponse(e,a,o),c=Bw(a);return new Ko({user:l,providerId:c,_tokenResponse:a,operationType:n})}static async _forOperation(e,n,a){await e._updateTokensIfNecessary(a,!0);const o=Bw(a);return new Ko({user:e,providerId:o,_tokenResponse:a,operationType:n})}}function Bw(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class uh extends _i{constructor(e,n,a,o){var l;super(n.code,n.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,uh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,n,a,o){return new uh(e,n,a,o)}}function EA(r,e,n,a){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?uh._fromErrorAndOperation(r,l,e,a):l})}async function ED(r,e,n=!1){const a=await Iu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ko._forOperation(r,"link",a)}async function wD(r,e,n=!1){const{auth:a}=r;if(Gi(a.app))return Promise.reject(Qa(a));const o="reauthenticate";try{const l=await Iu(r,EA(a,o,e,r),n);He(l.idToken,a,"internal-error");const c=Ny(l.idToken);He(c,a,"internal-error");const{sub:d}=c;return He(r.uid===d,a,"user-mismatch"),Ko._forOperation(r,o,l)}catch(l){throw l?.code==="auth/user-not-found"&&Zi(a,"user-mismatch"),l}}async function wA(r,e,n=!1){if(Gi(r.app))return Promise.reject(Qa(r));const a="signIn",o=await EA(r,a,e),l=await Ko._fromIdTokenResponse(r,a,o);return n||await r._updateCurrentUser(l.user),l}async function ky(r,e){return wA(Ks(r),e)}function bD(r,e,n,a){return $t(r).onIdTokenChanged(e,n,a)}function TD(r,e,n){return $t(r).beforeAuthStateChanged(e,n)}function SD(r,e,n,a){return $t(r).onAuthStateChanged(e,n,a)}function AD(r,e){return vi(r,"POST","/v2/accounts/mfaEnrollment:start",ia(r,e))}const ch="__sak";class bA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ch,"1"),this.storage.removeItem(ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const RD=1e3,CD=10;class TA extends bA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const a=this.storage.getItem(n),o=this.localCache[n];a!==o&&e(n,o,a)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const a=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(a);!n&&this.localCache[a]===c||this.notifyListeners(a,c)},l=this.storage.getItem(a);eD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,CD):o()}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:a}),!0)})},RD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TA.type="LOCAL";const ID=TA;class SA extends bA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SA.type="SESSION";const AA=SA;function xD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Ch{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const a=new Ch(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:a,eventType:o,data:l}=n.data,c=this.handlersMap[o];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(c).map(async g=>g(n.origin,l)),p=await xD(d);n.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];function By(r="",e=10){let n="";for(let a=0;a<e;a++)n+=Math.floor(Math.random()*10);return r+n}class OD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=By("",20);o.port1.start();const y=setTimeout(()=>{p(new Error("unsupported_event"))},a);c={messageChannel:o,onMessage(w){const R=w;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(R.data.response);break;default:clearTimeout(y),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function bn(){return window}function DD(r){bn().location.href=r}function Uy(){return typeof bn().WorkerGlobalScope<"u"&&typeof bn().importScripts=="function"}async function ND(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MD(){var r;return((r=navigator?.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function PD(){return Uy()?self:null}const RA="firebaseLocalStorageDb",kD=1,fh="firebaseLocalStorage",CA="fbase_key";class Fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ih(r,e){return r.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function BD(){const r=indexedDB.deleteDatabase(RA);return new Fu(r).toPromise()}function Zg(){const r=indexedDB.open(RA,kD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(fh,{keyPath:CA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(fh)?e(a):(a.close(),await BD(),e(await Zg()))})})}async function Uw(r,e,n){const a=Ih(r,!0).put({[CA]:e,value:n});return new Fu(a).toPromise()}async function UD(r,e){const n=Ih(r,!1).get(e),a=await new Fu(n).toPromise();return a===void 0?null:a.value}function Lw(r,e){const n=Ih(r,!0).delete(e);return new Fu(n).toPromise()}const LD=800,VD=3;class IA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zg(),this.db)}async _withRetries(e){let n=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(n++>VD)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Uy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(PD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ND(),!this.activeServiceWorker)return;this.sender=new OD(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((n=a[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zg();return await Uw(e,ch,"1"),await Lw(e,ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(a=>Uw(a,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(a=>UD(a,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Lw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Ih(o,!1).getAll();return new Fu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IA.type="LOCAL";const jD=IA;function FD(r,e){return vi(r,"POST","/v2/accounts/mfaSignIn:start",ia(r,e))}const qD=500,zD=6e4,xf=1e12;class HD{constructor(e){this.auth=e,this.counter=xf,this._widgets=new Map}render(e,n){const a=this.counter;return this._widgets.set(a,new GD(e,this.auth.name,n||{})),this.counter++,a}reset(e){var n;const a=e||xf;(n=this._widgets.get(a))===null||n===void 0||n.delete(),this._widgets.delete(a)}getResponse(e){var n;const a=e||xf;return((n=this._widgets.get(a))===null||n===void 0?void 0:n.getResponse())||""}async execute(e){var n;const a=e||xf;return(n=this._widgets.get(a))===null||n===void 0||n.execute(),""}}class GD{constructor(e,n,a){this.params=a,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const o=typeof e=="string"?document.getElementById(e):e;He(o,"argument-error",{appName:n}),this.container=o,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=KD(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},zD)},qD))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function KD(r){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let a=0;a<r;a++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const lm=yA("rcb"),WD=new Vu(3e4,6e4);class YD{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=bn().grecaptcha)===null||e===void 0)&&e.render)}load(e,n=""){return He(QD(n),e,"argument-error"),this.shouldResolveImmediately(n)&&xw(bn().grecaptcha)?Promise.resolve(bn().grecaptcha):new Promise((a,o)=>{const l=bn().setTimeout(()=>{o(Cr(e,"network-request-failed"))},WD.get());bn()[lm]=()=>{bn().clearTimeout(l),delete bn()[lm];const d=bn().grecaptcha;if(!d||!xw(d)){o(Cr(e,"internal-error"));return}const p=d.render;d.render=(g,y)=>{const w=p(g,y);return this.counter++,w},this.hostLanguage=n,a(d)};const c=`${oD()}?${al({onload:lm,render:"explicit",hl:n})}`;gA(c).catch(()=>{clearTimeout(l),o(Cr(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!(!((n=bn().grecaptcha)===null||n===void 0)&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function QD(r){return r.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(r)}class $D{async load(e){return new HD(e)}clearedOneInstance(){}}const xA="recaptcha",XD={theme:"light",type:"image"};class OA{constructor(e,n,a=Object.assign({},XD)){this.parameters=a,this.type=xA,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ks(e),this.isInvisible=this.parameters.size==="invisible",He(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const o=typeof n=="string"?document.getElementById(n):n;He(o,this.auth,"argument-error"),this.container=o,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new $D:new YD,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),a=n.getResponse(e);return a||new Promise(o=>{const l=c=>{c&&(this.tokenChangeListeners.delete(l),o(c))};this.tokenChangeListeners.add(l),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){He(!this.parameters.sitekey,this.auth,"argument-error"),He(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),He(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(a=>a(n)),typeof e=="function")e(n);else if(typeof e=="string"){const a=bn()[e];typeof a=="function"&&a(n)}}}assertNotDestroyed(){He(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){He(eA()&&!Uy(),this.auth,"internal-error"),await JD(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await HO(this.auth);He(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return He(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function JD(){let r=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}r=()=>e(),window.addEventListener("load",r)}).catch(e=>{throw r&&window.removeEventListener("load",r),e})}class ZD{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=ks._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function DA(r,e,n){if(Gi(r.app))return Promise.reject(Qa(r));const a=Ks(r),o=await NA(a,e,$t(n));return new ZD(o,l=>ky(a,l))}async function NA(r,e,n){var a;const o=await n.verify();try{He(typeof o=="string",r,"argument-error"),He(n.type===xA,r,"argument-error");let l;if(typeof e=="string"?l={phoneNumber:e}:l=e,"session"in l){const c=l.session;if("phoneNumber"in l)return He(c.type==="enroll",r,"internal-error"),(await AD(r,{idToken:c.credential,phoneEnrollmentInfo:{phoneNumber:l.phoneNumber,recaptchaToken:o}})).phoneSessionInfo.sessionInfo;{He(c.type==="signin",r,"internal-error");const d=((a=l.multiFactorHint)===null||a===void 0?void 0:a.uid)||l.multiFactorUid;return He(d,r,"missing-multi-factor-info"),(await FD(r,{mfaPendingCredential:c.credential,mfaEnrollmentId:d,phoneSignInInfo:{recaptchaToken:o}})).phoneResponseInfo.sessionInfo}}else{const{sessionInfo:c}=await mD(r,{phoneNumber:l.phoneNumber,recaptchaToken:o});return c}}finally{n._reset()}}class $a{constructor(e){this.providerId=$a.PROVIDER_ID,this.auth=Ks(e)}verifyPhoneNumber(e,n){return NA(this.auth,e,$t(n))}static credential(e,n){return ks._fromVerification(e,n)}static credentialFromResult(e){const n=e;return $a.credentialFromTaggedObject(n)}static credentialFromError(e){return $a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:a}=e;return n&&a?ks._fromTokenResponse(n,a):null}}$a.PROVIDER_ID="phone";$a.PHONE_SIGN_IN_METHOD="phone";function eN(r,e){return e?Yi(e):(He(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ly extends Py{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tN(r){return wA(r.auth,new Ly(r),r.bypassAuthState)}function nN(r){const{auth:e,user:n}=r;return He(n,e,"internal-error"),wD(n,new Ly(r),r.bypassAuthState)}async function rN(r){const{auth:e,user:n}=r;return He(n,e,"internal-error"),ED(n,new Ly(r),r.bypassAuthState)}class MA{constructor(e,n,a,o,l=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:a,postBody:o,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:n,sessionId:a,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tN;case"linkViaPopup":case"linkViaRedirect":return rN;case"reauthViaPopup":case"reauthViaRedirect":return nN;default:Zi(this.auth,"internal-error")}}resolve(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ea(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iN=new Vu(2e3,1e4);class jo extends MA{constructor(e,n,a,o,l){super(e,n,o,l),this.provider=a,this.authWindow=null,this.pollId=null,jo.currentPopupAction&&jo.currentPopupAction.cancel(),jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){ea(this.filter.length===1,"Popup operations only handle one event");const e=By();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Cr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Cr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,a;if(!((a=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iN.get())};e()}}jo.currentPopupAction=null;const aN="pendingRedirect",Qf=new Map;class sN extends MA{constructor(e,n,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,a),this.eventId=null}async execute(){let e=Qf.get(this.auth._key());if(!e){try{const a=await oN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(n){e=()=>Promise.reject(n)}Qf.set(this.auth._key(),e)}return this.bypassAuthState||Qf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oN(r,e){const n=cN(e),a=uN(r);if(!await a._isAvailable())return!1;const o=await a._get(n)==="true";return await a._remove(n),o}function lN(r,e){Qf.set(r._key(),e)}function uN(r){return Yi(r._redirectPersistence)}function cN(r){return Yf(aN,r.config.apiKey,r.name)}async function fN(r,e,n=!1){if(Gi(r.app))return Promise.reject(Qa(r));const a=Ks(r),o=eN(a,e),c=await new sN(a,o,n).execute();return c&&!n&&(delete c.user._redirectEventId,await a._persistUserIfCurrent(c.user),await a._setRedirectUser(null,e)),c}const hN=600*1e3;class dN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(n=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var a;if(e.error&&!PA(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";n.onError(Cr(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const a=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vw(e))}saveEventToCache(e){this.cachedEventUids.add(Vw(e)),this.lastProcessedEventTime=Date.now()}}function Vw(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function PA({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function pN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PA(r);default:return!1}}async function mN(r,e={}){return vi(r,"GET","/v1/projects",e)}const gN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yN=/^https?/;async function _N(r){if(r.config.emulator)return;const{authorizedDomains:e}=await mN(r);for(const n of e)try{if(vN(n))return}catch{}Zi(r,"unauthorized-domain")}function vN(r){const e=Xg(),{protocol:n,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&a===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&c.hostname===a}if(!yN.test(n))return!1;if(gN.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const EN=new Vu(3e4,6e4);function jw(){const r=bn().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function wN(r){return new Promise((e,n)=>{var a,o,l;function c(){jw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jw(),n(Cr(r,"network-request-failed"))},timeout:EN.get()})}if(!((o=(a=bn().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=bn().gapi)===null||l===void 0)&&l.load)c();else{const d=yA("iframefcb");return bn()[d]=()=>{gapi.load?c():n(Cr(r,"network-request-failed"))},gA(`${lD()}?onload=${d}`).catch(p=>n(p))}}).catch(e=>{throw $f=null,e})}let $f=null;function bN(r){return $f=$f||wN(r),$f}const TN=new Vu(5e3,15e3),SN="__/auth/iframe",AN="emulator/auth/iframe",RN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IN(r){const e=r.config;He(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Dy(e,AN):`https://${r.config.authDomain}/${SN}`,a={apiKey:e.apiKey,appName:r.name,v:Gs},o=CN.get(r.config.apiHost);o&&(a.eid=o);const l=r._getFrameworks();return l.length&&(a.fw=l.join(",")),`${n}?${al(a).slice(1)}`}async function xN(r){const e=await bN(r),n=bn().gapi;return He(n,r,"internal-error"),e.open({where:document.body,url:IN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RN,dontclear:!0},a=>new Promise(async(o,l)=>{await a.restyle({setHideOnLeave:!1});const c=Cr(r,"network-request-failed"),d=bn().setTimeout(()=>{l(c)},TN.get());function p(){bn().clearTimeout(d),o(a)}a.ping(p).then(p,()=>{l(c)})}))}const ON={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DN=500,NN=600,MN="_blank",PN="http://localhost";class Fw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kN(r,e,n,a=DN,o=NN){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const p=Object.assign(Object.assign({},ON),{width:a.toString(),height:o.toString(),top:l,left:c}),g=Yn().toLowerCase();n&&(d=uA(g)?MN:n),oA(g)&&(e=e||PN,p.scrollbars="yes");const y=Object.entries(p).reduce((R,[H,I])=>`${R}${H}=${I},`,"");if(ZO(g)&&d!=="_self")return BN(e||"",d),new Fw(null);const w=window.open(e||"",d,y);He(w,r,"popup-blocked");try{w.focus()}catch{}return new Fw(w)}function BN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(a)}const UN="__/auth/handler",LN="emulator/auth/handler",VN=encodeURIComponent("fac");async function qw(r,e,n,a,o,l){He(r.config.authDomain,r,"auth-domain-config-required"),He(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:a,v:Gs,eventId:o};if(e instanceof vA){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",R2(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))c[y]=w}if(e instanceof ju){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(c.scopes=y.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const p=await r._getAppCheckToken(),g=p?`#${VN}=${encodeURIComponent(p)}`:"";return`${jN(r)}?${al(d).slice(1)}${g}`}function jN({config:r}){return r.emulator?Dy(r,LN):`https://${r.authDomain}/${UN}`}const um="webStorageSupport";class FN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=AA,this._completeRedirectFn=fN,this._overrideRedirectResult=lN}async _openPopup(e,n,a,o){var l;ea((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await qw(e,n,a,Xg(),o);return kN(e,c,By())}async _openRedirect(e,n,a,o){await this._originValidation(e);const l=await qw(e,n,a,Xg(),o);return DD(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:l}=this.eventManagers[n];return o?Promise.resolve(o):(ea(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[n]={promise:a},a.catch(()=>{delete this.eventManagers[n]}),a}async initAndGetManager(e){const n=await xN(e),a=new dN(e);return n.register("authEvent",o=>(He(o?.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=n,a}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(um,{type:um},o=>{var l;const c=(l=o?.[0])===null||l===void 0?void 0:l[um];c!==void 0&&n(!!c),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_N(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pA()||lA()||My()}}const qN=FN;var zw="@firebase/auth",Hw="1.7.9";class zN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(a=>{e(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function HN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GN(r){Vs(new Ja("auth",(e,{options:n})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=a.options;He(c&&!c.includes(":"),"invalid-api-key",{appName:a.name});const p={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mA(r)},g=new aD(a,o,l,p);return cD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,a)=>{e.getProvider("auth-internal").initialize()})),Vs(new Ja("auth-internal",e=>{const n=Ks(e.getProvider("auth").getImmediate());return(a=>new zN(a))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),di(zw,Hw,HN(r)),di(zw,Hw,"esm2017")}const KN=300,WN=HS("authIdTokenMaxAge")||KN;let Gw=null;const YN=r=>async e=>{const n=e&&await e.getIdTokenResult(),a=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(a&&a>WN)return;const o=n?.token;Gw!==o&&(Gw=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function QN(r=Iy()){const e=Sh(r,"auth");if(e.isInitialized())return e.getImmediate();const n=uD(r,{popupRedirectResolver:qN,persistence:[jD,ID,AA]}),a=HS("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const c=YN(l.toString());TD(n,c,()=>c(n.currentUser)),bD(n,d=>c(d))}}const o=FS("auth");return o&&fD(n,`http://${o}`),n}function $N(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}sD({loadJS(r){return new Promise((e,n)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const l=Cr("internal-error");l.customData=o,n(l)},a.type="text/javascript",a.charset="UTF-8",$N().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GN("Browser");var kA={},xh={};xh.byteLength=ZN;xh.toByteArray=tM;xh.fromByteArray=iM;var fi=[],Vr=[],XN=typeof Uint8Array<"u"?Uint8Array:Array,cm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ko=0,JN=cm.length;ko<JN;++ko)fi[ko]=cm[ko],Vr[cm.charCodeAt(ko)]=ko;Vr[45]=62;Vr[95]=63;function BA(r){var e=r.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=r.indexOf("=");n===-1&&(n=e);var a=n===e?0:4-n%4;return[n,a]}function ZN(r){var e=BA(r),n=e[0],a=e[1];return(n+a)*3/4-a}function eM(r,e,n){return(e+n)*3/4-n}function tM(r){var e,n=BA(r),a=n[0],o=n[1],l=new XN(eM(r,a,o)),c=0,d=o>0?a-4:a,p;for(p=0;p<d;p+=4)e=Vr[r.charCodeAt(p)]<<18|Vr[r.charCodeAt(p+1)]<<12|Vr[r.charCodeAt(p+2)]<<6|Vr[r.charCodeAt(p+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=e&255;return o===2&&(e=Vr[r.charCodeAt(p)]<<2|Vr[r.charCodeAt(p+1)]>>4,l[c++]=e&255),o===1&&(e=Vr[r.charCodeAt(p)]<<10|Vr[r.charCodeAt(p+1)]<<4|Vr[r.charCodeAt(p+2)]>>2,l[c++]=e>>8&255,l[c++]=e&255),l}function nM(r){return fi[r>>18&63]+fi[r>>12&63]+fi[r>>6&63]+fi[r&63]}function rM(r,e,n){for(var a,o=[],l=e;l<n;l+=3)a=(r[l]<<16&16711680)+(r[l+1]<<8&65280)+(r[l+2]&255),o.push(nM(a));return o.join("")}function iM(r){for(var e,n=r.length,a=n%3,o=[],l=16383,c=0,d=n-a;c<d;c+=l)o.push(rM(r,c,c+l>d?d:c+l));return a===1?(e=r[n-1],o.push(fi[e>>2]+fi[e<<4&63]+"==")):a===2&&(e=(r[n-2]<<8)+r[n-1],o.push(fi[e>>10]+fi[e>>4&63]+fi[e<<2&63]+"=")),o.join("")}var Vy={};Vy.read=function(r,e,n,a,o){var l,c,d=o*8-a-1,p=(1<<d)-1,g=p>>1,y=-7,w=n?o-1:0,R=n?-1:1,H=r[e+w];for(w+=R,l=H&(1<<-y)-1,H>>=-y,y+=d;y>0;l=l*256+r[e+w],w+=R,y-=8);for(c=l&(1<<-y)-1,l>>=-y,y+=a;y>0;c=c*256+r[e+w],w+=R,y-=8);if(l===0)l=1-g;else{if(l===p)return c?NaN:(H?-1:1)*(1/0);c=c+Math.pow(2,a),l=l-g}return(H?-1:1)*c*Math.pow(2,l-a)};Vy.write=function(r,e,n,a,o,l){var c,d,p,g=l*8-o-1,y=(1<<g)-1,w=y>>1,R=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,H=a?0:l-1,I=a?1:-1,F=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(d=isNaN(e)?1:0,c=y):(c=Math.floor(Math.log(e)/Math.LN2),e*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+w>=1?e+=R/p:e+=R*Math.pow(2,1-w),e*p>=2&&(c++,p/=2),c+w>=y?(d=0,c=y):c+w>=1?(d=(e*p-1)*Math.pow(2,o),c=c+w):(d=e*Math.pow(2,w-1)*Math.pow(2,o),c=0));o>=8;r[n+H]=d&255,H+=I,d/=256,o-=8);for(c=c<<o|d,g+=o;g>0;r[n+H]=c&255,H+=I,c/=256,g-=8);r[n+H-I]|=F*128};(function(r){const e=xh,n=Vy,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=y,r.SlowBuffer=X,r.INSPECT_MAX_BYTES=50;const o=2147483647;r.kMaxLength=o;const{Uint8Array:l,ArrayBuffer:c,SharedArrayBuffer:d}=globalThis;y.TYPED_ARRAY_SUPPORT=p(),!y.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function p(){try{const k=new l(1),E={foo:function(){return 42}};return Object.setPrototypeOf(E,l.prototype),Object.setPrototypeOf(k,E),k.foo()===42}catch{return!1}}Object.defineProperty(y.prototype,"parent",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.buffer}}),Object.defineProperty(y.prototype,"offset",{enumerable:!0,get:function(){if(y.isBuffer(this))return this.byteOffset}});function g(k){if(k>o)throw new RangeError('The value "'+k+'" is invalid for option "size"');const E=new l(k);return Object.setPrototypeOf(E,y.prototype),E}function y(k,E,T){if(typeof k=="number"){if(typeof E=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return I(k)}return w(k,E,T)}y.poolSize=8192;function w(k,E,T){if(typeof k=="string")return F(k,E);if(c.isView(k))return O(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(nn(k,c)||k&&nn(k.buffer,c)||typeof d<"u"&&(nn(k,d)||k&&nn(k.buffer,d)))return U(k,E,T);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Y=k.valueOf&&k.valueOf();if(Y!=null&&Y!==k)return y.from(Y,E,T);const se=j(k);if(se)return se;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return y.from(k[Symbol.toPrimitive]("string"),E,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}y.from=function(k,E,T){return w(k,E,T)},Object.setPrototypeOf(y.prototype,l.prototype),Object.setPrototypeOf(y,l);function R(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function H(k,E,T){return R(k),k<=0?g(k):E!==void 0?typeof T=="string"?g(k).fill(E,T):g(k).fill(E):g(k)}y.alloc=function(k,E,T){return H(k,E,T)};function I(k){return R(k),g(k<0?0:K(k)|0)}y.allocUnsafe=function(k){return I(k)},y.allocUnsafeSlow=function(k){return I(k)};function F(k,E){if((typeof E!="string"||E==="")&&(E="utf8"),!y.isEncoding(E))throw new TypeError("Unknown encoding: "+E);const T=J(k,E)|0;let Y=g(T);const se=Y.write(k,E);return se!==T&&(Y=Y.slice(0,se)),Y}function P(k){const E=k.length<0?0:K(k.length)|0,T=g(E);for(let Y=0;Y<E;Y+=1)T[Y]=k[Y]&255;return T}function O(k){if(nn(k,l)){const E=new l(k);return U(E.buffer,E.byteOffset,E.byteLength)}return P(k)}function U(k,E,T){if(E<0||k.byteLength<E)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<E+(T||0))throw new RangeError('"length" is outside of buffer bounds');let Y;return E===void 0&&T===void 0?Y=new l(k):T===void 0?Y=new l(k,E):Y=new l(k,E,T),Object.setPrototypeOf(Y,y.prototype),Y}function j(k){if(y.isBuffer(k)){const E=K(k.length)|0,T=g(E);return T.length===0||k.copy(T,0,0,E),T}if(k.length!==void 0)return typeof k.length!="number"||Tt(k.length)?g(0):P(k);if(k.type==="Buffer"&&Array.isArray(k.data))return P(k.data)}function K(k){if(k>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return k|0}function X(k){return+k!=k&&(k=0),y.alloc(+k)}y.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==y.prototype},y.compare=function(E,T){if(nn(E,l)&&(E=y.from(E,E.offset,E.byteLength)),nn(T,l)&&(T=y.from(T,T.offset,T.byteLength)),!y.isBuffer(E)||!y.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===T)return 0;let Y=E.length,se=T.length;for(let me=0,Re=Math.min(Y,se);me<Re;++me)if(E[me]!==T[me]){Y=E[me],se=T[me];break}return Y<se?-1:se<Y?1:0},y.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(E,T){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return y.alloc(0);let Y;if(T===void 0)for(T=0,Y=0;Y<E.length;++Y)T+=E[Y].length;const se=y.allocUnsafe(T);let me=0;for(Y=0;Y<E.length;++Y){let Re=E[Y];if(nn(Re,l))me+Re.length>se.length?(y.isBuffer(Re)||(Re=y.from(Re)),Re.copy(se,me)):l.prototype.set.call(se,Re,me);else if(y.isBuffer(Re))Re.copy(se,me);else throw new TypeError('"list" argument must be an Array of Buffers');me+=Re.length}return se};function J(k,E){if(y.isBuffer(k))return k.length;if(c.isView(k)||nn(k,c))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);const T=k.length,Y=arguments.length>2&&arguments[2]===!0;if(!Y&&T===0)return 0;let se=!1;for(;;)switch(E){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return Xt(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return bt(k).length;default:if(se)return Y?-1:Xt(k).length;E=(""+E).toLowerCase(),se=!0}}y.byteLength=J;function x(k,E,T){let Y=!1;if((E===void 0||E<0)&&(E=0),E>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,E>>>=0,T<=E))return"";for(k||(k="utf8");;)switch(k){case"hex":return ve(this,E,T);case"utf8":case"utf-8":return ge(this,E,T);case"ascii":return Le(this,E,T);case"latin1":case"binary":return ne(this,E,T);case"base64":return ae(this,E,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Z(this,E,T);default:if(Y)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),Y=!0}}y.prototype._isBuffer=!0;function C(k,E,T){const Y=k[E];k[E]=k[T],k[T]=Y}y.prototype.swap16=function(){const E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let T=0;T<E;T+=2)C(this,T,T+1);return this},y.prototype.swap32=function(){const E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let T=0;T<E;T+=4)C(this,T,T+3),C(this,T+1,T+2);return this},y.prototype.swap64=function(){const E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let T=0;T<E;T+=8)C(this,T,T+7),C(this,T+1,T+6),C(this,T+2,T+5),C(this,T+3,T+4);return this},y.prototype.toString=function(){const E=this.length;return E===0?"":arguments.length===0?ge(this,0,E):x.apply(this,arguments)},y.prototype.toLocaleString=y.prototype.toString,y.prototype.equals=function(E){if(!y.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:y.compare(this,E)===0},y.prototype.inspect=function(){let E="";const T=r.INSPECT_MAX_BYTES;return E=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(E+=" ... "),"<Buffer "+E+">"},a&&(y.prototype[a]=y.prototype.inspect),y.prototype.compare=function(E,T,Y,se,me){if(nn(E,l)&&(E=y.from(E,E.offset,E.byteLength)),!y.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(T===void 0&&(T=0),Y===void 0&&(Y=E?E.length:0),se===void 0&&(se=0),me===void 0&&(me=this.length),T<0||Y>E.length||se<0||me>this.length)throw new RangeError("out of range index");if(se>=me&&T>=Y)return 0;if(se>=me)return-1;if(T>=Y)return 1;if(T>>>=0,Y>>>=0,se>>>=0,me>>>=0,this===E)return 0;let Re=me-se,it=Y-T;const St=Math.min(Re,it),Dt=this.slice(se,me),At=E.slice(T,Y);for(let ot=0;ot<St;++ot)if(Dt[ot]!==At[ot]){Re=Dt[ot],it=At[ot];break}return Re<it?-1:it<Re?1:0};function D(k,E,T,Y,se){if(k.length===0)return-1;if(typeof T=="string"?(Y=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,Tt(T)&&(T=se?0:k.length-1),T<0&&(T=k.length+T),T>=k.length){if(se)return-1;T=k.length-1}else if(T<0)if(se)T=0;else return-1;if(typeof E=="string"&&(E=y.from(E,Y)),y.isBuffer(E))return E.length===0?-1:W(k,E,T,Y,se);if(typeof E=="number")return E=E&255,typeof l.prototype.indexOf=="function"?se?l.prototype.indexOf.call(k,E,T):l.prototype.lastIndexOf.call(k,E,T):W(k,[E],T,Y,se);throw new TypeError("val must be string, number or Buffer")}function W(k,E,T,Y,se){let me=1,Re=k.length,it=E.length;if(Y!==void 0&&(Y=String(Y).toLowerCase(),Y==="ucs2"||Y==="ucs-2"||Y==="utf16le"||Y==="utf-16le")){if(k.length<2||E.length<2)return-1;me=2,Re/=2,it/=2,T/=2}function St(At,ot){return me===1?At[ot]:At.readUInt16BE(ot*me)}let Dt;if(se){let At=-1;for(Dt=T;Dt<Re;Dt++)if(St(k,Dt)===St(E,At===-1?0:Dt-At)){if(At===-1&&(At=Dt),Dt-At+1===it)return At*me}else At!==-1&&(Dt-=Dt-At),At=-1}else for(T+it>Re&&(T=Re-it),Dt=T;Dt>=0;Dt--){let At=!0;for(let ot=0;ot<it;ot++)if(St(k,Dt+ot)!==St(E,ot)){At=!1;break}if(At)return Dt}return-1}y.prototype.includes=function(E,T,Y){return this.indexOf(E,T,Y)!==-1},y.prototype.indexOf=function(E,T,Y){return D(this,E,T,Y,!0)},y.prototype.lastIndexOf=function(E,T,Y){return D(this,E,T,Y,!1)};function ee(k,E,T,Y){T=Number(T)||0;const se=k.length-T;Y?(Y=Number(Y),Y>se&&(Y=se)):Y=se;const me=E.length;Y>me/2&&(Y=me/2);let Re;for(Re=0;Re<Y;++Re){const it=parseInt(E.substr(Re*2,2),16);if(Tt(it))return Re;k[T+Re]=it}return Re}function M(k,E,T,Y){return _t(Xt(E,k.length-T),k,T,Y)}function $(k,E,T,Y){return _t(en(E),k,T,Y)}function Ke(k,E,T,Y){return _t(bt(E),k,T,Y)}function ke(k,E,T,Y){return _t(wt(E,k.length-T),k,T,Y)}y.prototype.write=function(E,T,Y,se){if(T===void 0)se="utf8",Y=this.length,T=0;else if(Y===void 0&&typeof T=="string")se=T,Y=this.length,T=0;else if(isFinite(T))T=T>>>0,isFinite(Y)?(Y=Y>>>0,se===void 0&&(se="utf8")):(se=Y,Y=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const me=this.length-T;if((Y===void 0||Y>me)&&(Y=me),E.length>0&&(Y<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");se||(se="utf8");let Re=!1;for(;;)switch(se){case"hex":return ee(this,E,T,Y);case"utf8":case"utf-8":return M(this,E,T,Y);case"ascii":case"latin1":case"binary":return $(this,E,T,Y);case"base64":return Ke(this,E,T,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ke(this,E,T,Y);default:if(Re)throw new TypeError("Unknown encoding: "+se);se=(""+se).toLowerCase(),Re=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ae(k,E,T){return E===0&&T===k.length?e.fromByteArray(k):e.fromByteArray(k.slice(E,T))}function ge(k,E,T){T=Math.min(k.length,T);const Y=[];let se=E;for(;se<T;){const me=k[se];let Re=null,it=me>239?4:me>223?3:me>191?2:1;if(se+it<=T){let St,Dt,At,ot;switch(it){case 1:me<128&&(Re=me);break;case 2:St=k[se+1],(St&192)===128&&(ot=(me&31)<<6|St&63,ot>127&&(Re=ot));break;case 3:St=k[se+1],Dt=k[se+2],(St&192)===128&&(Dt&192)===128&&(ot=(me&15)<<12|(St&63)<<6|Dt&63,ot>2047&&(ot<55296||ot>57343)&&(Re=ot));break;case 4:St=k[se+1],Dt=k[se+2],At=k[se+3],(St&192)===128&&(Dt&192)===128&&(At&192)===128&&(ot=(me&15)<<18|(St&63)<<12|(Dt&63)<<6|At&63,ot>65535&&ot<1114112&&(Re=ot))}}Re===null?(Re=65533,it=1):Re>65535&&(Re-=65536,Y.push(Re>>>10&1023|55296),Re=56320|Re&1023),Y.push(Re),se+=it}return Ue(Y)}const xe=4096;function Ue(k){const E=k.length;if(E<=xe)return String.fromCharCode.apply(String,k);let T="",Y=0;for(;Y<E;)T+=String.fromCharCode.apply(String,k.slice(Y,Y+=xe));return T}function Le(k,E,T){let Y="";T=Math.min(k.length,T);for(let se=E;se<T;++se)Y+=String.fromCharCode(k[se]&127);return Y}function ne(k,E,T){let Y="";T=Math.min(k.length,T);for(let se=E;se<T;++se)Y+=String.fromCharCode(k[se]);return Y}function ve(k,E,T){const Y=k.length;(!E||E<0)&&(E=0),(!T||T<0||T>Y)&&(T=Y);let se="";for(let me=E;me<T;++me)se+=Mt[k[me]];return se}function Z(k,E,T){const Y=k.slice(E,T);let se="";for(let me=0;me<Y.length-1;me+=2)se+=String.fromCharCode(Y[me]+Y[me+1]*256);return se}y.prototype.slice=function(E,T){const Y=this.length;E=~~E,T=T===void 0?Y:~~T,E<0?(E+=Y,E<0&&(E=0)):E>Y&&(E=Y),T<0?(T+=Y,T<0&&(T=0)):T>Y&&(T=Y),T<E&&(T=E);const se=this.subarray(E,T);return Object.setPrototypeOf(se,y.prototype),se};function ie(k,E,T){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+E>T)throw new RangeError("Trying to access beyond buffer length")}y.prototype.readUintLE=y.prototype.readUIntLE=function(E,T,Y){E=E>>>0,T=T>>>0,Y||ie(E,T,this.length);let se=this[E],me=1,Re=0;for(;++Re<T&&(me*=256);)se+=this[E+Re]*me;return se},y.prototype.readUintBE=y.prototype.readUIntBE=function(E,T,Y){E=E>>>0,T=T>>>0,Y||ie(E,T,this.length);let se=this[E+--T],me=1;for(;T>0&&(me*=256);)se+=this[E+--T]*me;return se},y.prototype.readUint8=y.prototype.readUInt8=function(E,T){return E=E>>>0,T||ie(E,1,this.length),this[E]},y.prototype.readUint16LE=y.prototype.readUInt16LE=function(E,T){return E=E>>>0,T||ie(E,2,this.length),this[E]|this[E+1]<<8},y.prototype.readUint16BE=y.prototype.readUInt16BE=function(E,T){return E=E>>>0,T||ie(E,2,this.length),this[E]<<8|this[E+1]},y.prototype.readUint32LE=y.prototype.readUInt32LE=function(E,T){return E=E>>>0,T||ie(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},y.prototype.readUint32BE=y.prototype.readUInt32BE=function(E,T){return E=E>>>0,T||ie(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},y.prototype.readBigUInt64LE=Vt(function(E){E=E>>>0,je(E,"offset");const T=this[E],Y=this[E+7];(T===void 0||Y===void 0)&&Ze(E,this.length-8);const se=T+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24,me=this[++E]+this[++E]*2**8+this[++E]*2**16+Y*2**24;return BigInt(se)+(BigInt(me)<<BigInt(32))}),y.prototype.readBigUInt64BE=Vt(function(E){E=E>>>0,je(E,"offset");const T=this[E],Y=this[E+7];(T===void 0||Y===void 0)&&Ze(E,this.length-8);const se=T*2**24+this[++E]*2**16+this[++E]*2**8+this[++E],me=this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+Y;return(BigInt(se)<<BigInt(32))+BigInt(me)}),y.prototype.readIntLE=function(E,T,Y){E=E>>>0,T=T>>>0,Y||ie(E,T,this.length);let se=this[E],me=1,Re=0;for(;++Re<T&&(me*=256);)se+=this[E+Re]*me;return me*=128,se>=me&&(se-=Math.pow(2,8*T)),se},y.prototype.readIntBE=function(E,T,Y){E=E>>>0,T=T>>>0,Y||ie(E,T,this.length);let se=T,me=1,Re=this[E+--se];for(;se>0&&(me*=256);)Re+=this[E+--se]*me;return me*=128,Re>=me&&(Re-=Math.pow(2,8*T)),Re},y.prototype.readInt8=function(E,T){return E=E>>>0,T||ie(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},y.prototype.readInt16LE=function(E,T){E=E>>>0,T||ie(E,2,this.length);const Y=this[E]|this[E+1]<<8;return Y&32768?Y|4294901760:Y},y.prototype.readInt16BE=function(E,T){E=E>>>0,T||ie(E,2,this.length);const Y=this[E+1]|this[E]<<8;return Y&32768?Y|4294901760:Y},y.prototype.readInt32LE=function(E,T){return E=E>>>0,T||ie(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},y.prototype.readInt32BE=function(E,T){return E=E>>>0,T||ie(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},y.prototype.readBigInt64LE=Vt(function(E){E=E>>>0,je(E,"offset");const T=this[E],Y=this[E+7];(T===void 0||Y===void 0)&&Ze(E,this.length-8);const se=this[E+4]+this[E+5]*2**8+this[E+6]*2**16+(Y<<24);return(BigInt(se)<<BigInt(32))+BigInt(T+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24)}),y.prototype.readBigInt64BE=Vt(function(E){E=E>>>0,je(E,"offset");const T=this[E],Y=this[E+7];(T===void 0||Y===void 0)&&Ze(E,this.length-8);const se=(T<<24)+this[++E]*2**16+this[++E]*2**8+this[++E];return(BigInt(se)<<BigInt(32))+BigInt(this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+Y)}),y.prototype.readFloatLE=function(E,T){return E=E>>>0,T||ie(E,4,this.length),n.read(this,E,!0,23,4)},y.prototype.readFloatBE=function(E,T){return E=E>>>0,T||ie(E,4,this.length),n.read(this,E,!1,23,4)},y.prototype.readDoubleLE=function(E,T){return E=E>>>0,T||ie(E,8,this.length),n.read(this,E,!0,52,8)},y.prototype.readDoubleBE=function(E,T){return E=E>>>0,T||ie(E,8,this.length),n.read(this,E,!1,52,8)};function he(k,E,T,Y,se,me){if(!y.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(E>se||E<me)throw new RangeError('"value" argument is out of bounds');if(T+Y>k.length)throw new RangeError("Index out of range")}y.prototype.writeUintLE=y.prototype.writeUIntLE=function(E,T,Y,se){if(E=+E,T=T>>>0,Y=Y>>>0,!se){const it=Math.pow(2,8*Y)-1;he(this,E,T,Y,it,0)}let me=1,Re=0;for(this[T]=E&255;++Re<Y&&(me*=256);)this[T+Re]=E/me&255;return T+Y},y.prototype.writeUintBE=y.prototype.writeUIntBE=function(E,T,Y,se){if(E=+E,T=T>>>0,Y=Y>>>0,!se){const it=Math.pow(2,8*Y)-1;he(this,E,T,Y,it,0)}let me=Y-1,Re=1;for(this[T+me]=E&255;--me>=0&&(Re*=256);)this[T+me]=E/Re&255;return T+Y},y.prototype.writeUint8=y.prototype.writeUInt8=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,1,255,0),this[T]=E&255,T+1},y.prototype.writeUint16LE=y.prototype.writeUInt16LE=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,2,65535,0),this[T]=E&255,this[T+1]=E>>>8,T+2},y.prototype.writeUint16BE=y.prototype.writeUInt16BE=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,2,65535,0),this[T]=E>>>8,this[T+1]=E&255,T+2},y.prototype.writeUint32LE=y.prototype.writeUInt32LE=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,4,4294967295,0),this[T+3]=E>>>24,this[T+2]=E>>>16,this[T+1]=E>>>8,this[T]=E&255,T+4},y.prototype.writeUint32BE=y.prototype.writeUInt32BE=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,4,4294967295,0),this[T]=E>>>24,this[T+1]=E>>>16,this[T+2]=E>>>8,this[T+3]=E&255,T+4};function te(k,E,T,Y,se){Qe(E,Y,se,k,T,7);let me=Number(E&BigInt(4294967295));k[T++]=me,me=me>>8,k[T++]=me,me=me>>8,k[T++]=me,me=me>>8,k[T++]=me;let Re=Number(E>>BigInt(32)&BigInt(4294967295));return k[T++]=Re,Re=Re>>8,k[T++]=Re,Re=Re>>8,k[T++]=Re,Re=Re>>8,k[T++]=Re,T}function N(k,E,T,Y,se){Qe(E,Y,se,k,T,7);let me=Number(E&BigInt(4294967295));k[T+7]=me,me=me>>8,k[T+6]=me,me=me>>8,k[T+5]=me,me=me>>8,k[T+4]=me;let Re=Number(E>>BigInt(32)&BigInt(4294967295));return k[T+3]=Re,Re=Re>>8,k[T+2]=Re,Re=Re>>8,k[T+1]=Re,Re=Re>>8,k[T]=Re,T+8}y.prototype.writeBigUInt64LE=Vt(function(E,T=0){return te(this,E,T,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeBigUInt64BE=Vt(function(E,T=0){return N(this,E,T,BigInt(0),BigInt("0xffffffffffffffff"))}),y.prototype.writeIntLE=function(E,T,Y,se){if(E=+E,T=T>>>0,!se){const St=Math.pow(2,8*Y-1);he(this,E,T,Y,St-1,-St)}let me=0,Re=1,it=0;for(this[T]=E&255;++me<Y&&(Re*=256);)E<0&&it===0&&this[T+me-1]!==0&&(it=1),this[T+me]=(E/Re>>0)-it&255;return T+Y},y.prototype.writeIntBE=function(E,T,Y,se){if(E=+E,T=T>>>0,!se){const St=Math.pow(2,8*Y-1);he(this,E,T,Y,St-1,-St)}let me=Y-1,Re=1,it=0;for(this[T+me]=E&255;--me>=0&&(Re*=256);)E<0&&it===0&&this[T+me+1]!==0&&(it=1),this[T+me]=(E/Re>>0)-it&255;return T+Y},y.prototype.writeInt8=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,1,127,-128),E<0&&(E=255+E+1),this[T]=E&255,T+1},y.prototype.writeInt16LE=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,2,32767,-32768),this[T]=E&255,this[T+1]=E>>>8,T+2},y.prototype.writeInt16BE=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,2,32767,-32768),this[T]=E>>>8,this[T+1]=E&255,T+2},y.prototype.writeInt32LE=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,4,2147483647,-2147483648),this[T]=E&255,this[T+1]=E>>>8,this[T+2]=E>>>16,this[T+3]=E>>>24,T+4},y.prototype.writeInt32BE=function(E,T,Y){return E=+E,T=T>>>0,Y||he(this,E,T,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[T]=E>>>24,this[T+1]=E>>>16,this[T+2]=E>>>8,this[T+3]=E&255,T+4},y.prototype.writeBigInt64LE=Vt(function(E,T=0){return te(this,E,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),y.prototype.writeBigInt64BE=Vt(function(E,T=0){return N(this,E,T,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ce(k,E,T,Y,se,me){if(T+Y>k.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function pe(k,E,T,Y,se){return E=+E,T=T>>>0,se||ce(k,E,T,4),n.write(k,E,T,Y,23,4),T+4}y.prototype.writeFloatLE=function(E,T,Y){return pe(this,E,T,!0,Y)},y.prototype.writeFloatBE=function(E,T,Y){return pe(this,E,T,!1,Y)};function Te(k,E,T,Y,se){return E=+E,T=T>>>0,se||ce(k,E,T,8),n.write(k,E,T,Y,52,8),T+8}y.prototype.writeDoubleLE=function(E,T,Y){return Te(this,E,T,!0,Y)},y.prototype.writeDoubleBE=function(E,T,Y){return Te(this,E,T,!1,Y)},y.prototype.copy=function(E,T,Y,se){if(!y.isBuffer(E))throw new TypeError("argument should be a Buffer");if(Y||(Y=0),!se&&se!==0&&(se=this.length),T>=E.length&&(T=E.length),T||(T=0),se>0&&se<Y&&(se=Y),se===Y||E.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("Index out of range");if(se<0)throw new RangeError("sourceEnd out of bounds");se>this.length&&(se=this.length),E.length-T<se-Y&&(se=E.length-T+Y);const me=se-Y;return this===E&&typeof l.prototype.copyWithin=="function"?this.copyWithin(T,Y,se):l.prototype.set.call(E,this.subarray(Y,se),T),me},y.prototype.fill=function(E,T,Y,se){if(typeof E=="string"){if(typeof T=="string"?(se=T,T=0,Y=this.length):typeof Y=="string"&&(se=Y,Y=this.length),se!==void 0&&typeof se!="string")throw new TypeError("encoding must be a string");if(typeof se=="string"&&!y.isEncoding(se))throw new TypeError("Unknown encoding: "+se);if(E.length===1){const Re=E.charCodeAt(0);(se==="utf8"&&Re<128||se==="latin1")&&(E=Re)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(T<0||this.length<T||this.length<Y)throw new RangeError("Out of range index");if(Y<=T)return this;T=T>>>0,Y=Y===void 0?this.length:Y>>>0,E||(E=0);let me;if(typeof E=="number")for(me=T;me<Y;++me)this[me]=E;else{const Re=y.isBuffer(E)?E:y.from(E,se),it=Re.length;if(it===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(me=0;me<Y-T;++me)this[me+T]=Re[me%it]}return this};const V={};function q(k,E,T){V[k]=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:E.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${k}]`,this.stack,delete this.name}get code(){return k}set code(se){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:se,writable:!0})}toString(){return`${this.name} [${k}]: ${this.message}`}}}q("ERR_BUFFER_OUT_OF_BOUNDS",function(k){return k?`${k} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),q("ERR_INVALID_ARG_TYPE",function(k,E){return`The "${k}" argument must be of type number. Received type ${typeof E}`},TypeError),q("ERR_OUT_OF_RANGE",function(k,E,T){let Y=`The value of "${k}" is out of range.`,se=T;return Number.isInteger(T)&&Math.abs(T)>2**32?se=Ee(String(T)):typeof T=="bigint"&&(se=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(se=Ee(se)),se+="n"),Y+=` It must be ${E}. Received ${se}`,Y},RangeError);function Ee(k){let E="",T=k.length;const Y=k[0]==="-"?1:0;for(;T>=Y+4;T-=3)E=`_${k.slice(T-3,T)}${E}`;return`${k.slice(0,T)}${E}`}function Pe(k,E,T){je(E,"offset"),(k[E]===void 0||k[E+T]===void 0)&&Ze(E,k.length-(T+1))}function Qe(k,E,T,Y,se,me){if(k>T||k<E){const Re=typeof E=="bigint"?"n":"";let it;throw E===0||E===BigInt(0)?it=`>= 0${Re} and < 2${Re} ** ${(me+1)*8}${Re}`:it=`>= -(2${Re} ** ${(me+1)*8-1}${Re}) and < 2 ** ${(me+1)*8-1}${Re}`,new V.ERR_OUT_OF_RANGE("value",it,k)}Pe(Y,se,me)}function je(k,E){if(typeof k!="number")throw new V.ERR_INVALID_ARG_TYPE(E,"number",k)}function Ze(k,E,T){throw Math.floor(k)!==k?(je(k,T),new V.ERR_OUT_OF_RANGE("offset","an integer",k)):E<0?new V.ERR_BUFFER_OUT_OF_BOUNDS:new V.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${E}`,k)}const cn=/[^+/0-9A-Za-z-_]/g;function Ie(k){if(k=k.split("=")[0],k=k.trim().replace(cn,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function Xt(k,E){E=E||1/0;let T;const Y=k.length;let se=null;const me=[];for(let Re=0;Re<Y;++Re){if(T=k.charCodeAt(Re),T>55295&&T<57344){if(!se){if(T>56319){(E-=3)>-1&&me.push(239,191,189);continue}else if(Re+1===Y){(E-=3)>-1&&me.push(239,191,189);continue}se=T;continue}if(T<56320){(E-=3)>-1&&me.push(239,191,189),se=T;continue}T=(se-55296<<10|T-56320)+65536}else se&&(E-=3)>-1&&me.push(239,191,189);if(se=null,T<128){if((E-=1)<0)break;me.push(T)}else if(T<2048){if((E-=2)<0)break;me.push(T>>6|192,T&63|128)}else if(T<65536){if((E-=3)<0)break;me.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((E-=4)<0)break;me.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return me}function en(k){const E=[];for(let T=0;T<k.length;++T)E.push(k.charCodeAt(T)&255);return E}function wt(k,E){let T,Y,se;const me=[];for(let Re=0;Re<k.length&&!((E-=2)<0);++Re)T=k.charCodeAt(Re),Y=T>>8,se=T%256,me.push(se),me.push(Y);return me}function bt(k){return e.toByteArray(Ie(k))}function _t(k,E,T,Y){let se;for(se=0;se<Y&&!(se+T>=E.length||se>=k.length);++se)E[se+T]=k[se];return se}function nn(k,E){return k instanceof E||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===E.name}function Tt(k){return k!==k}const Mt=(function(){const k="0123456789abcdef",E=new Array(256);for(let T=0;T<16;++T){const Y=T*16;for(let se=0;se<16;++se)E[Y+se]=k[T]+k[se]}return E})();function Vt(k){return typeof BigInt>"u"?pr:k}function pr(){throw new Error("BigInt not supported")}})(kA);const aM=kA.Buffer;var Kw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ls<"u"?Ls:typeof self<"u"?self:{};var Bs,UA;(function(){var r;function e(x,C){function D(){}D.prototype=C.prototype,x.D=C.prototype,x.prototype=new D,x.prototype.constructor=x,x.C=function(W,ee,M){for(var $=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)$[Ke-2]=arguments[Ke];return C.prototype[ee].apply(W,$)}}function n(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,n),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,C,D){D||(D=0);var W=Array(16);if(typeof C=="string")for(var ee=0;16>ee;++ee)W[ee]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(ee=0;16>ee;++ee)W[ee]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=x.g[0],D=x.g[1],ee=x.g[2];var M=x.g[3],$=C+(M^D&(ee^M))+W[0]+3614090360&4294967295;C=D+($<<7&4294967295|$>>>25),$=M+(ee^C&(D^ee))+W[1]+3905402710&4294967295,M=C+($<<12&4294967295|$>>>20),$=ee+(D^M&(C^D))+W[2]+606105819&4294967295,ee=M+($<<17&4294967295|$>>>15),$=D+(C^ee&(M^C))+W[3]+3250441966&4294967295,D=ee+($<<22&4294967295|$>>>10),$=C+(M^D&(ee^M))+W[4]+4118548399&4294967295,C=D+($<<7&4294967295|$>>>25),$=M+(ee^C&(D^ee))+W[5]+1200080426&4294967295,M=C+($<<12&4294967295|$>>>20),$=ee+(D^M&(C^D))+W[6]+2821735955&4294967295,ee=M+($<<17&4294967295|$>>>15),$=D+(C^ee&(M^C))+W[7]+4249261313&4294967295,D=ee+($<<22&4294967295|$>>>10),$=C+(M^D&(ee^M))+W[8]+1770035416&4294967295,C=D+($<<7&4294967295|$>>>25),$=M+(ee^C&(D^ee))+W[9]+2336552879&4294967295,M=C+($<<12&4294967295|$>>>20),$=ee+(D^M&(C^D))+W[10]+4294925233&4294967295,ee=M+($<<17&4294967295|$>>>15),$=D+(C^ee&(M^C))+W[11]+2304563134&4294967295,D=ee+($<<22&4294967295|$>>>10),$=C+(M^D&(ee^M))+W[12]+1804603682&4294967295,C=D+($<<7&4294967295|$>>>25),$=M+(ee^C&(D^ee))+W[13]+4254626195&4294967295,M=C+($<<12&4294967295|$>>>20),$=ee+(D^M&(C^D))+W[14]+2792965006&4294967295,ee=M+($<<17&4294967295|$>>>15),$=D+(C^ee&(M^C))+W[15]+1236535329&4294967295,D=ee+($<<22&4294967295|$>>>10),$=C+(ee^M&(D^ee))+W[1]+4129170786&4294967295,C=D+($<<5&4294967295|$>>>27),$=M+(D^ee&(C^D))+W[6]+3225465664&4294967295,M=C+($<<9&4294967295|$>>>23),$=ee+(C^D&(M^C))+W[11]+643717713&4294967295,ee=M+($<<14&4294967295|$>>>18),$=D+(M^C&(ee^M))+W[0]+3921069994&4294967295,D=ee+($<<20&4294967295|$>>>12),$=C+(ee^M&(D^ee))+W[5]+3593408605&4294967295,C=D+($<<5&4294967295|$>>>27),$=M+(D^ee&(C^D))+W[10]+38016083&4294967295,M=C+($<<9&4294967295|$>>>23),$=ee+(C^D&(M^C))+W[15]+3634488961&4294967295,ee=M+($<<14&4294967295|$>>>18),$=D+(M^C&(ee^M))+W[4]+3889429448&4294967295,D=ee+($<<20&4294967295|$>>>12),$=C+(ee^M&(D^ee))+W[9]+568446438&4294967295,C=D+($<<5&4294967295|$>>>27),$=M+(D^ee&(C^D))+W[14]+3275163606&4294967295,M=C+($<<9&4294967295|$>>>23),$=ee+(C^D&(M^C))+W[3]+4107603335&4294967295,ee=M+($<<14&4294967295|$>>>18),$=D+(M^C&(ee^M))+W[8]+1163531501&4294967295,D=ee+($<<20&4294967295|$>>>12),$=C+(ee^M&(D^ee))+W[13]+2850285829&4294967295,C=D+($<<5&4294967295|$>>>27),$=M+(D^ee&(C^D))+W[2]+4243563512&4294967295,M=C+($<<9&4294967295|$>>>23),$=ee+(C^D&(M^C))+W[7]+1735328473&4294967295,ee=M+($<<14&4294967295|$>>>18),$=D+(M^C&(ee^M))+W[12]+2368359562&4294967295,D=ee+($<<20&4294967295|$>>>12),$=C+(D^ee^M)+W[5]+4294588738&4294967295,C=D+($<<4&4294967295|$>>>28),$=M+(C^D^ee)+W[8]+2272392833&4294967295,M=C+($<<11&4294967295|$>>>21),$=ee+(M^C^D)+W[11]+1839030562&4294967295,ee=M+($<<16&4294967295|$>>>16),$=D+(ee^M^C)+W[14]+4259657740&4294967295,D=ee+($<<23&4294967295|$>>>9),$=C+(D^ee^M)+W[1]+2763975236&4294967295,C=D+($<<4&4294967295|$>>>28),$=M+(C^D^ee)+W[4]+1272893353&4294967295,M=C+($<<11&4294967295|$>>>21),$=ee+(M^C^D)+W[7]+4139469664&4294967295,ee=M+($<<16&4294967295|$>>>16),$=D+(ee^M^C)+W[10]+3200236656&4294967295,D=ee+($<<23&4294967295|$>>>9),$=C+(D^ee^M)+W[13]+681279174&4294967295,C=D+($<<4&4294967295|$>>>28),$=M+(C^D^ee)+W[0]+3936430074&4294967295,M=C+($<<11&4294967295|$>>>21),$=ee+(M^C^D)+W[3]+3572445317&4294967295,ee=M+($<<16&4294967295|$>>>16),$=D+(ee^M^C)+W[6]+76029189&4294967295,D=ee+($<<23&4294967295|$>>>9),$=C+(D^ee^M)+W[9]+3654602809&4294967295,C=D+($<<4&4294967295|$>>>28),$=M+(C^D^ee)+W[12]+3873151461&4294967295,M=C+($<<11&4294967295|$>>>21),$=ee+(M^C^D)+W[15]+530742520&4294967295,ee=M+($<<16&4294967295|$>>>16),$=D+(ee^M^C)+W[2]+3299628645&4294967295,D=ee+($<<23&4294967295|$>>>9),$=C+(ee^(D|~M))+W[0]+4096336452&4294967295,C=D+($<<6&4294967295|$>>>26),$=M+(D^(C|~ee))+W[7]+1126891415&4294967295,M=C+($<<10&4294967295|$>>>22),$=ee+(C^(M|~D))+W[14]+2878612391&4294967295,ee=M+($<<15&4294967295|$>>>17),$=D+(M^(ee|~C))+W[5]+4237533241&4294967295,D=ee+($<<21&4294967295|$>>>11),$=C+(ee^(D|~M))+W[12]+1700485571&4294967295,C=D+($<<6&4294967295|$>>>26),$=M+(D^(C|~ee))+W[3]+2399980690&4294967295,M=C+($<<10&4294967295|$>>>22),$=ee+(C^(M|~D))+W[10]+4293915773&4294967295,ee=M+($<<15&4294967295|$>>>17),$=D+(M^(ee|~C))+W[1]+2240044497&4294967295,D=ee+($<<21&4294967295|$>>>11),$=C+(ee^(D|~M))+W[8]+1873313359&4294967295,C=D+($<<6&4294967295|$>>>26),$=M+(D^(C|~ee))+W[15]+4264355552&4294967295,M=C+($<<10&4294967295|$>>>22),$=ee+(C^(M|~D))+W[6]+2734768916&4294967295,ee=M+($<<15&4294967295|$>>>17),$=D+(M^(ee|~C))+W[13]+1309151649&4294967295,D=ee+($<<21&4294967295|$>>>11),$=C+(ee^(D|~M))+W[4]+4149444226&4294967295,C=D+($<<6&4294967295|$>>>26),$=M+(D^(C|~ee))+W[11]+3174756917&4294967295,M=C+($<<10&4294967295|$>>>22),$=ee+(C^(M|~D))+W[2]+718787259&4294967295,ee=M+($<<15&4294967295|$>>>17),$=D+(M^(ee|~C))+W[9]+3951481745&4294967295,x.g[0]=x.g[0]+C&4294967295,x.g[1]=x.g[1]+(ee+($<<21&4294967295|$>>>11))&4294967295,x.g[2]=x.g[2]+ee&4294967295,x.g[3]=x.g[3]+M&4294967295}a.prototype.u=function(x,C){C===void 0&&(C=x.length);for(var D=C-this.blockSize,W=this.B,ee=this.h,M=0;M<C;){if(ee==0)for(;M<=D;)o(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<C;)if(W[ee++]=x.charCodeAt(M++),ee==this.blockSize){o(this,W),ee=0;break}}else for(;M<C;)if(W[ee++]=x[M++],ee==this.blockSize){o(this,W),ee=0;break}}this.h=ee,this.o+=C},a.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var C=1;C<x.length-8;++C)x[C]=0;var D=8*this.o;for(C=x.length-8;C<x.length;++C)x[C]=D&255,D/=256;for(this.u(x),x=Array(16),C=D=0;4>C;++C)for(var W=0;32>W;W+=8)x[D++]=this.g[C]>>>W&255;return x};function l(x,C){var D=d;return Object.prototype.hasOwnProperty.call(D,x)?D[x]:D[x]=C(x)}function c(x,C){this.h=C;for(var D=[],W=!0,ee=x.length-1;0<=ee;ee--){var M=x[ee]|0;W&&M==C||(D[ee]=M,W=!1)}this.g=D}var d={};function p(x){return-128<=x&&128>x?l(x,function(C){return new c([C|0],0>C?-1:0)}):new c([x|0],0>x?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return w;if(0>x)return P(g(-x));for(var C=[],D=1,W=0;x>=D;W++)C[W]=x/D|0,D*=4294967296;return new c(C,0)}function y(x,C){if(x.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(x.charAt(0)=="-")return P(y(x.substring(1),C));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=g(Math.pow(C,8)),W=w,ee=0;ee<x.length;ee+=8){var M=Math.min(8,x.length-ee),$=parseInt(x.substring(ee,ee+M),C);8>M?(M=g(Math.pow(C,M)),W=W.j(M).add(g($))):(W=W.j(D),W=W.add(g($)))}return W}var w=p(0),R=p(1),H=p(16777216);r=c.prototype,r.m=function(){if(F(this))return-P(this).m();for(var x=0,C=1,D=0;D<this.g.length;D++){var W=this.i(D);x+=(0<=W?W:4294967296+W)*C,C*=4294967296}return x},r.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(I(this))return"0";if(F(this))return"-"+P(this).toString(x);for(var C=g(Math.pow(x,6)),D=this,W="";;){var ee=K(D,C).g;D=O(D,ee.j(C));var M=((0<D.g.length?D.g[0]:D.h)>>>0).toString(x);if(D=ee,I(D))return M+W;for(;6>M.length;)M="0"+M;W=M+W}},r.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function I(x){if(x.h!=0)return!1;for(var C=0;C<x.g.length;C++)if(x.g[C]!=0)return!1;return!0}function F(x){return x.h==-1}r.l=function(x){return x=O(this,x),F(x)?-1:I(x)?0:1};function P(x){for(var C=x.g.length,D=[],W=0;W<C;W++)D[W]=~x.g[W];return new c(D,~x.h).add(R)}r.abs=function(){return F(this)?P(this):this},r.add=function(x){for(var C=Math.max(this.g.length,x.g.length),D=[],W=0,ee=0;ee<=C;ee++){var M=W+(this.i(ee)&65535)+(x.i(ee)&65535),$=(M>>>16)+(this.i(ee)>>>16)+(x.i(ee)>>>16);W=$>>>16,M&=65535,$&=65535,D[ee]=$<<16|M}return new c(D,D[D.length-1]&-2147483648?-1:0)};function O(x,C){return x.add(P(C))}r.j=function(x){if(I(this)||I(x))return w;if(F(this))return F(x)?P(this).j(P(x)):P(P(this).j(x));if(F(x))return P(this.j(P(x)));if(0>this.l(H)&&0>x.l(H))return g(this.m()*x.m());for(var C=this.g.length+x.g.length,D=[],W=0;W<2*C;W++)D[W]=0;for(W=0;W<this.g.length;W++)for(var ee=0;ee<x.g.length;ee++){var M=this.i(W)>>>16,$=this.i(W)&65535,Ke=x.i(ee)>>>16,ke=x.i(ee)&65535;D[2*W+2*ee]+=$*ke,U(D,2*W+2*ee),D[2*W+2*ee+1]+=M*ke,U(D,2*W+2*ee+1),D[2*W+2*ee+1]+=$*Ke,U(D,2*W+2*ee+1),D[2*W+2*ee+2]+=M*Ke,U(D,2*W+2*ee+2)}for(W=0;W<C;W++)D[W]=D[2*W+1]<<16|D[2*W];for(W=C;W<2*C;W++)D[W]=0;return new c(D,0)};function U(x,C){for(;(x[C]&65535)!=x[C];)x[C+1]+=x[C]>>>16,x[C]&=65535,C++}function j(x,C){this.g=x,this.h=C}function K(x,C){if(I(C))throw Error("division by zero");if(I(x))return new j(w,w);if(F(x))return C=K(P(x),C),new j(P(C.g),P(C.h));if(F(C))return C=K(x,P(C)),new j(P(C.g),C.h);if(30<x.g.length){if(F(x)||F(C))throw Error("slowDivide_ only works with positive integers.");for(var D=R,W=C;0>=W.l(x);)D=X(D),W=X(W);var ee=J(D,1),M=J(W,1);for(W=J(W,2),D=J(D,2);!I(W);){var $=M.add(W);0>=$.l(x)&&(ee=ee.add(D),M=$),W=J(W,1),D=J(D,1)}return C=O(x,ee.j(C)),new j(ee,C)}for(ee=w;0<=x.l(C);){for(D=Math.max(1,Math.floor(x.m()/C.m())),W=Math.ceil(Math.log(D)/Math.LN2),W=48>=W?1:Math.pow(2,W-48),M=g(D),$=M.j(C);F($)||0<$.l(x);)D-=W,M=g(D),$=M.j(C);I(M)&&(M=R),ee=ee.add(M),x=O(x,$)}return new j(ee,x)}r.A=function(x){return K(this,x).h},r.and=function(x){for(var C=Math.max(this.g.length,x.g.length),D=[],W=0;W<C;W++)D[W]=this.i(W)&x.i(W);return new c(D,this.h&x.h)},r.or=function(x){for(var C=Math.max(this.g.length,x.g.length),D=[],W=0;W<C;W++)D[W]=this.i(W)|x.i(W);return new c(D,this.h|x.h)},r.xor=function(x){for(var C=Math.max(this.g.length,x.g.length),D=[],W=0;W<C;W++)D[W]=this.i(W)^x.i(W);return new c(D,this.h^x.h)};function X(x){for(var C=x.g.length+1,D=[],W=0;W<C;W++)D[W]=x.i(W)<<1|x.i(W-1)>>>31;return new c(D,x.h)}function J(x,C){var D=C>>5;C%=32;for(var W=x.g.length-D,ee=[],M=0;M<W;M++)ee[M]=0<C?x.i(M+D)>>>C|x.i(M+D+1)<<32-C:x.i(M+D);return new c(ee,x.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,UA=a,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,Bs=c}).apply(typeof Kw<"u"?Kw:typeof self<"u"?self:typeof window<"u"?window:{});var Of=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Ls<"u"?Ls:typeof self<"u"?self:{};var LA,mu,VA,Xf,ey,jA,FA,qA;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,_,A){return f==Array.prototype||f==Object.prototype||(f[_]=A.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Of=="object"&&Of];for(var _=0;_<f.length;++_){var A=f[_];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var a=n(this);function o(f,_){if(_)e:{var A=a;f=f.split(".");for(var z=0;z<f.length-1;z++){var de=f[z];if(!(de in A))break e;A=A[de]}f=f[f.length-1],z=A[f],_=_(z),_!=z&&_!=null&&e(A,f,{configurable:!0,writable:!0,value:_})}}function l(f,_){f instanceof String&&(f+="");var A=0,z=!1,de={next:function(){if(!z&&A<f.length){var Ae=A++;return{value:_(Ae,f[Ae]),done:!1}}return z=!0,{done:!0,value:void 0}}};return de[Symbol.iterator]=function(){return de},de}o("Array.prototype.values",function(f){return f||function(){return l(this,function(_,A){return A})}});var c=c||{},d=this||self;function p(f){var _=typeof f;return _=_!="object"?_:f?Array.isArray(f)?"array":_:"null",_=="array"||_=="object"&&typeof f.length=="number"}function g(f){var _=typeof f;return _=="object"&&f!=null||_=="function"}function y(f,_,A){return f.call.apply(f.bind,arguments)}function w(f,_,A){if(!f)throw Error();if(2<arguments.length){var z=Array.prototype.slice.call(arguments,2);return function(){var de=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(de,z),f.apply(_,de)}}return function(){return f.apply(_,arguments)}}function R(f,_,A){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:w,R.apply(null,arguments)}function H(f,_){var A=Array.prototype.slice.call(arguments,1);return function(){var z=A.slice();return z.push.apply(z,arguments),f.apply(this,z)}}function I(f,_){function A(){}A.prototype=_.prototype,f.aa=_.prototype,f.prototype=new A,f.prototype.constructor=f,f.Qb=function(z,de,Ae){for(var Ve=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)Ve[Pt-2]=arguments[Pt];return _.prototype[de].apply(z,Ve)}}function F(f){const _=f.length;if(0<_){const A=Array(_);for(let z=0;z<_;z++)A[z]=f[z];return A}return[]}function P(f,_){for(let A=1;A<arguments.length;A++){const z=arguments[A];if(p(z)){const de=f.length||0,Ae=z.length||0;f.length=de+Ae;for(let Ve=0;Ve<Ae;Ve++)f[de+Ve]=z[Ve]}else f.push(z)}}class O{constructor(_,A){this.i=_,this.j=A,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function U(f){return/^[\s\xa0]*$/.test(f)}function j(){var f=d.navigator;return f&&(f=f.userAgent)?f:""}function K(f){return K[" "](f),f}K[" "]=function(){};var X=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function J(f,_,A){for(const z in f)_.call(A,f[z],z,f)}function x(f,_){for(const A in f)_.call(void 0,f[A],A,f)}function C(f){const _={};for(const A in f)_[A]=f[A];return _}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(f,_){let A,z;for(let de=1;de<arguments.length;de++){z=arguments[de];for(A in z)f[A]=z[A];for(let Ae=0;Ae<D.length;Ae++)A=D[Ae],Object.prototype.hasOwnProperty.call(z,A)&&(f[A]=z[A])}}function ee(f){var _=1;f=f.split(":");const A=[];for(;0<_&&f.length;)A.push(f.shift()),_--;return f.length&&A.push(f.join(":")),A}function M(f){d.setTimeout(()=>{throw f},0)}function $(){var f=Ue;let _=null;return f.g&&(_=f.g,f.g=f.g.next,f.g||(f.h=null),_.next=null),_}class Ke{constructor(){this.h=this.g=null}add(_,A){const z=ke.get();z.set(_,A),this.h?this.h.next=z:this.g=z,this.h=z}}var ke=new O(()=>new ae,f=>f.reset());class ae{constructor(){this.next=this.g=this.h=null}set(_,A){this.h=_,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,xe=!1,Ue=new Ke,Le=()=>{const f=d.Promise.resolve(void 0);ge=()=>{f.then(ne)}};var ne=()=>{for(var f;f=$();){try{f.h.call(f.g)}catch(A){M(A)}var _=ke;_.j(f),100>_.h&&(_.h++,f.next=_.g,_.g=f)}xe=!1};function ve(){this.s=this.s,this.C=this.C}ve.prototype.s=!1,ve.prototype.ma=function(){this.s||(this.s=!0,this.N())},ve.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(f,_){this.type=f,this.g=this.target=_,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var ie=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var f=!1,_=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const A=()=>{};d.addEventListener("test",A,_),d.removeEventListener("test",A,_)}catch{}return f})();function he(f,_){if(Z.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var A=this.type=f.type,z=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=_,_=f.relatedTarget){if(X){e:{try{K(_.nodeName);var de=!0;break e}catch{}de=!1}de||(_=null)}}else A=="mouseover"?_=f.fromElement:A=="mouseout"&&(_=f.toElement);this.relatedTarget=_,z?(this.clientX=z.clientX!==void 0?z.clientX:z.pageX,this.clientY=z.clientY!==void 0?z.clientY:z.pageY,this.screenX=z.screenX||0,this.screenY=z.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:te[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&he.aa.h.call(this)}}I(he,Z);var te={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var N="closure_listenable_"+(1e6*Math.random()|0),ce=0;function pe(f,_,A,z,de){this.listener=f,this.proxy=null,this.src=_,this.type=A,this.capture=!!z,this.ha=de,this.key=++ce,this.da=this.fa=!1}function Te(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function V(f){this.src=f,this.g={},this.h=0}V.prototype.add=function(f,_,A,z,de){var Ae=f.toString();f=this.g[Ae],f||(f=this.g[Ae]=[],this.h++);var Ve=Ee(f,_,z,de);return-1<Ve?(_=f[Ve],A||(_.fa=!1)):(_=new pe(_,this.src,Ae,!!z,de),_.fa=A,f.push(_)),_};function q(f,_){var A=_.type;if(A in f.g){var z=f.g[A],de=Array.prototype.indexOf.call(z,_,void 0),Ae;(Ae=0<=de)&&Array.prototype.splice.call(z,de,1),Ae&&(Te(_),f.g[A].length==0&&(delete f.g[A],f.h--))}}function Ee(f,_,A,z){for(var de=0;de<f.length;++de){var Ae=f[de];if(!Ae.da&&Ae.listener==_&&Ae.capture==!!A&&Ae.ha==z)return de}return-1}var Pe="closure_lm_"+(1e6*Math.random()|0),Qe={};function je(f,_,A,z,de){if(Array.isArray(_)){for(var Ae=0;Ae<_.length;Ae++)je(f,_[Ae],A,z,de);return null}return A=nn(A),f&&f[N]?f.K(_,A,g(z)?!!z.capture:!1,de):Ze(f,_,A,!1,z,de)}function Ze(f,_,A,z,de,Ae){if(!_)throw Error("Invalid event type");var Ve=g(de)?!!de.capture:!!de,Pt=bt(f);if(Pt||(f[Pe]=Pt=new V(f)),A=Pt.add(_,A,z,Ve,Ae),A.proxy)return A;if(z=cn(),A.proxy=z,z.src=f,z.listener=A,f.addEventListener)ie||(de=Ve),de===void 0&&(de=!1),f.addEventListener(_.toString(),z,de);else if(f.attachEvent)f.attachEvent(en(_.toString()),z);else if(f.addListener&&f.removeListener)f.addListener(z);else throw Error("addEventListener and attachEvent are unavailable.");return A}function cn(){function f(A){return _.call(f.src,f.listener,A)}const _=wt;return f}function Ie(f,_,A,z,de){if(Array.isArray(_))for(var Ae=0;Ae<_.length;Ae++)Ie(f,_[Ae],A,z,de);else z=g(z)?!!z.capture:!!z,A=nn(A),f&&f[N]?(f=f.i,_=String(_).toString(),_ in f.g&&(Ae=f.g[_],A=Ee(Ae,A,z,de),-1<A&&(Te(Ae[A]),Array.prototype.splice.call(Ae,A,1),Ae.length==0&&(delete f.g[_],f.h--)))):f&&(f=bt(f))&&(_=f.g[_.toString()],f=-1,_&&(f=Ee(_,A,z,de)),(A=-1<f?_[f]:null)&&Xt(A))}function Xt(f){if(typeof f!="number"&&f&&!f.da){var _=f.src;if(_&&_[N])q(_.i,f);else{var A=f.type,z=f.proxy;_.removeEventListener?_.removeEventListener(A,z,f.capture):_.detachEvent?_.detachEvent(en(A),z):_.addListener&&_.removeListener&&_.removeListener(z),(A=bt(_))?(q(A,f),A.h==0&&(A.src=null,_[Pe]=null)):Te(f)}}}function en(f){return f in Qe?Qe[f]:Qe[f]="on"+f}function wt(f,_){if(f.da)f=!0;else{_=new he(_,this);var A=f.listener,z=f.ha||f.src;f.fa&&Xt(f),f=A.call(z,_)}return f}function bt(f){return f=f[Pe],f instanceof V?f:null}var _t="__closure_events_fn_"+(1e9*Math.random()>>>0);function nn(f){return typeof f=="function"?f:(f[_t]||(f[_t]=function(_){return f.handleEvent(_)}),f[_t])}function Tt(){ve.call(this),this.i=new V(this),this.M=this,this.F=null}I(Tt,ve),Tt.prototype[N]=!0,Tt.prototype.removeEventListener=function(f,_,A,z){Ie(this,f,_,A,z)};function Mt(f,_){var A,z=f.F;if(z)for(A=[];z;z=z.F)A.push(z);if(f=f.M,z=_.type||_,typeof _=="string")_=new Z(_,f);else if(_ instanceof Z)_.target=_.target||f;else{var de=_;_=new Z(z,f),W(_,de)}if(de=!0,A)for(var Ae=A.length-1;0<=Ae;Ae--){var Ve=_.g=A[Ae];de=Vt(Ve,z,!0,_)&&de}if(Ve=_.g=f,de=Vt(Ve,z,!0,_)&&de,de=Vt(Ve,z,!1,_)&&de,A)for(Ae=0;Ae<A.length;Ae++)Ve=_.g=A[Ae],de=Vt(Ve,z,!1,_)&&de}Tt.prototype.N=function(){if(Tt.aa.N.call(this),this.i){var f=this.i,_;for(_ in f.g){for(var A=f.g[_],z=0;z<A.length;z++)Te(A[z]);delete f.g[_],f.h--}}this.F=null},Tt.prototype.K=function(f,_,A,z){return this.i.add(String(f),_,!1,A,z)},Tt.prototype.L=function(f,_,A,z){return this.i.add(String(f),_,!0,A,z)};function Vt(f,_,A,z){if(_=f.i.g[String(_)],!_)return!0;_=_.concat();for(var de=!0,Ae=0;Ae<_.length;++Ae){var Ve=_[Ae];if(Ve&&!Ve.da&&Ve.capture==A){var Pt=Ve.listener,gn=Ve.ha||Ve.src;Ve.fa&&q(f.i,Ve),de=Pt.call(gn,z)!==!1&&de}}return de&&!z.defaultPrevented}function pr(f,_,A){if(typeof f=="function")A&&(f=R(f,A));else if(f&&typeof f.handleEvent=="function")f=R(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:d.setTimeout(f,_||0)}function k(f){f.g=pr(()=>{f.g=null,f.i&&(f.i=!1,k(f))},f.l);const _=f.h;f.h=null,f.m.apply(null,_)}class E extends ve{constructor(_,A){super(),this.m=_,this.l=A,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:k(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function T(f){ve.call(this),this.h=f,this.g={}}I(T,ve);var Y=[];function se(f){J(f.g,function(_,A){this.g.hasOwnProperty(A)&&Xt(_)},f),f.g={}}T.prototype.N=function(){T.aa.N.call(this),se(this)},T.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var me=d.JSON.stringify,Re=d.JSON.parse,it=class{stringify(f){return d.JSON.stringify(f,void 0)}parse(f){return d.JSON.parse(f,void 0)}};function St(){}St.prototype.h=null;function Dt(f){return f.h||(f.h=f.i())}function At(){}var ot={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mr(){Z.call(this,"d")}I(mr,Z);function rn(){Z.call(this,"c")}I(rn,Z);var jn={},Jr=null;function Qn(){return Jr=Jr||new Tt}jn.La="serverreachability";function as(f){Z.call(this,jn.La,f)}I(as,Z);function B(f){const _=Qn();Mt(_,new as(_))}jn.STAT_EVENT="statevent";function v(f,_){Z.call(this,jn.STAT_EVENT,f),this.stat=_}I(v,Z);function b(f){const _=Qn();Mt(_,new v(_,f))}jn.Ma="timingevent";function Q(f,_){Z.call(this,jn.Ma,f),this.size=_}I(Q,Z);function ue(f,_){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){f()},_)}function be(){this.g=!0}be.prototype.xa=function(){this.g=!1};function Oe(f,_,A,z,de,Ae){f.info(function(){if(f.g)if(Ae)for(var Ve="",Pt=Ae.split("&"),gn=0;gn<Pt.length;gn++){var ut=Pt[gn].split("=");if(1<ut.length){var Cn=ut[0];ut=ut[1];var In=Cn.split("_");Ve=2<=In.length&&In[1]=="type"?Ve+(Cn+"="+ut+"&"):Ve+(Cn+"=redacted&")}}else Ve=null;else Ve=Ae;return"XMLHTTP REQ ("+z+") [attempt "+de+"]: "+_+`
`+A+`
`+Ve})}function at(f,_,A,z,de,Ae,Ve){f.info(function(){return"XMLHTTP RESP ("+z+") [ attempt "+de+"]: "+_+`
`+A+`
`+Ae+" "+Ve})}function Rt(f,_,A,z){f.info(function(){return"XMLHTTP TEXT ("+_+"): "+Et(f,A)+(z?" "+z:"")})}function kt(f,_){f.info(function(){return"TIMEOUT: "+_})}be.prototype.info=function(){};function Et(f,_){if(!f.g)return _;if(!_)return null;try{var A=JSON.parse(_);if(A){for(f=0;f<A.length;f++)if(Array.isArray(A[f])){var z=A[f];if(!(2>z.length)){var de=z[1];if(Array.isArray(de)&&!(1>de.length)){var Ae=de[0];if(Ae!="noop"&&Ae!="stop"&&Ae!="close")for(var Ve=1;Ve<de.length;Ve++)de[Ve]=""}}}}return me(A)}catch{return _}}var Xe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zr;function aa(){}I(aa,St),aa.prototype.g=function(){return new XMLHttpRequest},aa.prototype.i=function(){return{}},Zr=new aa;function ei(f,_,A,z){this.j=f,this.i=_,this.l=A,this.R=z||1,this.U=new T(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rc}function rc(){this.i=null,this.g="",this.h=!1}var pl={},Ei={};function ss(f,_,A){f.L=1,f.v=us(an(_)),f.m=A,f.P=!0,wi(f,null)}function wi(f,_){f.F=Date.now(),jr(f),f.A=an(f.v);var A=f.A,z=f.R;Array.isArray(z)||(z=[String(z)]),Si(A.i,"t",z),f.C=0,A=f.j.J,f.h=new rc,f.g=vc(f.j,A?_:null,!f.m),0<f.O&&(f.M=new E(R(f.Y,f,f.g),f.O)),_=f.U,A=f.g,z=f.ca;var de="readystatechange";Array.isArray(de)||(de&&(Y[0]=de.toString()),de=Y);for(var Ae=0;Ae<de.length;Ae++){var Ve=je(A,de[Ae],z||_.handleEvent,!1,_.h||_);if(!Ve)break;_.g[Ve.key]=Ve}_=f.H?C(f.H):{},f.m?(f.u||(f.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,_)):(f.u="GET",f.g.ea(f.A,f.u,null,_)),B(),Oe(f.i,f.u,f.A,f.l,f.R,f.m)}ei.prototype.ca=function(f){f=f.target;const _=this.M;_&&Jn(f)==3?_.j():this.Y(f)},ei.prototype.Y=function(f){try{if(f==this.g)e:{const In=Jn(this.g);var _=this.g.Ba();const _a=this.g.Z();if(!(3>In)&&(In!=3||this.g&&(this.h.h||this.g.oa()||hs(this.g)))){this.J||In!=4||_==7||(_==8||0>=_a?B(3):B(2)),$s(this);var A=this.g.Z();this.X=A;t:if(bi(this)){var z=hs(this.g);f="";var de=z.length,Ae=Jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){$n(this),sa(this);var Ve="";break t}this.h.i=new d.TextDecoder}for(_=0;_<de;_++)this.h.h=!0,f+=this.h.i.decode(z[_],{stream:!(Ae&&_==de-1)});z.length=0,this.h.g+=f,this.C=0,Ve=this.h.g}else Ve=this.g.oa();if(this.o=A==200,at(this.i,this.u,this.A,this.l,this.R,In,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Pt,gn=this.g;if((Pt=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Pt)){var ut=Pt;break t}}ut=null}if(A=ut)Rt(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ti(this,A);else{this.o=!1,this.s=3,b(12),$n(this),sa(this);break e}}if(this.P){A=!0;let ar;for(;!this.J&&this.C<Ve.length;)if(ar=os(this,Ve),ar==Ei){In==4&&(this.s=4,b(14),A=!1),Rt(this.i,this.l,null,"[Incomplete Response]");break}else if(ar==pl){this.s=4,b(15),Rt(this.i,this.l,Ve,"[Invalid Chunk]"),A=!1;break}else Rt(this.i,this.l,ar,null),ti(this,ar);if(bi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),In!=4||Ve.length!=0||this.h.h||(this.s=1,b(16),A=!1),this.o=this.o&&A,!A)Rt(this.i,this.l,Ve,"[Invalid Chunked Response]"),$n(this),sa(this);else if(0<Ve.length&&!this.W){this.W=!0;var Cn=this.j;Cn.g==this&&Cn.ba&&!Cn.M&&(Cn.j.info("Great, no buffering proxy detected. Bytes received: "+Ve.length),Al(Cn),Cn.M=!0,b(11))}}else Rt(this.i,this.l,Ve,null),ti(this,Ve);In==4&&$n(this),this.o&&!this.J&&(In==4?gc(this.j,this):(this.o=!1,jr(this)))}else cc(this.g),A==400&&0<Ve.indexOf("Unknown SID")?(this.s=3,b(12)):(this.s=0,b(13)),$n(this),sa(this)}}}catch{}};function bi(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function os(f,_){var A=f.C,z=_.indexOf(`
`,A);return z==-1?Ei:(A=Number(_.substring(A,z)),isNaN(A)?pl:(z+=1,z+A>_.length?Ei:(_=_.slice(z,z+A),f.C=z+A,_)))}ei.prototype.cancel=function(){this.J=!0,$n(this)};function jr(f){f.S=Date.now()+f.I,fn(f,f.I)}function fn(f,_){if(f.B!=null)throw Error("WatchDog timer not null");f.B=ue(R(f.ba,f),_)}function $s(f){f.B&&(d.clearTimeout(f.B),f.B=null)}ei.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(kt(this.i,this.A),this.L!=2&&(B(),b(17)),$n(this),this.s=2,sa(this)):fn(this,this.S-f)};function sa(f){f.j.G==0||f.J||gc(f.j,f)}function $n(f){$s(f);var _=f.M;_&&typeof _.ma=="function"&&_.ma(),f.M=null,se(f.U),f.g&&(_=f.g,f.g=null,_.abort(),_.ma())}function ti(f,_){try{var A=f.j;if(A.G!=0&&(A.g==f||oa(A.h,f))){if(!f.K&&oa(A.h,f)&&A.G==3){try{var z=A.Da.g.parse(_)}catch{z=null}if(Array.isArray(z)&&z.length==3){var de=z;if(de[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<f.F)ga(A),ma(A);else break e;Sl(A),b(18)}}else A.za=de[1],0<A.za-A.T&&37500>de[2]&&A.F&&A.v==0&&!A.C&&(A.C=ue(R(A.Za,A),6e3));if(1>=ic(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Ri(A,11)}else if((f.K||A.g==f)&&ga(A),!U(_))for(de=A.Da.g.parse(_),_=0;_<de.length;_++){let ut=de[_];if(A.T=ut[0],ut=ut[1],A.G==2)if(ut[0]=="c"){A.K=ut[1],A.ia=ut[2];const Cn=ut[3];Cn!=null&&(A.la=Cn,A.j.info("VER="+A.la));const In=ut[4];In!=null&&(A.Aa=In,A.j.info("SVER="+A.Aa));const _a=ut[5];_a!=null&&typeof _a=="number"&&0<_a&&(z=1.5*_a,A.L=z,A.j.info("backChannelRequestTimeoutMs_="+z)),z=A;const ar=f.g;if(ar){const ms=ar.g?ar.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var Ae=z.h;Ae.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(Ae.j=Ae.l,Ae.g=new Set,Ae.h&&(la(Ae,Ae.h),Ae.h=null))}if(z.D){const Ci=ar.g?ar.g.getResponseHeader("X-HTTP-Session-Id"):null;Ci&&(z.ya=Ci,Ct(z.I,z.D,Ci))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-f.F,A.j.info("Handshake RTT: "+A.R+"ms")),z=A;var Ve=f;if(z.qa=_c(z,z.J?z.ia:null,z.W),Ve.K){xr(z.h,Ve);var Pt=Ve,gn=z.L;gn&&(Pt.I=gn),Pt.B&&($s(Pt),jr(Pt)),z.g=Ve}else pc(z);0<A.i.length&&io(A)}else ut[0]!="stop"&&ut[0]!="close"||Ri(A,7);else A.G==3&&(ut[0]=="stop"||ut[0]=="close"?ut[0]=="stop"?Ri(A,7):bl(A):ut[0]!="noop"&&A.l&&A.l.ta(ut),A.v=0)}}B(4)}catch{}}var Yh=class{constructor(f,_){this.g=f,this.map=_}};function ml(f){this.l=f||10,d.PerformanceNavigationTiming?(f=d.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gl(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ic(f){return f.h?1:f.g?f.g.size:0}function oa(f,_){return f.h?f.h==_:f.g?f.g.has(_):!1}function la(f,_){f.g?f.g.add(_):f.h=_}function xr(f,_){f.h&&f.h==_?f.h=null:f.g&&f.g.has(_)&&f.g.delete(_)}ml.prototype.cancel=function(){if(this.i=Xn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Xn(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let _=f.i;for(const A of f.g.values())_=_.concat(A.D);return _}return F(f.i)}function ac(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(p(f)){for(var _=[],A=f.length,z=0;z<A;z++)_.push(f[z]);return _}_=[],A=0;for(z in f)_[A++]=f[z];return _}function Qh(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(p(f)||typeof f=="string"){var _=[];f=f.length;for(var A=0;A<f;A++)_.push(A);return _}_=[],A=0;for(const z in f)_[A++]=z;return _}}}function Xs(f,_){if(f.forEach&&typeof f.forEach=="function")f.forEach(_,void 0);else if(p(f)||typeof f=="string")Array.prototype.forEach.call(f,_,void 0);else for(var A=Qh(f),z=ac(f),de=z.length,Ae=0;Ae<de;Ae++)_.call(void 0,z[Ae],A&&A[Ae],f)}var yl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Js(f,_){if(f){f=f.split("&");for(var A=0;A<f.length;A++){var z=f[A].indexOf("="),de=null;if(0<=z){var Ae=f[A].substring(0,z);de=f[A].substring(z+1)}else Ae=f[A];_(Ae,de?decodeURIComponent(de.replace(/\+/g," ")):"")}}}function Ti(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ti){this.h=f.h,ua(this,f.j),this.o=f.o,this.g=f.g,ls(this,f.s),this.l=f.l;var _=f.i,A=new ni;A.i=_.i,_.g&&(A.g=new Map(_.g),A.h=_.h),Zs(this,A),this.m=f.m}else f&&(_=String(f).match(yl))?(this.h=!1,ua(this,_[1]||"",!0),this.o=ca(_[2]||""),this.g=ca(_[3]||"",!0),ls(this,_[4]),this.l=ca(_[5]||"",!0),Zs(this,_[6]||"",!0),this.m=ca(_[7]||"")):(this.h=!1,this.i=new ni(null,this.h))}Ti.prototype.toString=function(){var f=[],_=this.j;_&&f.push(Or(_,_l,!0),":");var A=this.g;return(A||_=="file")&&(f.push("//"),(_=this.o)&&f.push(Or(_,_l,!0),"@"),f.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&f.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&f.push("/"),f.push(Or(A,A.charAt(0)=="/"?vl:sc,!0))),(A=this.i.toString())&&f.push("?",A),(A=this.m)&&f.push("#",Or(A,Jh)),f.join("")};function an(f){return new Ti(f)}function ua(f,_,A){f.j=A?ca(_,!0):_,f.j&&(f.j=f.j.replace(/:$/,""))}function ls(f,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);f.s=_}else f.s=null}function Zs(f,_,A){_ instanceof ni?(f.i=_,oc(f.i,f.h)):(A||(_=Or(_,Xh)),f.i=new ni(_,f.h))}function Ct(f,_,A){f.i.set(_,A)}function us(f){return Ct(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ca(f,_){return f?_?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function Or(f,_,A){return typeof f=="string"?(f=encodeURI(f).replace(_,$h),A&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function $h(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var _l=/[#\/\?@]/g,sc=/[#\?:]/g,vl=/[#\?]/g,Xh=/[#\?@]/g,Jh=/#/g;function ni(f,_){this.h=this.g=null,this.i=f||null,this.j=!!_}function Rn(f){f.g||(f.g=new Map,f.h=0,f.i&&Js(f.i,function(_,A){f.add(decodeURIComponent(_.replace(/\+/g," ")),A)}))}r=ni.prototype,r.add=function(f,_){Rn(this),this.i=null,f=gr(this,f);var A=this.g.get(f);return A||this.g.set(f,A=[]),A.push(_),this.h+=1,this};function eo(f,_){Rn(f),_=gr(f,_),f.g.has(_)&&(f.i=null,f.h-=f.g.get(_).length,f.g.delete(_))}function to(f,_){return Rn(f),_=gr(f,_),f.g.has(_)}r.forEach=function(f,_){Rn(this),this.g.forEach(function(A,z){A.forEach(function(de){f.call(_,de,z,this)},this)},this)},r.na=function(){Rn(this);const f=Array.from(this.g.values()),_=Array.from(this.g.keys()),A=[];for(let z=0;z<_.length;z++){const de=f[z];for(let Ae=0;Ae<de.length;Ae++)A.push(_[z])}return A},r.V=function(f){Rn(this);let _=[];if(typeof f=="string")to(this,f)&&(_=_.concat(this.g.get(gr(this,f))));else{f=Array.from(this.g.values());for(let A=0;A<f.length;A++)_=_.concat(f[A])}return _},r.set=function(f,_){return Rn(this),this.i=null,f=gr(this,f),to(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[_]),this.h+=1,this},r.get=function(f,_){return f?(f=this.V(f),0<f.length?String(f[0]):_):_};function Si(f,_,A){eo(f,_),0<A.length&&(f.i=null,f.g.set(gr(f,_),F(A)),f.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],_=Array.from(this.g.keys());for(var A=0;A<_.length;A++){var z=_[A];const Ae=encodeURIComponent(String(z)),Ve=this.V(z);for(z=0;z<Ve.length;z++){var de=Ae;Ve[z]!==""&&(de+="="+encodeURIComponent(String(Ve[z]))),f.push(de)}}return this.i=f.join("&")};function gr(f,_){return _=String(_),f.j&&(_=_.toLowerCase()),_}function oc(f,_){_&&!f.j&&(Rn(f),f.i=null,f.g.forEach(function(A,z){var de=z.toLowerCase();z!=de&&(eo(this,z),Si(this,de,A))},f)),f.j=_}function El(f,_){const A=new be;if(d.Image){const z=new Image;z.onload=H(ir,A,"TestLoadImage: loaded",!0,_,z),z.onerror=H(ir,A,"TestLoadImage: error",!1,_,z),z.onabort=H(ir,A,"TestLoadImage: abort",!1,_,z),z.ontimeout=H(ir,A,"TestLoadImage: timeout",!1,_,z),d.setTimeout(function(){z.ontimeout&&z.ontimeout()},1e4),z.src=f}else _(!1)}function lc(f,_){const A=new be,z=new AbortController,de=setTimeout(()=>{z.abort(),ir(A,"TestPingServer: timeout",!1,_)},1e4);fetch(f,{signal:z.signal}).then(Ae=>{clearTimeout(de),Ae.ok?ir(A,"TestPingServer: ok",!0,_):ir(A,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(de),ir(A,"TestPingServer: error",!1,_)})}function ir(f,_,A,z,de){try{de&&(de.onload=null,de.onerror=null,de.onabort=null,de.ontimeout=null),z(A)}catch{}}function Fr(){this.g=new it}function wl(f,_,A){const z=A||"";try{Xs(f,function(de,Ae){let Ve=de;g(de)&&(Ve=me(de)),_.push(z+Ae+"="+encodeURIComponent(Ve))})}catch(de){throw _.push(z+"type="+encodeURIComponent("_badmap")),de}}function ri(f){this.l=f.Ub||null,this.j=f.eb||!1}I(ri,St),ri.prototype.g=function(){return new yr(this.l,this.j)},ri.prototype.i=(function(f){return function(){return f}})({});function yr(f,_){Tt.call(this),this.D=f,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(yr,Tt),r=yr.prototype,r.open=function(f,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=_,this.readyState=1,fa(this)},r.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(_.body=f),(this.D||d).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},r.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,fa(this)),this.g&&(this.readyState=3,fa(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;no(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function no(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}r.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var _=f.value?f.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!f.done}))&&(this.response=this.responseText+=_)}f.done?ii(this):fa(this),this.readyState==3&&no(this)}},r.Ra=function(f){this.g&&(this.response=this.responseText=f,ii(this))},r.Qa=function(f){this.g&&(this.response=f,ii(this))},r.ga=function(){this.g&&ii(this)};function ii(f){f.readyState=4,f.l=null,f.j=null,f.v=null,fa(f)}r.setRequestHeader=function(f,_){this.u.append(f,_)},r.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],_=this.h.entries();for(var A=_.next();!A.done;)A=A.value,f.push(A[0]+": "+A[1]),A=_.next();return f.join(`\r
`)};function fa(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function cs(f){let _="";return J(f,function(A,z){_+=z,_+=":",_+=A,_+=`\r
`}),_}function ha(f,_,A){e:{for(z in A){var z=!1;break e}z=!0}z||(A=cs(A),typeof f=="string"?A!=null&&encodeURIComponent(String(A)):Ct(f,_,A))}function Kt(f){Tt.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Kt,Tt);var Fn=/^https?$/i,Ai=["POST","PUT"];r=Kt.prototype,r.Ha=function(f){this.J=f},r.ea=function(f,_,A,z){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);_=_?_.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zr.g(),this.v=this.o?Dt(this.o):Dt(Zr),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(_,String(f),!0),this.B=!1}catch(Ae){fs(this,Ae);return}if(f=A||"",A=new Map(this.headers),z)if(Object.getPrototypeOf(z)===Object.prototype)for(var de in z)A.set(de,z[de]);else if(typeof z.keys=="function"&&typeof z.get=="function")for(const Ae of z.keys())A.set(Ae,z.get(Ae));else throw Error("Unknown input type for opt_headers: "+String(z));z=Array.from(A.keys()).find(Ae=>Ae.toLowerCase()=="content-type"),de=d.FormData&&f instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ai,_,void 0))||z||de||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ae,Ve]of A)this.g.setRequestHeader(Ae,Ve);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ro(this),this.u=!0,this.g.send(f),this.u=!1}catch(Ae){fs(this,Ae)}};function fs(f,_){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=_,f.m=5,da(f),pa(f)}function da(f){f.A||(f.A=!0,Mt(f,"complete"),Mt(f,"error"))}r.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,Mt(this,"complete"),Mt(this,"abort"),pa(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pa(this,!0)),Kt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?uc(this):this.bb())},r.bb=function(){uc(this)};function uc(f){if(f.h&&typeof c<"u"&&(!f.v[1]||Jn(f)!=4||f.Z()!=2)){if(f.u&&Jn(f)==4)pr(f.Ea,0,f);else if(Mt(f,"readystatechange"),Jn(f)==4){f.h=!1;try{const Ve=f.Z();e:switch(Ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var A;if(!(A=_)){var z;if(z=Ve===0){var de=String(f.D).match(yl)[1]||null;!de&&d.self&&d.self.location&&(de=d.self.location.protocol.slice(0,-1)),z=!Fn.test(de?de.toLowerCase():"")}A=z}if(A)Mt(f,"complete"),Mt(f,"success");else{f.m=6;try{var Ae=2<Jn(f)?f.g.statusText:""}catch{Ae=""}f.l=Ae+" ["+f.Z()+"]",da(f)}}finally{pa(f)}}}}function pa(f,_){if(f.g){ro(f);const A=f.g,z=f.v[0]?()=>{}:null;f.g=null,f.v=null,_||Mt(f,"ready");try{A.onreadystatechange=z}catch{}}}function ro(f){f.I&&(d.clearTimeout(f.I),f.I=null)}r.isActive=function(){return!!this.g};function Jn(f){return f.g?f.g.readyState:0}r.Z=function(){try{return 2<Jn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(f){if(this.g){var _=this.g.responseText;return f&&_.indexOf(f)==0&&(_=_.substring(f.length)),Re(_)}};function hs(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function cc(f){const _={};f=(f.g&&2<=Jn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let z=0;z<f.length;z++){if(U(f[z]))continue;var A=ee(f[z]);const de=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const Ae=_[de]||[];_[de]=Ae,Ae.push(A)}x(_,function(z){return z.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ds(f,_,A){return A&&A.internalChannelParams&&A.internalChannelParams[f]||_}function fc(f){this.Aa=0,this.i=[],this.j=new be,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ds("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ds("baseRetryDelayMs",5e3,f),this.cb=ds("retryDelaySeedMs",1e4,f),this.Wa=ds("forwardChannelMaxRetries",2,f),this.wa=ds("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new ml(f&&f.concurrentRequestLimit),this.Da=new Fr,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=fc.prototype,r.la=8,r.G=1,r.connect=function(f,_,A,z){b(0),this.W=f,this.H=_||{},A&&z!==void 0&&(this.H.OSID=A,this.H.OAID=z),this.F=this.X,this.I=_c(this,null,this.W),io(this)};function bl(f){if(hc(f),f.G==3){var _=f.U++,A=an(f.I);if(Ct(A,"SID",f.K),Ct(A,"RID",_),Ct(A,"TYPE","terminate"),ps(f,A),_=new ei(f,f.j,_),_.L=2,_.v=us(an(A)),A=!1,d.navigator&&d.navigator.sendBeacon)try{A=d.navigator.sendBeacon(_.v.toString(),"")}catch{}!A&&d.Image&&(new Image().src=_.v,A=!0),A||(_.g=vc(_.j,null),_.g.ea(_.v)),_.F=Date.now(),jr(_)}Rl(f)}function ma(f){f.g&&(Al(f),f.g.cancel(),f.g=null)}function hc(f){ma(f),f.u&&(d.clearTimeout(f.u),f.u=null),ga(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&d.clearTimeout(f.s),f.s=null)}function io(f){if(!gl(f.h)&&!f.s){f.s=!0;var _=f.Ga;ge||Le(),xe||(ge(),xe=!0),Ue.add(_,f),f.B=0}}function Zh(f,_){return ic(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=_.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=ue(R(f.Ga,f,_),yc(f,f.B)),f.B++,!0)}r.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const de=new ei(this,this.j,f);let Ae=this.o;if(this.S&&(Ae?(Ae=C(Ae),W(Ae,this.S)):Ae=this.S),this.m!==null||this.O||(de.H=Ae,Ae=null),this.P)e:{for(var _=0,A=0;A<this.i.length;A++){t:{var z=this.i[A];if("__data__"in z.map&&(z=z.map.__data__,typeof z=="string")){z=z.length;break t}z=void 0}if(z===void 0)break;if(_+=z,4096<_){_=A;break e}if(_===4096||A===this.i.length-1){_=A+1;break e}}_=1e3}else _=1e3;_=Tl(this,de,_),A=an(this.I),Ct(A,"RID",f),Ct(A,"CVER",22),this.D&&Ct(A,"X-HTTP-Session-Id",this.D),ps(this,A),Ae&&(this.O?_="headers="+encodeURIComponent(String(cs(Ae)))+"&"+_:this.m&&ha(A,this.m,Ae)),la(this.h,de),this.Ua&&Ct(A,"TYPE","init"),this.P?(Ct(A,"$req",_),Ct(A,"SID","null"),de.T=!0,ss(de,A,null)):ss(de,A,_),this.G=2}}else this.G==3&&(f?dc(this,f):this.i.length==0||gl(this.h)||dc(this))};function dc(f,_){var A;_?A=_.l:A=f.U++;const z=an(f.I);Ct(z,"SID",f.K),Ct(z,"RID",A),Ct(z,"AID",f.T),ps(f,z),f.m&&f.o&&ha(z,f.m,f.o),A=new ei(f,f.j,A,f.B+1),f.m===null&&(A.H=f.o),_&&(f.i=_.D.concat(f.i)),_=Tl(f,A,1e3),A.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),la(f.h,A),ss(A,z,_)}function ps(f,_){f.H&&J(f.H,function(A,z){Ct(_,z,A)}),f.l&&Xs({},function(A,z){Ct(_,z,A)})}function Tl(f,_,A){A=Math.min(f.i.length,A);var z=f.l?R(f.l.Na,f.l,f):null;e:{var de=f.i;let Ae=-1;for(;;){const Ve=["count="+A];Ae==-1?0<A?(Ae=de[0].g,Ve.push("ofs="+Ae)):Ae=0:Ve.push("ofs="+Ae);let Pt=!0;for(let gn=0;gn<A;gn++){let ut=de[gn].g;const Cn=de[gn].map;if(ut-=Ae,0>ut)Ae=Math.max(0,de[gn].g-100),Pt=!1;else try{wl(Cn,Ve,"req"+ut+"_")}catch{z&&z(Cn)}}if(Pt){z=Ve.join("&");break e}}}return f=f.i.splice(0,A),_.D=f,z}function pc(f){if(!f.g&&!f.u){f.Y=1;var _=f.Fa;ge||Le(),xe||(ge(),xe=!0),Ue.add(_,f),f.v=0}}function Sl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=ue(R(f.Fa,f),yc(f,f.v)),f.v++,!0)}r.Fa=function(){if(this.u=null,mc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=ue(R(this.ab,this),f)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,b(10),ma(this),mc(this))};function Al(f){f.A!=null&&(d.clearTimeout(f.A),f.A=null)}function mc(f){f.g=new ei(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var _=an(f.qa);Ct(_,"RID","rpc"),Ct(_,"SID",f.K),Ct(_,"AID",f.T),Ct(_,"CI",f.F?"0":"1"),!f.F&&f.ja&&Ct(_,"TO",f.ja),Ct(_,"TYPE","xmlhttp"),ps(f,_),f.m&&f.o&&ha(_,f.m,f.o),f.L&&(f.g.I=f.L);var A=f.g;f=f.ia,A.L=1,A.v=us(an(_)),A.m=null,A.P=!0,wi(A,f)}r.Za=function(){this.C!=null&&(this.C=null,ma(this),Sl(this),b(19))};function ga(f){f.C!=null&&(d.clearTimeout(f.C),f.C=null)}function gc(f,_){var A=null;if(f.g==_){ga(f),Al(f),f.g=null;var z=2}else if(oa(f.h,_))A=_.D,xr(f.h,_),z=1;else return;if(f.G!=0){if(_.o)if(z==1){A=_.m?_.m.length:0,_=Date.now()-_.F;var de=f.B;z=Qn(),Mt(z,new Q(z,A)),io(f)}else pc(f);else if(de=_.s,de==3||de==0&&0<_.X||!(z==1&&Zh(f,_)||z==2&&Sl(f)))switch(A&&0<A.length&&(_=f.h,_.i=_.i.concat(A)),de){case 1:Ri(f,5);break;case 4:Ri(f,10);break;case 3:Ri(f,6);break;default:Ri(f,2)}}}function yc(f,_){let A=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(A*=2),A*_}function Ri(f,_){if(f.j.info("Error code "+_),_==2){var A=R(f.fb,f),z=f.Xa;const de=!z;z=new Ti(z||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ua(z,"https"),us(z),de?El(z.toString(),A):lc(z.toString(),A)}else b(2);f.G=0,f.l&&f.l.sa(_),Rl(f),hc(f)}r.fb=function(f){f?(this.j.info("Successfully pinged google.com"),b(2)):(this.j.info("Failed to ping google.com"),b(1))};function Rl(f){if(f.G=0,f.ka=[],f.l){const _=Xn(f.h);(_.length!=0||f.i.length!=0)&&(P(f.ka,_),P(f.ka,f.i),f.h.i.length=0,F(f.i),f.i.length=0),f.l.ra()}}function _c(f,_,A){var z=A instanceof Ti?an(A):new Ti(A);if(z.g!="")_&&(z.g=_+"."+z.g),ls(z,z.s);else{var de=d.location;z=de.protocol,_=_?_+"."+de.hostname:de.hostname,de=+de.port;var Ae=new Ti(null);z&&ua(Ae,z),_&&(Ae.g=_),de&&ls(Ae,de),A&&(Ae.l=A),z=Ae}return A=f.D,_=f.ya,A&&_&&Ct(z,A,_),Ct(z,"VER",f.la),ps(f,z),z}function vc(f,_,A){if(_&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=f.Ca&&!f.pa?new Kt(new ri({eb:A})):new Kt(f.pa),_.Ha(f.J),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ec(){}r=Ec.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ao(){}ao.prototype.g=function(f,_){return new Zn(f,_)};function Zn(f,_){Tt.call(this),this.g=new fc(_),this.l=f,this.h=_&&_.messageUrlParams||null,f=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(f?f["X-WebChannel-Content-Type"]=_.messageContentType:f={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(f?f["X-WebChannel-Client-Profile"]=_.va:f={"X-WebChannel-Client-Profile":_.va}),this.g.S=f,(f=_&&_.Sb)&&!U(f)&&(this.g.m=f),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!U(_)&&(this.g.D=_,f=this.h,f!==null&&_ in f&&(f=this.h,_ in f&&delete f[_])),this.j=new ya(this)}I(Zn,Tt),Zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Zn.prototype.close=function(){bl(this.g)},Zn.prototype.o=function(f){var _=this.g;if(typeof f=="string"){var A={};A.__data__=f,f=A}else this.u&&(A={},A.__data__=me(f),f=A);_.i.push(new Yh(_.Ya++,f)),_.G==3&&io(_)},Zn.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,Zn.aa.N.call(this)};function wc(f){mr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var _=f.__sm__;if(_){e:{for(const A in _){f=A;break e}f=void 0}(this.i=f)&&(f=this.i,_=_!==null&&f in _?_[f]:void 0),this.data=_}else this.data=f}I(wc,mr);function bc(){rn.call(this),this.status=1}I(bc,rn);function ya(f){this.g=f}I(ya,Ec),ya.prototype.ua=function(){Mt(this.g,"a")},ya.prototype.ta=function(f){Mt(this.g,new wc(f))},ya.prototype.sa=function(f){Mt(this.g,new bc)},ya.prototype.ra=function(){Mt(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,Zn.prototype.send=Zn.prototype.o,Zn.prototype.open=Zn.prototype.m,Zn.prototype.close=Zn.prototype.close,qA=function(){return new ao},FA=function(){return Qn()},jA=jn,ey={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xe.NO_ERROR=0,Xe.TIMEOUT=8,Xe.HTTP_ERROR=6,Xf=Xe,Dn.COMPLETE="complete",VA=Dn,At.EventType=ot,ot.OPEN="a",ot.CLOSE="b",ot.ERROR="c",ot.MESSAGE="d",Tt.prototype.listen=Tt.prototype.K,mu=At,Kt.prototype.listenOnce=Kt.prototype.L,Kt.prototype.getLastError=Kt.prototype.Ka,Kt.prototype.getLastErrorCode=Kt.prototype.Ba,Kt.prototype.getStatus=Kt.prototype.Z,Kt.prototype.getResponseJson=Kt.prototype.Oa,Kt.prototype.getResponseText=Kt.prototype.oa,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Ha,LA=Kt}).apply(typeof Of<"u"?Of:typeof self<"u"?self:typeof window<"u"?window:{});const Ww="@firebase/firestore";class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");let sl="10.14.0";const Fs=new Ry("@firebase/firestore");function fu(){return Fs.logLevel}function ze(r,...e){if(Fs.logLevel<=yt.DEBUG){const n=e.map(jy);Fs.debug(`Firestore (${sl}): ${r}`,...n)}}function ta(r,...e){if(Fs.logLevel<=yt.ERROR){const n=e.map(jy);Fs.error(`Firestore (${sl}): ${r}`,...n)}}function Wo(r,...e){if(Fs.logLevel<=yt.WARN){const n=e.map(jy);Fs.warn(`Firestore (${sl}): ${r}`,...n)}}function jy(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function Je(r="Unexpected state"){const e=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: `+r;throw ta(e),new Error(e)}function Lt(r,e){r||Je()}function rt(r,e){return r}const Me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends _i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class $i{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class zA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Hn.UNAUTHENTICATED)))}shutdown(){}}class oM{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class lM{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Lt(this.o===void 0);let a=this.i;const o=p=>this.i!==a?(a=this.i,n(p)):Promise.resolve();let l=new $i;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new $i,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},d=p=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new $i)}}),0),c()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((a=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Lt(typeof a.accessToken=="string"),new zA(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Lt(e===null||typeof e=="string"),new Hn(e)}}class uM{constructor(e,n,a){this.l=e,this.h=n,this.P=a,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class cM{constructor(e,n,a){this.l=e,this.h=n,this.P=a}getToken(){return Promise.resolve(new uM(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(Hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class fM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hM{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Lt(this.o===void 0);const a=l=>{l.error!=null&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ze("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>a(l)))};const o=l=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Lt(typeof n.token=="string"),this.R=n.token,new fM(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function dM(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let a=0;a<r;a++)n[a]=Math.floor(256*Math.random());return n}class HA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const o=dM(40);for(let l=0;l<o.length;++l)a.length<20&&o[l]<n&&(a+=e.charAt(o[l]%e.length))}return a}}function Ot(r,e){return r<e?-1:r>e?1:0}function Yo(r,e,n){return r.length===e.length&&r.every(((a,o)=>n(a,e[o])))}class An{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Fe(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Fe(Me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Fe(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(Me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return An.fromMillis(Date.now())}static fromDate(e){return An.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*n));return new An(n,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new nt(e)}static min(){return new nt(new An(0,0))}static max(){return new nt(new An(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class xu{constructor(e,n,a){n===void 0?n=0:n>e.length&&Je(),a===void 0?a=e.length-n:a>e.length-n&&Je(),this.segments=e,this.offset=n,this.len=a}get length(){return this.len}isEqual(e){return xu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof xu?e.forEach((a=>{n.push(a)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,a=this.limit();n<a;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const a=Math.min(e.length,n.length);for(let o=0;o<a;o++){const l=e.get(o),c=n.get(o);if(l<c)return-1;if(l>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qt extends xu{construct(e,n,a){return new Qt(e,n,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const a of e){if(a.indexOf("//")>=0)throw new Fe(Me.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);n.push(...a.split("/").filter((o=>o.length>0)))}return new Qt(n)}static emptyPath(){return new Qt([])}}const pM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends xu{construct(e,n,a){return new Un(e,n,a)}static isValidIdentifier(e){return pM.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Un(["__name__"])}static fromServerFormat(e){const n=[];let a="",o=0;const l=()=>{if(a.length===0)throw new Fe(Me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(a),a=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Fe(Me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Fe(Me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(a+=d,o++):(l(),o++)}if(l(),c)throw new Fe(Me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(n)}static emptyPath(){return new Un([])}}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(Qt.fromString(e))}static fromName(e){return new Ye(Qt.fromString(e).popFirst(5))}static empty(){return new Ye(Qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new Qt(e.slice()))}}function mM(r,e){const n=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=nt.fromTimestamp(a===1e9?new An(n+1,0):new An(n,a));return new Za(o,Ye.empty(),e)}function gM(r){return new Za(r.readTime,r.key,-1)}class Za{constructor(e,n,a){this.readTime=e,this.documentKey=n,this.largestBatchId=a}static min(){return new Za(nt.min(),Ye.empty(),-1)}static max(){return new Za(nt.max(),Ye.empty(),-1)}}function yM(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=Ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ot(r.largestBatchId,e.largestBatchId))}const _M="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qu(r){if(r.code!==Me.FAILED_PRECONDITION||r.message!==_M)throw r;ze("LocalStore","Unexpectedly lost primary lease")}class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Be(((a,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,o)},this.catchCallback=l=>{this.wrapFailure(n,l).next(a,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof Be?n:Be.resolve(n)}catch(n){return Be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):Be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):Be.reject(n)}static resolve(e){return new Be(((n,a)=>{n(e)}))}static reject(e){return new Be(((n,a)=>{a(e)}))}static waitFor(e){return new Be(((n,a)=>{let o=0,l=0,c=!1;e.forEach((d=>{++o,d.next((()=>{++l,c&&l===o&&n()}),(p=>a(p)))})),c=!0,l===o&&n()}))}static or(e){let n=Be.resolve(!1);for(const a of e)n=n.next((o=>o?Be.resolve(o):a()));return n}static forEach(e,n){const a=[];return e.forEach(((o,l)=>{a.push(n.call(this,o,l))})),this.waitFor(a)}static mapArray(e,n){return new Be(((a,o)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;n(e[g]).next((y=>{c[g]=y,++d,d===l&&a(c)}),(y=>o(y)))}}))}static doWhile(e,n){return new Be(((a,o)=>{const l=()=>{e()===!0?n().next((()=>{l()}),o):a()};l()}))}}function EM(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zu(r){return r.name==="IndexedDbTransactionError"}class Fy{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=a=>this.ie(a),this.se=a=>n.writeSequenceNumber(a))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Fy.oe=-1;function Oh(r){return r==null}function hh(r){return r===0&&1/r==-1/0}function wM(r){return typeof r=="number"&&Number.isInteger(r)&&!hh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}function Yw(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ws(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function GA(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class tn{constructor(e,n){this.comparator=e,this.root=n||Bn.EMPTY}insert(e,n){return new tn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return n.value;a<0?n=n.left:a>0&&(n=n.right)}return null}indexOf(e){let n=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return n+a.left.size;o<0?a=a.left:(n+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,a)=>(e(n,a),!1)))}toString(){const e=[];return this.inorderTraversal(((n,a)=>(e.push(`${n}:${a}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Df(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Df(this.root,e,this.comparator,!1)}getReverseIterator(){return new Df(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Df(this.root,e,this.comparator,!0)}}class Df{constructor(e,n,a,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?a(e.key,n):1,n&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bn{constructor(e,n,a,o,l){this.key=e,this.value=n,this.color=a??Bn.RED,this.left=o??Bn.EMPTY,this.right=l??Bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,a,o,l){return new Bn(e??this.key,n??this.value,a??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,a){let o=this;const l=a(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,n,a),null):l===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let a,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Bn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(e,n,a,o,l){return this}insert(e,n,a){return new Bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ln{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,a)=>(e(n),!1)))}forEachInRange(e,n){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let a;for(a=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Qw(this.data.getIterator())}getIteratorFrom(e){return new Qw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((a=>{n=n.add(a)})),n}isEqual(e){if(!(e instanceof Ln)||this.size!==e.size)return!1;const n=this.data.getIterator(),a=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=a.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ln(this.comparator);return n.data=e,n}}class Qw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ar{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new Ar([])}unionWith(e){let n=new Ln(Un.comparator);for(const a of this.fields)n=n.add(a);for(const a of e)n=n.add(a);return new Ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Yo(this.fields,e.fields,((n,a)=>n.isEqual(a)))}}class KA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Vn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new KA("Invalid base64 string: "+l):l}})(e);return new Vn(n)}static fromUint8Array(e){const n=(function(o){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);return l})(e);return new Vn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vn.EMPTY_BYTE_STRING=new Vn("");const bM=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(r){if(Lt(!!r),typeof r=="string"){let e=0;const n=bM.exec(r);if(Lt(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:pn(r.seconds),nanos:pn(r.nanos)}}function pn(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function qs(r){return typeof r=="string"?Vn.fromBase64String(r):Vn.fromUint8Array(r)}function qy(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zy(r){const e=r.mapValue.fields.__previous_value__;return qy(e)?zy(e):e}function Ou(r){const e=es(r.mapValue.fields.__local_write_time__.timestampValue);return new An(e.seconds,e.nanos)}class TM{constructor(e,n,a,o,l,c,d,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=a,this.host=o,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}class Du{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Du("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Du&&e.projectId===this.projectId&&e.database===this.database}}const Nf={mapValue:{}};function zs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qy(r)?4:AM(r)?9007199254740991:SM(r)?10:11:Je()}function gi(r,e){if(r===e)return!0;const n=zs(r);if(n!==zs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ou(r).isEqual(Ou(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const c=es(o.timestampValue),d=es(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return qs(o.bytesValue).isEqual(qs(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return pn(o.geoPointValue.latitude)===pn(l.geoPointValue.latitude)&&pn(o.geoPointValue.longitude)===pn(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return pn(o.integerValue)===pn(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const c=pn(o.doubleValue),d=pn(l.doubleValue);return c===d?hh(c)===hh(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return Yo(r.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return(function(o,l){const c=o.mapValue.fields||{},d=l.mapValue.fields||{};if(Yw(c)!==Yw(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!gi(c[p],d[p])))return!1;return!0})(r,e);default:return Je()}}function Nu(r,e){return(r.values||[]).find((n=>gi(n,e)))!==void 0}function Qo(r,e){if(r===e)return 0;const n=zs(r),a=zs(e);if(n!==a)return Ot(n,a);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=pn(l.integerValue||l.doubleValue),p=pn(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(r,e);case 3:return $w(r.timestampValue,e.timestampValue);case 4:return $w(Ou(r),Ou(e));case 5:return Ot(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=qs(l),p=qs(c);return d.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const y=Ot(d[g],p[g]);if(y!==0)return y}return Ot(d.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Ot(pn(l.latitude),pn(c.latitude));return d!==0?d:Ot(pn(l.longitude),pn(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return Xw(r.arrayValue,e.arrayValue);case 10:return(function(l,c){var d,p,g,y;const w=l.fields||{},R=c.fields||{},H=(d=w.value)===null||d===void 0?void 0:d.arrayValue,I=(p=R.value)===null||p===void 0?void 0:p.arrayValue,F=Ot(((g=H?.values)===null||g===void 0?void 0:g.length)||0,((y=I?.values)===null||y===void 0?void 0:y.length)||0);return F!==0?F:Xw(H,I)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===Nf.mapValue&&c===Nf.mapValue)return 0;if(l===Nf.mapValue)return 1;if(c===Nf.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},y=Object.keys(g);p.sort(),y.sort();for(let w=0;w<p.length&&w<y.length;++w){const R=Ot(p[w],y[w]);if(R!==0)return R;const H=Qo(d[p[w]],g[y[w]]);if(H!==0)return H}return Ot(p.length,y.length)})(r.mapValue,e.mapValue);default:throw Je()}}function $w(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ot(r,e);const n=es(r),a=es(e),o=Ot(n.seconds,a.seconds);return o!==0?o:Ot(n.nanos,a.nanos)}function Xw(r,e){const n=r.values||[],a=e.values||[];for(let o=0;o<n.length&&o<a.length;++o){const l=Qo(n[o],a[o]);if(l)return l}return Ot(n.length,a.length)}function $o(r){return ty(r)}function ty(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const a=es(n);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return qs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return Ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let a="[",o=!0;for(const l of n.values||[])o?o=!1:a+=",",a+=ty(l);return a+"]"})(r.arrayValue):"mapValue"in r?(function(n){const a=Object.keys(n.fields||{}).sort();let o="{",l=!0;for(const c of a)l?l=!1:o+=",",o+=`${c}:${ty(n.fields[c])}`;return o+"}"})(r.mapValue):Je()}function Jw(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function ny(r){return!!r&&"integerValue"in r}function Hy(r){return!!r&&"arrayValue"in r}function Zw(r){return!!r&&"nullValue"in r}function eb(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Jf(r){return!!r&&"mapValue"in r}function SM(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Eu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ws(r.mapValue.fields,((n,a)=>e.mapValue.fields[n]=Eu(a))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Eu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function AM(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}class dr{constructor(e){this.value=e}static empty(){return new dr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let a=0;a<e.length-1;++a)if(n=(n.mapValue.fields||{})[e.get(a)],!Jf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eu(n)}setAll(e){let n=Un.emptyPath(),a={},o=[];e.forEach(((c,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,a,o),a={},o=[],n=d.popLast()}c?a[d.lastSegment()]=Eu(c):o.push(d.lastSegment())}));const l=this.getFieldsMap(n);this.applyChanges(l,a,o)}delete(e){const n=this.field(e.popLast());Jf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=n.mapValue.fields[e.get(a)];Jf(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(a)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,a){Ws(n,((o,l)=>e[o]=l));for(const o of a)delete e[o]}clone(){return new dr(Eu(this.value))}}function WA(r){const e=[];return Ws(r.fields,((n,a)=>{const o=new Un([n]);if(Jf(a)){const l=WA(a.mapValue).fields;if(l.length===0)e.push(o);else for(const c of l)e.push(o.child(c))}else e.push(o)})),new Ar(e)}class Kn{constructor(e,n,a,o,l,c,d){this.key=e,this.documentType=n,this.version=a,this.readTime=o,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Kn(e,0,nt.min(),nt.min(),nt.min(),dr.empty(),0)}static newFoundDocument(e,n,a,o){return new Kn(e,1,n,nt.min(),a,o,0)}static newNoDocument(e,n){return new Kn(e,2,n,nt.min(),nt.min(),dr.empty(),0)}static newUnknownDocument(e,n){return new Kn(e,3,n,nt.min(),nt.min(),dr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dh{constructor(e,n){this.position=e,this.inclusive=n}}function tb(r,e,n){let a=0;for(let o=0;o<r.position.length;o++){const l=e[o],c=r.position[o];if(l.field.isKeyField()?a=Ye.comparator(Ye.fromName(c.referenceValue),n.key):a=Qo(c,n.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function nb(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!gi(r.position[n],e.position[n]))return!1;return!0}class ph{constructor(e,n="asc"){this.field=e,this.dir=n}}function RM(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class YA{}class Tn extends YA{constructor(e,n,a){super(),this.field=e,this.op=n,this.value=a}static create(e,n,a){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,a):new IM(e,n,a):n==="array-contains"?new DM(e,a):n==="in"?new NM(e,a):n==="not-in"?new MM(e,a):n==="array-contains-any"?new PM(e,a):new Tn(e,n,a)}static createKeyFieldInFilter(e,n,a){return n==="in"?new xM(e,a):new OM(e,a)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qo(n,this.value)):n!==null&&zs(this.value)===zs(n)&&this.matchesComparison(Qo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends YA{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new $r(e,n)}matches(e){return QA(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function QA(r){return r.op==="and"}function $A(r){return CM(r)&&QA(r)}function CM(r){for(const e of r.filters)if(e instanceof $r)return!1;return!0}function ry(r){if(r instanceof Tn)return r.field.canonicalString()+r.op.toString()+$o(r.value);if($A(r))return r.filters.map((e=>ry(e))).join(",");{const e=r.filters.map((n=>ry(n))).join(",");return`${r.op}(${e})`}}function XA(r,e){return r instanceof Tn?(function(a,o){return o instanceof Tn&&a.op===o.op&&a.field.isEqual(o.field)&&gi(a.value,o.value)})(r,e):r instanceof $r?(function(a,o){return o instanceof $r&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((l,c,d)=>l&&XA(c,o.filters[d])),!0):!1})(r,e):void Je()}function JA(r){return r instanceof Tn?(function(n){return`${n.field.canonicalString()} ${n.op} ${$o(n.value)}`})(r):r instanceof $r?(function(n){return n.op.toString()+" {"+n.getFilters().map(JA).join(" ,")+"}"})(r):"Filter"}class IM extends Tn{constructor(e,n,a){super(e,n,a),this.key=Ye.fromName(a.referenceValue)}matches(e){const n=Ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class xM extends Tn{constructor(e,n){super(e,"in",n),this.keys=ZA("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class OM extends Tn{constructor(e,n){super(e,"not-in",n),this.keys=ZA("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function ZA(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((a=>Ye.fromName(a.referenceValue)))}class DM extends Tn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Hy(n)&&Nu(n.arrayValue,this.value)}}class NM extends Tn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Nu(this.value.arrayValue,n)}}class MM extends Tn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Nu(this.value.arrayValue,n)}}class PM extends Tn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Hy(n)||!n.arrayValue.values)&&n.arrayValue.values.some((a=>Nu(this.value.arrayValue,a)))}}class kM{constructor(e,n=null,a=[],o=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=a,this.filters=o,this.limit=l,this.startAt=c,this.endAt=d,this.ue=null}}function rb(r,e=null,n=[],a=[],o=null,l=null,c=null){return new kM(r,e,n,a,o,l,c)}function Gy(r){const e=rt(r);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((a=>ry(a))).join(","),n+="|ob:",n+=e.orderBy.map((a=>(function(l){return l.field.canonicalString()+l.dir})(a))).join(","),Oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((a=>$o(a))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((a=>$o(a))).join(",")),e.ue=n}return e.ue}function Ky(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!RM(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!XA(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!nb(r.startAt,e.startAt)&&nb(r.endAt,e.endAt)}function iy(r){return Ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Hu{constructor(e,n=null,a=[],o=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=a,this.filters=o,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function BM(r,e,n,a,o,l,c,d){return new Hu(r,e,n,a,o,l,c,d)}function Dh(r){return new Hu(r)}function ib(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function eR(r){return r.collectionGroup!==null}function wu(r){const e=rt(r);if(e.ce===null){e.ce=[];const n=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),n.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ln(Un.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{n.has(l.canonicalString())||l.isKeyField()||e.ce.push(new ph(l,a))})),n.has(Un.keyField().canonicalString())||e.ce.push(new ph(Un.keyField(),a))}return e.ce}function pi(r){const e=rt(r);return e.le||(e.le=UM(e,wu(r))),e.le}function UM(r,e){if(r.limitType==="F")return rb(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new ph(o.field,l)}));const n=r.endAt?new dh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new dh(r.startAt.position,r.startAt.inclusive):null;return rb(r.path,r.collectionGroup,e,r.filters,r.limit,n,a)}}function ay(r,e){const n=r.filters.concat([e]);return new Hu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function sy(r,e,n){return new Hu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Nh(r,e){return Ky(pi(r),pi(e))&&r.limitType===e.limitType}function tR(r){return`${Gy(pi(r))}|lt:${r.limitType}`}function Uo(r){return`Query(target=${(function(n){let a=n.path.canonicalString();return n.collectionGroup!==null&&(a+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(a+=`, filters: [${n.filters.map((o=>JA(o))).join(", ")}]`),Oh(n.limit)||(a+=", limit: "+n.limit),n.orderBy.length>0&&(a+=`, orderBy: [${n.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),n.startAt&&(a+=", startAt: ",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map((o=>$o(o))).join(",")),n.endAt&&(a+=", endAt: ",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map((o=>$o(o))).join(",")),`Target(${a})`})(pi(r))}; limitType=${r.limitType})`}function Mh(r,e){return e.isFoundDocument()&&(function(a,o){const l=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):Ye.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)})(r,e)&&(function(a,o){for(const l of wu(a))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(a,o){for(const l of a.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(a,o){return!(a.startAt&&!(function(c,d,p){const g=tb(c,d,p);return c.inclusive?g<=0:g<0})(a.startAt,wu(a),o)||a.endAt&&!(function(c,d,p){const g=tb(c,d,p);return c.inclusive?g>=0:g>0})(a.endAt,wu(a),o))})(r,e)}function LM(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function nR(r){return(e,n)=>{let a=!1;for(const o of wu(r)){const l=VM(o,e,n);if(l!==0)return l;a=a||o.field.isKeyField()}return 0}}function VM(r,e,n){const a=r.field.isKeyField()?Ye.comparator(e.key,n.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?Qo(p,g):Je()})(r.field,e,n);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Je()}}class ol{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a!==void 0){for(const[o,l]of a)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,n]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[n]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,((n,a)=>{for(const[o,l]of a)e(o,l)}))}isEmpty(){return GA(this.inner)}size(){return this.innerSize}}const jM=new tn(Ye.comparator);function na(){return jM}const rR=new tn(Ye.comparator);function gu(...r){let e=rR;for(const n of r)e=e.insert(n.key,n);return e}function iR(r){let e=rR;return r.forEach(((n,a)=>e=e.insert(n,a.overlayedDocument))),e}function Ms(){return bu()}function aR(){return bu()}function bu(){return new ol((r=>r.toString()),((r,e)=>r.isEqual(e)))}const FM=new tn(Ye.comparator),qM=new Ln(Ye.comparator);function mt(...r){let e=qM;for(const n of r)e=e.add(n);return e}const zM=new Ln(Ot);function HM(){return zM}function Wy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hh(e)?"-0":e}}function sR(r){return{integerValue:""+r}}function oR(r,e){return wM(e)?sR(e):Wy(r,e)}class Ph{constructor(){this._=void 0}}function GM(r,e,n){return r instanceof Mu?(function(o,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&qy(l)&&(l=zy(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}})(n,e):r instanceof Xo?uR(r,e):r instanceof Pu?cR(r,e):(function(o,l){const c=lR(o,l),d=ab(c)+ab(o.Pe);return ny(c)&&ny(o.Pe)?sR(d):Wy(o.serializer,d)})(r,e)}function KM(r,e,n){return r instanceof Xo?uR(r,e):r instanceof Pu?cR(r,e):n}function lR(r,e){return r instanceof ku?(function(a){return ny(a)||(function(l){return!!l&&"doubleValue"in l})(a)})(e)?e:{integerValue:0}:null}class Mu extends Ph{}class Xo extends Ph{constructor(e){super(),this.elements=e}}function uR(r,e){const n=fR(e);for(const a of r.elements)n.some((o=>gi(o,a)))||n.push(a);return{arrayValue:{values:n}}}class Pu extends Ph{constructor(e){super(),this.elements=e}}function cR(r,e){let n=fR(e);for(const a of r.elements)n=n.filter((o=>!gi(o,a)));return{arrayValue:{values:n}}}class ku extends Ph{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function ab(r){return pn(r.integerValue||r.doubleValue)}function fR(r){return Hy(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Yy{constructor(e,n){this.field=e,this.transform=n}}function WM(r,e){return r.field.isEqual(e.field)&&(function(a,o){return a instanceof Xo&&o instanceof Xo||a instanceof Pu&&o instanceof Pu?Yo(a.elements,o.elements,gi):a instanceof ku&&o instanceof ku?gi(a.Pe,o.Pe):a instanceof Mu&&o instanceof Mu})(r.transform,e.transform)}class YM{constructor(e,n){this.version=e,this.transformResults=n}}class nr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new nr}static exists(e){return new nr(void 0,e)}static updateTime(e){return new nr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class kh{}function hR(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Bh(r.key,nr.none()):new Gu(r.key,r.data,nr.none());{const n=r.data,a=dr.empty();let o=new Ln(Un.comparator);for(let l of e.fields)if(!o.has(l)){let c=n.field(l);c===null&&l.length>1&&(l=l.popLast(),c=n.field(l)),c===null?a.delete(l):a.set(l,c),o=o.add(l)}return new is(r.key,a,new Ar(o.toArray()),nr.none())}}function QM(r,e,n){r instanceof Gu?(function(o,l,c){const d=o.value.clone(),p=ob(o.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,n):r instanceof is?(function(o,l,c){if(!Zf(o.precondition,l))return void l.convertToUnknownDocument(c.version);const d=ob(o.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(dR(o)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(r,e,n):(function(o,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,n)}function Tu(r,e,n,a){return r instanceof Gu?(function(l,c,d,p){if(!Zf(l.precondition,c))return d;const g=l.value.clone(),y=lb(l.fieldTransforms,p,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,n,a):r instanceof is?(function(l,c,d,p){if(!Zf(l.precondition,c))return d;const g=lb(l.fieldTransforms,p,c),y=c.data;return y.setAll(dR(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((w=>w.field)))})(r,e,n,a):(function(l,c,d){return Zf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,n)}function $M(r,e){let n=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),l=lR(a.transform,o||null);l!=null&&(n===null&&(n=dr.empty()),n.set(a.field,l))}return n||null}function sb(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Yo(a,o,((l,c)=>WM(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Gu extends kh{constructor(e,n,a,o=[]){super(),this.key=e,this.value=n,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class is extends kh{constructor(e,n,a,o,l=[]){super(),this.key=e,this.data=n,this.fieldMask=a,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function dR(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const a=r.data.field(n);e.set(n,a)}})),e}function ob(r,e,n){const a=new Map;Lt(r.length===n.length);for(let o=0;o<n.length;o++){const l=r[o],c=l.transform,d=e.data.field(l.field);a.set(l.field,KM(c,d,n[o]))}return a}function lb(r,e,n){const a=new Map;for(const o of r){const l=o.transform,c=n.data.field(o.field);a.set(o.field,GM(l,c,e))}return a}class Bh extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XM extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class JM{constructor(e,n,a,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,n){const a=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&QM(l,e,a[o])}}applyToLocalView(e,n){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(n=Tu(a,e,n,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(n=Tu(a,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const a=aR();return this.mutations.forEach((o=>{const l=e.get(o.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=n.has(o.key)?null:d;const p=hR(c,d);p!==null&&a.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(nt.min())})),a}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),mt())}isEqual(e){return this.batchId===e.batchId&&Yo(this.mutations,e.mutations,((n,a)=>sb(n,a)))&&Yo(this.baseMutations,e.baseMutations,((n,a)=>sb(n,a)))}}class Qy{constructor(e,n,a,o){this.batch=e,this.commitVersion=n,this.mutationResults=a,this.docVersions=o}static from(e,n,a){Lt(e.mutations.length===a.length);let o=(function(){return FM})();const l=e.mutations;for(let c=0;c<l.length;c++)o=o.insert(l[c].key,a[c].version);return new Qy(e,n,a,o)}}class ZM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class eP{constructor(e,n){this.count=e,this.unchangedNames=n}}var wn,vt;function tP(r){switch(r){default:return Je();case Me.CANCELLED:case Me.UNKNOWN:case Me.DEADLINE_EXCEEDED:case Me.RESOURCE_EXHAUSTED:case Me.INTERNAL:case Me.UNAVAILABLE:case Me.UNAUTHENTICATED:return!1;case Me.INVALID_ARGUMENT:case Me.NOT_FOUND:case Me.ALREADY_EXISTS:case Me.PERMISSION_DENIED:case Me.FAILED_PRECONDITION:case Me.ABORTED:case Me.OUT_OF_RANGE:case Me.UNIMPLEMENTED:case Me.DATA_LOSS:return!0}}function pR(r){if(r===void 0)return ta("GRPC error has no .code"),Me.UNKNOWN;switch(r){case wn.OK:return Me.OK;case wn.CANCELLED:return Me.CANCELLED;case wn.UNKNOWN:return Me.UNKNOWN;case wn.DEADLINE_EXCEEDED:return Me.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return Me.RESOURCE_EXHAUSTED;case wn.INTERNAL:return Me.INTERNAL;case wn.UNAVAILABLE:return Me.UNAVAILABLE;case wn.UNAUTHENTICATED:return Me.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return Me.INVALID_ARGUMENT;case wn.NOT_FOUND:return Me.NOT_FOUND;case wn.ALREADY_EXISTS:return Me.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return Me.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return Me.FAILED_PRECONDITION;case wn.ABORTED:return Me.ABORTED;case wn.OUT_OF_RANGE:return Me.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return Me.UNIMPLEMENTED;case wn.DATA_LOSS:return Me.DATA_LOSS;default:return Je()}}(vt=wn||(wn={}))[vt.OK=0]="OK",vt[vt.CANCELLED=1]="CANCELLED",vt[vt.UNKNOWN=2]="UNKNOWN",vt[vt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vt[vt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vt[vt.NOT_FOUND=5]="NOT_FOUND",vt[vt.ALREADY_EXISTS=6]="ALREADY_EXISTS",vt[vt.PERMISSION_DENIED=7]="PERMISSION_DENIED",vt[vt.UNAUTHENTICATED=16]="UNAUTHENTICATED",vt[vt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vt[vt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vt[vt.ABORTED=10]="ABORTED",vt[vt.OUT_OF_RANGE=11]="OUT_OF_RANGE",vt[vt.UNIMPLEMENTED=12]="UNIMPLEMENTED",vt[vt.INTERNAL=13]="INTERNAL",vt[vt.UNAVAILABLE=14]="UNAVAILABLE",vt[vt.DATA_LOSS=15]="DATA_LOSS";function nP(){return new TextEncoder}const rP=new Bs([4294967295,4294967295],0);function ub(r){const e=nP().encode(r),n=new UA;return n.update(e),new Uint8Array(n.digest())}function cb(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Bs([n,a],0),new Bs([o,l],0)]}class $y{constructor(e,n,a){if(this.bitmap=e,this.padding=n,this.hashCount=a,n<0||n>=8)throw new yu(`Invalid padding: ${n}`);if(a<0)throw new yu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${a}`);if(e.length===0&&n!==0)throw new yu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Bs.fromNumber(this.Ie)}Ee(e,n,a){let o=e.add(n.multiply(Bs.fromNumber(a)));return o.compare(rP)===1&&(o=new Bs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=ub(e),[a,o]=cb(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(a,o,l);if(!this.de(c))return!1}return!0}static create(e,n,a){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new $y(l,o,n);return a.forEach((d=>c.insert(d))),c}insert(e){if(this.Ie===0)return;const n=ub(e),[a,o]=cb(n);for(let l=0;l<this.hashCount;l++){const c=this.Ee(a,o,l);this.Ae(c)}}Ae(e){const n=Math.floor(e/8),a=e%8;this.bitmap[n]|=1<<a}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uh{constructor(e,n,a,o,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,a){const o=new Map;return o.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,n,a)),new Uh(nt.min(),o,new tn(Ot),na(),mt())}}class Ku{constructor(e,n,a,o,l){this.resumeToken=e,this.current=n,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,a){return new Ku(a,n,mt(),mt(),mt())}}class eh{constructor(e,n,a,o){this.Re=e,this.removedTargetIds=n,this.key=a,this.Ve=o}}class mR{constructor(e,n){this.targetId=e,this.me=n}}class gR{constructor(e,n,a=Vn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=a,this.cause=o}}class fb{constructor(){this.fe=0,this.ge=db(),this.pe=Vn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=mt(),n=mt(),a=mt();return this.ge.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:a=a.add(o);break;default:Je()}})),new Ku(this.pe,this.ye,e,n,a)}Ce(){this.we=!1,this.ge=db()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Lt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class iP{constructor(e){this.Le=e,this.Be=new Map,this.ke=na(),this.qe=hb(),this.Qe=new tn(Ot)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const a=this.Ge(n);switch(e.state){case 0:this.ze(n)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),a.De(e.resumeToken));break;default:Je()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((a,o)=>{this.ze(o)&&n(o)}))}He(e){const n=e.targetId,a=e.me.count,o=this.Je(n);if(o){const l=o.target;if(iy(l))if(a===0){const c=new Ye(l.path);this.Ue(n,c,Kn.newNoDocument(c,nt.min()))}else Lt(a===1);else{const c=this.Ye(n);if(c!==a){const d=this.Ze(e),p=d?this.Xe(d,e,c):1;if(p!==0){this.je(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,g)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:l=0}=n;let c,d;try{c=qs(a).toUint8Array()}catch(p){if(p instanceof KA)return Wo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new $y(c,o,l)}catch(p){return Wo(p instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ie===0?null:d}Xe(e,n,a){return n.me.count===a-this.nt(e,n.targetId)?0:2}nt(e,n){const a=this.Le.getRemoteKeysForTarget(n);let o=0;return a.forEach((l=>{const c=this.Le.tt(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,l,null),o++)})),o}rt(e){const n=new Map;this.Be.forEach(((l,c)=>{const d=this.Je(c);if(d){if(l.current&&iy(d.target)){const p=new Ye(d.target.path);this.ke.get(p)!==null||this.it(c,p)||this.Ue(c,p,Kn.newNoDocument(p,e))}l.be&&(n.set(c,l.ve()),l.Ce())}}));let a=mt();this.qe.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.Je(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(a=a.add(l))})),this.ke.forEach(((l,c)=>c.setReadTime(e)));const o=new Uh(e,n,this.Qe,this.ke,a);return this.ke=na(),this.qe=hb(),this.Qe=new tn(Ot),o}$e(e,n){if(!this.ze(e))return;const a=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,a),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,a){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,n)?o.Fe(n,1):o.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),a&&(this.ke=this.ke.insert(n,a))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new fb,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ln(Ot),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||ze("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new fb),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function hb(){return new tn(Ye.comparator)}function db(){return new tn(Ye.comparator)}const aP={asc:"ASCENDING",desc:"DESCENDING"},sP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oP={and:"AND",or:"OR"};class lP{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function oy(r,e){return r.useProto3Json||Oh(e)?e:{value:e}}function mh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yR(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function uP(r,e){return mh(r,e.toTimestamp())}function mi(r){return Lt(!!r),nt.fromTimestamp((function(n){const a=es(n);return new An(a.seconds,a.nanos)})(r))}function Xy(r,e){return ly(r,e).canonicalString()}function ly(r,e){const n=(function(o){return new Qt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function _R(r){const e=Qt.fromString(r);return Lt(TR(e)),e}function uy(r,e){return Xy(r.databaseId,e.path)}function fm(r,e){const n=_R(e);if(n.get(1)!==r.databaseId.projectId)throw new Fe(Me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Fe(Me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new Ye(ER(n))}function vR(r,e){return Xy(r.databaseId,e)}function cP(r){const e=_R(r);return e.length===4?Qt.emptyPath():ER(e)}function cy(r){return new Qt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function ER(r){return Lt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function pb(r,e,n){return{name:uy(r,e),fields:n.value.mapValue.fields}}function fP(r,e){let n;if("targetChange"in e){e.targetChange;const a=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Je()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(g,y){return g.useProto3Json?(Lt(y===void 0||typeof y=="string"),Vn.fromBase64String(y||"")):(Lt(y===void 0||y instanceof aM||y instanceof Uint8Array),Vn.fromUint8Array(y||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const y=g.code===void 0?Me.UNKNOWN:pR(g.code);return new Fe(y,g.message||"")})(c);n=new gR(a,o,l,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=fm(r,a.document.name),l=mi(a.document.updateTime),c=a.document.createTime?mi(a.document.createTime):nt.min(),d=new dr({mapValue:{fields:a.document.fields}}),p=Kn.newFoundDocument(o,l,c,d),g=a.targetIds||[],y=a.removedTargetIds||[];n=new eh(g,y,p.key,p)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=fm(r,a.document),l=a.readTime?mi(a.readTime):nt.min(),c=Kn.newNoDocument(o,l),d=a.removedTargetIds||[];n=new eh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=fm(r,a.document),l=a.removedTargetIds||[];n=new eh([],l,o,null)}else{if(!("filter"in e))return Je();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:l}=a,c=new eP(o,l),d=a.targetId;n=new mR(d,c)}}return n}function hP(r,e){let n;if(e instanceof Gu)n={update:pb(r,e.key,e.value)};else if(e instanceof Bh)n={delete:uy(r,e.key)};else if(e instanceof is)n={update:pb(r,e.key,e.data),updateMask:wP(e.fieldMask)};else{if(!(e instanceof XM))return Je();n={verify:uy(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((a=>(function(l,c){const d=c.transform;if(d instanceof Mu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Xo)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Pu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ku)return{fieldPath:c.field.canonicalString(),increment:d.Pe};throw Je()})(0,a)))),e.precondition.isNone||(n.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:uP(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Je()})(r,e.precondition)),n}function dP(r,e){return r&&r.length>0?(Lt(e!==void 0),r.map((n=>(function(o,l){let c=o.updateTime?mi(o.updateTime):mi(l);return c.isEqual(nt.min())&&(c=mi(l)),new YM(c,o.transformResults||[])})(n,e)))):[]}function pP(r,e){return{documents:[vR(r,e.path)]}}function mP(r,e){const n={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),n.structuredQuery.from=[{collectionId:a.lastSegment()}]),n.parent=vR(r,o);const l=(function(g){if(g.length!==0)return bR($r.create(g,"and"))})(e.filters);l&&(n.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((y=>(function(R){return{field:Lo(R.field),direction:_P(R.dir)}})(y)))})(e.orderBy);c&&(n.structuredQuery.orderBy=c);const d=oy(r,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{_t:n,parent:o}}function gP(r){let e=cP(r.parent);const n=r.structuredQuery,a=n.from?n.from.length:0;let o=null;if(a>0){Lt(a===1);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let l=[];n.where&&(l=(function(w){const R=wR(w);return R instanceof $r&&$A(R)?R.getFilters():[R]})(n.where));let c=[];n.orderBy&&(c=(function(w){return w.map((R=>(function(I){return new ph(Vo(I.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(R)))})(n.orderBy));let d=null;n.limit&&(d=(function(w){let R;return R=typeof w=="object"?w.value:w,Oh(R)?null:R})(n.limit));let p=null;n.startAt&&(p=(function(w){const R=!!w.before,H=w.values||[];return new dh(H,R)})(n.startAt));let g=null;return n.endAt&&(g=(function(w){const R=!w.before,H=w.values||[];return new dh(H,R)})(n.endAt)),BM(e,o,c,l,d,"F",p,g)}function yP(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wR(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const a=Vo(n.unaryFilter.field);return Tn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Vo(n.unaryFilter.field);return Tn.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Vo(n.unaryFilter.field);return Tn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Vo(n.unaryFilter.field);return Tn.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Je()}})(r):r.fieldFilter!==void 0?(function(n){return Tn.create(Vo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return $r.create(n.compositeFilter.filters.map((a=>wR(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Je()}})(n.compositeFilter.op))})(r):Je()}function _P(r){return aP[r]}function vP(r){return sP[r]}function EP(r){return oP[r]}function Lo(r){return{fieldPath:r.canonicalString()}}function Vo(r){return Un.fromServerFormat(r.fieldPath)}function bR(r){return r instanceof Tn?(function(n){if(n.op==="=="){if(eb(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NAN"}};if(Zw(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eb(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NAN"}};if(Zw(n.value))return{unaryFilter:{field:Lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lo(n.field),op:vP(n.op),value:n.value}}})(r):r instanceof $r?(function(n){const a=n.getFilters().map((o=>bR(o)));return a.length===1?a[0]:{compositeFilter:{op:EP(n.op),filters:a}}})(r):Je()}function wP(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function TR(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Ka{constructor(e,n,a,o,l=nt.min(),c=nt.min(),d=Vn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Ka(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class bP{constructor(e){this.ct=e}}function TP(r){const e=gP({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?sy(e,e.limit,"L"):e}class SP{constructor(){this.un=new AP}addToCollectionParentIndex(e,n){return this.un.add(n),Be.resolve()}getCollectionParents(e,n){return Be.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Be.resolve()}deleteFieldIndex(e,n){return Be.resolve()}deleteAllFieldIndexes(e){return Be.resolve()}createTargetIndexes(e,n){return Be.resolve()}getDocumentsMatchingTarget(e,n){return Be.resolve(null)}getIndexType(e,n){return Be.resolve(0)}getFieldIndexes(e,n){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,n){return Be.resolve(Za.min())}getMinOffsetFromCollectionGroup(e,n){return Be.resolve(Za.min())}updateCollectionGroup(e,n,a){return Be.resolve()}updateIndexEntries(e,n){return Be.resolve()}}class AP{constructor(){this.index={}}add(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n]||new Ln(Qt.comparator),l=!o.has(a);return this.index[n]=o.add(a),l}has(e){const n=e.lastSegment(),a=e.popLast(),o=this.index[n];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Ln(Qt.comparator)).toArray()}}class Jo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Jo(0)}static kn(){return new Jo(-1)}}class RP{constructor(){this.changes=new ol((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const a=this.changes.get(n);return a!==void 0?Be.resolve(a):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class CP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class IP{constructor(e,n,a,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,n){let a=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(a=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(a!==null&&Tu(a.mutation,o,Ar.empty(),An.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.getLocalViewOfDocuments(e,a,mt()).next((()=>a))))}getLocalViewOfDocuments(e,n,a=mt()){const o=Ms();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,a).next((l=>{let c=gu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,n){const a=Ms();return this.populateOverlays(e,a,n).next((()=>this.computeViews(e,n,a,mt())))}populateOverlays(e,n,a){const o=[];return a.forEach((l=>{n.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((c,d)=>{n.set(c,d)}))}))}computeViews(e,n,a,o){let l=na();const c=bu(),d=(function(){return bu()})();return n.forEach(((p,g)=>{const y=a.get(g.key);o.has(g.key)&&(y===void 0||y.mutation instanceof is)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Tu(y.mutation,g,y.mutation.getFieldMask(),An.now())):c.set(g.key,Ar.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,y)=>c.set(g,y))),n.forEach(((g,y)=>{var w;return d.set(g,new CP(y,(w=c.get(g))!==null&&w!==void 0?w:null))})),d)))}recalculateAndSaveOverlays(e,n){const a=bu();let o=new tn(((c,d)=>c-d)),l=mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let y=a.get(p)||Ar.empty();y=d.applyToLocalView(g,y),a.set(p,y);const w=(o.get(d.batchId)||mt()).add(p);o=o.insert(d.batchId,w)}))})).next((()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,y=p.value,w=aR();y.forEach((R=>{if(!l.has(R)){const H=hR(n.get(R),a.get(R));H!==null&&w.set(R,H),l=l.add(R)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,w))}return Be.waitFor(c)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((a=>this.recalculateAndSaveOverlays(e,a)))}getDocumentsMatchingQuery(e,n,a,o){return(function(c){return Ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,a,o):this.getDocumentsMatchingCollectionQuery(e,n,a,o)}getNextDocuments(e,n,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,a,o).next((l=>{const c=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,a.largestBatchId,o-l.size):Be.resolve(Ms());let d=-1,p=l;return c.next((g=>Be.forEach(g,((y,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(y)?Be.resolve():this.remoteDocumentCache.getEntry(e,y).next((R=>{p=p.insert(y,R)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,mt()))).next((y=>({batchId:d,changes:iR(y)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ye(n)).next((a=>{let o=gu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,a,o){const l=n.collectionGroup;let c=gu();return this.indexManager.getCollectionParents(e,l).next((d=>Be.forEach(d,(p=>{const g=(function(w,R){return new Hu(R,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next((y=>{y.forEach(((w,R)=>{c=c.insert(w,R)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,n,a,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,a.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,a,l,o)))).next((c=>{l.forEach(((p,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,Kn.newInvalidDocument(y)))}));let d=gu();return c.forEach(((p,g)=>{const y=l.get(p);y!==void 0&&Tu(y.mutation,g,Ar.empty(),An.now()),Mh(n,g)&&(d=d.insert(p,g))})),d}))}}class xP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Be.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}})(n)),Be.resolve()}getNamedQuery(e,n){return Be.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,(function(o){return{name:o.name,query:TP(o.bundledQuery),readTime:mi(o.readTime)}})(n)),Be.resolve()}}class OP{constructor(){this.overlays=new tn(Ye.comparator),this.Ir=new Map}getOverlay(e,n){return Be.resolve(this.overlays.get(n))}getOverlays(e,n){const a=Ms();return Be.forEach(n,(o=>this.getOverlay(e,o).next((l=>{l!==null&&a.set(o,l)})))).next((()=>a))}saveOverlays(e,n,a){return a.forEach(((o,l)=>{this.ht(e,n,l)})),Be.resolve()}removeOverlaysForBatchId(e,n,a){const o=this.Ir.get(a);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.Ir.delete(a)),Be.resolve()}getOverlaysForCollection(e,n,a){const o=Ms(),l=n.length+1,c=new Ye(n.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>a&&o.set(p.getKey(),p)}return Be.resolve(o)}getOverlaysForCollectionGroup(e,n,a,o){let l=new tn(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>a){let y=l.get(g.largestBatchId);y===null&&(y=Ms(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Ms(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,y)=>d.set(g,y))),!(d.size()>=o)););return Be.resolve(d)}ht(e,n,a){const o=this.overlays.get(a.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(a.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(a.key,new ZM(n,a));let l=this.Ir.get(n);l===void 0&&(l=mt(),this.Ir.set(n,l)),this.Ir.set(n,l.add(a.key))}}class DP{constructor(){this.sessionToken=Vn.EMPTY_BYTE_STRING}getSessionToken(e){return Be.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Be.resolve()}}class Jy{constructor(){this.Tr=new Ln(On.Er),this.dr=new Ln(On.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const a=new On(e,n);this.Tr=this.Tr.add(a),this.dr=this.dr.add(a)}Rr(e,n){e.forEach((a=>this.addReference(a,n)))}removeReference(e,n){this.Vr(new On(e,n))}mr(e,n){e.forEach((a=>this.removeReference(a,n)))}gr(e){const n=new Ye(new Qt([])),a=new On(n,e),o=new On(n,e+1),l=[];return this.dr.forEachInRange([a,o],(c=>{this.Vr(c),l.push(c.key)})),l}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new Ye(new Qt([])),a=new On(n,e),o=new On(n,e+1);let l=mt();return this.dr.forEachInRange([a,o],(c=>{l=l.add(c.key)})),l}containsKey(e){const n=new On(e,0),a=this.Tr.firstAfterOrEqual(n);return a!==null&&e.isEqual(a.key)}}class On{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Ye.comparator(e.key,n.key)||Ot(e.wr,n.wr)}static Ar(e,n){return Ot(e.wr,n.wr)||Ye.comparator(e.key,n.key)}}class NP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ln(On.Er)}checkEmpty(e){return Be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,a,o){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new JM(l,n,a,o);this.mutationQueue.push(c);for(const d of o)this.br=this.br.add(new On(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Be.resolve(c)}lookupMutationBatch(e,n){return Be.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const a=n+1,o=this.vr(a),l=o<0?0:o;return Be.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const a=new On(n,0),o=new On(n,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([a,o],(c=>{const d=this.Dr(c.wr);l.push(d)})),Be.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let a=new Ln(Ot);return n.forEach((o=>{const l=new On(o,0),c=new On(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,c],(d=>{a=a.add(d.wr)}))})),Be.resolve(this.Cr(a))}getAllMutationBatchesAffectingQuery(e,n){const a=n.path,o=a.length+1;let l=a;Ye.isDocumentKey(l)||(l=l.child(""));const c=new On(new Ye(l),0);let d=new Ln(Ot);return this.br.forEachWhile((p=>{const g=p.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.wr)),!0)}),c),Be.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((a=>{const o=this.Dr(a);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Lt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let a=this.br;return Be.forEach(n.mutations,(o=>{const l=new On(o.key,n.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=a}))}On(e){}containsKey(e,n){const a=new On(n,0),o=this.br.firstAfterOrEqual(a);return Be.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Be.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class MP{constructor(e){this.Mr=e,this.docs=(function(){return new tn(Ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const a=n.key,o=this.docs.get(a),l=o?o.size:0,c=this.Mr(n);return this.docs=this.docs.insert(a,{document:n.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const a=this.docs.get(n);return Be.resolve(a?a.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let a=na();return n.forEach((o=>{const l=this.docs.get(o);a=a.insert(o,l?l.document.mutableCopy():Kn.newInvalidDocument(o))})),Be.resolve(a)}getDocumentsMatchingQuery(e,n,a,o){let l=na();const c=n.path,d=new Ye(c.child("")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:y}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||yM(gM(y),a)<=0||(o.has(y.key)||Mh(n,y))&&(l=l.insert(y.key,y.mutableCopy()))}return Be.resolve(l)}getAllFromCollectionGroup(e,n,a,o){Je()}Or(e,n){return Be.forEach(this.docs,(a=>n(a)))}newChangeBuffer(e){return new PP(this)}getSize(e){return Be.resolve(this.size)}}class PP extends RP{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?n.push(this.cr.addEntry(e,o)):this.cr.removeEntry(a)})),Be.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}class kP{constructor(e){this.persistence=e,this.Nr=new ol((n=>Gy(n)),Ky),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Jy,this.targetCount=0,this.kr=Jo.Bn()}forEachTarget(e,n){return this.Nr.forEach(((a,o)=>n(o))),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,a){return a&&(this.lastRemoteSnapshotVersion=a),n>this.Lr&&(this.Lr=n),Be.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Jo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Be.resolve()}updateTargetData(e,n){return this.Kn(n),Be.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,n,a){let o=0;const l=[];return this.Nr.forEach(((c,d)=>{d.sequenceNumber<=n&&a.get(d.targetId)===null&&(this.Nr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)})),Be.waitFor(l).next((()=>o))}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,n){const a=this.Nr.get(n)||null;return Be.resolve(a)}addMatchingKeys(e,n,a){return this.Br.Rr(n,a),Be.resolve()}removeMatchingKeys(e,n,a){this.Br.mr(n,a);const o=this.persistence.referenceDelegate,l=[];return o&&n.forEach((c=>{l.push(o.markPotentiallyOrphaned(e,c))})),Be.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Be.resolve()}getMatchingKeysForTargetId(e,n){const a=this.Br.yr(n);return Be.resolve(a)}containsKey(e,n){return Be.resolve(this.Br.containsKey(n))}}class BP{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Fy(0),this.Kr=!1,this.Kr=!0,this.$r=new DP,this.referenceDelegate=e(this),this.Ur=new kP(this),this.indexManager=new SP,this.remoteDocumentCache=(function(o){return new MP(o)})((a=>this.referenceDelegate.Wr(a))),this.serializer=new bP(n),this.Gr=new xP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let a=this.qr[e.toKey()];return a||(a=new NP(n,this.referenceDelegate),this.qr[e.toKey()]=a),a}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,a){ze("MemoryPersistence","Starting transaction:",e);const o=new UP(this.Qr.next());return this.referenceDelegate.zr(),a(o).next((l=>this.referenceDelegate.jr(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Hr(e,n){return Be.or(Object.values(this.qr).map((a=>()=>a.containsKey(e,n))))}}class UP extends vM{constructor(e){super(),this.currentSequenceNumber=e}}class Zy{constructor(e){this.persistence=e,this.Jr=new Jy,this.Yr=null}static Zr(e){return new Zy(e)}get Xr(){if(this.Yr)return this.Yr;throw Je()}addReference(e,n,a){return this.Jr.addReference(a,n),this.Xr.delete(a.toString()),Be.resolve()}removeReference(e,n,a){return this.Jr.removeReference(a,n),this.Xr.add(a.toString()),Be.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Be.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach((o=>this.Xr.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((l=>this.Xr.add(l.toString())))})).next((()=>a.removeTargetData(e,n)))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.Xr,(a=>{const o=Ye.fromPath(a);return this.ei(e,o).next((l=>{l||n.removeEntry(o,nt.min())}))})).next((()=>(this.Yr=null,n.apply(e))))}updateLimboDocument(e,n){return this.ei(e,n).next((a=>{a?this.Xr.delete(n.toString()):this.Xr.add(n.toString())}))}Wr(e){return 0}ei(e,n){return Be.or([()=>Be.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class e_{constructor(e,n,a,o){this.targetId=e,this.fromCache=n,this.$i=a,this.Ui=o}static Wi(e,n){let a=mt(),o=mt();for(const l of n.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new e_(e,n.fromCache,a,o)}}class LP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class VP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return E2()?8:EM(Yn())>0?6:4})()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,a,o){const l={result:null};return this.Yi(e,n).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.Zi(e,n,o,a).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new LP;return this.Xi(e,n,c).next((d=>{if(l.result=d,this.zi)return this.es(e,n,c,d.size)}))})).next((()=>l.result))}es(e,n,a,o){return a.documentReadCount<this.ji?(fu()<=yt.DEBUG&&ze("QueryEngine","SDK will not create cache indexes for query:",Uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Be.resolve()):(fu()<=yt.DEBUG&&ze("QueryEngine","Query:",Uo(n),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.Hi*o?(fu()<=yt.DEBUG&&ze("QueryEngine","The SDK decides to create cache indexes for query:",Uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(n))):Be.resolve())}Yi(e,n){if(ib(n))return Be.resolve(null);let a=pi(n);return this.indexManager.getIndexType(e,a).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=sy(n,null,"F"),a=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,a).next((l=>{const c=mt(...l);return this.Ji.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,a).next((p=>{const g=this.ts(n,d);return this.ns(n,g,c,p.readTime)?this.Yi(e,sy(n,null,"F")):this.rs(e,g,n,p)}))))})))))}Zi(e,n,a,o){return ib(n)||o.isEqual(nt.min())?Be.resolve(null):this.Ji.getDocuments(e,a).next((l=>{const c=this.ts(n,l);return this.ns(n,c,a,o)?Be.resolve(null):(fu()<=yt.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Uo(n)),this.rs(e,c,n,mM(o,-1)).next((d=>d)))}))}ts(e,n){let a=new Ln(nR(e));return n.forEach(((o,l)=>{Mh(e,l)&&(a=a.add(l))})),a}ns(e,n,a,o){if(e.limit===null)return!1;if(a.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}Xi(e,n,a){return fu()<=yt.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",Uo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Za.min(),a)}rs(e,n,a,o){return this.Ji.getDocumentsMatchingQuery(e,a,o).next((l=>(n.forEach((c=>{l=l.insert(c.key,c)})),l)))}}class jP{constructor(e,n,a,o){this.persistence=e,this.ss=n,this.serializer=o,this.os=new tn(Ot),this._s=new ol((l=>Gy(l)),Ky),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(a)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.os)))}}function FP(r,e,n,a){return new jP(r,e,n,a)}async function SR(r,e){const n=rt(r);return await n.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return n.mutationQueue.getAllMutationBatches(a).next((l=>(o=l,n.ls(e),n.mutationQueue.getAllMutationBatches(a)))).next((l=>{const c=[],d=[];let p=mt();for(const g of o){c.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)p=p.add(y.key)}return n.localDocuments.getDocuments(a,p).next((g=>({hs:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function qP(r,e){const n=rt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=e.batch.keys(),l=n.cs.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,y){const w=g.batch,R=w.keys();let H=Be.resolve();return R.forEach((I=>{H=H.next((()=>y.getEntry(p,I))).next((F=>{const P=g.docVersions.get(I);Lt(P!==null),F.version.compareTo(P)<0&&(w.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),y.addEntry(F)))}))})),H.next((()=>d.mutationQueue.removeMutationBatch(p,w)))})(n,a,e,l).next((()=>l.apply(a))).next((()=>n.mutationQueue.performConsistencyCheck(a))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(d){let p=mt();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(a,o)))}))}function AR(r){const e=rt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Ur.getLastRemoteSnapshotVersion(n)))}function zP(r,e){const n=rt(r),a=e.snapshotVersion;let o=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=n.cs.newChangeBuffer({trackRemovals:!0});o=n.os;const d=[];e.targetChanges.forEach(((y,w)=>{const R=o.get(w);if(!R)return;d.push(n.Ur.removeMatchingKeys(l,y.removedDocuments,w).next((()=>n.Ur.addMatchingKeys(l,y.addedDocuments,w))));let H=R.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?H=H.withResumeToken(Vn.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):y.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(y.resumeToken,a)),o=o.insert(w,H),(function(F,P,O){return F.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(R,H,y)&&d.push(n.Ur.updateTargetData(l,H))}));let p=na(),g=mt();if(e.documentUpdates.forEach((y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(l,y))})),d.push(HP(l,c,e.documentUpdates).next((y=>{p=y.Ps,g=y.Is}))),!a.isEqual(nt.min())){const y=n.Ur.getLastRemoteSnapshotVersion(l).next((w=>n.Ur.setTargetsMetadata(l,l.currentSequenceNumber,a)));d.push(y)}return Be.waitFor(d).next((()=>c.apply(l))).next((()=>n.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(n.os=o,l)))}function HP(r,e,n){let a=mt(),o=mt();return n.forEach((l=>a=a.add(l))),e.getEntries(r,a).next((l=>{let c=na();return n.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(nt.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ze("LocalStore","Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{Ps:c,Is:o}}))}function GP(r,e){const n=rt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(a=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(a,e))))}function KP(r,e){const n=rt(r);return n.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return n.Ur.getTargetData(a,e).next((l=>l?(o=l,Be.resolve(o)):n.Ur.allocateTargetId(a).next((c=>(o=new Ka(e,c,"TargetPurposeListen",a.currentSequenceNumber),n.Ur.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=n.os.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.os=n.os.insert(a.targetId,a),n._s.set(e,a.targetId)),a}))}async function fy(r,e,n){const a=rt(r),o=a.os.get(e),l=n?"readwrite":"readwrite-primary";try{n||await a.persistence.runTransaction("Release target",l,(c=>a.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!zu(c))throw c;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}a.os=a.os.remove(e),a._s.delete(o.target)}function mb(r,e,n){const a=rt(r);let o=nt.min(),l=mt();return a.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,y){const w=rt(p),R=w._s.get(y);return R!==void 0?Be.resolve(w.os.get(R)):w.Ur.getTargetData(g,y)})(a,c,pi(e)).next((d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Ur.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>a.ss.getDocumentsMatchingQuery(c,e,n?o:nt.min(),n?l:mt()))).next((d=>(WP(a,LM(e),d),{documents:d,Ts:l})))))}function WP(r,e,n){let a=r.us.get(e)||nt.min();n.forEach(((o,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)})),r.us.set(e,a)}class gb{constructor(){this.activeTargetIds=HM()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class YP{constructor(){this.so=new gb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,a){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,a){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new gb,Promise.resolve()}handleUserChange(e,n,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class QP{_o(e){}shutdown(){}}class yb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Mf=null;function hm(){return Mf===null?Mf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Mf++,"0x"+Mf.toString(16)}const $P={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XP{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const zn="WebChannelConnection";class JP extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const a=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=a+"://"+n.host,this.vo=`projects/${o}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${l}`}get Fo(){return!1}Mo(n,a,o,l,c){const d=hm(),p=this.xo(n,a.toUriEncodedString());ze("RestConnection",`Sending RPC '${n}' ${d}:`,p,o);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,l,c),this.No(n,p,g,o).then((y=>(ze("RestConnection",`Received RPC '${n}' ${d}: `,y),y)),(y=>{throw Wo("RestConnection",`RPC '${n}' ${d} failed with error: `,y,"url: ",p,"request:",o),y}))}Lo(n,a,o,l,c,d){return this.Mo(n,a,o,l,c)}Oo(n,a,o){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+sl})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach(((l,c)=>n[c]=l)),o&&o.headers.forEach(((l,c)=>n[c]=l))}xo(n,a){const o=$P[n];return`${this.Do}/v1/${a}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,a,o){const l=hm();return new Promise(((c,d)=>{const p=new LA;p.setWithCredentials(!0),p.listenOnce(VA.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Xf.NO_ERROR:const y=p.getResponseJson();ze(zn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case Xf.TIMEOUT:ze(zn,`RPC '${e}' ${l} timed out`),d(new Fe(Me.DEADLINE_EXCEEDED,"Request time out"));break;case Xf.HTTP_ERROR:const w=p.getStatus();if(ze(zn,`RPC '${e}' ${l} failed with status:`,w,"response text:",p.getResponseText()),w>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const H=R?.error;if(H&&H.status&&H.message){const I=(function(P){const O=P.toLowerCase().replace(/_/g,"-");return Object.values(Me).indexOf(O)>=0?O:Me.UNKNOWN})(H.status);d(new Fe(I,H.message))}else d(new Fe(Me.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Fe(Me.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{ze(zn,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(o);ze(zn,`RPC '${e}' ${l} sending request:`,o),p.send(n,"POST",g,a,15)}))}Bo(e,n,a){const o=hm(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=qA(),d=FA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,n,a),p.encodeInitMessageHeaders=!0;const y=l.join("");ze(zn,`Creating RPC '${e}' stream ${o}: ${y}`,p);const w=c.createWebChannel(y,p);let R=!1,H=!1;const I=new XP({Io:P=>{H?ze(zn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(R||(ze(zn,`Opening RPC '${e}' stream ${o} transport.`),w.open(),R=!0),ze(zn,`RPC '${e}' stream ${o} sending:`,P),w.send(P))},To:()=>w.close()}),F=(P,O,U)=>{P.listen(O,(j=>{try{U(j)}catch(K){setTimeout((()=>{throw K}),0)}}))};return F(w,mu.EventType.OPEN,(()=>{H||(ze(zn,`RPC '${e}' stream ${o} transport opened.`),I.yo())})),F(w,mu.EventType.CLOSE,(()=>{H||(H=!0,ze(zn,`RPC '${e}' stream ${o} transport closed`),I.So())})),F(w,mu.EventType.ERROR,(P=>{H||(H=!0,Wo(zn,`RPC '${e}' stream ${o} transport errored:`,P),I.So(new Fe(Me.UNAVAILABLE,"The operation could not be completed")))})),F(w,mu.EventType.MESSAGE,(P=>{var O;if(!H){const U=P.data[0];Lt(!!U);const j=U,K=j.error||((O=j[0])===null||O===void 0?void 0:O.error);if(K){ze(zn,`RPC '${e}' stream ${o} received error:`,K);const X=K.status;let J=(function(D){const W=wn[D];if(W!==void 0)return pR(W)})(X),x=K.message;J===void 0&&(J=Me.INTERNAL,x="Unknown error status: "+X+" with message "+K.message),H=!0,I.So(new Fe(J,x)),w.close()}else ze(zn,`RPC '${e}' stream ${o} received:`,U),I.bo(U)}})),F(d,jA.STAT_EVENT,(P=>{P.stat===ey.PROXY?ze(zn,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===ey.NOPROXY&&ze(zn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{I.wo()}),0),I}}function dm(){return typeof document<"u"?document:null}function Lh(r){return new lP(r,!0)}class RR{constructor(e,n,a=1e3,o=1.5,l=6e4){this.ui=e,this.timerId=n,this.ko=a,this.qo=o,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),a=Math.max(0,Date.now()-this.Uo),o=Math.max(0,n-a);o>0&&ze("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${a} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class CR{constructor(e,n,a,o,l,c,d,p){this.ui=e,this.Ho=a,this.Jo=o,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new RR(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Me.RESOURCE_EXHAUSTED?(ta(n.toString()),ta("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Me.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.Yo===n&&this.P_(a,o)}),(a=>{e((()=>{const o=new Fe(Me.UNKNOWN,"Fetching auth token failed: "+a.message);return this.I_(o)}))}))}P_(e,n){const a=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo((()=>{a((()=>this.listener.Eo()))})),this.stream.Ro((()=>{a((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{a((()=>this.I_(o)))})),this.stream.onMessage((o=>{a((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget((()=>this.Yo===e?n():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ZP extends CR{constructor(e,n,a,o,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,a,o,c),this.serializer=l}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=fP(this.serializer,e),a=(function(l){if(!("targetChange"in l))return nt.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?nt.min():c.readTime?mi(c.readTime):nt.min()})(e);return this.listener.d_(n,a)}A_(e){const n={};n.database=cy(this.serializer),n.addTarget=(function(l,c){let d;const p=c.target;if(d=iy(p)?{documents:pP(l,p)}:{query:mP(l,p)._t},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=yR(l,c.resumeToken);const g=oy(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(nt.min())>0){d.readTime=mh(l,c.snapshotVersion.toTimestamp());const g=oy(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const a=yP(this.serializer,e);a&&(n.labels=a),this.a_(n)}R_(e){const n={};n.database=cy(this.serializer),n.removeTarget=e,this.a_(n)}}class ek extends CR{constructor(e,n,a,o,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,a,o,c),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,Lt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Lt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=dP(e.writeResults,e.commitTime),a=mi(e.commitTime);return this.listener.g_(a,n)}p_(){const e={};e.database=cy(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map((a=>hP(this.serializer,a)))};this.a_(n)}}class tk extends class{}{constructor(e,n,a,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=a,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Fe(Me.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,a,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Mo(e,ly(n,a),o,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Fe(Me.UNKNOWN,l.toString())}))}Lo(e,n,a,o,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Lo(e,ly(n,a),o,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Fe(Me.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class nk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ta(n),this.D_=!1):ze("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}class rk{constructor(e,n,a,o,l){this.localStore=e,this.datastore=n,this.asyncQueue=a,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o((c=>{a.enqueueAndForget((async()=>{Ys(this)&&(ze("RemoteStore","Restarting streams for network reachability change."),await(async function(p){const g=rt(p);g.L_.add(4),await Wu(g),g.q_.set("Unknown"),g.L_.delete(4),await Vh(g)})(this))}))})),this.q_=new nk(a,o)}}async function Vh(r){if(Ys(r))for(const e of r.B_)await e(!0)}async function Wu(r){for(const e of r.B_)await e(!1)}function IR(r,e){const n=rt(r);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),i_(n)?r_(n):ll(n).r_()&&n_(n,e))}function t_(r,e){const n=rt(r),a=ll(n);n.N_.delete(e),a.r_()&&xR(n,e),n.N_.size===0&&(a.r_()?a.o_():Ys(n)&&n.q_.set("Unknown"))}function n_(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ll(r).A_(e)}function xR(r,e){r.Q_.xe(e),ll(r).R_(e)}function r_(r){r.Q_=new iP({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),ll(r).start(),r.q_.v_()}function i_(r){return Ys(r)&&!ll(r).n_()&&r.N_.size>0}function Ys(r){return rt(r).L_.size===0}function OR(r){r.Q_=void 0}async function ik(r){r.q_.set("Online")}async function ak(r){r.N_.forEach(((e,n)=>{n_(r,e)}))}async function sk(r,e){OR(r),i_(r)?(r.q_.M_(e),r_(r)):r.q_.set("Unknown")}async function ok(r,e,n){if(r.q_.set("Online"),e instanceof gR&&e.state===2&&e.cause)try{await(async function(o,l){const c=l.cause;for(const d of l.targetIds)o.N_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.N_.delete(d),o.Q_.removeTarget(d))})(r,e)}catch(a){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),await gh(r,a)}else if(e instanceof eh?r.Q_.Ke(e):e instanceof mR?r.Q_.He(e):r.Q_.We(e),!n.isEqual(nt.min()))try{const a=await AR(r.localStore);n.compareTo(a)>=0&&await(function(l,c){const d=l.Q_.rt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const y=l.N_.get(g);y&&l.N_.set(g,y.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const y=l.N_.get(p);if(!y)return;l.N_.set(p,y.withResumeToken(Vn.EMPTY_BYTE_STRING,y.snapshotVersion)),xR(l,p);const w=new Ka(y.target,p,g,y.sequenceNumber);n_(l,w)})),l.remoteSyncer.applyRemoteEvent(d)})(r,n)}catch(a){ze("RemoteStore","Failed to raise snapshot:",a),await gh(r,a)}}async function gh(r,e,n){if(!zu(e))throw e;r.L_.add(1),await Wu(r),r.q_.set("Offline"),n||(n=()=>AR(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ze("RemoteStore","Retrying IndexedDB access"),await n(),r.L_.delete(1),await Vh(r)}))}function DR(r,e){return e().catch((n=>gh(r,n,e)))}async function jh(r){const e=rt(r),n=ts(e);let a=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;lk(e);)try{const o=await GP(e.localStore,a);if(o===null){e.O_.length===0&&n.o_();break}a=o.batchId,uk(e,o)}catch(o){await gh(e,o)}NR(e)&&MR(e)}function lk(r){return Ys(r)&&r.O_.length<10}function uk(r,e){r.O_.push(e);const n=ts(r);n.r_()&&n.V_&&n.m_(e.mutations)}function NR(r){return Ys(r)&&!ts(r).n_()&&r.O_.length>0}function MR(r){ts(r).start()}async function ck(r){ts(r).p_()}async function fk(r){const e=ts(r);for(const n of r.O_)e.m_(n.mutations)}async function hk(r,e,n){const a=r.O_.shift(),o=Qy.from(a,e,n);await DR(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await jh(r)}async function dk(r,e){e&&ts(r).V_&&await(async function(a,o){if((function(c){return tP(c)&&c!==Me.ABORTED})(o.code)){const l=a.O_.shift();ts(a).s_(),await DR(a,(()=>a.remoteSyncer.rejectFailedWrite(l.batchId,o))),await jh(a)}})(r,e),NR(r)&&MR(r)}async function _b(r,e){const n=rt(r);n.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const a=Ys(n);n.L_.add(3),await Wu(n),a&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Vh(n)}async function pk(r,e){const n=rt(r);e?(n.L_.delete(2),await Vh(n)):e||(n.L_.add(2),await Wu(n),n.q_.set("Unknown"))}function ll(r){return r.K_||(r.K_=(function(n,a,o){const l=rt(n);return l.w_(),new ZP(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Eo:ik.bind(null,r),Ro:ak.bind(null,r),mo:sk.bind(null,r),d_:ok.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),i_(r)?r_(r):r.q_.set("Unknown")):(await r.K_.stop(),OR(r))}))),r.K_}function ts(r){return r.U_||(r.U_=(function(n,a,o){const l=rt(n);return l.w_(),new ek(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ck.bind(null,r),mo:dk.bind(null,r),f_:fk.bind(null,r),g_:hk.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await jh(r)):(await r.U_.stop(),r.O_.length>0&&(ze("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}class a_{constructor(e,n,a,o,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=a,this.op=o,this.removalCallback=l,this.deferred=new $i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,a,o,l){const c=Date.now()+a,d=new a_(e,n,c,o,l);return d.start(a),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Fe(Me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function s_(r,e){if(ta("AsyncQueue",`${e}: ${r}`),zu(r))return new Fe(Me.UNAVAILABLE,`${e}: ${r}`);throw r}class Go{constructor(e){this.comparator=e?(n,a)=>e(n,a)||Ye.comparator(n.key,a.key):(n,a)=>Ye.comparator(n.key,a.key),this.keyedMap=gu(),this.sortedSet=new tn(this.comparator)}static emptySet(e){return new Go(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,a)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,l=a.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const a=new Go;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=n,a}}class vb{constructor(){this.W_=new tn(Ye.comparator)}track(e){const n=e.doc.key,a=this.W_.get(n);a?e.type!==0&&a.type===3?this.W_=this.W_.insert(n,e):e.type===3&&a.type!==1?this.W_=this.W_.insert(n,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.W_=this.W_.remove(n):e.type===1&&a.type===2?this.W_=this.W_.insert(n,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Je():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal(((n,a)=>{e.push(a)})),e}}class Zo{constructor(e,n,a,o,l,c,d,p,g){this.query=e,this.docs=n,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,a,o,l){const c=[];return n.forEach((d=>{c.push({type:0,doc:d})})),new Zo(e,n,Go.emptySet(n),c,a,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,a=e.docChanges;if(n.length!==a.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==a[o].type||!n[o].doc.isEqual(a[o].doc))return!1;return!0}}class mk{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class gk{constructor(){this.queries=Eb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,a){const o=rt(n),l=o.queries;o.queries=Eb(),l.forEach(((c,d)=>{for(const p of d.j_)p.onError(a)}))})(this,new Fe(Me.ABORTED,"Firestore shutting down"))}}function Eb(){return new ol((r=>tR(r)),Nh)}async function o_(r,e){const n=rt(r);let a=3;const o=e.query;let l=n.queries.get(o);l?!l.H_()&&e.J_()&&(a=2):(l=new mk,a=e.J_()?0:1);try{switch(a){case 0:l.z_=await n.onListen(o,!0);break;case 1:l.z_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(c){const d=s_(c,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,l),l.j_.push(e),e.Z_(n.onlineState),l.z_&&e.X_(l.z_)&&u_(n)}async function l_(r,e){const n=rt(r),a=e.query;let o=3;const l=n.queries.get(a);if(l){const c=l.j_.indexOf(e);c>=0&&(l.j_.splice(c,1),l.j_.length===0?o=e.J_()?0:1:!l.H_()&&e.J_()&&(o=2))}switch(o){case 0:return n.queries.delete(a),n.onUnlisten(a,!0);case 1:return n.queries.delete(a),n.onUnlisten(a,!1);case 2:return n.onLastRemoteStoreUnlisten(a);default:return}}function yk(r,e){const n=rt(r);let a=!1;for(const o of e){const l=o.query,c=n.queries.get(l);if(c){for(const d of c.j_)d.X_(o)&&(a=!0);c.z_=o}}a&&u_(n)}function _k(r,e,n){const a=rt(r),o=a.queries.get(e);if(o)for(const l of o.j_)l.onError(n);a.queries.delete(e)}function u_(r){r.Y_.forEach((e=>{e.next()}))}var hy,wb;(wb=hy||(hy={})).ea="default",wb.Cache="cache";class c_{constructor(e,n,a){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=a||{}}X_(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new Zo(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const a=n!=="Offline";return(!this.options._a||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==hy.Cache}}class PR{constructor(e){this.key=e}}class kR{constructor(e){this.key=e}}class vk{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=mt(),this.mutatedKeys=mt(),this.Aa=nR(e),this.Ra=new Go(this.Aa)}get Va(){return this.Ta}ma(e,n){const a=n?n.fa:new vb,o=n?n.Ra:this.Ra;let l=n?n.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((y,w)=>{const R=o.get(y),H=Mh(this.query,w)?w:null,I=!!R&&this.mutatedKeys.has(R.key),F=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let P=!1;R&&H?R.data.isEqual(H.data)?I!==F&&(a.track({type:3,doc:H}),P=!0):this.ga(R,H)||(a.track({type:2,doc:H}),P=!0,(p&&this.Aa(H,p)>0||g&&this.Aa(H,g)<0)&&(d=!0)):!R&&H?(a.track({type:0,doc:H}),P=!0):R&&!H&&(a.track({type:1,doc:R}),P=!0,(p||g)&&(d=!0)),P&&(H?(c=c.add(H),l=F?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),a.track({type:1,doc:y})}return{Ra:c,fa:a,ns:d,mutatedKeys:l}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,a,o){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((y,w)=>(function(H,I){const F=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return F(H)-F(I)})(y.type,w.type)||this.Aa(y.doc,w.doc))),this.pa(a),o=o!=null&&o;const d=n&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,g=p!==this.Ea;return this.Ea=p,c.length!==0||g?{snapshot:new Zo(this.query,e.Ra,l,c,e.mutatedKeys,p===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),wa:d}:{wa:d}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new vb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((n=>this.Ta=this.Ta.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ta=this.Ta.delete(n))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=mt(),this.Ra.forEach((a=>{this.Sa(a.key)&&(this.da=this.da.add(a.key))}));const n=[];return e.forEach((a=>{this.da.has(a)||n.push(new kR(a))})),this.da.forEach((a=>{e.has(a)||n.push(new PR(a))})),n}ba(e){this.Ta=e.Ts,this.da=mt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Zo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Ek{constructor(e,n,a){this.query=e,this.targetId=n,this.view=a}}class wk{constructor(e){this.key=e,this.va=!1}}class bk{constructor(e,n,a,o,l,c){this.localStore=e,this.remoteStore=n,this.eventManager=a,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new ol((d=>tR(d)),Nh),this.Ma=new Map,this.xa=new Set,this.Oa=new tn(Ye.comparator),this.Na=new Map,this.La=new Jy,this.Ba={},this.ka=new Map,this.qa=Jo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Tk(r,e,n=!0){const a=FR(r);let o;const l=a.Fa.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Da()):o=await BR(a,e,n,!0),o}async function Sk(r,e){const n=FR(r);await BR(n,e,!0,!1)}async function BR(r,e,n,a){const o=await KP(r.localStore,pi(e)),l=o.targetId,c=r.sharedClientState.addLocalQueryTarget(l,n);let d;return a&&(d=await Ak(r,e,l,c==="current",o.resumeToken)),r.isPrimaryClient&&n&&IR(r.remoteStore,o),d}async function Ak(r,e,n,a,o){r.Ka=(w,R,H)=>(async function(F,P,O,U){let j=P.view.ma(O);j.ns&&(j=await mb(F.localStore,P.query,!1).then((({documents:x})=>P.view.ma(x,j))));const K=U&&U.targetChanges.get(P.targetId),X=U&&U.targetMismatches.get(P.targetId)!=null,J=P.view.applyChanges(j,F.isPrimaryClient,K,X);return Tb(F,P.targetId,J.wa),J.snapshot})(r,w,R,H);const l=await mb(r.localStore,e,!0),c=new vk(e,l.Ts),d=c.ma(l.documents),p=Ku.createSynthesizedTargetChangeForCurrentChange(n,a&&r.onlineState!=="Offline",o),g=c.applyChanges(d,r.isPrimaryClient,p);Tb(r,n,g.wa);const y=new Ek(e,n,c);return r.Fa.set(e,y),r.Ma.has(n)?r.Ma.get(n).push(e):r.Ma.set(n,[e]),g.snapshot}async function Rk(r,e,n){const a=rt(r),o=a.Fa.get(e),l=a.Ma.get(o.targetId);if(l.length>1)return a.Ma.set(o.targetId,l.filter((c=>!Nh(c,e)))),void a.Fa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await fy(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),n&&t_(a.remoteStore,o.targetId),dy(a,o.targetId)})).catch(qu)):(dy(a,o.targetId),await fy(a.localStore,o.targetId,!0))}async function Ck(r,e){const n=rt(r),a=n.Fa.get(e),o=n.Ma.get(a.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(a.targetId),t_(n.remoteStore,a.targetId))}async function Ik(r,e,n){const a=kk(r);try{const o=await(function(c,d){const p=rt(c),g=An.now(),y=d.reduce(((H,I)=>H.add(I.key)),mt());let w,R;return p.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let I=na(),F=mt();return p.cs.getEntries(H,y).next((P=>{I=P,I.forEach(((O,U)=>{U.isValidDocument()||(F=F.add(O))}))})).next((()=>p.localDocuments.getOverlayedDocuments(H,I))).next((P=>{w=P;const O=[];for(const U of d){const j=$M(U,w.get(U.key).overlayedDocument);j!=null&&O.push(new is(U.key,j,WA(j.value.mapValue),nr.exists(!0)))}return p.mutationQueue.addMutationBatch(H,g,O,d)})).next((P=>{R=P;const O=P.applyToLocalDocumentSet(w,F);return p.documentOverlayCache.saveOverlays(H,P.batchId,O)}))})).then((()=>({batchId:R.batchId,changes:iR(w)})))})(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),(function(c,d,p){let g=c.Ba[c.currentUser.toKey()];g||(g=new tn(Ot)),g=g.insert(d,p),c.Ba[c.currentUser.toKey()]=g})(a,o.batchId,n),await Yu(a,o.changes),await jh(a.remoteStore)}catch(o){const l=s_(o,"Failed to persist write");n.reject(l)}}async function UR(r,e){const n=rt(r);try{const a=await zP(n.localStore,e);e.targetChanges.forEach(((o,l)=>{const c=n.Na.get(l);c&&(Lt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?Lt(c.va):o.removedDocuments.size>0&&(Lt(c.va),c.va=!1))})),await Yu(n,a,e)}catch(a){await qu(a)}}function bb(r,e,n){const a=rt(r);if(a.isPrimaryClient&&n===0||!a.isPrimaryClient&&n===1){const o=[];a.Fa.forEach(((l,c)=>{const d=c.view.Z_(e);d.snapshot&&o.push(d.snapshot)})),(function(c,d){const p=rt(c);p.onlineState=d;let g=!1;p.queries.forEach(((y,w)=>{for(const R of w.j_)R.Z_(d)&&(g=!0)})),g&&u_(p)})(a.eventManager,e),o.length&&a.Ca.d_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function xk(r,e,n){const a=rt(r);a.sharedClientState.updateQueryState(e,"rejected",n);const o=a.Na.get(e),l=o&&o.key;if(l){let c=new tn(Ye.comparator);c=c.insert(l,Kn.newNoDocument(l,nt.min()));const d=mt().add(l),p=new Uh(nt.min(),new Map,new tn(Ot),c,d);await UR(a,p),a.Oa=a.Oa.remove(l),a.Na.delete(e),f_(a)}else await fy(a.localStore,e,!1).then((()=>dy(a,e,n))).catch(qu)}async function Ok(r,e){const n=rt(r),a=e.batch.batchId;try{const o=await qP(n.localStore,e);VR(n,a,null),LR(n,a),n.sharedClientState.updateMutationState(a,"acknowledged"),await Yu(n,o)}catch(o){await qu(o)}}async function Dk(r,e,n){const a=rt(r);try{const o=await(function(c,d){const p=rt(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return p.mutationQueue.lookupMutationBatch(g,d).next((w=>(Lt(w!==null),y=w.keys(),p.mutationQueue.removeMutationBatch(g,w)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,y,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>p.localDocuments.getDocuments(g,y)))}))})(a.localStore,e);VR(a,e,n),LR(a,e),a.sharedClientState.updateMutationState(e,"rejected",n),await Yu(a,o)}catch(o){await qu(o)}}function LR(r,e){(r.ka.get(e)||[]).forEach((n=>{n.resolve()})),r.ka.delete(e)}function VR(r,e,n){const a=rt(r);let o=a.Ba[a.currentUser.toKey()];if(o){const l=o.get(e);l&&(n?l.reject(n):l.resolve(),o=o.remove(e)),a.Ba[a.currentUser.toKey()]=o}}function dy(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.Ma.get(e))r.Fa.delete(a),n&&r.Ca.$a(a,n);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((a=>{r.La.containsKey(a)||jR(r,a)}))}function jR(r,e){r.xa.delete(e.path.canonicalString());const n=r.Oa.get(e);n!==null&&(t_(r.remoteStore,n),r.Oa=r.Oa.remove(e),r.Na.delete(n),f_(r))}function Tb(r,e,n){for(const a of n)a instanceof PR?(r.La.addReference(a.key,e),Nk(r,a)):a instanceof kR?(ze("SyncEngine","Document no longer in limbo: "+a.key),r.La.removeReference(a.key,e),r.La.containsKey(a.key)||jR(r,a.key)):Je()}function Nk(r,e){const n=e.key,a=n.path.canonicalString();r.Oa.get(n)||r.xa.has(a)||(ze("SyncEngine","New document in limbo: "+n),r.xa.add(a),f_(r))}function f_(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const n=new Ye(Qt.fromString(e)),a=r.qa.next();r.Na.set(a,new wk(n)),r.Oa=r.Oa.insert(n,a),IR(r.remoteStore,new Ka(pi(Dh(n.path)),a,"TargetPurposeLimboResolution",Fy.oe))}}async function Yu(r,e,n){const a=rt(r),o=[],l=[],c=[];a.Fa.isEmpty()||(a.Fa.forEach(((d,p)=>{c.push(a.Ka(p,e,n).then((g=>{var y;if((g||n)&&a.isPrimaryClient){const w=g?!g.fromCache:(y=n?.targetChanges.get(p.targetId))===null||y===void 0?void 0:y.current;a.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=e_.Wi(p.targetId,g);l.push(w)}})))})),await Promise.all(c),a.Ca.d_(o),await(async function(p,g){const y=rt(p);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>Be.forEach(g,(R=>Be.forEach(R.$i,(H=>y.persistence.referenceDelegate.addReference(w,R.targetId,H))).next((()=>Be.forEach(R.Ui,(H=>y.persistence.referenceDelegate.removeReference(w,R.targetId,H)))))))))}catch(w){if(!zu(w))throw w;ze("LocalStore","Failed to update sequence numbers: "+w)}for(const w of g){const R=w.targetId;if(!w.fromCache){const H=y.os.get(R),I=H.snapshotVersion,F=H.withLastLimboFreeSnapshotVersion(I);y.os=y.os.insert(R,F)}}})(a.localStore,l))}async function Mk(r,e){const n=rt(r);if(!n.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const a=await SR(n.localStore,e);n.currentUser=e,(function(l,c){l.ka.forEach((d=>{d.forEach((p=>{p.reject(new Fe(Me.CANCELLED,c))}))})),l.ka.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Yu(n,a.hs)}}function Pk(r,e){const n=rt(r),a=n.Na.get(e);if(a&&a.va)return mt().add(a.key);{let o=mt();const l=n.Ma.get(e);if(!l)return o;for(const c of l){const d=n.Fa.get(c);o=o.unionWith(d.view.Va)}return o}}function FR(r){const e=rt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=UR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xk.bind(null,e),e.Ca.d_=yk.bind(null,e.eventManager),e.Ca.$a=_k.bind(null,e.eventManager),e}function kk(r){const e=rt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ok.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dk.bind(null,e),e}class yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return FP(this.persistence,new VP,e.initialUser,this.serializer)}Ga(e){return new BP(Zy.Zr,this.serializer)}Wa(e){return new YP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yh.provider={build:()=>new yh};class py{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>bb(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mk.bind(null,this.syncEngine),await pk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new gk})()}createDatastore(e){const n=Lh(e.databaseInfo.databaseId),a=(function(l){return new JP(l)})(e.databaseInfo);return(function(l,c,d,p){return new tk(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,a,n)}createRemoteStore(e){return(function(a,o,l,c,d){return new rk(a,o,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>bb(this.syncEngine,n,0)),(function(){return yb.D()?new yb:new QP})())}createSyncEngine(e,n){return(function(o,l,c,d,p,g,y){const w=new bk(o,l,c,d,p,g);return y&&(w.Qa=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const l=rt(o);ze("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await Wu(l),l.k_.shutdown(),l.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}py.provider={build:()=>new py};class h_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ta("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}class Bk{constructor(e,n,a,o,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=a,this.databaseInfo=o,this.user=Hn.UNAUTHENTICATED,this.clientId=HA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,(async c=>{ze("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(a,(c=>(ze("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const a=s_(n,"Failed to shutdown persistence");e.reject(a)}})),e.promise}}async function pm(r,e){r.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let a=n.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await SR(e.localStore,o),a=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function Sb(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Uk(r);ze("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((a=>_b(e.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>_b(e.remoteStore,o))),r._onlineComponents=e}async function Uk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{await pm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Me.FAILED_PRECONDITION||o.code===Me.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Wo("Error using user provided cache. Falling back to memory cache: "+n),await pm(r,new yh)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),await pm(r,new yh);return r._offlineComponents}async function qR(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),await Sb(r,r._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),await Sb(r,new py))),r._onlineComponents}function Lk(r){return qR(r).then((e=>e.syncEngine))}async function _h(r){const e=await qR(r),n=e.eventManager;return n.onListen=Tk.bind(null,e.syncEngine),n.onUnlisten=Rk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Sk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ck.bind(null,e.syncEngine),n}function Vk(r,e,n={}){const a=new $i;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const y=new h_({next:R=>{y.Za(),c.enqueueAndForget((()=>l_(l,w)));const H=R.docs.has(d);!H&&R.fromCache?g.reject(new Fe(Me.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&R.fromCache&&p&&p.source==="server"?g.reject(new Fe(Me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),w=new c_(Dh(d.path),y,{includeMetadataChanges:!0,_a:!0});return o_(l,w)})(await _h(r),r.asyncQueue,e,n,a))),a.promise}function jk(r,e,n={}){const a=new $i;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const y=new h_({next:R=>{y.Za(),c.enqueueAndForget((()=>l_(l,w))),R.fromCache&&p.source==="server"?g.reject(new Fe(Me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),w=new c_(d,y,{includeMetadataChanges:!0,_a:!0});return o_(l,w)})(await _h(r),r.asyncQueue,e,n,a))),a.promise}function zR(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Ab=new Map;function HR(r,e,n){if(!n)throw new Fe(Me.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Fk(r,e,n,a){if(e===!0&&a===!0)throw new Fe(Me.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Rb(r){if(!Ye.isDocumentKey(r))throw new Fe(Me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Cb(r){if(Ye.isDocumentKey(r))throw new Fe(Me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Fh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(a){return a.constructor?a.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Je()}function rr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Fe(Me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(r);throw new Fe(Me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}class Ib{constructor(e){var n,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Fe(Me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Fe(Me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Fk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zR((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Fe(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Fe(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Fe(Me.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,n,a,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ib({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Fe(Me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Fe(Me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ib(e),e.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new sM;switch(a.type){case"firstParty":return new cM(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Fe(Me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const a=Ab.get(n);a&&(ze("ComponentProvider","Removing Datastore"),Ab.delete(n),a.terminate())})(this),Promise.resolve()}}function qk(r,e,n,a={}){var o;const l=(r=rr(r,qh))._getSettings(),c=`${e}:${n}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),a.mockUserToken){let d,p;if(typeof a.mockUserToken=="string")d=a.mockUserToken,p=Hn.MOCK_USER;else{d=GS(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const g=a.mockUserToken.sub||a.mockUserToken.user_id;if(!g)throw new Fe(Me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Hn(g)}r._authCredentials=new oM(new zA(d,p))}}class Qs{constructor(e,n,a){this.converter=n,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Qs(this.firestore,e,this._query)}}class Wn{constructor(e,n,a){this.converter=n,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wn(this.firestore,e,this._key)}}class Xa extends Qs{constructor(e,n,a){super(e,n,Dh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wn(this.firestore,null,new Ye(e))}withConverter(e){return new Xa(this.firestore,e,this._path)}}function Gn(r,e,...n){if(r=$t(r),HR("collection","path",e),r instanceof qh){const a=Qt.fromString(e,...n);return Cb(a),new Xa(r,null,a)}{if(!(r instanceof Wn||r instanceof Xa))throw new Fe(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Qt.fromString(e,...n));return Cb(a),new Xa(r.firestore,null,a)}}function zt(r,e,...n){if(r=$t(r),arguments.length===1&&(e=HA.newId()),HR("doc","path",e),r instanceof qh){const a=Qt.fromString(e,...n);return Rb(a),new Wn(r,null,new Ye(a))}{if(!(r instanceof Wn||r instanceof Xa))throw new Fe(Me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(Qt.fromString(e,...n));return Rb(a),new Wn(r.firestore,r instanceof Xa?r.converter:null,new Ye(a))}}class xb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new RR(this,"async_queue_retry"),this.Vu=()=>{const a=dm();a&&ze("AsyncQueue","Visibility state changed to "+a.visibilityState),this.t_.jo()},this.mu=e;const n=dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const n=new $i;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!zu(e))throw e;ze("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const n=this.mu.then((()=>(this.du=!0,e().catch((a=>{this.Eu=a,this.du=!1;const o=(function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d})(a);throw ta("INTERNAL UNHANDLED ERROR: ",o),a})).then((a=>(this.du=!1,a))))));return this.mu=n,n}enqueueAfterDelay(e,n,a){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const o=a_.createAndSchedule(this,e,n,a,(l=>this.yu(l)));return this.Tu.push(o),o}fu(){this.Eu&&Je()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((n,a)=>n.targetTimeMs-a.targetTimeMs));for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function Ob(r){return(function(n,a){if(typeof n!="object"||n===null)return!1;const o=n;for(const l of a)if(l in o&&typeof o[l]=="function")return!0;return!1})(r,["next","error","complete"])}class yi extends qh{constructor(e,n,a,o){super(e,n,a,o),this.type="firestore",this._queue=new xb,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new xb(e),this._firestoreClient=void 0,await e}}}function zk(r,e){const n=typeof r=="object"?r:Iy(),a=typeof r=="string"?r:"(default)",o=Sh(n,"firestore").getImmediate({identifier:a});if(!o._initialized){const l=qS("firestore");l&&qk(o,...l)}return o}function Qu(r){if(r._terminated)throw new Fe(Me.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Hk(r),r._firestoreClient}function Hk(r){var e,n,a;const o=r._freezeSettings(),l=(function(d,p,g,y){return new TM(d,p,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,zR(y.experimentalLongPollingOptions),y.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Bk(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&(function(d){const p=d?._online.build();return{_offline:d?._offline.build(p),_online:p}})(r._componentsProvider))}class el{constructor(e){this._byteString=e}static fromBase64String(e){try{return new el(Vn.fromBase64String(e))}catch(n){throw new Fe(Me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new el(Vn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class $u{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Fe(Me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ul{constructor(e){this._methodName=e}}class d_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Fe(Me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Fe(Me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}class p_{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(a,o){if(a.length!==o.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==o[l])return!1;return!0})(this._values,e._values)}}const Gk=/^__.*__$/;class Kk{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return this.fieldMask!==null?new is(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gu(e,this.data,n,this.fieldTransforms)}}class GR{constructor(e,n,a){this.data=e,this.fieldMask=n,this.fieldTransforms=a}toMutation(e,n){return new is(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function KR(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class zh{constructor(e,n,a,o,l,c){this.settings=e,this.databaseId=n,this.serializer=a,this.ignoreUndefinedProperties=o,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new zh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:a,xu:!1});return o.Ou(e),o}Nu(e){var n;const a=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Fu({path:a,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(KR(this.Cu)&&Gk.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Wk{constructor(e,n,a){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=a||Lh(e)}Qu(e,n,a,o=!1){return new zh({Cu:e,methodName:n,qu:a,path:Un.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xu(r){const e=r._freezeSettings(),n=Lh(r._databaseId);return new Wk(r._databaseId,!!e.ignoreUndefinedProperties,n)}function m_(r,e,n,a,o,l={}){const c=r.Qu(l.merge||l.mergeFields?2:0,e,n,o);v_("Data must be an object, but it was:",c,a);const d=QR(a,c);let p,g;if(l.merge)p=new Ar(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const w of l.mergeFields){const R=my(e,w,n);if(!c.contains(R))throw new Fe(Me.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);XR(y,R)||y.push(R)}p=new Ar(y),g=c.fieldTransforms.filter((w=>p.covers(w.field)))}else p=null,g=c.fieldTransforms;return new Kk(new dr(d),p,g)}class Hh extends ul{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}function Yk(r,e,n){return new zh({Cu:3,qu:e.settings.qu,methodName:r._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class g_ extends ul{_toFieldTransform(e){return new Yy(e.path,new Mu)}isEqual(e){return e instanceof g_}}class y_ extends ul{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=Yk(this,e,!0),a=this.Ku.map((l=>cl(l,n))),o=new Xo(a);return new Yy(e.path,o)}isEqual(e){return e instanceof y_&&Ru(this.Ku,e.Ku)}}class __ extends ul{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new ku(e.serializer,oR(e.serializer,this.$u));return new Yy(e.path,n)}isEqual(e){return e instanceof __&&this.$u===e.$u}}function WR(r,e,n,a){const o=r.Qu(1,e,n);v_("Data must be an object, but it was:",o,a);const l=[],c=dr.empty();Ws(a,((p,g)=>{const y=E_(e,p,n);g=$t(g);const w=o.Nu(y);if(g instanceof Hh)l.push(y);else{const R=cl(g,w);R!=null&&(l.push(y),c.set(y,R))}}));const d=new Ar(l);return new GR(c,d,o.fieldTransforms)}function YR(r,e,n,a,o,l){const c=r.Qu(1,e,n),d=[my(e,a,n)],p=[o];if(l.length%2!=0)throw new Fe(Me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<l.length;R+=2)d.push(my(e,l[R])),p.push(l[R+1]);const g=[],y=dr.empty();for(let R=d.length-1;R>=0;--R)if(!XR(g,d[R])){const H=d[R];let I=p[R];I=$t(I);const F=c.Nu(H);if(I instanceof Hh)g.push(H);else{const P=cl(I,F);P!=null&&(g.push(H),y.set(H,P))}}const w=new Ar(g);return new GR(y,w,c.fieldTransforms)}function Qk(r,e,n,a=!1){return cl(n,r.Qu(a?4:3,e))}function cl(r,e){if($R(r=$t(r)))return v_("Unsupported field value:",e,r),QR(r,e);if(r instanceof ul)return(function(a,o){if(!KR(o.Cu))throw o.Bu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(a,o){const l=[];let c=0;for(const d of a){let p=cl(d,o.Lu(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(r,e)}return(function(a,o){if((a=$t(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return oR(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=An.fromDate(a);return{timestampValue:mh(o.serializer,l)}}if(a instanceof An){const l=new An(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:mh(o.serializer,l)}}if(a instanceof d_)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof el)return{bytesValue:yR(o.serializer,a._byteString)};if(a instanceof Wn){const l=o.databaseId,c=a.firestore._databaseId;if(!c.isEqual(l))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Xy(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof p_)return(function(c,d){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Bu("VectorValues must only contain numeric values.");return Wy(d.serializer,p)}))}}}}}})(a,o);throw o.Bu(`Unsupported field value: ${Fh(a)}`)})(r,e)}function QR(r,e){const n={};return GA(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(r,((a,o)=>{const l=cl(o,e.Mu(a));l!=null&&(n[a]=l)})),{mapValue:{fields:n}}}function $R(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof An||r instanceof d_||r instanceof el||r instanceof Wn||r instanceof ul||r instanceof p_)}function v_(r,e,n){if(!$R(n)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(n)){const a=Fh(n);throw a==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+a)}}function my(r,e,n){if((e=$t(e))instanceof $u)return e._internalPath;if(typeof e=="string")return E_(r,e);throw vh("Field path arguments must be of type string or ",r,!1,void 0,n)}const $k=new RegExp("[~\\*/\\[\\]]");function E_(r,e,n){if(e.search($k)>=0)throw vh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new $u(...e.split("."))._internalPath}catch{throw vh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function vh(r,e,n,a,o){const l=a&&!a.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${a}`),c&&(p+=` in document ${o}`),p+=")"),new Fe(Me.INVALID_ARGUMENT,d+r+p)}function XR(r,e){return r.some((n=>n.isEqual(e)))}class JR{constructor(e,n,a,o,l){this._firestore=e,this._userDataWriter=n,this._key=a,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(w_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Xk extends JR{data(){return super.data()}}function w_(r,e){return typeof e=="string"?E_(r,e):e instanceof $u?e._internalPath:e._delegate._internalPath}function ZR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Fe(Me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b_{}class Jk extends b_{}function Ps(r,e,...n){let a=[];e instanceof b_&&a.push(e),a=a.concat(n),(function(l){const c=l.filter((p=>p instanceof T_)).length,d=l.filter((p=>p instanceof Gh)).length;if(c>1||c>0&&d>0)throw new Fe(Me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const o of a)r=o._apply(r);return r}class Gh extends Jk{constructor(e,n,a){super(),this._field=e,this._op=n,this._value=a,this.type="where"}static _create(e,n,a){return new Gh(e,n,a)}_apply(e){const n=this._parse(e);return e1(e._query,n),new Qs(e.firestore,e.converter,ay(e._query,n))}_parse(e){const n=Xu(e.firestore);return(function(l,c,d,p,g,y,w){let R;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new Fe(Me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Nb(w,y);const H=[];for(const I of w)H.push(Db(p,l,I));R={arrayValue:{values:H}}}else R=Db(p,l,w)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Nb(w,y),R=Qk(d,c,w,y==="in"||y==="not-in");return Tn.create(g,y,R)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kr(r,e,n){const a=e,o=w_("where",r);return Gh._create(o,a,n)}class T_ extends b_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new T_(e,n)}_parse(e){const n=this._queryConstraints.map((a=>a._parse(e))).filter((a=>a.getFilters().length>0));return n.length===1?n[0]:$r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,l){let c=o;const d=l.getFlattenedFilters();for(const p of d)e1(c,p),c=ay(c,p)})(e._query,n),new Qs(e.firestore,e.converter,ay(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Db(r,e,n){if(typeof(n=$t(n))=="string"){if(n==="")throw new Fe(Me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eR(e)&&n.indexOf("/")!==-1)throw new Fe(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const a=e.path.child(Qt.fromString(n));if(!Ye.isDocumentKey(a))throw new Fe(Me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Jw(r,new Ye(a))}if(n instanceof Wn)return Jw(r,n._key);throw new Fe(Me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function Nb(r,e){if(!Array.isArray(r)||r.length===0)throw new Fe(Me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function e1(r,e){const n=(function(o,l){for(const c of o)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Fe(Me.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Fe(Me.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Zk{convertValue(e,n="none"){switch(zs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Je()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const a={};return Ws(e,((o,l)=>{a[o]=this.convertValue(l,n)})),a}convertVectorValue(e){var n,a,o;const l=(o=(a=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map((c=>pn(c.doubleValue)));return new p_(l)}convertGeoPoint(e){return new d_(pn(e.latitude),pn(e.longitude))}convertArray(e,n){return(e.values||[]).map((a=>this.convertValue(a,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const a=zy(e);return a==null?null:this.convertValue(a,n);case"estimate":return this.convertTimestamp(Ou(e));default:return null}}convertTimestamp(e){const n=es(e);return new An(n.seconds,n.nanos)}convertDocumentKey(e,n){const a=Qt.fromString(e);Lt(TR(a));const o=new Du(a.get(1),a.get(3)),l=new Ye(a.popFirst(5));return o.isEqual(n)||ta(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}function S_(r,e,n){let a;return a=r?n&&(n.merge||n.mergeFields)?r.toFirestore(e,n):r.toFirestore(e):e,a}class _u{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class t1 extends JR{constructor(e,n,a,o,l,c){super(e,n,a,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const a=this._document.data.field(w_("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,n.serverTimestamps)}}}class th extends t1{data(e={}){return super.data(e)}}class n1{constructor(e,n,a,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new _u(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((a=>{e.call(n,new th(this._firestore,this._userDataWriter,a.key,a,new _u(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Fe(Me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((d=>{const p=new th(o._firestore,o._userDataWriter,d.doc.key,d.doc,new _u(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new th(o._firestore,o._userDataWriter,d.doc.key,d.doc,new _u(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:eB(d.type),doc:p,oldIndex:g,newIndex:y}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function eB(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Je()}}function Eh(r){r=rr(r,Wn);const e=rr(r.firestore,yi);return Vk(Qu(e),r._key).then((n=>i1(e,r,n)))}class A_ extends Zk{constructor(e){super(),this.firestore=e}convertBytes(e){return new el(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wn(this.firestore,null,n)}}function gy(r){r=rr(r,Qs);const e=rr(r.firestore,yi),n=Qu(e),a=new A_(e);return ZR(r._query),jk(n,r._query).then((o=>new n1(e,a,r,o)))}function R_(r,e,n){r=rr(r,Wn);const a=rr(r.firestore,yi),o=S_(r.converter,e,n);return Ju(a,[m_(Xu(a),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,nr.none())])}function hr(r,e,n,...a){r=rr(r,Wn);const o=rr(r.firestore,yi),l=Xu(o);let c;return c=typeof(e=$t(e))=="string"||e instanceof $u?YR(l,"updateDoc",r._key,e,n,a):WR(l,"updateDoc",r._key,e),Ju(o,[c.toMutation(r._key,nr.exists(!0))])}function Mb(r){return Ju(rr(r.firestore,yi),[new Bh(r._key,nr.none())])}function r1(r,e){const n=rr(r.firestore,yi),a=zt(r),o=S_(r.converter,e);return Ju(n,[m_(Xu(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,nr.exists(!1))]).then((()=>a))}function Wr(r,...e){var n,a,o;r=$t(r);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||Ob(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Ob(e[c])){const w=e[c];e[c]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[c+1]=(a=w.error)===null||a===void 0?void 0:a.bind(w),e[c+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,y;if(r instanceof Wn)g=rr(r.firestore,yi),y=Dh(r._key.path),p={next:w=>{e[c]&&e[c](i1(g,r,w))},error:e[c+1],complete:e[c+2]};else{const w=rr(r,Qs);g=rr(w.firestore,yi),y=w._query;const R=new A_(g);p={next:H=>{e[c]&&e[c](new n1(g,R,w,H))},error:e[c+1],complete:e[c+2]},ZR(r._query)}return(function(R,H,I,F){const P=new h_(F),O=new c_(H,P,I);return R.asyncQueue.enqueueAndForget((async()=>o_(await _h(R),O))),()=>{P.Za(),R.asyncQueue.enqueueAndForget((async()=>l_(await _h(R),O)))}})(Qu(g),y,d,p)}function Ju(r,e){return(function(a,o){const l=new $i;return a.asyncQueue.enqueueAndForget((async()=>Ik(await Lk(a),o,l))),l.promise})(Qu(r),e)}function i1(r,e,n){const a=n.docs.get(e._key),o=new A_(r);return new t1(r,o,e._key,a,new _u(n.hasPendingWrites,n.fromCache),e.converter)}class tB{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Xu(e)}set(e,n,a){this._verifyNotCommitted();const o=mm(e,this._firestore),l=S_(o.converter,n,a),c=m_(this._dataReader,"WriteBatch.set",o._key,l,o.converter!==null,a);return this._mutations.push(c.toMutation(o._key,nr.none())),this}update(e,n,a,...o){this._verifyNotCommitted();const l=mm(e,this._firestore);let c;return c=typeof(n=$t(n))=="string"||n instanceof $u?YR(this._dataReader,"WriteBatch.update",l._key,n,a,o):WR(this._dataReader,"WriteBatch.update",l._key,n),this._mutations.push(c.toMutation(l._key,nr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=mm(e,this._firestore);return this._mutations=this._mutations.concat(new Bh(n._key,nr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(Me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mm(r,e){if((r=$t(r)).firestore!==e)throw new Fe(Me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function hu(){return new g_("serverTimestamp")}function nB(...r){return new y_("arrayUnion",r)}function Gr(r){return new __("increment",r)}function nh(r){return Qu(r=rr(r,yi)),new tB(r,(e=>Ju(r,e)))}(function(e,n=!0){(function(o){sl=o})(Gs),Vs(new Ja("firestore",((a,{instanceIdentifier:o,options:l})=>{const c=a.getProvider("app").getImmediate(),d=new yi(new lM(a.getProvider("auth-internal")),new hM(a.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Fe(Me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Du(g.options.projectId,y)})(c,o),c);return l=Object.assign({useFetchStreams:n},l),d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),di(Ww,"4.7.3",e),di(Ww,"4.7.3","esm2017")})();var rB="firebase",iB="10.14.1";di(rB,iB,"app");const a1="firebasestorage.googleapis.com",s1="storageBucket",aB=120*1e3,sB=600*1e3;class un extends _i{constructor(e,n,a=0){super(gm(e),`Firebase Storage: ${n} (${gm(e)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,un.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ln;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ln||(ln={}));function gm(r){return"storage/"+r}function C_(){const r="An unknown error occurred, please check the error payload for server response.";return new un(ln.UNKNOWN,r)}function oB(r){return new un(ln.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function lB(r){return new un(ln.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function uB(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new un(ln.UNAUTHENTICATED,r)}function cB(){return new un(ln.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function fB(r){return new un(ln.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function hB(){return new un(ln.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function dB(){return new un(ln.CANCELED,"User canceled the upload/download.")}function pB(r){return new un(ln.INVALID_URL,"Invalid URL '"+r+"'.")}function mB(r){return new un(ln.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function gB(){return new un(ln.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+s1+"' property when initializing the app?")}function yB(){return new un(ln.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _B(){return new un(ln.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function vB(r){return new un(ln.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function yy(r){return new un(ln.INVALID_ARGUMENT,r)}function o1(){return new un(ln.APP_DELETED,"The Firebase app was deleted.")}function EB(r){return new un(ln.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Su(r,e){return new un(ln.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function du(r){throw new un(ln.INTERNAL_ERROR,"Internal error: "+r)}class Rr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let a;try{a=Rr.makeFromUrl(e,n)}catch{return new Rr(e,"")}if(a.path==="")return a;throw mB(e)}static makeFromUrl(e,n){let a=null;const o="([A-Za-z0-9.\\-_]+)";function l(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}const c="(/(.*))?$",d=new RegExp("^gs://"+o+c,"i"),p={bucket:1,path:3};function g(K){K.path_=decodeURIComponent(K.path)}const y="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",H=new RegExp(`^https?://${w}/${y}/b/${o}/o${R}`,"i"),I={bucket:1,path:3},F=n===a1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",O=new RegExp(`^https?://${F}/${o}/${P}`,"i"),j=[{regex:d,indices:p,postModify:l},{regex:H,indices:I,postModify:g},{regex:O,indices:{bucket:1,path:2},postModify:g}];for(let K=0;K<j.length;K++){const X=j[K],J=X.regex.exec(e);if(J){const x=J[X.indices.bucket];let C=J[X.indices.path];C||(C=""),a=new Rr(x,C),X.postModify(a);break}}if(a==null)throw pB(e);return a}}class wB{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function bB(r,e,n){let a=1,o=null,l=null,c=!1,d=0;function p(){return d===2}let g=!1;function y(...P){g||(g=!0,e.apply(null,P))}function w(P){o=setTimeout(()=>{o=null,r(H,p())},P)}function R(){l&&clearTimeout(l)}function H(P,...O){if(g){R();return}if(P){R(),y.call(null,P,...O);return}if(p()||c){R(),y.call(null,P,...O);return}a<64&&(a*=2);let j;d===1?(d=2,j=0):j=(a+Math.random())*1e3,w(j)}let I=!1;function F(P){I||(I=!0,R(),!g&&(o!==null?(P||(d=2),clearTimeout(o),w(0)):P||(d=1)))}return w(0),l=setTimeout(()=>{c=!0,F(!0)},n),F}function TB(r){r(!1)}function SB(r){return r!==void 0}function AB(r){return typeof r=="object"&&!Array.isArray(r)}function I_(r){return typeof r=="string"||r instanceof String}function Pb(r){return x_()&&r instanceof Blob}function x_(){return typeof Blob<"u"}function kb(r,e,n,a){if(a<e)throw yy(`Invalid value for '${r}'. Expected ${e} or greater.`);if(a>n)throw yy(`Invalid value for '${r}'. Expected ${n} or less.`)}function O_(r,e,n){let a=e;return n==null&&(a=`https://${e}`),`${n}://${a}/v0${r}`}function l1(r){const e=encodeURIComponent;let n="?";for(const a in r)if(r.hasOwnProperty(a)){const o=e(a)+"="+e(r[a]);n=n+o+"&"}return n=n.slice(0,-1),n}var Us;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Us||(Us={}));function RB(r,e){const n=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return n||o||l}class CB{constructor(e,n,a,o,l,c,d,p,g,y,w,R=!0){this.url_=e,this.method_=n,this.headers_=a,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=y,this.connectionFactory_=w,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((H,I)=>{this.resolve_=H,this.reject_=I,this.start_()})}start_(){const e=(a,o)=>{if(o){a(!1,new Pf(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const c=d=>{const p=d.loaded,g=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&l.addUploadProgressListener(c),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(c),this.pendingConnection_=null;const d=l.getErrorCode()===Us.NO_ERROR,p=l.getStatus();if(!d||RB(p,this.additionalRetryCodes_)&&this.retry){const y=l.getErrorCode()===Us.ABORT;a(!1,new Pf(!1,null,y));return}const g=this.successCodes_.indexOf(p)!==-1;a(!0,new Pf(g,l))})},n=(a,o)=>{const l=this.resolve_,c=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());SB(p)?l(p):l()}catch(p){c(p)}else if(d!==null){const p=C_();p.serverResponse=d.getErrorText(),this.errorCallback_?c(this.errorCallback_(d,p)):c(p)}else if(o.canceled){const p=this.appDelete_?o1():dB();c(p)}else{const p=hB();c(p)}};this.canceled_?n(!1,new Pf(!1,null,!0)):this.backoffId_=bB(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&TB(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Pf{constructor(e,n,a){this.wasSuccessCode=e,this.connection=n,this.canceled=!!a}}function IB(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function xB(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function OB(r,e){e&&(r["X-Firebase-GMPID"]=e)}function DB(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function NB(r,e,n,a,o,l,c=!0){const d=l1(r.urlParams),p=r.url+d,g=Object.assign({},r.headers);return OB(g,e),IB(g,n),xB(g,l),DB(g,a),new CB(p,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,c)}function MB(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function PB(...r){const e=MB();if(e!==void 0){const n=new e;for(let a=0;a<r.length;a++)n.append(r[a]);return n.getBlob()}else{if(x_())return new Blob(r);throw new un(ln.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function kB(r,e,n){return r.webkitSlice?r.webkitSlice(e,n):r.mozSlice?r.mozSlice(e,n):r.slice?r.slice(e,n):null}function BB(r){if(typeof atob>"u")throw vB("base-64");return atob(r)}const hi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ym{constructor(e,n){this.data=e,this.contentType=n||null}}function UB(r,e){switch(r){case hi.RAW:return new ym(u1(e));case hi.BASE64:case hi.BASE64URL:return new ym(c1(r,e));case hi.DATA_URL:return new ym(VB(e),jB(e))}throw C_()}function u1(r){const e=[];for(let n=0;n<r.length;n++){let a=r.charCodeAt(n);if(a<=127)e.push(a);else if(a<=2047)e.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const l=a,c=r.charCodeAt(++n);a=65536|(l&1023)<<10|c&1023,e.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?e.push(239,191,189):e.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(e)}function LB(r){let e;try{e=decodeURIComponent(r)}catch{throw Su(hi.DATA_URL,"Malformed data URL.")}return u1(e)}function c1(r,e){switch(r){case hi.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw Su(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case hi.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw Su(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=BB(e)}catch(o){throw o.message.includes("polyfill")?o:Su(r,"Invalid character found")}const a=new Uint8Array(n.length);for(let o=0;o<n.length;o++)a[o]=n.charCodeAt(o);return a}class f1{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Su(hi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=n[1]||null;a!=null&&(this.base64=FB(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=e.substring(e.indexOf(",")+1)}}function VB(r){const e=new f1(r);return e.base64?c1(hi.BASE64,e.rest):LB(e.rest)}function jB(r){return new f1(r).contentType}function FB(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}class Ga{constructor(e,n){let a=0,o="";Pb(e)?(this.data_=e,a=e.size,o=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),a=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),a=e.length),this.size_=a,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,n){if(Pb(this.data_)){const a=this.data_,o=kB(a,e,n);return o===null?null:new Ga(o)}else{const a=new Uint8Array(this.data_.buffer,e,n-e);return new Ga(a,!0)}}static getBlob(...e){if(x_()){const n=e.map(a=>a instanceof Ga?a.data_:a);return new Ga(PB.apply(null,n))}else{const n=e.map(c=>I_(c)?UB(hi.RAW,c).data:c.data_);let a=0;n.forEach(c=>{a+=c.byteLength});const o=new Uint8Array(a);let l=0;return n.forEach(c=>{for(let d=0;d<c.length;d++)o[l++]=c[d]}),new Ga(o,!0)}}uploadData(){return this.data_}}function h1(r){let e;try{e=JSON.parse(r)}catch{return null}return AB(e)?e:null}function qB(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function zB(r,e){const n=e.split("/").filter(a=>a.length>0).join("/");return r.length===0?n:r+"/"+n}function d1(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}function HB(r,e){return e}class tr{constructor(e,n,a,o){this.server=e,this.local=n||e,this.writable=!!a,this.xform=o||HB}}let kf=null;function GB(r){return!I_(r)||r.length<2?r:d1(r)}function p1(){if(kf)return kf;const r=[];r.push(new tr("bucket")),r.push(new tr("generation")),r.push(new tr("metageneration")),r.push(new tr("name","fullPath",!0));function e(l,c){return GB(c)}const n=new tr("name");n.xform=e,r.push(n);function a(l,c){return c!==void 0?Number(c):c}const o=new tr("size");return o.xform=a,r.push(o),r.push(new tr("timeCreated")),r.push(new tr("updated")),r.push(new tr("md5Hash",null,!0)),r.push(new tr("cacheControl",null,!0)),r.push(new tr("contentDisposition",null,!0)),r.push(new tr("contentEncoding",null,!0)),r.push(new tr("contentLanguage",null,!0)),r.push(new tr("contentType",null,!0)),r.push(new tr("metadata","customMetadata",!0)),kf=r,kf}function KB(r,e){function n(){const a=r.bucket,o=r.fullPath,l=new Rr(a,o);return e._makeStorageReference(l)}Object.defineProperty(r,"ref",{get:n})}function WB(r,e,n){const a={};a.type="file";const o=n.length;for(let l=0;l<o;l++){const c=n[l];a[c.local]=c.xform(a,e[c.server])}return KB(a,r),a}function m1(r,e,n){const a=h1(e);return a===null?null:WB(r,a,n)}function YB(r,e,n,a){const o=h1(e);if(o===null||!I_(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const c=encodeURIComponent;return l.split(",").map(g=>{const y=r.bucket,w=r.fullPath,R="/b/"+c(y)+"/o/"+c(w),H=O_(R,n,a),I=l1({alt:"media",token:g});return H+I})[0]}function QB(r,e){const n={},a=e.length;for(let o=0;o<a;o++){const l=e[o];l.writable&&(n[l.server]=r[l.local])}return JSON.stringify(n)}class g1{constructor(e,n,a,o){this.url=e,this.method=n,this.handler=a,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function y1(r){if(!r)throw C_()}function $B(r,e){function n(a,o){const l=m1(r,o,e);return y1(l!==null),l}return n}function XB(r,e){function n(a,o){const l=m1(r,o,e);return y1(l!==null),YB(l,o,r.host,r._protocol)}return n}function _1(r){function e(n,a){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=cB():o=uB():n.getStatus()===402?o=lB(r.bucket):n.getStatus()===403?o=fB(r.path):o=a,o.status=n.getStatus(),o.serverResponse=a.serverResponse,o}return e}function JB(r){const e=_1(r);function n(a,o){let l=e(a,o);return a.getStatus()===404&&(l=oB(r.path)),l.serverResponse=o.serverResponse,l}return n}function ZB(r,e,n){const a=e.fullServerUrl(),o=O_(a,r.host,r._protocol),l="GET",c=r.maxOperationRetryTime,d=new g1(o,l,XB(r,n),c);return d.errorHandler=JB(e),d}function eU(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function tU(r,e,n){const a=Object.assign({},n);return a.fullPath=r.path,a.size=e.size(),a.contentType||(a.contentType=eU(null,e)),a}function nU(r,e,n,a,o){const l=e.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"};function d(){let j="";for(let K=0;K<2;K++)j=j+Math.random().toString().slice(2);return j}const p=d();c["Content-Type"]="multipart/related; boundary="+p;const g=tU(e,a,o),y=QB(g,n),w="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,R=`\r
--`+p+"--",H=Ga.getBlob(w,a,R);if(H===null)throw yB();const I={name:g.fullPath},F=O_(l,r.host,r._protocol),P="POST",O=r.maxUploadRetryTime,U=new g1(F,P,$B(r,n),O);return U.urlParams=I,U.headers=c,U.body=H.uploadData(),U.errorHandler=_1(e),U}class rU{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Us.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Us.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Us.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,a,o){if(this.sent_)throw du("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const l in o)o.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,o[l].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw du("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw du("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw du("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw du("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class iU extends rU{initXhr(){this.xhr_.responseType="text"}}function v1(){return new iU}class Hs{constructor(e,n){this._service=e,n instanceof Rr?this._location=n:this._location=Rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hs(e,n)}get root(){const e=new Rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return d1(this._location.path)}get storage(){return this._service}get parent(){const e=qB(this._location.path);if(e===null)return null;const n=new Rr(this._location.bucket,e);return new Hs(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw EB(e)}}function aU(r,e,n){r._throwIfRoot("uploadBytes");const a=nU(r.storage,r._location,p1(),new Ga(e,!0),n);return r.storage.makeRequestWithTokens(a,v1).then(o=>({metadata:o,ref:r}))}function sU(r){r._throwIfRoot("getDownloadURL");const e=ZB(r.storage,r._location,p1());return r.storage.makeRequestWithTokens(e,v1).then(n=>{if(n===null)throw _B();return n})}function oU(r,e){const n=zB(r._location.path,e),a=new Rr(r._location.bucket,n);return new Hs(r.storage,a)}function lU(r){return/^[A-Za-z]+:\/\//.test(r)}function uU(r,e){return new Hs(r,e)}function E1(r,e){if(r instanceof D_){const n=r;if(n._bucket==null)throw gB();const a=new Hs(n,n._bucket);return e!=null?E1(a,e):a}else return e!==void 0?oU(r,e):r}function cU(r,e){if(e&&lU(e)){if(r instanceof D_)return uU(r,e);throw yy("To use ref(service, url), the first argument must be a Storage instance.")}else return E1(r,e)}function Bb(r,e){const n=e?.[s1];return n==null?null:Rr.makeFromBucketSpec(n,r)}function fU(r,e,n,a={}){r.host=`${e}:${n}`,r._protocol="http";const{mockUserToken:o}=a;o&&(r._overrideAuthToken=typeof o=="string"?o:GS(o,r.app.options.projectId))}class D_{constructor(e,n,a,o,l){this.app=e,this._authProvider=n,this._appCheckProvider=a,this._url=o,this._firebaseVersion=l,this._bucket=null,this._host=a1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=aB,this._maxUploadRetryTime=sB,this._requests=new Set,o!=null?this._bucket=Rr.makeFromBucketSpec(o,this._host):this._bucket=Bb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Rr.makeFromBucketSpec(this._url,e):this._bucket=Bb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hs(this,e)}_makeRequest(e,n,a,o,l=!0){if(this._deleted)return new wB(o1());{const c=NB(e,this._appId,a,o,n,this._firebaseVersion,l);return this._requests.add(c),c.getPromise().then(()=>this._requests.delete(c),()=>this._requests.delete(c)),c}}async makeRequestWithTokens(e,n){const[a,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,a,o).getPromise()}}const Ub="@firebase/storage",Lb="0.13.2";const w1="storage";function hU(r,e,n){return r=$t(r),aU(r,e,n)}function dU(r){return r=$t(r),sU(r)}function pU(r,e){return r=$t(r),cU(r,e)}function b1(r=Iy(),e){r=$t(r);const a=Sh(r,w1).getImmediate({identifier:e}),o=qS("storage");return o&&mU(a,...o),a}function mU(r,e,n,a={}){fU(r,e,n,a)}function gU(r,{instanceIdentifier:e}){const n=r.getProvider("app").getImmediate(),a=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new D_(n,a,o,e,Gs)}function yU(){Vs(new Ja(w1,gU,"PUBLIC").setMultipleInstances(!0)),di(Ub,Lb,""),di(Ub,Lb,"esm2017")}yU();const _U={apiKey:"AIzaSyBqt53TJftgH6TTgxcMPMH1g3H6ZbEbsSM",authDomain:"swasthya-sakhi-2e7bd.firebaseapp.com",projectId:"swasthya-sakhi-2e7bd",storageBucket:"swasthya-sakhi-2e7bd.firebasestorage.app",messagingSenderId:"934869387204",appId:"1:934869387204:web:73e7c831d852dca3f34691"},N_=YS(_U),Gt=QN(N_),ct=zk(N_);b1(N_);new zi;const vU=()=>G.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",textAlign:"center"},children:[G.jsx("div",{style:{fontSize:"6rem",marginBottom:"1rem"},children:""}),G.jsx("h1",{style:{color:"#2E7D32",fontSize:"3.5rem",margin:"0.5rem 0"},children:"Swasthya Sakhi"}),G.jsx("p",{style:{fontSize:"1.5rem",color:"#444",maxWidth:"600px",margin:"1rem 0 2rem"},children:"Affordable Healthcare for Everyone  Medicines, Consultations, Ambulance & More"}),G.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem",width:"100%",maxWidth:"400px"},children:[G.jsx(ih,{to:"/register",style:{textDecoration:"none"},children:G.jsx("button",{style:{width:"100%",padding:"1.2rem",fontSize:"1.3rem",background:"#4CAF50",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.15)"},children:"Register Now"})}),G.jsx(ih,{to:"/login",style:{textDecoration:"none"},children:G.jsx("button",{style:{width:"100%",padding:"1.2rem",fontSize:"1.3rem",background:"white",color:"#2E7D32",border:"2px solid #4CAF50",borderRadius:"12px",cursor:"pointer"},children:"Already Registered? Login"})})]})]}),EU=()=>{const[r,e]=le.useState(""),[n,a]=le.useState(""),[o,l]=le.useState("phone"),[c,d]=le.useState(null),[p,g]=le.useState(!1),[y,w]=le.useState(""),R=le.useRef(null),H=rs();le.useEffect(()=>()=>{window.recaptchaVerifier&&(window.recaptchaVerifier.clear(),window.recaptchaVerifier=null)},[]);const I=async()=>{if(r.length!==10){w("Enter 10-digit phone number");return}g(!0),w("");try{window.recaptchaVerifier||(window.recaptchaVerifier=new OA(Gt,R.current,{size:"invisible"}));const O=`+91${r}`,U=await DA(Gt,O,window.recaptchaVerifier);d(U),l("otp")}catch(O){w(O.message||"Failed to send OTP")}finally{g(!1)}},F=async()=>{if(n.length!==6){w("Enter 6-digit OTP");return}g(!0),w("");try{const O=$a.credential(c.verificationId,n);await ky(Gt,O),H("/",{replace:!0})}catch(O){w(O.message||"Invalid OTP"),console.error("OTP verification error:",O)}finally{g(!1)}},P=async()=>{alert("Google Sign-In coming soon  currently using phone OTP")};return G.jsxs("div",{style:{maxWidth:480,margin:"3rem auto",padding:"0 1rem"},children:[G.jsx("div",{ref:R,style:{display:"none"}}),G.jsxs("div",{style:{background:"white",padding:"2.5rem",borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,0.1)"},children:[G.jsx("h1",{style:{color:"#2E7D32",textAlign:"center",marginBottom:"1.5rem"},children:"Login"}),y&&G.jsx("div",{style:{color:"red",marginBottom:"1rem",textAlign:"center"},children:y}),o==="phone"?G.jsxs(G.Fragment,{children:[G.jsx("input",{placeholder:"Phone (10 digits)",value:r,onChange:O=>e(O.target.value.replace(/\D/g,"")),maxLength:10,style:{width:"100%",padding:"12px",margin:"8px 0",borderRadius:8,border:"1px solid #ddd"}}),G.jsx("button",{onClick:I,disabled:p,style:{width:"100%",padding:"14px",marginTop:"1rem",background:p?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:12},children:p?"Sending...":"Send OTP"}),G.jsxs("button",{onClick:P,style:{width:"100%",padding:"14px",marginTop:"1.5rem",background:"#4285F4",color:"white",border:"none",borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center",gap:"10px"},children:[G.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",style:{width:"20px"}}),"Continue with Google"]})]}):G.jsxs(G.Fragment,{children:[G.jsxs("p",{children:["OTP sent to +91",r]}),G.jsx("input",{value:n,onChange:O=>a(O.target.value.replace(/\D/g,"")),maxLength:6,placeholder:"Enter OTP",style:{width:"100%",padding:"14px",marginBottom:"1rem",textAlign:"center",borderRadius:8,border:"1px solid #ddd"}}),G.jsx("button",{onClick:F,disabled:p,style:{width:"100%",padding:"14px",background:p?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:12},children:p?"Verifying...":"Verify & Login"}),G.jsx("button",{onClick:()=>l("phone"),style:{width:"100%",marginTop:"1rem",background:"none",border:"none",color:"#2E7D32"},children:"Back"})]})]})]})},wU=()=>{const[r,e]=le.useState({name:"",phone:"",email:"",password:"",confirmPassword:"",role:"customer",location:"",state:"",city:"",pincode:"",licenseNumber:""}),[n,a]=le.useState("form"),[o,l]=le.useState(""),[c,d]=le.useState(null),[p,g]=le.useState(!1),[y,w]=le.useState(""),R=le.useRef(null),H=le.useRef(null),I=rs();le.useEffect(()=>(H.current||(H.current=new OA(Gt,R.current,{size:"invisible"})),()=>{H.current&&(H.current.clear(),H.current=null)}),[]),le.useEffect(()=>{r.role==="customer"&&!r.location&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(j=>{const{latitude:K,longitude:X}=j.coords;e(J=>({...J,location:`Lat: ${K.toFixed(4)}, Lng: ${X.toFixed(4)} (auto-detected)`}))},j=>{console.warn("Geolocation denied or unavailable:",j)})},[r.role]);const F=j=>{e({...r,[j.target.name]:j.target.value})},P=()=>r.name.trim()?r.phone.length!==10?"Enter valid 10-digit phone":r.email.includes("@")?r.password.length<6?"Password must be at least 6 characters":r.password!==r.confirmPassword?"Passwords do not match":r.role==="customer"&&!r.location.trim()?"Location is required for customers":r.role!=="customer"&&(!r.state.trim()||!r.city.trim()||!r.pincode.trim()||!r.licenseNumber.trim())?"All role-specific fields are required":null:"Valid email is required":"Name is required",O=async()=>{const j=P();if(j){w(j);return}g(!0),w("");try{const K=`+91${r.phone}`,X=await DA(Gt,K,H.current);d(X),a("otp")}catch(K){w(K.message||"Failed to send OTP. Try again."),console.error(K)}finally{g(!1)}},U=async()=>{if(o.length!==6){w("Please enter 6-digit OTP");return}g(!0),w("");try{const j=$a.credential(c.verificationId,o),X=(await ky(Gt,j)).user;await R_(zt(ct,"users",X.uid),{uid:X.uid,name:r.name.trim(),phoneNumber:X.phoneNumber,email:r.email.trim(),role:r.role,createdAt:new Date().toISOString(),...r.role==="customer"?{location:r.location.trim()}:{},...r.role!=="customer"?{state:r.state.trim(),city:r.city.trim(),pincode:r.pincode.trim(),licenseNumber:r.licenseNumber.trim(),verificationStatus:"pending"}:{}}),I(`/${r.role}-portal`,{replace:!0})}catch(j){w(j.message||"Registration failed"),console.error(j)}finally{g(!1)}};return G.jsxs("div",{style:{maxWidth:500,margin:"2.5rem auto",padding:"0 1rem"},children:[G.jsx("div",{ref:R,style:{position:"absolute",left:"-9999px",top:"-9999px"}}),G.jsxs("div",{style:{background:"white",padding:"2rem 2.5rem",borderRadius:16,boxShadow:"0 10px 40px rgba(0,0,0,0.12)"},children:[G.jsx("h1",{style:{color:"#2E7D32",textAlign:"center",marginBottom:"1.8rem",fontSize:"2rem"},children:"Create Account"}),y&&G.jsx("div",{style:{color:"#c62828",background:"#ffebee",padding:"0.9rem",borderRadius:8,marginBottom:"1.5rem",textAlign:"center"},children:y}),n==="form"?G.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[G.jsx("input",{name:"name",placeholder:"Full Name *",value:r.name,onChange:F,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),G.jsx("input",{name:"phone",placeholder:"Phone (10 digits) *",value:r.phone,onChange:j=>e({...r,phone:j.target.value.replace(/\D/g,"")}),maxLength:10,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),G.jsx("input",{name:"email",type:"email",placeholder:"Email *",value:r.email,onChange:F,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),G.jsx("input",{name:"password",type:"password",placeholder:"Password (min 6 chars) *",value:r.password,onChange:F,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),G.jsx("input",{name:"confirmPassword",type:"password",placeholder:"Confirm Password *",value:r.confirmPassword,onChange:F,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),G.jsxs("select",{name:"role",value:r.role,onChange:F,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"},children:[G.jsx("option",{value:"customer",children:"Customer"}),G.jsx("option",{value:"doctor",children:"Doctor"}),G.jsx("option",{value:"delivery",children:"Delivery Partner"}),G.jsx("option",{value:"medical",children:"Medical Business"})]}),r.role==="customer"&&G.jsxs("div",{children:[G.jsx("input",{name:"location",placeholder:"Your Location / Area *",value:r.location,onChange:F,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),G.jsx("small",{style:{color:"#666",display:"block",marginTop:"0.4rem"},children:"Allow browser location permission for auto-detection (optional)"})]}),r.role!=="customer"&&G.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1.2rem"},children:[G.jsx("input",{name:"state",placeholder:"State *",value:r.state,onChange:F,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),G.jsx("input",{name:"city",placeholder:"City *",value:r.city,onChange:F,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),G.jsx("input",{name:"pincode",placeholder:"Pincode *",value:r.pincode,onChange:F,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}}),G.jsx("input",{name:"licenseNumber",placeholder:r.role==="doctor"?"Medical License Number *":r.role==="delivery"?"Driving License Number *":"Trade License / GST Number *",value:r.licenseNumber,onChange:F,required:!0,style:{padding:"12px",borderRadius:8,border:"1px solid #ddd"}})]}),G.jsx("button",{onClick:O,disabled:p,style:{marginTop:"1.5rem",padding:"14px",background:p?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:12,fontSize:"1.1rem",fontWeight:"bold",cursor:p?"not-allowed":"pointer"},children:p?"Sending OTP...":"Verify Phone & Register"})]}):G.jsxs("div",{style:{textAlign:"center"},children:[G.jsxs("p",{style:{marginBottom:"1.2rem",fontSize:"1.1rem"},children:["OTP sent to ",G.jsxs("strong",{children:["+91 ",r.phone]})]}),G.jsx("input",{value:o,onChange:j=>l(j.target.value.replace(/\D/g,"")),maxLength:6,placeholder:"Enter 6-digit OTP",style:{width:"100%",padding:"14px",fontSize:"1.3rem",textAlign:"center",marginBottom:"1.2rem",borderRadius:8,border:"1px solid #ddd"}}),G.jsx("button",{onClick:U,disabled:p,style:{width:"100%",padding:"14px",background:p?"#ccc":"#4CAF50",color:"white",border:"none",borderRadius:12,fontSize:"1.1rem",fontWeight:"bold",cursor:p?"not-allowed":"pointer"},children:p?"Verifying...":"Complete Registration"}),G.jsx("button",{onClick:()=>a("form"),style:{marginTop:"1rem",background:"none",border:"none",color:"#2E7D32",cursor:"pointer"},children:" Back to Form"})]})]})]})},bU=({balance:r})=>{const[e,n]=le.useState(""),[a,o]=le.useState(!1),l=()=>{if(!e||e<10)return alert("Minimum amount is 10");o(!0);const c={key:"rzp_test_SHC6eokXMSzjRW",amount:Number(e)*100,currency:"INR",name:"Swasthya Sakhi",description:"Wallet Top-up",handler:function(p){o(!1),n(""),alert("Payment successful! Updating your balance...")},prefill:{contact:Gt.currentUser.phoneNumber||""},notes:{userId:Gt.currentUser.uid,type:"wallet_recharge"},theme:{color:"#2563eb"}},d=new window.Razorpay(c);d.open(),d.on("payment.failed",()=>o(!1))};return G.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",marginBottom:"20px"},children:[G.jsx("h3",{style:{margin:"0 0 10px 0"},children:" Your Wallet"}),G.jsxs("p",{style:{fontSize:"24px",fontWeight:"bold",color:"#1e293b"},children:["",r||0]}),G.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"15px"},children:[G.jsx("input",{type:"number",value:e,onChange:c=>n(c.target.value),placeholder:"Enter amount",style:{flexGrow:1,padding:"10px",borderRadius:"8px",border:"1px solid #ddd"}}),G.jsx("button",{onClick:l,disabled:a,style:{padding:"10px 20px",background:"#2563eb",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:a?"Processing...":"Add Money"})]})]})},TU=()=>{const[r,e]=le.useState([]),[n,a]=le.useState([]),[o,l]=le.useState([]),[c,d]=le.useState("All"),[p,g]=le.useState([]),[y,w]=le.useState(null),[R,H]=le.useState(!0),[I,F]=le.useState([]),P=rs(),[O,U]=le.useState([]),[j,K]=le.useState(!1),[X,J]=le.useState(!1),[x,C]=le.useState(!1),[D,W]=le.useState(!1),ee=["All",...new Set(r.map(N=>N.category||"General"))],M=c==="All"?r:r.filter(N=>(N.category||"General")===c),$=N=>{l(ce=>ce.find(Te=>Te.id===N.id)?ce.map(Te=>Te.id===N.id?{...Te,quantity:(Te.quantity||1)+1}:Te):[...ce,{...N,quantity:1}])};le.useEffect(()=>{const N=Ps(Gn(ct,"medicines"));return Wr(N,pe=>{const Te=[];pe.forEach(V=>Te.push({id:V.id,...V.data()})),Te.length>0&&e(Te)})},[]),le.useEffect(()=>{(async()=>{try{(await navigator.mediaDevices.enumerateDevices()).some(Te=>Te.kind==="videoinput"||Te.kind==="audioinput")&&navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(Te=>{Te.getTracks().forEach(V=>V.stop())}).catch(()=>{console.log("audio and video inactive")})}catch(ce){console.log("Hardware cleanup skipped:",ce)}})()},[]),le.useEffect(()=>{const N=Gt.currentUser;if(!N){H(!1);return}const ce=ge(N.uid),pe=ke(),Te=Ke(N.uid);return ae(N.uid),()=>{ce(),pe(),Te()}},[]);const Ke=N=>{const ce=Ps(Gn(ct,"orders"),Kr("userId","==",N));return Wr(ce,pe=>{const Te=[];pe.forEach(q=>{Te.push({id:q.id,...q.data()})});const V=Te.sort((q,Ee)=>{const Pe=q.createdAt?new Date(q.createdAt):new Date(0);return(Ee.createdAt?new Date(Ee.createdAt):new Date(0))-Pe});U(V)})},ke=()=>{const N=Ps(Gn(ct,"users"),Kr("role","==","doctor"),Kr("online","==",!0));return Wr(N,ce=>{const pe=[];ce.forEach(Te=>pe.push({id:Te.id,...Te.data()})),a(pe)})},ae=N=>{const ce=zt(ct,"users",N);return Wr(ce,pe=>{pe.exists()&&w(pe.data()),H(!1)})},ge=N=>{const ce=Ps(Gn(ct,"bookings"),Kr("customerId","==",N));return Wr(ce,pe=>{const Te=[],V=[];pe.forEach(q=>{const Ee={id:q.id,...q.data()};Te.push(Ee),Ee.prescriptions&&Array.isArray(Ee.prescriptions)&&Ee.prescriptions.forEach(Pe=>{V.push({...Pe,doctorName:Ee.doctorName||"Doctor",bookingId:Ee.id,sortDate:xe(Pe.uploadedAt||Ee.updatedAt||Ee.createdAt)})})}),g(Te.sort((q,Ee)=>xe(Ee.updatedAt||Ee.createdAt)-xe(q.updatedAt||q.createdAt))),F(V.sort((q,Ee)=>Ee.sortDate-q.sortDate))})},xe=N=>N?N instanceof Date?N:typeof N=="string"?new Date(N):N.toDate?N.toDate():new Date(0):new Date(0),Ue=async(N,ce,pe)=>{if((y?.walletBalance||0)<pe){alert(`Insufficient balance! Consultation cost is ${pe}. Please top up your wallet.`);return}if(N&&ce&&pe)try{const V=nh(ct),q=zt(ct,"users",Gt.currentUser.uid),Ee=zt(ct,"users",N);V.update(q,{walletBalance:Gr(-pe)}),V.update(Ee,{waitingBalance:Gr(.9*pe)});const Pe=zt(Gn(ct,"bookings"));V.set(Pe,{customerId:Gt.currentUser.uid,doctorId:N,customerName:y?.name||"Customer",doctorName:ce,createdAt:new Date().toISOString(),status:"pending",amountPaid:pe,paymentStatus:"escrow"});const Qe=zt(Gn(ct,"transactions"));V.set(Qe,{userId:Gt.currentUser.uid,amount:pe,type:"debit",description:`Consultation Fee (Held for Dr. ${ce})`,date:new Date().toISOString()});const je=zt(Gn(ct,"transactions"));V.set(je,{userId:N,amount:pe,type:"pending_credit",description:`Incoming Consultation from ${y?.name||"Customer"} (Awaiting Completion)`,date:new Date().toISOString()}),await V.commit(),alert(" Payment held in escrow. Booking request sent!")}catch(V){console.error("Booking error:",V),alert(`Failed: ${V.message}`)}},Le=N=>{if(!N)return alert("File not found");const ce=document.createElement("a");ce.href=N,ce.target="_blank",ce.rel="noopener noreferrer",document.body.appendChild(ce),ce.click(),document.body.removeChild(ce)},ne=async()=>{const N=o.reduce((pe,Te)=>pe+Te.price*Te.quantity,0);if((y?.walletBalance||0)<N)return alert("Insufficient balance!");try{const pe=zt(ct,"users",Gt.currentUser.uid);await hr(pe,{walletBalance:Gr(-N)}),await r1(Gn(ct,"orders"),{userId:Gt.currentUser.uid,items:o,totalAmount:N,status:"paid",createdAt:new Date().toISOString()}),l([]),alert(" Order placed successfully!")}catch(pe){alert("Error: "+pe.message)}},ve=({roomId:N,bookingId:ce})=>{const[pe,Te]=le.useState(null);if(le.useEffect(()=>Wr(zt(ct,"videoRooms",N),Ee=>{const Pe=Ee.data();Te(Pe?.status)}),[N]),pe==="completed")return G.jsx("span",{style:{color:"#10B981"},children:" Completed"});const V=pe==="active";return G.jsx("button",{onClick:()=>P(`/video-call/${N}?booking=${ce}`),disabled:!V,style:{width:"100%",padding:"12px",marginTop:"8px",background:V?"#10B981":"#6b7280",color:"white",border:"none",borderRadius:"8px",fontWeight:500},children:V?" Join Call Now":" Doctor Preparing..."})},Z=N=>{if(!N)return"";try{return N.toDate?N.toDate().toLocaleString():new Date(N).toLocaleString()}catch{return""}},ie=({children:N})=>G.jsx("div",{style:{background:"#fff",padding:20,borderRadius:12,marginBottom:20,boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:N}),he=()=>window.location.href="tel:108",te=N=>{if(!N||typeof N!="number")return"0s";const ce=Math.floor(N),pe=Math.floor(ce/60),Te=ce%60;return`${pe}m ${Te}s`};return R?G.jsx("div",{style:{textAlign:"center",padding:"50px"},children:"Loading..."}):G.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"20px",background:"#f8fafc",minHeight:"100vh"},children:[G.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[G.jsx("h1",{style:{color:"#1e293b",marginBottom:"8px"},children:"Swasthya Sakhi"}),G.jsxs("p",{style:{color:"#64748b"},children:["Welcome, ",y?.name||"Customer"]})]}),G.jsx(bU,{balance:y?.walletBalance||0}),G.jsx("div",{style:{marginBottom:"30px"},children:G.jsx("button",{onClick:he,style:{width:"100%",padding:"16px",background:"#dc2626",color:"white",border:"none",borderRadius:"12px",fontSize:"18px",fontWeight:600,cursor:"pointer"},children:" Emergency Ambulance 108"})}),o.length>0&&G.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",marginBottom:"30px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:[G.jsx("h3",{style:{margin:"0 0 10px 0"},children:" Your Cart"}),o.map(N=>G.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"14px"},children:[G.jsxs("span",{children:[N.name," (x",N.quantity,")"]}),G.jsxs("span",{children:["",N.price*N.quantity]})]},N.id)),G.jsx("hr",{style:{margin:"15px 0",border:"0",borderTop:"1px solid #eee"}}),G.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontWeight:"bold",marginBottom:"15px"},children:[G.jsx("span",{children:"Total:"}),G.jsxs("span",{children:["",o.reduce((N,ce)=>N+ce.price*ce.quantity,0)]})]}),G.jsx("button",{onClick:ne,style:{width:"100%",padding:"12px",background:"#059669",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold"},children:"Pay from Wallet"})]}),p.length>0&&p.filter(N=>N.status==="accepted").map(N=>G.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",marginBottom:"16px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:[G.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[G.jsxs("div",{children:[G.jsx("p",{style:{margin:"0 0 4px 0",fontWeight:600},children:N.doctorName}),G.jsx("p",{style:{color:"#64748b",margin:0,fontSize:"14px"},children:new Date(N.createdAt).toLocaleString()})]}),G.jsx("span",{style:{padding:"6px 12px",borderRadius:"20px",background:"#059669",color:"white",fontSize:"12px",fontWeight:500},children:"ACCEPTED"})]}),N.videoRoomId&&G.jsx(ve,{roomId:N.videoRoomId,bookingId:N.id})]},N.id)),G.jsxs("div",{style:{marginBottom:"40px"},children:[G.jsxs("h2",{style:{color:"#1e293b",marginBottom:"20px"},children:[" Online Doctors (",n.length,")"]}),n.length===0?G.jsx("div",{style:{textAlign:"center",padding:"60px 20px",background:"white",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:G.jsx("p",{style:{color:"#64748b"},children:"No doctors online right now"})}):G.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(320px, 1fr))",gap:"20px"},children:n.map(N=>G.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:[G.jsxs("div",{children:[G.jsx("h3",{style:{margin:"0 0 8px 0",color:"#1e293b"},children:N.name}),G.jsx("p",{style:{color:"#64748b",margin:"0 0 12px 0"},children:N.specialization}),G.jsxs("p",{style:{fontWeight:600,color:"#059669",margin:"0 0 16px 0"},children:["",N.rate||100]})]}),G.jsx("button",{onClick:()=>Ue(N.id,N.name,N.rate),style:{width:"100%",padding:"14px",background:"#2563eb",color:"white",border:"none",borderRadius:"8px",fontWeight:500,cursor:"pointer"},children:"Book Consultation"})]},N.id))})]}),G.jsxs(ie,{children:[G.jsxs("div",{onClick:()=>J(N=>!N),style:{display:"flex",justifyContent:"space-between",cursor:"pointer"},children:[G.jsx("h3",{style:{color:"#1e293b"},children:" Pharmacy"}),G.jsx("span",{children:X?"":""})]}),X&&G.jsx(G.Fragment,{children:G.jsxs("div",{className:"medicine-container",style:{display:"flex",gap:"20px",flexDirection:window.innerWidth<768?"column":"row",alignItems:"flex-start"},children:[G.jsxs("div",{style:{width:window.innerWidth<768?"100%":"200px",flexShrink:0,background:"white",padding:"15px",borderRadius:"12px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",position:window.innerWidth<768?"relative":"sticky",top:"20px",zIndex:10,overflowX:"auto",display:window.innerWidth<768?"flex":"block",gap:"10px"},children:[G.jsx("p",{style:{fontWeight:"bold",marginBottom:window.innerWidth<768?"0":"10px",color:"#64748b",fontSize:"12px",textTransform:"uppercase",alignSelf:"center"},children:window.innerWidth<768?"":"Categories"}),G.jsx("div",{style:{display:window.innerWidth<768?"flex":"block",gap:"8px",width:"100%"},children:ee.map(N=>G.jsx("div",{onClick:()=>d(N),style:{padding:"10px 15px",cursor:"pointer",borderRadius:"8px",marginBottom:window.innerWidth<768?"0":"4px",background:c===N?"#2563eb":"#f8fafc",color:c===N?"white":"#1e293b",fontWeight:"600",fontSize:"14px",whiteSpace:"nowrap",transition:"0.2s",border:c===N?"none":"1px solid #e2e8f0"},children:N},N))})]}),G.jsxs("div",{style:{flexGrow:1,width:"100%"},children:[G.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(160px, 1fr))",gap:"12px"},children:M.map(N=>G.jsxs("div",{style:{background:"white",padding:"15px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)",border:"1px solid #f1f5f9",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[G.jsxs("div",{children:[G.jsx("h3",{style:{margin:"0 0 5px 0",fontSize:"15px",color:"#1e293b"},children:N.name}),G.jsx("span",{style:{fontSize:"10px",background:"#f1f5f9",padding:"2px 6px",borderRadius:"10px",color:"#64748b"},children:N.category||"General"})]}),G.jsxs("div",{children:[G.jsxs("p",{style:{fontSize:"18px",fontWeight:"bold",color:"#059669",margin:"10px 0"},children:["",N.price]}),G.jsx("button",{onClick:()=>$(N),style:{width:"100%",padding:"8px",background:"#2563eb",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",fontWeight:"500"},children:"Add"})]})]},N.id))}),M.length===0&&G.jsx("p",{style:{textAlign:"center",padding:"40px",color:"#64748b"},children:"No medicines found."})]})]})})]}),G.jsxs(ie,{children:[G.jsxs("div",{onClick:()=>K(N=>!N),style:{display:"flex",justifyContent:"space-between",cursor:"pointer"},children:[G.jsxs("h3",{children:[" My Medicine Orders (",O.length,")"]}),G.jsx("span",{children:j?"":""})]}),j&&G.jsx(G.Fragment,{children:G.jsxs("div",{style:{marginBottom:"40px"},children:[G.jsx("h2",{style:{color:"#1e293b",marginBottom:"20px"}}),O.length===0?G.jsx("p",{style:{color:"#64748b",background:"white",padding:"20px",borderRadius:"12px",textAlign:"center"},children:"No orders found yet."}):G.jsx("div",{style:{display:"grid",gap:"15px"},children:O.map(N=>G.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 2px 4px rgba(0,0,0,0.05)",borderLeft:"5px solid #059669"},children:[G.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[G.jsxs("span",{style:{fontWeight:"bold",color:"#64748b"},children:["Order #",N.id.slice(-6).toUpperCase()]}),G.jsx("span",{style:{fontSize:"12px",color:"#94a3b8"},children:Z(N.createdAt)})]}),G.jsx("div",{style:{background:"#f8fafc",padding:"10px",borderRadius:"8px"},children:N.items?.map((ce,pe)=>G.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"13px"},children:[G.jsxs("span",{children:[ce.name," x",ce.quantity]}),G.jsxs("span",{children:["",ce.price*ce.quantity]})]},pe))}),G.jsxs("p",{style:{textAlign:"right",fontWeight:"bold",marginTop:"10px",margin:0},children:["Total Paid: ",N.totalAmount]})]},N.id))})]})})]}),G.jsxs(ie,{children:[G.jsxs("div",{onClick:()=>C(N=>!N),style:{display:"flex",justifyContent:"space-between",cursor:"pointer"},children:[G.jsxs("h3",{children:[" My Bookings (",p.length,")"]}),G.jsx("span",{children:x?"":""})]}),x&&G.jsx(G.Fragment,{children:p.length===0?G.jsx("div",{style:{textAlign:"center",padding:"60px 20px",background:"white",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:G.jsx("p",{style:{color:"#64748b"},children:"No bookings yet"})}):p.map(N=>G.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",marginBottom:"16px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:[G.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[G.jsxs("div",{children:[G.jsx("p",{style:{margin:"0 0 4px 0",fontWeight:600},children:N.doctorName}),G.jsx("p",{style:{color:"#64748b",margin:0,fontSize:"14px"},children:new Date(N.createdAt).toLocaleString()})]}),G.jsx("span",{style:{padding:"6px 12px",borderRadius:"20px",background:N.status==="accepted"?"#059669":N.status==="pending"?"#f59e0b":"#dc2626",color:"white",fontSize:"12px",fontWeight:500},children:N.status.toUpperCase()})]}),N.status==="completed"&&G.jsxs("p",{style:{color:"#059669",fontSize:"14px",marginTop:"10px",fontWeight:500},children:[" Completed - Duration: ",te(N.callDurationSeconds)]}),N.prescriptions&&N.prescriptions.length>0&&G.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginTop:"12px"},children:N.prescriptions.map((ce,pe)=>G.jsxs("button",{onClick:()=>Le(ce.url),style:{padding:"6px 12px",background:"#eff6ff",color:"#2563eb",border:"1px solid #bfdbfe",borderRadius:"6px",fontSize:"12px",fontWeight:"bold",cursor:"pointer"},children:[" ",ce.name?.slice(0,20),"..."]},pe))}),N.status==="accepted"&&N.videoRoomId&&G.jsx(ve,{roomId:N.videoRoomId,bookingId:N.id})]},N.id))})]}),G.jsxs(ie,{children:[G.jsxs("div",{onClick:()=>W(N=>!N),style:{display:"flex",justifyContent:"space-between",cursor:"pointer"},children:[G.jsxs("h3",{children:[" My Prescriptions (",I.length,")"]}),G.jsx("span",{children:D?"":""})]}),D&&G.jsx(G.Fragment,{children:I.length>0?G.jsx("div",{children:G.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"16px"},children:I.map((N,ce)=>G.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:[G.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[G.jsx("h4",{style:{margin:0},children:N.doctorName}),G.jsx("span",{style:{fontSize:"11px",color:"#64748b"},children:N.uploadedAt?new Date(N.uploadedAt).toLocaleDateString():"Recent"})]}),G.jsx("p",{style:{fontSize:"13px",color:"#475569",marginBottom:"15px"},children:N.name||"Prescription"}),G.jsx("button",{onClick:()=>Le(N.url),style:{width:"100%",padding:"10px",background:"#059669",color:"white",border:"none",borderRadius:"8px",fontWeight:500,cursor:"pointer"},children:" Download File"})]},ce))})}):G.jsx("div",{style:{textAlign:"center",padding:"60px 20px",background:"white",borderRadius:"12px",boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:G.jsx("p",{style:{color:"#64748b"},children:"No Prescriptions to Show"})})})]})]})},SU=()=>{const[r,e]=le.useState(!1),[n,a]=le.useState({name:"",phoneNumber:"",licenseNumber:"",waitingBalance:0,accumulatedBalance:0}),[o,l]=le.useState({sun:{from:"",to:""},mon:{from:"",to:""},tue:{from:"",to:""},wed:{from:"",to:""},thu:{from:"",to:""},fri:{from:"",to:""},sat:{from:"",to:""}}),[c,d]=le.useState([]),[p,g]=le.useState([]),[y,w]=le.useState(!0),[R,H]=le.useState(null),[I,F]=le.useState(!1),P=rs(),O=b1(),[U,j]=le.useState(!1),[K,X]=le.useState(""),[J,x]=le.useState(""),C=async ke=>{ke.preventDefault();const ae=parseFloat(K);if(!J.includes("@")){alert("Please enter a valid UPI ID (e.g., name@upi)");return}if(ae<=0||ae>n.accumulatedBalance){alert("Invalid amount. Ensure it's greater than 0 and less than your total balance.");return}try{const ge=nh(ct),xe=zt(ct,"users",Gt.currentUser.uid),Ue=zt(Gn(ct,"payout_requests"));ge.set(Ue,{doctorId:Gt.currentUser.uid,doctorName:n.name,amount:ae,upiId:J,status:"pending",createdAt:new Date().toISOString()}),ge.update(xe,{accumulatedBalance:Gr(-ae)}),await ge.commit(),alert("Withdrawal request submitted! Funds will be sent to "+J),j(!1),X(""),x("")}catch(ge){console.error("Withdrawal error:",ge),alert("Request failed. Please try again.")}};le.useEffect(()=>{y||(async()=>{const ae=Gt.currentUser;if(ae)try{const ge=Ps(Gn(ct,"bookings"),Kr("doctorId","==",ae.uid),Kr("status","==","completed"),Kr("paymentStatus","==","escrow")),xe=await gy(ge);if(xe.empty)return;const Ue=nh(ct);let Le=0;xe.forEach(ne=>{const ve=ne.data(),Z=ve.amountPaid||0,ie=ve.callDurationSeconds||0,he=zt(ct,"users",ae.uid),te=zt(ct,"users",ve.customerId),N=ne.ref;ie>=30?Ue.update(he,{waitingBalance:Gr(-.9*Z),accumulatedBalance:Gr(.9*Z)}):(Ue.update(te,{walletBalance:Gr(Z)}),Ue.update(he,{waitingBalance:Gr(-.9*Z)})),Ue.update(N,{paymentStatus:"complete"}),Le++}),Le>0&&(await Ue.commit(),console.log(`Processed ${Le} pending payments.`))}catch(ge){console.error("Payment processing error:",ge)}})()},[y]),le.useEffect(()=>{const ke=Gt.currentUser;if(ke){const ae=zt(ct,"users",ke.uid),ge=Wr(ae,xe=>{if(xe.exists()){const Ue=xe.data();a({name:Ue.name||"Dr. Unknown",phoneNumber:Ue.phoneNumber||"",licenseNumber:Ue.licenseNumber||"",waitingBalance:Ue.waitingBalance||0,accumulatedBalance:Ue.accumulatedBalance||0}),e(Ue.online||!1),l(Ue.schedule||o)}w(!1)});return D(ke.uid),W(ke.uid),()=>ge()}},[]),le.useEffect(()=>{(async()=>{try{(await navigator.mediaDevices.enumerateDevices()).some(xe=>xe.kind==="videoinput"||xe.kind==="audioinput")&&navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(xe=>{xe.getTracks().forEach(Ue=>Ue.stop())}).catch(()=>{console.log("audio and video inactive")})}catch(ae){console.log("Hardware cleanup skipped:",ae)}})()},[]);const D=ke=>{const ae=Ps(Gn(ct,"bookings"),Kr("doctorId","==",ke),Kr("status","in",["pending","accepted"]));return Wr(ae,ge=>{const xe=[];ge.forEach(Ue=>xe.push({id:Ue.id,...Ue.data()})),d(xe)})},W=ke=>{const ae=Ps(Gn(ct,"bookings"),Kr("doctorId","==",ke),Kr("status","==","completed"));return Wr(ae,ge=>{const xe=[];ge.forEach(Ue=>xe.push({id:Ue.id,...Ue.data()})),g(xe)})},ee=async()=>{try{await hr(zt(ct,"users",Gt.currentUser.uid),{online:!r}),e(!r)}catch{H("Status update failed")}},M=async()=>{try{await hr(zt(ct,"users",Gt.currentUser.uid),{schedule:o})}catch{H("Schedule save failed")}},$=async(ke,ae)=>{try{const ge=ke.target.files[0];if(!ge)return;if(!["application/pdf","image/jpeg","image/png","image/jpg","image/heic","image/heif"].includes(ge.type)){alert("Only PDF or image files are allowed");return}const Ue=pU(O,`prescriptions/${ae}/${Date.now()}_${ge.name}`);await hU(Ue,ge);const Le=await dU(Ue),ne=zt(ct,"bookings",ae);await hr(ne,{prescriptions:nB({name:ge.name,url:Le,type:ge.type,uploadedAt:new Date().toISOString()}),prescriptionCount:Gr(1),prescriptionNote:"Prescription added"}),alert("Prescription uploaded successfully")}catch(ge){console.error("Upload failed",ge),alert("Upload failed")}},Ke=async(ke,ae)=>{try{const ge=zt(ct,"bookings",ke),Ue=(await Eh(ge)).data();if(ae==="accepted"){const Le=`room-${ke}`;await R_(zt(ct,"videoRooms",Le),{bookingId:ke,doctorId:Gt.currentUser.uid,status:"active",users:{[Gt.currentUser.uid]:"doctor"},createdAt:new Date().toISOString()},{merge:!0}),await hr(ge,{status:"accepted",videoRoomId:Le,updatedAt:new Date().toISOString()}),P(`/video-call/${Le}?booking=${ke}`)}else if(ae==="declined"){const Le=nh(ct),ne=zt(ct,"users",Ue.customerId),ve=zt(ct,"users",Gt.currentUser.uid);Le.update(ne,{walletBalance:Gr(Ue.amountPaid)}),Le.update(ve,{waitingBalance:Gr(-Ue.amountPaid)}),Le.update(ge,{status:"declined"}),await Le.commit(),alert("Booking declined and customer refunded.")}else await hr(ge,{status:ae})}catch(ge){H("Action failed: "+ge.message)}};return y?G.jsx("div",{style:{padding:40},children:"Loading..."}):G.jsxs("div",{style:{maxWidth:600,margin:"0 auto",padding:20},children:[G.jsx("h1",{style:{textAlign:"center"},children:"Doctor Portal"}),G.jsxs("div",{style:{display:"flex",gap:15,marginBottom:20},children:[G.jsxs("div",{style:{flex:1,background:"#059669",color:"white",padding:15,borderRadius:12,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[G.jsx("p",{style:{margin:0,fontSize:12,opacity:.8},children:"Accumulated Balance"}),G.jsxs("h2",{style:{margin:"5px 0"},children:["",n.accumulatedBalance]})]}),G.jsxs("div",{style:{flex:1,background:"#f59e0b",color:"white",padding:15,borderRadius:12,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[G.jsx("p",{style:{margin:0,fontSize:12,opacity:.8},children:"Waiting Balance"}),G.jsxs("h2",{style:{margin:"5px 0"},children:["",n.waitingBalance]})]})]}),G.jsx("button",{onClick:()=>j(!0),style:{width:"100%",padding:"12px",background:"#059669",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",marginBottom:"20px",cursor:"pointer"},children:"Request UPI Withdrawal"}),U&&G.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:G.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"16px",width:"90%",maxWidth:"400px",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},children:[G.jsx("h2",{style:{marginTop:0},children:"Withdraw Funds"}),G.jsxs("p",{style:{color:"#64748b",fontSize:"14px"},children:["Available: ",G.jsxs("b",{children:["",n.accumulatedBalance]})]}),G.jsxs("form",{onSubmit:C,children:[G.jsxs("div",{style:{marginBottom:"15px"},children:[G.jsx("label",{style:{display:"block",fontSize:"12px",marginBottom:"5px",fontWeight:"bold"},children:"Amount ()"}),G.jsx("input",{type:"number",required:!0,placeholder:"Min 100",value:K,onChange:ke=>X(ke.target.value),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #cbd5e1"}})]}),G.jsxs("div",{style:{marginBottom:"20px"},children:[G.jsx("label",{style:{display:"block",fontSize:"12px",marginBottom:"5px",fontWeight:"bold"},children:"UPI ID"}),G.jsx("input",{type:"text",required:!0,placeholder:"doctorname@okaxis",value:J,onChange:ke=>x(ke.target.value),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #cbd5e1"}})]}),G.jsxs("div",{style:{display:"flex",gap:"10px"},children:[G.jsx("button",{type:"button",onClick:()=>j(!1),style:{flex:1,padding:"12px",background:"#f1f5f9",border:"none",borderRadius:"8px",cursor:"pointer"},children:"Cancel"}),G.jsx("button",{type:"submit",style:{flex:1,padding:"12px",background:"#059669",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold"},children:"Confirm"})]})]})]})}),G.jsxs(Bf,{children:[G.jsx("h3",{children:" Profile"}),G.jsxs("p",{children:[G.jsx("b",{children:"Name:"})," ",n.name]}),G.jsxs("p",{children:[G.jsx("b",{children:"Phone:"})," ",n.phoneNumber]}),G.jsxs("p",{children:[G.jsx("b",{children:"License:"})," ",n.licenseNumber]}),G.jsx("button",{onClick:ee,style:Uf(r?"#dc2626":"#059669"),children:r?"Go Offline":"Go Online"})]}),G.jsxs(Bf,{children:[G.jsxs("div",{onClick:()=>F(ke=>!ke),style:{display:"flex",justifyContent:"space-between",cursor:"pointer"},children:[G.jsx("h3",{children:" Weekly Schedule"}),G.jsx("span",{children:I?"":""})]}),I&&G.jsxs(G.Fragment,{children:[Object.keys(o).map(ke=>G.jsxs("div",{style:{display:"flex",gap:8,marginBottom:10},children:[G.jsx("b",{style:{width:50},children:ke}),G.jsx("input",{type:"time",value:o[ke].from,onChange:ae=>l(ge=>({...ge,[ke]:{...ge[ke],from:ae.target.value}}))}),G.jsx("input",{type:"time",value:o[ke].to,onChange:ae=>l(ge=>({...ge,[ke]:{...ge[ke],to:ae.target.value}}))})]},ke)),G.jsx("button",{onClick:M,style:Uf("#2563eb"),children:"Save Schedule"})]})]}),G.jsx("h3",{children:" Active Consultations"}),c.map(ke=>G.jsxs(Bf,{children:[G.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[G.jsx("b",{children:ke.customerName}),G.jsxs("b",{style:{color:"#059669"},children:["",ke.amountPaid]})]}),G.jsx("p",{children:new Date(ke.createdAt).toLocaleString()}),ke.status==="pending"&&G.jsxs("div",{style:{display:"flex",gap:10},children:[G.jsx("button",{onClick:()=>Ke(ke.id,"accepted"),style:Uf("#059669"),children:"Accept"}),G.jsx("button",{onClick:()=>Ke(ke.id,"declined"),style:Uf("#dc2626"),children:"Decline"})]})]},ke.id)),G.jsx("h3",{style:{marginTop:30},children:" Completed Consultations"}),p.length===0&&G.jsx("p",{children:"No completed bookings"}),p.map(ke=>G.jsx(Bf,{children:G.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[G.jsxs("div",{children:[G.jsx("b",{children:ke.customerName}),G.jsx("p",{style:{fontSize:13,opacity:.7},children:ke.callEndedAt?.toDate?.().toLocaleString()||"N/A"}),G.jsxs("p",{style:{fontSize:13,fontWeight:"bold",color:"#2563eb"},children:[" Duration: ",Math.floor((ke.callDurationSeconds||0)/60),"m ",(ke.callDurationSeconds||0)%60,"s"]}),ke.prescriptionCount>0&&G.jsxs("p",{style:{fontSize:12,color:"#059669",marginTop:6},children:[" ",ke.prescriptionCount," prescription",ke.prescriptionCount>1?"s":""," added"]})]}),G.jsx("button",{onClick:()=>document.getElementById(`upload-${ke.id}`).click(),style:{display:"flex",alignItems:"center",justifyContent:"center",width:40,height:40,background:"#2563eb",color:"#fff",borderRadius:"50%",cursor:"pointer",fontSize:24,fontWeight:"bold",border:"none",boxShadow:"0 2px 4px rgba(37, 99, 235, 0.3)"},children:"+"}),G.jsx("input",{id:`upload-${ke.id}`,type:"file",accept:".pdf,image/*,.heic,.heif",style:{display:"none"},onChange:ae=>$(ae,ke.id)})]})},ke.id)),R&&G.jsx("p",{style:{color:"red"},children:R})]})},Bf=({children:r})=>G.jsx("div",{style:{background:"#fff",padding:20,borderRadius:12,marginBottom:20,boxShadow:"0 4px 6px rgba(0,0,0,0.05)"},children:r}),Uf=r=>({background:r,color:"#fff",padding:12,border:"none",borderRadius:8,cursor:"pointer",width:"100%"});var Lf={exports:{}},_m,Vb;function AU(){if(Vb)return _m;Vb=1;var r=1e3,e=r*60,n=e*60,a=n*24,o=a*7,l=a*365.25;_m=function(y,w){w=w||{};var R=typeof y;if(R==="string"&&y.length>0)return c(y);if(R==="number"&&isFinite(y))return w.long?p(y):d(y);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(y))};function c(y){if(y=String(y),!(y.length>100)){var w=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(y);if(w){var R=parseFloat(w[1]),H=(w[2]||"ms").toLowerCase();switch(H){case"years":case"year":case"yrs":case"yr":case"y":return R*l;case"weeks":case"week":case"w":return R*o;case"days":case"day":case"d":return R*a;case"hours":case"hour":case"hrs":case"hr":case"h":return R*n;case"minutes":case"minute":case"mins":case"min":case"m":return R*e;case"seconds":case"second":case"secs":case"sec":case"s":return R*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return R;default:return}}}}function d(y){var w=Math.abs(y);return w>=a?Math.round(y/a)+"d":w>=n?Math.round(y/n)+"h":w>=e?Math.round(y/e)+"m":w>=r?Math.round(y/r)+"s":y+"ms"}function p(y){var w=Math.abs(y);return w>=a?g(y,w,a,"day"):w>=n?g(y,w,n,"hour"):w>=e?g(y,w,e,"minute"):w>=r?g(y,w,r,"second"):y+" ms"}function g(y,w,R,H){var I=w>=R*1.5;return Math.round(y/R)+" "+H+(I?"s":"")}return _m}var vm,jb;function RU(){if(jb)return vm;jb=1;function r(e){a.debug=a,a.default=a,a.coerce=g,a.disable=d,a.enable=l,a.enabled=p,a.humanize=AU(),a.destroy=y,Object.keys(e).forEach(w=>{a[w]=e[w]}),a.names=[],a.skips=[],a.formatters={};function n(w){let R=0;for(let H=0;H<w.length;H++)R=(R<<5)-R+w.charCodeAt(H),R|=0;return a.colors[Math.abs(R)%a.colors.length]}a.selectColor=n;function a(w){let R,H=null,I,F;function P(...O){if(!P.enabled)return;const U=P,j=Number(new Date),K=j-(R||j);U.diff=K,U.prev=R,U.curr=j,R=j,O[0]=a.coerce(O[0]),typeof O[0]!="string"&&O.unshift("%O");let X=0;O[0]=O[0].replace(/%([a-zA-Z%])/g,(x,C)=>{if(x==="%%")return"%";X++;const D=a.formatters[C];if(typeof D=="function"){const W=O[X];x=D.call(U,W),O.splice(X,1),X--}return x}),a.formatArgs.call(U,O),(U.log||a.log).apply(U,O)}return P.namespace=w,P.useColors=a.useColors(),P.color=a.selectColor(w),P.extend=o,P.destroy=a.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:()=>H!==null?H:(I!==a.namespaces&&(I=a.namespaces,F=a.enabled(w)),F),set:O=>{H=O}}),typeof a.init=="function"&&a.init(P),P}function o(w,R){const H=a(this.namespace+(typeof R>"u"?":":R)+w);return H.log=this.log,H}function l(w){a.save(w),a.namespaces=w,a.names=[],a.skips=[];const R=(typeof w=="string"?w:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const H of R)H[0]==="-"?a.skips.push(H.slice(1)):a.names.push(H)}function c(w,R){let H=0,I=0,F=-1,P=0;for(;H<w.length;)if(I<R.length&&(R[I]===w[H]||R[I]==="*"))R[I]==="*"?(F=I,P=H,I++):(H++,I++);else if(F!==-1)I=F+1,P++,H=P;else return!1;for(;I<R.length&&R[I]==="*";)I++;return I===R.length}function d(){const w=[...a.names,...a.skips.map(R=>"-"+R)].join(",");return a.enable(""),w}function p(w){for(const R of a.skips)if(c(w,R))return!1;for(const R of a.names)if(c(w,R))return!0;return!1}function g(w){return w instanceof Error?w.stack||w.message:w}function y(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return a.enable(a.load()),a}return vm=r,vm}var Fb;function CU(){return Fb||(Fb=1,(function(r,e){var n={};e.formatArgs=o,e.save=l,e.load=c,e.useColors=a,e.storage=d(),e.destroy=(()=>{let g=!1;return()=>{g||(g=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function a(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let g;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(g=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(g[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function o(g){if(g[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+g[0]+(this.useColors?"%c ":" ")+"+"+r.exports.humanize(this.diff),!this.useColors)return;const y="color: "+this.color;g.splice(1,0,y,"color: inherit");let w=0,R=0;g[0].replace(/%[a-zA-Z%]/g,H=>{H!=="%%"&&(w++,H==="%c"&&(R=w))}),g.splice(R,0,y)}e.log=console.debug||console.log||(()=>{});function l(g){try{g?e.storage.setItem("debug",g):e.storage.removeItem("debug")}catch{}}function c(){let g;try{g=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!g&&typeof et<"u"&&"env"in et&&(g=n.DEBUG),g}function d(){try{return localStorage}catch{}}r.exports=RU()(e);const{formatters:p}=r.exports;p.j=function(g){try{return JSON.stringify(g)}catch(y){return"[UnexpectedJSONParseError]: "+y.message}}})(Lf,Lf.exports)),Lf.exports}var Em,qb;function IU(){return qb||(qb=1,Em=function(){if(typeof globalThis>"u")return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}),Em}var Vf={exports:{}},jf={exports:{}},wm={},zb;function Zu(){return zb||(zb=1,(function(r){Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},n={};n.byteLength=y,n.toByteArray=R,n.fromByteArray=F;for(var a=[],o=[],l=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=0,p=c.length;d<p;++d)a[d]=c[d],o[c.charCodeAt(d)]=d;o[45]=62,o[95]=63;function g(U){var j=U.length;if(j%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var K=U.indexOf("=");K===-1&&(K=j);var X=K===j?0:4-K%4;return[K,X]}function y(U){var j=g(U),K=j[0],X=j[1];return(K+X)*3/4-X}function w(U,j,K){return(j+K)*3/4-K}function R(U){var j,K=g(U),X=K[0],J=K[1],x=new l(w(U,X,J)),C=0,D=J>0?X-4:X,W;for(W=0;W<D;W+=4)j=o[U.charCodeAt(W)]<<18|o[U.charCodeAt(W+1)]<<12|o[U.charCodeAt(W+2)]<<6|o[U.charCodeAt(W+3)],x[C++]=j>>16&255,x[C++]=j>>8&255,x[C++]=j&255;return J===2&&(j=o[U.charCodeAt(W)]<<2|o[U.charCodeAt(W+1)]>>4,x[C++]=j&255),J===1&&(j=o[U.charCodeAt(W)]<<10|o[U.charCodeAt(W+1)]<<4|o[U.charCodeAt(W+2)]>>2,x[C++]=j>>8&255,x[C++]=j&255),x}function H(U){return a[U>>18&63]+a[U>>12&63]+a[U>>6&63]+a[U&63]}function I(U,j,K){for(var X,J=[],x=j;x<K;x+=3)X=(U[x]<<16&16711680)+(U[x+1]<<8&65280)+(U[x+2]&255),J.push(H(X));return J.join("")}function F(U){for(var j,K=U.length,X=K%3,J=[],x=16383,C=0,D=K-X;C<D;C+=x)J.push(I(U,C,C+x>D?D:C+x));return X===1?(j=U[K-1],J.push(a[j>>2]+a[j<<4&63]+"==")):X===2&&(j=(U[K-2]<<8)+U[K-1],J.push(a[j>>10]+a[j>>4&63]+a[j<<2&63]+"=")),J.join("")}var P={};P.read=function(U,j,K,X,J){var x,C,D=J*8-X-1,W=(1<<D)-1,ee=W>>1,M=-7,$=K?J-1:0,Ke=K?-1:1,ke=U[j+$];for($+=Ke,x=ke&(1<<-M)-1,ke>>=-M,M+=D;M>0;x=x*256+U[j+$],$+=Ke,M-=8);for(C=x&(1<<-M)-1,x>>=-M,M+=X;M>0;C=C*256+U[j+$],$+=Ke,M-=8);if(x===0)x=1-ee;else{if(x===W)return C?NaN:(ke?-1:1)*(1/0);C=C+Math.pow(2,X),x=x-ee}return(ke?-1:1)*C*Math.pow(2,x-X)},P.write=function(U,j,K,X,J,x){var C,D,W,ee=x*8-J-1,M=(1<<ee)-1,$=M>>1,Ke=J===23?Math.pow(2,-24)-Math.pow(2,-77):0,ke=X?0:x-1,ae=X?1:-1,ge=j<0||j===0&&1/j<0?1:0;for(j=Math.abs(j),isNaN(j)||j===1/0?(D=isNaN(j)?1:0,C=M):(C=Math.floor(Math.log(j)/Math.LN2),j*(W=Math.pow(2,-C))<1&&(C--,W*=2),C+$>=1?j+=Ke/W:j+=Ke*Math.pow(2,1-$),j*W>=2&&(C++,W/=2),C+$>=M?(D=0,C=M):C+$>=1?(D=(j*W-1)*Math.pow(2,J),C=C+$):(D=j*Math.pow(2,$-1)*Math.pow(2,J),C=0));J>=8;U[K+ke]=D&255,ke+=ae,D/=256,J-=8);for(C=C<<J|D,ee+=J;ee>0;U[K+ke]=C&255,ke+=ae,C/=256,ee-=8);U[K+ke-ae]|=ge*128};(function(U){const j=n,K=P,X=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;U.Buffer=M,U.SlowBuffer=Z,U.INSPECT_MAX_BYTES=50;const J=2147483647;U.kMaxLength=J;const{Uint8Array:x,ArrayBuffer:C,SharedArrayBuffer:D}=globalThis;M.TYPED_ARRAY_SUPPORT=W(),!M.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function W(){try{const B=new x(1),v={foo:function(){return 42}};return Object.setPrototypeOf(v,x.prototype),Object.setPrototypeOf(B,v),B.foo()===42}catch{return!1}}Object.defineProperty(M.prototype,"parent",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.buffer}}),Object.defineProperty(M.prototype,"offset",{enumerable:!0,get:function(){if(M.isBuffer(this))return this.byteOffset}});function ee(B){if(B>J)throw new RangeError('The value "'+B+'" is invalid for option "size"');const v=new x(B);return Object.setPrototypeOf(v,M.prototype),v}function M(B,v,b){if(typeof B=="number"){if(typeof v=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return ae(B)}return $(B,v,b)}M.poolSize=8192;function $(B,v,b){if(typeof B=="string")return ge(B,v);if(C.isView(B))return Ue(B);if(B==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B);if(rn(B,C)||B&&rn(B.buffer,C)||typeof D<"u"&&(rn(B,D)||B&&rn(B.buffer,D)))return Le(B,v,b);if(typeof B=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const Q=B.valueOf&&B.valueOf();if(Q!=null&&Q!==B)return M.from(Q,v,b);const ue=ne(B);if(ue)return ue;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof B[Symbol.toPrimitive]=="function")return M.from(B[Symbol.toPrimitive]("string"),v,b);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof B)}M.from=function(B,v,b){return $(B,v,b)},Object.setPrototypeOf(M.prototype,x.prototype),Object.setPrototypeOf(M,x);function Ke(B){if(typeof B!="number")throw new TypeError('"size" argument must be of type number');if(B<0)throw new RangeError('The value "'+B+'" is invalid for option "size"')}function ke(B,v,b){return Ke(B),B<=0?ee(B):v!==void 0?typeof b=="string"?ee(B).fill(v,b):ee(B).fill(v):ee(B)}M.alloc=function(B,v,b){return ke(B,v,b)};function ae(B){return Ke(B),ee(B<0?0:ve(B)|0)}M.allocUnsafe=function(B){return ae(B)},M.allocUnsafeSlow=function(B){return ae(B)};function ge(B,v){if((typeof v!="string"||v==="")&&(v="utf8"),!M.isEncoding(v))throw new TypeError("Unknown encoding: "+v);const b=ie(B,v)|0;let Q=ee(b);const ue=Q.write(B,v);return ue!==b&&(Q=Q.slice(0,ue)),Q}function xe(B){const v=B.length<0?0:ve(B.length)|0,b=ee(v);for(let Q=0;Q<v;Q+=1)b[Q]=B[Q]&255;return b}function Ue(B){if(rn(B,x)){const v=new x(B);return Le(v.buffer,v.byteOffset,v.byteLength)}return xe(B)}function Le(B,v,b){if(v<0||B.byteLength<v)throw new RangeError('"offset" is outside of buffer bounds');if(B.byteLength<v+(b||0))throw new RangeError('"length" is outside of buffer bounds');let Q;return v===void 0&&b===void 0?Q=new x(B):b===void 0?Q=new x(B,v):Q=new x(B,v,b),Object.setPrototypeOf(Q,M.prototype),Q}function ne(B){if(M.isBuffer(B)){const v=ve(B.length)|0,b=ee(v);return b.length===0||B.copy(b,0,0,v),b}if(B.length!==void 0)return typeof B.length!="number"||jn(B.length)?ee(0):xe(B);if(B.type==="Buffer"&&Array.isArray(B.data))return xe(B.data)}function ve(B){if(B>=J)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+J.toString(16)+" bytes");return B|0}function Z(B){return+B!=B&&(B=0),M.alloc(+B)}M.isBuffer=function(v){return v!=null&&v._isBuffer===!0&&v!==M.prototype},M.compare=function(v,b){if(rn(v,x)&&(v=M.from(v,v.offset,v.byteLength)),rn(b,x)&&(b=M.from(b,b.offset,b.byteLength)),!M.isBuffer(v)||!M.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(v===b)return 0;let Q=v.length,ue=b.length;for(let be=0,Oe=Math.min(Q,ue);be<Oe;++be)if(v[be]!==b[be]){Q=v[be],ue=b[be];break}return Q<ue?-1:ue<Q?1:0},M.isEncoding=function(v){switch(String(v).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},M.concat=function(v,b){if(!Array.isArray(v))throw new TypeError('"list" argument must be an Array of Buffers');if(v.length===0)return M.alloc(0);let Q;if(b===void 0)for(b=0,Q=0;Q<v.length;++Q)b+=v[Q].length;const ue=M.allocUnsafe(b);let be=0;for(Q=0;Q<v.length;++Q){let Oe=v[Q];if(rn(Oe,x))be+Oe.length>ue.length?(M.isBuffer(Oe)||(Oe=M.from(Oe)),Oe.copy(ue,be)):x.prototype.set.call(ue,Oe,be);else if(M.isBuffer(Oe))Oe.copy(ue,be);else throw new TypeError('"list" argument must be an Array of Buffers');be+=Oe.length}return ue};function ie(B,v){if(M.isBuffer(B))return B.length;if(C.isView(B)||rn(B,C))return B.byteLength;if(typeof B!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof B);const b=B.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&b===0)return 0;let ue=!1;for(;;)switch(v){case"ascii":case"latin1":case"binary":return b;case"utf8":case"utf-8":return St(B).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return b*2;case"hex":return b>>>1;case"base64":return ot(B).length;default:if(ue)return Q?-1:St(B).length;v=(""+v).toLowerCase(),ue=!0}}M.byteLength=ie;function he(B,v,b){let Q=!1;if((v===void 0||v<0)&&(v=0),v>this.length||((b===void 0||b>this.length)&&(b=this.length),b<=0)||(b>>>=0,v>>>=0,b<=v))return"";for(B||(B="utf8");;)switch(B){case"hex":return Xt(this,v,b);case"utf8":case"utf-8":return Qe(this,v,b);case"ascii":return cn(this,v,b);case"latin1":case"binary":return Ie(this,v,b);case"base64":return Pe(this,v,b);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return en(this,v,b);default:if(Q)throw new TypeError("Unknown encoding: "+B);B=(B+"").toLowerCase(),Q=!0}}M.prototype._isBuffer=!0;function te(B,v,b){const Q=B[v];B[v]=B[b],B[b]=Q}M.prototype.swap16=function(){const v=this.length;if(v%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let b=0;b<v;b+=2)te(this,b,b+1);return this},M.prototype.swap32=function(){const v=this.length;if(v%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let b=0;b<v;b+=4)te(this,b,b+3),te(this,b+1,b+2);return this},M.prototype.swap64=function(){const v=this.length;if(v%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let b=0;b<v;b+=8)te(this,b,b+7),te(this,b+1,b+6),te(this,b+2,b+5),te(this,b+3,b+4);return this},M.prototype.toString=function(){const v=this.length;return v===0?"":arguments.length===0?Qe(this,0,v):he.apply(this,arguments)},M.prototype.toLocaleString=M.prototype.toString,M.prototype.equals=function(v){if(!M.isBuffer(v))throw new TypeError("Argument must be a Buffer");return this===v?!0:M.compare(this,v)===0},M.prototype.inspect=function(){let v="";const b=U.INSPECT_MAX_BYTES;return v=this.toString("hex",0,b).replace(/(.{2})/g,"$1 ").trim(),this.length>b&&(v+=" ... "),"<Buffer "+v+">"},X&&(M.prototype[X]=M.prototype.inspect),M.prototype.compare=function(v,b,Q,ue,be){if(rn(v,x)&&(v=M.from(v,v.offset,v.byteLength)),!M.isBuffer(v))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof v);if(b===void 0&&(b=0),Q===void 0&&(Q=v?v.length:0),ue===void 0&&(ue=0),be===void 0&&(be=this.length),b<0||Q>v.length||ue<0||be>this.length)throw new RangeError("out of range index");if(ue>=be&&b>=Q)return 0;if(ue>=be)return-1;if(b>=Q)return 1;if(b>>>=0,Q>>>=0,ue>>>=0,be>>>=0,this===v)return 0;let Oe=be-ue,at=Q-b;const Rt=Math.min(Oe,at),kt=this.slice(ue,be),Et=v.slice(b,Q);for(let Xe=0;Xe<Rt;++Xe)if(kt[Xe]!==Et[Xe]){Oe=kt[Xe],at=Et[Xe];break}return Oe<at?-1:at<Oe?1:0};function N(B,v,b,Q,ue){if(B.length===0)return-1;if(typeof b=="string"?(Q=b,b=0):b>2147483647?b=2147483647:b<-2147483648&&(b=-2147483648),b=+b,jn(b)&&(b=ue?0:B.length-1),b<0&&(b=B.length+b),b>=B.length){if(ue)return-1;b=B.length-1}else if(b<0)if(ue)b=0;else return-1;if(typeof v=="string"&&(v=M.from(v,Q)),M.isBuffer(v))return v.length===0?-1:ce(B,v,b,Q,ue);if(typeof v=="number")return v=v&255,typeof x.prototype.indexOf=="function"?ue?x.prototype.indexOf.call(B,v,b):x.prototype.lastIndexOf.call(B,v,b):ce(B,[v],b,Q,ue);throw new TypeError("val must be string, number or Buffer")}function ce(B,v,b,Q,ue){let be=1,Oe=B.length,at=v.length;if(Q!==void 0&&(Q=String(Q).toLowerCase(),Q==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(B.length<2||v.length<2)return-1;be=2,Oe/=2,at/=2,b/=2}function Rt(Et,Xe){return be===1?Et[Xe]:Et.readUInt16BE(Xe*be)}let kt;if(ue){let Et=-1;for(kt=b;kt<Oe;kt++)if(Rt(B,kt)===Rt(v,Et===-1?0:kt-Et)){if(Et===-1&&(Et=kt),kt-Et+1===at)return Et*be}else Et!==-1&&(kt-=kt-Et),Et=-1}else for(b+at>Oe&&(b=Oe-at),kt=b;kt>=0;kt--){let Et=!0;for(let Xe=0;Xe<at;Xe++)if(Rt(B,kt+Xe)!==Rt(v,Xe)){Et=!1;break}if(Et)return kt}return-1}M.prototype.includes=function(v,b,Q){return this.indexOf(v,b,Q)!==-1},M.prototype.indexOf=function(v,b,Q){return N(this,v,b,Q,!0)},M.prototype.lastIndexOf=function(v,b,Q){return N(this,v,b,Q,!1)};function pe(B,v,b,Q){b=Number(b)||0;const ue=B.length-b;Q?(Q=Number(Q),Q>ue&&(Q=ue)):Q=ue;const be=v.length;Q>be/2&&(Q=be/2);let Oe;for(Oe=0;Oe<Q;++Oe){const at=parseInt(v.substr(Oe*2,2),16);if(jn(at))return Oe;B[b+Oe]=at}return Oe}function Te(B,v,b,Q){return mr(St(v,B.length-b),B,b,Q)}function V(B,v,b,Q){return mr(Dt(v),B,b,Q)}function q(B,v,b,Q){return mr(ot(v),B,b,Q)}function Ee(B,v,b,Q){return mr(At(v,B.length-b),B,b,Q)}M.prototype.write=function(v,b,Q,ue){if(b===void 0)ue="utf8",Q=this.length,b=0;else if(Q===void 0&&typeof b=="string")ue=b,Q=this.length,b=0;else if(isFinite(b))b=b>>>0,isFinite(Q)?(Q=Q>>>0,ue===void 0&&(ue="utf8")):(ue=Q,Q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const be=this.length-b;if((Q===void 0||Q>be)&&(Q=be),v.length>0&&(Q<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");ue||(ue="utf8");let Oe=!1;for(;;)switch(ue){case"hex":return pe(this,v,b,Q);case"utf8":case"utf-8":return Te(this,v,b,Q);case"ascii":case"latin1":case"binary":return V(this,v,b,Q);case"base64":return q(this,v,b,Q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee(this,v,b,Q);default:if(Oe)throw new TypeError("Unknown encoding: "+ue);ue=(""+ue).toLowerCase(),Oe=!0}},M.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Pe(B,v,b){return v===0&&b===B.length?j.fromByteArray(B):j.fromByteArray(B.slice(v,b))}function Qe(B,v,b){b=Math.min(B.length,b);const Q=[];let ue=v;for(;ue<b;){const be=B[ue];let Oe=null,at=be>239?4:be>223?3:be>191?2:1;if(ue+at<=b){let Rt,kt,Et,Xe;switch(at){case 1:be<128&&(Oe=be);break;case 2:Rt=B[ue+1],(Rt&192)===128&&(Xe=(be&31)<<6|Rt&63,Xe>127&&(Oe=Xe));break;case 3:Rt=B[ue+1],kt=B[ue+2],(Rt&192)===128&&(kt&192)===128&&(Xe=(be&15)<<12|(Rt&63)<<6|kt&63,Xe>2047&&(Xe<55296||Xe>57343)&&(Oe=Xe));break;case 4:Rt=B[ue+1],kt=B[ue+2],Et=B[ue+3],(Rt&192)===128&&(kt&192)===128&&(Et&192)===128&&(Xe=(be&15)<<18|(Rt&63)<<12|(kt&63)<<6|Et&63,Xe>65535&&Xe<1114112&&(Oe=Xe))}}Oe===null?(Oe=65533,at=1):Oe>65535&&(Oe-=65536,Q.push(Oe>>>10&1023|55296),Oe=56320|Oe&1023),Q.push(Oe),ue+=at}return Ze(Q)}const je=4096;function Ze(B){const v=B.length;if(v<=je)return String.fromCharCode.apply(String,B);let b="",Q=0;for(;Q<v;)b+=String.fromCharCode.apply(String,B.slice(Q,Q+=je));return b}function cn(B,v,b){let Q="";b=Math.min(B.length,b);for(let ue=v;ue<b;++ue)Q+=String.fromCharCode(B[ue]&127);return Q}function Ie(B,v,b){let Q="";b=Math.min(B.length,b);for(let ue=v;ue<b;++ue)Q+=String.fromCharCode(B[ue]);return Q}function Xt(B,v,b){const Q=B.length;(!v||v<0)&&(v=0),(!b||b<0||b>Q)&&(b=Q);let ue="";for(let be=v;be<b;++be)ue+=Jr[B[be]];return ue}function en(B,v,b){const Q=B.slice(v,b);let ue="";for(let be=0;be<Q.length-1;be+=2)ue+=String.fromCharCode(Q[be]+Q[be+1]*256);return ue}M.prototype.slice=function(v,b){const Q=this.length;v=~~v,b=b===void 0?Q:~~b,v<0?(v+=Q,v<0&&(v=0)):v>Q&&(v=Q),b<0?(b+=Q,b<0&&(b=0)):b>Q&&(b=Q),b<v&&(b=v);const ue=this.subarray(v,b);return Object.setPrototypeOf(ue,M.prototype),ue};function wt(B,v,b){if(B%1!==0||B<0)throw new RangeError("offset is not uint");if(B+v>b)throw new RangeError("Trying to access beyond buffer length")}M.prototype.readUintLE=M.prototype.readUIntLE=function(v,b,Q){v=v>>>0,b=b>>>0,Q||wt(v,b,this.length);let ue=this[v],be=1,Oe=0;for(;++Oe<b&&(be*=256);)ue+=this[v+Oe]*be;return ue},M.prototype.readUintBE=M.prototype.readUIntBE=function(v,b,Q){v=v>>>0,b=b>>>0,Q||wt(v,b,this.length);let ue=this[v+--b],be=1;for(;b>0&&(be*=256);)ue+=this[v+--b]*be;return ue},M.prototype.readUint8=M.prototype.readUInt8=function(v,b){return v=v>>>0,b||wt(v,1,this.length),this[v]},M.prototype.readUint16LE=M.prototype.readUInt16LE=function(v,b){return v=v>>>0,b||wt(v,2,this.length),this[v]|this[v+1]<<8},M.prototype.readUint16BE=M.prototype.readUInt16BE=function(v,b){return v=v>>>0,b||wt(v,2,this.length),this[v]<<8|this[v+1]},M.prototype.readUint32LE=M.prototype.readUInt32LE=function(v,b){return v=v>>>0,b||wt(v,4,this.length),(this[v]|this[v+1]<<8|this[v+2]<<16)+this[v+3]*16777216},M.prototype.readUint32BE=M.prototype.readUInt32BE=function(v,b){return v=v>>>0,b||wt(v,4,this.length),this[v]*16777216+(this[v+1]<<16|this[v+2]<<8|this[v+3])},M.prototype.readBigUInt64LE=Qn(function(v){v=v>>>0,se(v,"offset");const b=this[v],Q=this[v+7];(b===void 0||Q===void 0)&&me(v,this.length-8);const ue=b+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24,be=this[++v]+this[++v]*2**8+this[++v]*2**16+Q*2**24;return BigInt(ue)+(BigInt(be)<<BigInt(32))}),M.prototype.readBigUInt64BE=Qn(function(v){v=v>>>0,se(v,"offset");const b=this[v],Q=this[v+7];(b===void 0||Q===void 0)&&me(v,this.length-8);const ue=b*2**24+this[++v]*2**16+this[++v]*2**8+this[++v],be=this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+Q;return(BigInt(ue)<<BigInt(32))+BigInt(be)}),M.prototype.readIntLE=function(v,b,Q){v=v>>>0,b=b>>>0,Q||wt(v,b,this.length);let ue=this[v],be=1,Oe=0;for(;++Oe<b&&(be*=256);)ue+=this[v+Oe]*be;return be*=128,ue>=be&&(ue-=Math.pow(2,8*b)),ue},M.prototype.readIntBE=function(v,b,Q){v=v>>>0,b=b>>>0,Q||wt(v,b,this.length);let ue=b,be=1,Oe=this[v+--ue];for(;ue>0&&(be*=256);)Oe+=this[v+--ue]*be;return be*=128,Oe>=be&&(Oe-=Math.pow(2,8*b)),Oe},M.prototype.readInt8=function(v,b){return v=v>>>0,b||wt(v,1,this.length),this[v]&128?(255-this[v]+1)*-1:this[v]},M.prototype.readInt16LE=function(v,b){v=v>>>0,b||wt(v,2,this.length);const Q=this[v]|this[v+1]<<8;return Q&32768?Q|4294901760:Q},M.prototype.readInt16BE=function(v,b){v=v>>>0,b||wt(v,2,this.length);const Q=this[v+1]|this[v]<<8;return Q&32768?Q|4294901760:Q},M.prototype.readInt32LE=function(v,b){return v=v>>>0,b||wt(v,4,this.length),this[v]|this[v+1]<<8|this[v+2]<<16|this[v+3]<<24},M.prototype.readInt32BE=function(v,b){return v=v>>>0,b||wt(v,4,this.length),this[v]<<24|this[v+1]<<16|this[v+2]<<8|this[v+3]},M.prototype.readBigInt64LE=Qn(function(v){v=v>>>0,se(v,"offset");const b=this[v],Q=this[v+7];(b===void 0||Q===void 0)&&me(v,this.length-8);const ue=this[v+4]+this[v+5]*2**8+this[v+6]*2**16+(Q<<24);return(BigInt(ue)<<BigInt(32))+BigInt(b+this[++v]*2**8+this[++v]*2**16+this[++v]*2**24)}),M.prototype.readBigInt64BE=Qn(function(v){v=v>>>0,se(v,"offset");const b=this[v],Q=this[v+7];(b===void 0||Q===void 0)&&me(v,this.length-8);const ue=(b<<24)+this[++v]*2**16+this[++v]*2**8+this[++v];return(BigInt(ue)<<BigInt(32))+BigInt(this[++v]*2**24+this[++v]*2**16+this[++v]*2**8+Q)}),M.prototype.readFloatLE=function(v,b){return v=v>>>0,b||wt(v,4,this.length),K.read(this,v,!0,23,4)},M.prototype.readFloatBE=function(v,b){return v=v>>>0,b||wt(v,4,this.length),K.read(this,v,!1,23,4)},M.prototype.readDoubleLE=function(v,b){return v=v>>>0,b||wt(v,8,this.length),K.read(this,v,!0,52,8)},M.prototype.readDoubleBE=function(v,b){return v=v>>>0,b||wt(v,8,this.length),K.read(this,v,!1,52,8)};function bt(B,v,b,Q,ue,be){if(!M.isBuffer(B))throw new TypeError('"buffer" argument must be a Buffer instance');if(v>ue||v<be)throw new RangeError('"value" argument is out of bounds');if(b+Q>B.length)throw new RangeError("Index out of range")}M.prototype.writeUintLE=M.prototype.writeUIntLE=function(v,b,Q,ue){if(v=+v,b=b>>>0,Q=Q>>>0,!ue){const at=Math.pow(2,8*Q)-1;bt(this,v,b,Q,at,0)}let be=1,Oe=0;for(this[b]=v&255;++Oe<Q&&(be*=256);)this[b+Oe]=v/be&255;return b+Q},M.prototype.writeUintBE=M.prototype.writeUIntBE=function(v,b,Q,ue){if(v=+v,b=b>>>0,Q=Q>>>0,!ue){const at=Math.pow(2,8*Q)-1;bt(this,v,b,Q,at,0)}let be=Q-1,Oe=1;for(this[b+be]=v&255;--be>=0&&(Oe*=256);)this[b+be]=v/Oe&255;return b+Q},M.prototype.writeUint8=M.prototype.writeUInt8=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,1,255,0),this[b]=v&255,b+1},M.prototype.writeUint16LE=M.prototype.writeUInt16LE=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,2,65535,0),this[b]=v&255,this[b+1]=v>>>8,b+2},M.prototype.writeUint16BE=M.prototype.writeUInt16BE=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,2,65535,0),this[b]=v>>>8,this[b+1]=v&255,b+2},M.prototype.writeUint32LE=M.prototype.writeUInt32LE=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,4,4294967295,0),this[b+3]=v>>>24,this[b+2]=v>>>16,this[b+1]=v>>>8,this[b]=v&255,b+4},M.prototype.writeUint32BE=M.prototype.writeUInt32BE=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,4,4294967295,0),this[b]=v>>>24,this[b+1]=v>>>16,this[b+2]=v>>>8,this[b+3]=v&255,b+4};function _t(B,v,b,Q,ue){Y(v,Q,ue,B,b,7);let be=Number(v&BigInt(4294967295));B[b++]=be,be=be>>8,B[b++]=be,be=be>>8,B[b++]=be,be=be>>8,B[b++]=be;let Oe=Number(v>>BigInt(32)&BigInt(4294967295));return B[b++]=Oe,Oe=Oe>>8,B[b++]=Oe,Oe=Oe>>8,B[b++]=Oe,Oe=Oe>>8,B[b++]=Oe,b}function nn(B,v,b,Q,ue){Y(v,Q,ue,B,b,7);let be=Number(v&BigInt(4294967295));B[b+7]=be,be=be>>8,B[b+6]=be,be=be>>8,B[b+5]=be,be=be>>8,B[b+4]=be;let Oe=Number(v>>BigInt(32)&BigInt(4294967295));return B[b+3]=Oe,Oe=Oe>>8,B[b+2]=Oe,Oe=Oe>>8,B[b+1]=Oe,Oe=Oe>>8,B[b]=Oe,b+8}M.prototype.writeBigUInt64LE=Qn(function(v,b=0){return _t(this,v,b,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeBigUInt64BE=Qn(function(v,b=0){return nn(this,v,b,BigInt(0),BigInt("0xffffffffffffffff"))}),M.prototype.writeIntLE=function(v,b,Q,ue){if(v=+v,b=b>>>0,!ue){const Rt=Math.pow(2,8*Q-1);bt(this,v,b,Q,Rt-1,-Rt)}let be=0,Oe=1,at=0;for(this[b]=v&255;++be<Q&&(Oe*=256);)v<0&&at===0&&this[b+be-1]!==0&&(at=1),this[b+be]=(v/Oe>>0)-at&255;return b+Q},M.prototype.writeIntBE=function(v,b,Q,ue){if(v=+v,b=b>>>0,!ue){const Rt=Math.pow(2,8*Q-1);bt(this,v,b,Q,Rt-1,-Rt)}let be=Q-1,Oe=1,at=0;for(this[b+be]=v&255;--be>=0&&(Oe*=256);)v<0&&at===0&&this[b+be+1]!==0&&(at=1),this[b+be]=(v/Oe>>0)-at&255;return b+Q},M.prototype.writeInt8=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,1,127,-128),v<0&&(v=255+v+1),this[b]=v&255,b+1},M.prototype.writeInt16LE=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,2,32767,-32768),this[b]=v&255,this[b+1]=v>>>8,b+2},M.prototype.writeInt16BE=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,2,32767,-32768),this[b]=v>>>8,this[b+1]=v&255,b+2},M.prototype.writeInt32LE=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,4,2147483647,-2147483648),this[b]=v&255,this[b+1]=v>>>8,this[b+2]=v>>>16,this[b+3]=v>>>24,b+4},M.prototype.writeInt32BE=function(v,b,Q){return v=+v,b=b>>>0,Q||bt(this,v,b,4,2147483647,-2147483648),v<0&&(v=4294967295+v+1),this[b]=v>>>24,this[b+1]=v>>>16,this[b+2]=v>>>8,this[b+3]=v&255,b+4},M.prototype.writeBigInt64LE=Qn(function(v,b=0){return _t(this,v,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),M.prototype.writeBigInt64BE=Qn(function(v,b=0){return nn(this,v,b,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Tt(B,v,b,Q,ue,be){if(b+Q>B.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("Index out of range")}function Mt(B,v,b,Q,ue){return v=+v,b=b>>>0,ue||Tt(B,v,b,4),K.write(B,v,b,Q,23,4),b+4}M.prototype.writeFloatLE=function(v,b,Q){return Mt(this,v,b,!0,Q)},M.prototype.writeFloatBE=function(v,b,Q){return Mt(this,v,b,!1,Q)};function Vt(B,v,b,Q,ue){return v=+v,b=b>>>0,ue||Tt(B,v,b,8),K.write(B,v,b,Q,52,8),b+8}M.prototype.writeDoubleLE=function(v,b,Q){return Vt(this,v,b,!0,Q)},M.prototype.writeDoubleBE=function(v,b,Q){return Vt(this,v,b,!1,Q)},M.prototype.copy=function(v,b,Q,ue){if(!M.isBuffer(v))throw new TypeError("argument should be a Buffer");if(Q||(Q=0),!ue&&ue!==0&&(ue=this.length),b>=v.length&&(b=v.length),b||(b=0),ue>0&&ue<Q&&(ue=Q),ue===Q||v.length===0||this.length===0)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(Q<0||Q>=this.length)throw new RangeError("Index out of range");if(ue<0)throw new RangeError("sourceEnd out of bounds");ue>this.length&&(ue=this.length),v.length-b<ue-Q&&(ue=v.length-b+Q);const be=ue-Q;return this===v&&typeof x.prototype.copyWithin=="function"?this.copyWithin(b,Q,ue):x.prototype.set.call(v,this.subarray(Q,ue),b),be},M.prototype.fill=function(v,b,Q,ue){if(typeof v=="string"){if(typeof b=="string"?(ue=b,b=0,Q=this.length):typeof Q=="string"&&(ue=Q,Q=this.length),ue!==void 0&&typeof ue!="string")throw new TypeError("encoding must be a string");if(typeof ue=="string"&&!M.isEncoding(ue))throw new TypeError("Unknown encoding: "+ue);if(v.length===1){const Oe=v.charCodeAt(0);(ue==="utf8"&&Oe<128||ue==="latin1")&&(v=Oe)}}else typeof v=="number"?v=v&255:typeof v=="boolean"&&(v=Number(v));if(b<0||this.length<b||this.length<Q)throw new RangeError("Out of range index");if(Q<=b)return this;b=b>>>0,Q=Q===void 0?this.length:Q>>>0,v||(v=0);let be;if(typeof v=="number")for(be=b;be<Q;++be)this[be]=v;else{const Oe=M.isBuffer(v)?v:M.from(v,ue),at=Oe.length;if(at===0)throw new TypeError('The value "'+v+'" is invalid for argument "value"');for(be=0;be<Q-b;++be)this[be+b]=Oe[be%at]}return this};const pr={};function k(B,v,b){pr[B]=class extends b{constructor(){super(),Object.defineProperty(this,"message",{value:v.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${B}]`,this.stack,delete this.name}get code(){return B}set code(ue){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ue,writable:!0})}toString(){return`${this.name} [${B}]: ${this.message}`}}}k("ERR_BUFFER_OUT_OF_BOUNDS",function(B){return B?`${B} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),k("ERR_INVALID_ARG_TYPE",function(B,v){return`The "${B}" argument must be of type number. Received type ${typeof v}`},TypeError),k("ERR_OUT_OF_RANGE",function(B,v,b){let Q=`The value of "${B}" is out of range.`,ue=b;return Number.isInteger(b)&&Math.abs(b)>2**32?ue=E(String(b)):typeof b=="bigint"&&(ue=String(b),(b>BigInt(2)**BigInt(32)||b<-(BigInt(2)**BigInt(32)))&&(ue=E(ue)),ue+="n"),Q+=` It must be ${v}. Received ${ue}`,Q},RangeError);function E(B){let v="",b=B.length;const Q=B[0]==="-"?1:0;for(;b>=Q+4;b-=3)v=`_${B.slice(b-3,b)}${v}`;return`${B.slice(0,b)}${v}`}function T(B,v,b){se(v,"offset"),(B[v]===void 0||B[v+b]===void 0)&&me(v,B.length-(b+1))}function Y(B,v,b,Q,ue,be){if(B>b||B<v){const Oe=typeof v=="bigint"?"n":"";let at;throw v===0||v===BigInt(0)?at=`>= 0${Oe} and < 2${Oe} ** ${(be+1)*8}${Oe}`:at=`>= -(2${Oe} ** ${(be+1)*8-1}${Oe}) and < 2 ** ${(be+1)*8-1}${Oe}`,new pr.ERR_OUT_OF_RANGE("value",at,B)}T(Q,ue,be)}function se(B,v){if(typeof B!="number")throw new pr.ERR_INVALID_ARG_TYPE(v,"number",B)}function me(B,v,b){throw Math.floor(B)!==B?(se(B,b),new pr.ERR_OUT_OF_RANGE("offset","an integer",B)):v<0?new pr.ERR_BUFFER_OUT_OF_BOUNDS:new pr.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${v}`,B)}const Re=/[^+/0-9A-Za-z-_]/g;function it(B){if(B=B.split("=")[0],B=B.trim().replace(Re,""),B.length<2)return"";for(;B.length%4!==0;)B=B+"=";return B}function St(B,v){v=v||1/0;let b;const Q=B.length;let ue=null;const be=[];for(let Oe=0;Oe<Q;++Oe){if(b=B.charCodeAt(Oe),b>55295&&b<57344){if(!ue){if(b>56319){(v-=3)>-1&&be.push(239,191,189);continue}else if(Oe+1===Q){(v-=3)>-1&&be.push(239,191,189);continue}ue=b;continue}if(b<56320){(v-=3)>-1&&be.push(239,191,189),ue=b;continue}b=(ue-55296<<10|b-56320)+65536}else ue&&(v-=3)>-1&&be.push(239,191,189);if(ue=null,b<128){if((v-=1)<0)break;be.push(b)}else if(b<2048){if((v-=2)<0)break;be.push(b>>6|192,b&63|128)}else if(b<65536){if((v-=3)<0)break;be.push(b>>12|224,b>>6&63|128,b&63|128)}else if(b<1114112){if((v-=4)<0)break;be.push(b>>18|240,b>>12&63|128,b>>6&63|128,b&63|128)}else throw new Error("Invalid code point")}return be}function Dt(B){const v=[];for(let b=0;b<B.length;++b)v.push(B.charCodeAt(b)&255);return v}function At(B,v){let b,Q,ue;const be=[];for(let Oe=0;Oe<B.length&&!((v-=2)<0);++Oe)b=B.charCodeAt(Oe),Q=b>>8,ue=b%256,be.push(ue),be.push(Q);return be}function ot(B){return j.toByteArray(it(B))}function mr(B,v,b,Q){let ue;for(ue=0;ue<Q&&!(ue+b>=v.length||ue>=B.length);++ue)v[ue+b]=B[ue];return ue}function rn(B,v){return B instanceof v||B!=null&&B.constructor!=null&&B.constructor.name!=null&&B.constructor.name===v.name}function jn(B){return B!==B}const Jr=(function(){const B="0123456789abcdef",v=new Array(256);for(let b=0;b<16;++b){const Q=b*16;for(let ue=0;ue<16;++ue)v[Q+ue]=B[b]+B[ue]}return v})();function Qn(B){return typeof BigInt>"u"?as:B}function as(){throw new Error("BigInt not supported")}})(e);const O=e.Buffer;r.Blob=e.Blob,r.BlobOptions=e.BlobOptions,r.Buffer=e.Buffer,r.File=e.File,r.FileOptions=e.FileOptions,r.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,r.SlowBuffer=e.SlowBuffer,r.TranscodeEncoding=e.TranscodeEncoding,r.atob=e.atob,r.btoa=e.btoa,r.constants=e.constants,r.default=O,r.isAscii=e.isAscii,r.isUtf8=e.isUtf8,r.kMaxLength=e.kMaxLength,r.kStringMaxLength=e.kStringMaxLength,r.resolveObjectURL=e.resolveObjectURL,r.transcode=e.transcode})(wm)),wm}var Hb;function T1(){return Hb||(Hb=1,(function(r,e){var n=Zu(),a=n.Buffer;function o(c,d){for(var p in c)d[p]=c[p]}a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?r.exports=n:(o(n,e),e.Buffer=l);function l(c,d,p){return a(c,d,p)}l.prototype=Object.create(a.prototype),o(a,l),l.from=function(c,d,p){if(typeof c=="number")throw new TypeError("Argument must not be a number");return a(c,d,p)},l.alloc=function(c,d,p){if(typeof c!="number")throw new TypeError("Argument must be a number");var g=a(c);return d!==void 0?typeof p=="string"?g.fill(d,p):g.fill(d):g.fill(0),g},l.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return a(c)},l.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(c)}})(jf,jf.exports)),jf.exports}var Gb;function xU(){if(Gb)return Vf.exports;Gb=1;var r=65536,e=4294967295;function n(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var a=T1().Buffer,o=Yr.crypto||Yr.msCrypto;o&&o.getRandomValues?Vf.exports=l:Vf.exports=n;function l(c,d){if(c>e)throw new RangeError("requested too many random bytes");var p=a.allocUnsafe(c);if(c>0)if(c>r)for(var g=0;g<c;g+=r)o.getRandomValues(p.slice(g,g+r));else o.getRandomValues(p);return typeof d=="function"?et.nextTick(function(){d(null,p)}):p}return Vf.exports}var Ff={exports:{}},qf={exports:{}},Kb;function S1(){if(Kb)return qf.exports;Kb=1;var r=typeof Reflect=="object"?Reflect:null,e=r&&typeof r.apply=="function"?r.apply:function(X,J,x){return Function.prototype.apply.call(X,J,x)},n;r&&typeof r.ownKeys=="function"?n=r.ownKeys:Object.getOwnPropertySymbols?n=function(X){return Object.getOwnPropertyNames(X).concat(Object.getOwnPropertySymbols(X))}:n=function(X){return Object.getOwnPropertyNames(X)};function a(K){console&&console.warn&&console.warn(K)}var o=Number.isNaN||function(X){return X!==X};function l(){l.init.call(this)}qf.exports=l,qf.exports.once=O,l.EventEmitter=l,l.prototype._events=void 0,l.prototype._eventsCount=0,l.prototype._maxListeners=void 0;var c=10;function d(K){if(typeof K!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof K)}Object.defineProperty(l,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(K){if(typeof K!="number"||K<0||o(K))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+K+".");c=K}}),l.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(X){if(typeof X!="number"||X<0||o(X))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+X+".");return this._maxListeners=X,this};function p(K){return K._maxListeners===void 0?l.defaultMaxListeners:K._maxListeners}l.prototype.getMaxListeners=function(){return p(this)},l.prototype.emit=function(X){for(var J=[],x=1;x<arguments.length;x++)J.push(arguments[x]);var C=X==="error",D=this._events;if(D!==void 0)C=C&&D.error===void 0;else if(!C)return!1;if(C){var W;if(J.length>0&&(W=J[0]),W instanceof Error)throw W;var ee=new Error("Unhandled error."+(W?" ("+W.message+")":""));throw ee.context=W,ee}var M=D[X];if(M===void 0)return!1;if(typeof M=="function")e(M,this,J);else for(var $=M.length,Ke=I(M,$),x=0;x<$;++x)e(Ke[x],this,J);return!0};function g(K,X,J,x){var C,D,W;if(d(J),D=K._events,D===void 0?(D=K._events=Object.create(null),K._eventsCount=0):(D.newListener!==void 0&&(K.emit("newListener",X,J.listener?J.listener:J),D=K._events),W=D[X]),W===void 0)W=D[X]=J,++K._eventsCount;else if(typeof W=="function"?W=D[X]=x?[J,W]:[W,J]:x?W.unshift(J):W.push(J),C=p(K),C>0&&W.length>C&&!W.warned){W.warned=!0;var ee=new Error("Possible EventEmitter memory leak detected. "+W.length+" "+String(X)+" listeners added. Use emitter.setMaxListeners() to increase limit");ee.name="MaxListenersExceededWarning",ee.emitter=K,ee.type=X,ee.count=W.length,a(ee)}return K}l.prototype.addListener=function(X,J){return g(this,X,J,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(X,J){return g(this,X,J,!0)};function y(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(K,X,J){var x={fired:!1,wrapFn:void 0,target:K,type:X,listener:J},C=y.bind(x);return C.listener=J,x.wrapFn=C,C}l.prototype.once=function(X,J){return d(J),this.on(X,w(this,X,J)),this},l.prototype.prependOnceListener=function(X,J){return d(J),this.prependListener(X,w(this,X,J)),this},l.prototype.removeListener=function(X,J){var x,C,D,W,ee;if(d(J),C=this._events,C===void 0)return this;if(x=C[X],x===void 0)return this;if(x===J||x.listener===J)--this._eventsCount===0?this._events=Object.create(null):(delete C[X],C.removeListener&&this.emit("removeListener",X,x.listener||J));else if(typeof x!="function"){for(D=-1,W=x.length-1;W>=0;W--)if(x[W]===J||x[W].listener===J){ee=x[W].listener,D=W;break}if(D<0)return this;D===0?x.shift():F(x,D),x.length===1&&(C[X]=x[0]),C.removeListener!==void 0&&this.emit("removeListener",X,ee||J)}return this},l.prototype.off=l.prototype.removeListener,l.prototype.removeAllListeners=function(X){var J,x,C;if(x=this._events,x===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[X]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete x[X]),this;if(arguments.length===0){var D=Object.keys(x),W;for(C=0;C<D.length;++C)W=D[C],W!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(J=x[X],typeof J=="function")this.removeListener(X,J);else if(J!==void 0)for(C=J.length-1;C>=0;C--)this.removeListener(X,J[C]);return this};function R(K,X,J){var x=K._events;if(x===void 0)return[];var C=x[X];return C===void 0?[]:typeof C=="function"?J?[C.listener||C]:[C]:J?P(C):I(C,C.length)}l.prototype.listeners=function(X){return R(this,X,!0)},l.prototype.rawListeners=function(X){return R(this,X,!1)},l.listenerCount=function(K,X){return typeof K.listenerCount=="function"?K.listenerCount(X):H.call(K,X)},l.prototype.listenerCount=H;function H(K){var X=this._events;if(X!==void 0){var J=X[K];if(typeof J=="function")return 1;if(J!==void 0)return J.length}return 0}l.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function I(K,X){for(var J=new Array(X),x=0;x<X;++x)J[x]=K[x];return J}function F(K,X){for(;X+1<K.length;X++)K[X]=K[X+1];K.pop()}function P(K){for(var X=new Array(K.length),J=0;J<X.length;++J)X[J]=K[J].listener||K[J];return X}function O(K,X){return new Promise(function(J,x){function C(W){K.removeListener(X,D),x(W)}function D(){typeof K.removeListener=="function"&&K.removeListener("error",C),J([].slice.call(arguments))}j(K,X,D,{once:!0}),X!=="error"&&U(K,C,{once:!0})})}function U(K,X,J){typeof K.on=="function"&&j(K,"error",X,J)}function j(K,X,J,x){if(typeof K.on=="function")x.once?K.once(X,J):K.on(X,J);else if(typeof K.addEventListener=="function")K.addEventListener(X,function C(D){x.once&&K.removeEventListener(X,C),J(D)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof K)}return qf.exports}var bm,Wb;function A1(){return Wb||(Wb=1,bm=S1().EventEmitter),bm}var Tm={},Sm={},Am,Yb;function R1(){return Yb||(Yb=1,Am=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},n=Symbol("test"),a=Object(n);if(typeof n=="string"||Object.prototype.toString.call(n)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;var o=42;e[n]=o;for(var l in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var c=Object.getOwnPropertySymbols(e);if(c.length!==1||c[0]!==n||!Object.prototype.propertyIsEnumerable.call(e,n))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,n);if(d.value!==o||d.enumerable!==!0)return!1}return!0}),Am}var Rm,Qb;function Kh(){if(Qb)return Rm;Qb=1;var r=R1();return Rm=function(){return r()&&!!Symbol.toStringTag},Rm}var Cm,$b;function C1(){return $b||($b=1,Cm=Object),Cm}var Im,Xb;function OU(){return Xb||(Xb=1,Im=Error),Im}var xm,Jb;function DU(){return Jb||(Jb=1,xm=EvalError),xm}var Om,Zb;function NU(){return Zb||(Zb=1,Om=RangeError),Om}var Dm,eT;function MU(){return eT||(eT=1,Dm=ReferenceError),Dm}var Nm,tT;function I1(){return tT||(tT=1,Nm=SyntaxError),Nm}var Mm,nT;function ec(){return nT||(nT=1,Mm=TypeError),Mm}var Pm,rT;function PU(){return rT||(rT=1,Pm=URIError),Pm}var km,iT;function kU(){return iT||(iT=1,km=Math.abs),km}var Bm,aT;function BU(){return aT||(aT=1,Bm=Math.floor),Bm}var Um,sT;function UU(){return sT||(sT=1,Um=Math.max),Um}var Lm,oT;function LU(){return oT||(oT=1,Lm=Math.min),Lm}var Vm,lT;function VU(){return lT||(lT=1,Vm=Math.pow),Vm}var jm,uT;function jU(){return uT||(uT=1,jm=Math.round),jm}var Fm,cT;function FU(){return cT||(cT=1,Fm=Number.isNaN||function(e){return e!==e}),Fm}var qm,fT;function qU(){if(fT)return qm;fT=1;var r=FU();return qm=function(n){return r(n)||n===0?n:n<0?-1:1},qm}var zm,hT;function zU(){return hT||(hT=1,zm=Object.getOwnPropertyDescriptor),zm}var Hm,dT;function fl(){if(dT)return Hm;dT=1;var r=zU();if(r)try{r([],"length")}catch{r=null}return Hm=r,Hm}var Gm,pT;function Wh(){if(pT)return Gm;pT=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return Gm=r,Gm}var Km,mT;function HU(){if(mT)return Km;mT=1;var r=typeof Symbol<"u"&&Symbol,e=R1();return Km=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Km}var Wm,gT;function x1(){return gT||(gT=1,Wm=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Wm}var Ym,yT;function O1(){if(yT)return Ym;yT=1;var r=C1();return Ym=r.getPrototypeOf||null,Ym}var Qm,_T;function GU(){if(_T)return Qm;_T=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,n=Math.max,a="[object Function]",o=function(p,g){for(var y=[],w=0;w<p.length;w+=1)y[w]=p[w];for(var R=0;R<g.length;R+=1)y[R+p.length]=g[R];return y},l=function(p,g){for(var y=[],w=g,R=0;w<p.length;w+=1,R+=1)y[R]=p[w];return y},c=function(d,p){for(var g="",y=0;y<d.length;y+=1)g+=d[y],y+1<d.length&&(g+=p);return g};return Qm=function(p){var g=this;if(typeof g!="function"||e.apply(g)!==a)throw new TypeError(r+g);for(var y=l(arguments,1),w,R=function(){if(this instanceof w){var O=g.apply(this,o(y,arguments));return Object(O)===O?O:this}return g.apply(p,o(y,arguments))},H=n(0,g.length-y.length),I=[],F=0;F<H;F++)I[F]="$"+F;if(w=Function("binder","return function ("+c(I,",")+"){ return binder.apply(this,arguments); }")(R),g.prototype){var P=function(){};P.prototype=g.prototype,w.prototype=new P,P.prototype=null}return w},Qm}var $m,vT;function tc(){if(vT)return $m;vT=1;var r=GU();return $m=Function.prototype.bind||r,$m}var Xm,ET;function M_(){return ET||(ET=1,Xm=Function.prototype.call),Xm}var Jm,wT;function P_(){return wT||(wT=1,Jm=Function.prototype.apply),Jm}var Zm,bT;function KU(){return bT||(bT=1,Zm=typeof Reflect<"u"&&Reflect&&Reflect.apply),Zm}var eg,TT;function D1(){if(TT)return eg;TT=1;var r=tc(),e=P_(),n=M_(),a=KU();return eg=a||r.call(n,e),eg}var tg,ST;function k_(){if(ST)return tg;ST=1;var r=tc(),e=ec(),n=M_(),a=D1();return tg=function(l){if(l.length<1||typeof l[0]!="function")throw new e("a function is required");return a(r,n,l)},tg}var ng,AT;function WU(){if(AT)return ng;AT=1;var r=k_(),e=fl(),n;try{n=[].__proto__===Array.prototype}catch(c){if(!c||typeof c!="object"||!("code"in c)||c.code!=="ERR_PROTO_ACCESS")throw c}var a=!!n&&e&&e(Object.prototype,"__proto__"),o=Object,l=o.getPrototypeOf;return ng=a&&typeof a.get=="function"?r([a.get]):typeof l=="function"?function(d){return l(d==null?d:o(d))}:!1,ng}var rg,RT;function B_(){if(RT)return rg;RT=1;var r=x1(),e=O1(),n=WU();return rg=r?function(o){return r(o)}:e?function(o){if(!o||typeof o!="object"&&typeof o!="function")throw new TypeError("getProto: not an object");return e(o)}:n?function(o){return n(o)}:null,rg}var ig,CT;function N1(){if(CT)return ig;CT=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,n=tc();return ig=n.call(r,e),ig}var ag,IT;function M1(){if(IT)return ag;IT=1;var r,e=C1(),n=OU(),a=DU(),o=NU(),l=MU(),c=I1(),d=ec(),p=PU(),g=kU(),y=BU(),w=UU(),R=LU(),H=VU(),I=jU(),F=qU(),P=Function,O=function(pe){try{return P('"use strict"; return ('+pe+").constructor;")()}catch{}},U=fl(),j=Wh(),K=function(){throw new d},X=U?(function(){try{return arguments.callee,K}catch{try{return U(arguments,"callee").get}catch{return K}}})():K,J=HU()(),x=B_(),C=O1(),D=x1(),W=P_(),ee=M_(),M={},$=typeof Uint8Array>"u"||!x?r:x(Uint8Array),Ke={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":J&&x?x([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":M,"%AsyncGenerator%":M,"%AsyncGeneratorFunction%":M,"%AsyncIteratorPrototype%":M,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":n,"%eval%":eval,"%EvalError%":a,"%Float16Array%":typeof Float16Array>"u"?r:Float16Array,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":P,"%GeneratorFunction%":M,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":J&&x?x(x([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!J||!x?r:x(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":U,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":o,"%ReferenceError%":l,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!J||!x?r:x(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":J&&x?x(""[Symbol.iterator]()):r,"%Symbol%":J?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":X,"%TypedArray%":$,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":ee,"%Function.prototype.apply%":W,"%Object.defineProperty%":j,"%Object.getPrototypeOf%":C,"%Math.abs%":g,"%Math.floor%":y,"%Math.max%":w,"%Math.min%":R,"%Math.pow%":H,"%Math.round%":I,"%Math.sign%":F,"%Reflect.getPrototypeOf%":D};if(x)try{null.error}catch(pe){var ke=x(x(pe));Ke["%Error.prototype%"]=ke}var ae=function pe(Te){var V;if(Te==="%AsyncFunction%")V=O("async function () {}");else if(Te==="%GeneratorFunction%")V=O("function* () {}");else if(Te==="%AsyncGeneratorFunction%")V=O("async function* () {}");else if(Te==="%AsyncGenerator%"){var q=pe("%AsyncGeneratorFunction%");q&&(V=q.prototype)}else if(Te==="%AsyncIteratorPrototype%"){var Ee=pe("%AsyncGenerator%");Ee&&x&&(V=x(Ee.prototype))}return Ke[Te]=V,V},ge={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xe=tc(),Ue=N1(),Le=xe.call(ee,Array.prototype.concat),ne=xe.call(W,Array.prototype.splice),ve=xe.call(ee,String.prototype.replace),Z=xe.call(ee,String.prototype.slice),ie=xe.call(ee,RegExp.prototype.exec),he=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,te=/\\(\\)?/g,N=function(Te){var V=Z(Te,0,1),q=Z(Te,-1);if(V==="%"&&q!=="%")throw new c("invalid intrinsic syntax, expected closing `%`");if(q==="%"&&V!=="%")throw new c("invalid intrinsic syntax, expected opening `%`");var Ee=[];return ve(Te,he,function(Pe,Qe,je,Ze){Ee[Ee.length]=je?ve(Ze,te,"$1"):Qe||Pe}),Ee},ce=function(Te,V){var q=Te,Ee;if(Ue(ge,q)&&(Ee=ge[q],q="%"+Ee[0]+"%"),Ue(Ke,q)){var Pe=Ke[q];if(Pe===M&&(Pe=ae(q)),typeof Pe>"u"&&!V)throw new d("intrinsic "+Te+" exists, but is not available. Please file an issue!");return{alias:Ee,name:q,value:Pe}}throw new c("intrinsic "+Te+" does not exist!")};return ag=function(Te,V){if(typeof Te!="string"||Te.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof V!="boolean")throw new d('"allowMissing" argument must be a boolean');if(ie(/^%?[^%]*%?$/,Te)===null)throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var q=N(Te),Ee=q.length>0?q[0]:"",Pe=ce("%"+Ee+"%",V),Qe=Pe.name,je=Pe.value,Ze=!1,cn=Pe.alias;cn&&(Ee=cn[0],ne(q,Le([0,1],cn)));for(var Ie=1,Xt=!0;Ie<q.length;Ie+=1){var en=q[Ie],wt=Z(en,0,1),bt=Z(en,-1);if((wt==='"'||wt==="'"||wt==="`"||bt==='"'||bt==="'"||bt==="`")&&wt!==bt)throw new c("property names with quotes must have matching quotes");if((en==="constructor"||!Xt)&&(Ze=!0),Ee+="."+en,Qe="%"+Ee+"%",Ue(Ke,Qe))je=Ke[Qe];else if(je!=null){if(!(en in je)){if(!V)throw new d("base intrinsic for "+Te+" exists, but the property is not available.");return}if(U&&Ie+1>=q.length){var _t=U(je,en);Xt=!!_t,Xt&&"get"in _t&&!("originalValue"in _t.get)?je=_t.get:je=je[en]}else Xt=Ue(je,en),je=je[en];Xt&&!Ze&&(Ke[Qe]=je)}}return je},ag}var sg,xT;function nc(){if(xT)return sg;xT=1;var r=M1(),e=k_(),n=e([r("%String.prototype.indexOf%")]);return sg=function(o,l){var c=r(o,!!l);return typeof c=="function"&&n(o,".prototype.")>-1?e([c]):c},sg}var og,OT;function YU(){if(OT)return og;OT=1;var r=Kh()(),e=nc(),n=e("Object.prototype.toString"),a=function(d){return r&&d&&typeof d=="object"&&Symbol.toStringTag in d?!1:n(d)==="[object Arguments]"},o=function(d){return a(d)?!0:d!==null&&typeof d=="object"&&"length"in d&&typeof d.length=="number"&&d.length>=0&&n(d)!=="[object Array]"&&"callee"in d&&n(d.callee)==="[object Function]"},l=(function(){return a(arguments)})();return a.isLegacyArguments=o,og=l?a:o,og}var lg,DT;function QU(){if(DT)return lg;DT=1;var r=nc(),e=Kh()(),n=N1(),a=fl(),o;if(e){var l=r("RegExp.prototype.exec"),c={},d=function(){throw c},p={toString:d,valueOf:d};typeof Symbol.toPrimitive=="symbol"&&(p[Symbol.toPrimitive]=d),o=function(R){if(!R||typeof R!="object")return!1;var H=a(R,"lastIndex"),I=H&&n(H,"value");if(!I)return!1;try{l(R,p)}catch(F){return F===c}}}else{var g=r("Object.prototype.toString"),y="[object RegExp]";o=function(R){return!R||typeof R!="object"&&typeof R!="function"?!1:g(R)===y}}return lg=o,lg}var ug,NT;function $U(){if(NT)return ug;NT=1;var r=nc(),e=QU(),n=r("RegExp.prototype.exec"),a=ec();return ug=function(l){if(!e(l))throw new a("`regex` must be a RegExp");return function(d){return n(l,d)!==null}},ug}var cg,MT;function XU(){if(MT)return cg;MT=1;const r=(function*(){}).constructor;return cg=()=>r,cg}var fg,PT;function JU(){if(PT)return fg;PT=1;var r=nc(),e=$U(),n=e(/^\s*(?:function)?\*/),a=Kh()(),o=B_(),l=r("Object.prototype.toString"),c=r("Function.prototype.toString"),d=XU();return fg=function(g){if(typeof g!="function")return!1;if(n(c(g)))return!0;if(!a){var y=l(g);return y==="[object GeneratorFunction]"}if(!o)return!1;var w=d();return w&&o(g)===w.prototype},fg}var hg,kT;function ZU(){if(kT)return hg;kT=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,n,a;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{n=Object.defineProperty({},"length",{get:function(){throw a}}),a={},e(function(){throw 42},null,n)}catch(U){U!==a&&(e=null)}else e=null;var o=/^\s*class\b/,l=function(j){try{var K=r.call(j);return o.test(K)}catch{return!1}},c=function(j){try{return l(j)?!1:(r.call(j),!0)}catch{return!1}},d=Object.prototype.toString,p="[object Object]",g="[object Function]",y="[object GeneratorFunction]",w="[object HTMLAllCollection]",R="[object HTML document.all class]",H="[object HTMLCollection]",I=typeof Symbol=="function"&&!!Symbol.toStringTag,F=!(0 in[,]),P=function(){return!1};if(typeof document=="object"){var O=document.all;d.call(O)===d.call(document.all)&&(P=function(j){if((F||!j)&&(typeof j>"u"||typeof j=="object"))try{var K=d.call(j);return(K===w||K===R||K===H||K===p)&&j("")==null}catch{}return!1})}return hg=e?function(j){if(P(j))return!0;if(!j||typeof j!="function"&&typeof j!="object")return!1;try{e(j,null,n)}catch(K){if(K!==a)return!1}return!l(j)&&c(j)}:function(j){if(P(j))return!0;if(!j||typeof j!="function"&&typeof j!="object")return!1;if(I)return c(j);if(l(j))return!1;var K=d.call(j);return K!==g&&K!==y&&!/^\[object HTML/.test(K)?!1:c(j)},hg}var dg,BT;function eL(){if(BT)return dg;BT=1;var r=ZU(),e=Object.prototype.toString,n=Object.prototype.hasOwnProperty,a=function(p,g,y){for(var w=0,R=p.length;w<R;w++)n.call(p,w)&&(y==null?g(p[w],w,p):g.call(y,p[w],w,p))},o=function(p,g,y){for(var w=0,R=p.length;w<R;w++)y==null?g(p.charAt(w),w,p):g.call(y,p.charAt(w),w,p)},l=function(p,g,y){for(var w in p)n.call(p,w)&&(y==null?g(p[w],w,p):g.call(y,p[w],w,p))};function c(d){return e.call(d)==="[object Array]"}return dg=function(p,g,y){if(!r(g))throw new TypeError("iterator must be a function");var w;arguments.length>=3&&(w=y),c(p)?a(p,g,w):typeof p=="string"?o(p,g,w):l(p,g,w)},dg}var pg,UT;function tL(){return UT||(UT=1,pg=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),pg}var mg,LT;function nL(){if(LT)return mg;LT=1;var r=tL(),e=typeof globalThis>"u"?Yr:globalThis;return mg=function(){for(var a=[],o=0;o<r.length;o++)typeof e[r[o]]=="function"&&(a[a.length]=r[o]);return a},mg}var gg={exports:{}},yg,VT;function rL(){if(VT)return yg;VT=1;var r=Wh(),e=I1(),n=ec(),a=fl();return yg=function(l,c,d){if(!l||typeof l!="object"&&typeof l!="function")throw new n("`obj` must be an object or a function`");if(typeof c!="string"&&typeof c!="symbol")throw new n("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new n("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new n("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new n("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new n("`loose`, if provided, must be a boolean");var p=arguments.length>3?arguments[3]:null,g=arguments.length>4?arguments[4]:null,y=arguments.length>5?arguments[5]:null,w=arguments.length>6?arguments[6]:!1,R=!!a&&a(l,c);if(r)r(l,c,{configurable:y===null&&R?R.configurable:!y,enumerable:p===null&&R?R.enumerable:!p,value:d,writable:g===null&&R?R.writable:!g});else if(w||!p&&!g&&!y)l[c]=d;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},yg}var _g,jT;function iL(){if(jT)return _g;jT=1;var r=Wh(),e=function(){return!!r};return e.hasArrayLengthDefineBug=function(){if(!r)return null;try{return r([],"length",{value:1}).length!==1}catch{return!0}},_g=e,_g}var vg,FT;function aL(){if(FT)return vg;FT=1;var r=M1(),e=rL(),n=iL()(),a=fl(),o=ec(),l=r("%Math.floor%");return vg=function(d,p){if(typeof d!="function")throw new o("`fn` is not a function");if(typeof p!="number"||p<0||p>4294967295||l(p)!==p)throw new o("`length` must be a positive 32-bit integer");var g=arguments.length>2&&!!arguments[2],y=!0,w=!0;if("length"in d&&a){var R=a(d,"length");R&&!R.configurable&&(y=!1),R&&!R.writable&&(w=!1)}return(y||w||!g)&&(n?e(d,"length",p,!0,!0):e(d,"length",p)),d},vg}var Eg,qT;function sL(){if(qT)return Eg;qT=1;var r=tc(),e=P_(),n=D1();return Eg=function(){return n(r,e,arguments)},Eg}var zT;function oL(){return zT||(zT=1,(function(r){var e=aL(),n=Wh(),a=k_(),o=sL();r.exports=function(c){var d=a(arguments),p=c.length-(arguments.length-1);return e(d,1+(p>0?p:0),!0)},n?n(r.exports,"apply",{value:o}):r.exports.apply=o})(gg)),gg.exports}var wg,HT;function P1(){if(HT)return wg;HT=1;var r=eL(),e=nL(),n=oL(),a=nc(),o=fl(),l=B_(),c=a("Object.prototype.toString"),d=Kh()(),p=typeof globalThis>"u"?Yr:globalThis,g=e(),y=a("String.prototype.slice"),w=a("Array.prototype.indexOf",!0)||function(P,O){for(var U=0;U<P.length;U+=1)if(P[U]===O)return U;return-1},R={__proto__:null};d&&o&&l?r(g,function(F){var P=new p[F];if(Symbol.toStringTag in P&&l){var O=l(P),U=o(O,Symbol.toStringTag);if(!U&&O){var j=l(O);U=o(j,Symbol.toStringTag)}if(U&&U.get){var K=n(U.get);R["$"+F]=K}}}):r(g,function(F){var P=new p[F],O=P.slice||P.set;if(O){var U=n(O);R["$"+F]=U}});var H=function(P){var O=!1;return r(R,function(U,j){if(!O)try{"$"+U(P)===j&&(O=y(j,1))}catch{}}),O},I=function(P){var O=!1;return r(R,function(U,j){if(!O)try{U(P),O=y(j,1)}catch{}}),O};return wg=function(P){if(!P||typeof P!="object")return!1;if(!d){var O=y(c(P),8,-1);return w(g,O)>-1?O:O!=="Object"?!1:I(P)}return o?H(P):null},wg}var bg,GT;function lL(){if(GT)return bg;GT=1;var r=P1();return bg=function(n){return!!r(n)},bg}var KT;function uL(){return KT||(KT=1,(function(r){var e=YU(),n=JU(),a=P1(),o=lL();function l(Ie){return Ie.call.bind(Ie)}var c=typeof BigInt<"u",d=typeof Symbol<"u",p=l(Object.prototype.toString),g=l(Number.prototype.valueOf),y=l(String.prototype.valueOf),w=l(Boolean.prototype.valueOf);if(c)var R=l(BigInt.prototype.valueOf);if(d)var H=l(Symbol.prototype.valueOf);function I(Ie,Xt){if(typeof Ie!="object")return!1;try{return Xt(Ie),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=n,r.isTypedArray=o;function F(Ie){return typeof Promise<"u"&&Ie instanceof Promise||Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"&&typeof Ie.catch=="function"}r.isPromise=F;function P(Ie){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(Ie):o(Ie)||Z(Ie)}r.isArrayBufferView=P;function O(Ie){return a(Ie)==="Uint8Array"}r.isUint8Array=O;function U(Ie){return a(Ie)==="Uint8ClampedArray"}r.isUint8ClampedArray=U;function j(Ie){return a(Ie)==="Uint16Array"}r.isUint16Array=j;function K(Ie){return a(Ie)==="Uint32Array"}r.isUint32Array=K;function X(Ie){return a(Ie)==="Int8Array"}r.isInt8Array=X;function J(Ie){return a(Ie)==="Int16Array"}r.isInt16Array=J;function x(Ie){return a(Ie)==="Int32Array"}r.isInt32Array=x;function C(Ie){return a(Ie)==="Float32Array"}r.isFloat32Array=C;function D(Ie){return a(Ie)==="Float64Array"}r.isFloat64Array=D;function W(Ie){return a(Ie)==="BigInt64Array"}r.isBigInt64Array=W;function ee(Ie){return a(Ie)==="BigUint64Array"}r.isBigUint64Array=ee;function M(Ie){return p(Ie)==="[object Map]"}M.working=typeof Map<"u"&&M(new Map);function $(Ie){return typeof Map>"u"?!1:M.working?M(Ie):Ie instanceof Map}r.isMap=$;function Ke(Ie){return p(Ie)==="[object Set]"}Ke.working=typeof Set<"u"&&Ke(new Set);function ke(Ie){return typeof Set>"u"?!1:Ke.working?Ke(Ie):Ie instanceof Set}r.isSet=ke;function ae(Ie){return p(Ie)==="[object WeakMap]"}ae.working=typeof WeakMap<"u"&&ae(new WeakMap);function ge(Ie){return typeof WeakMap>"u"?!1:ae.working?ae(Ie):Ie instanceof WeakMap}r.isWeakMap=ge;function xe(Ie){return p(Ie)==="[object WeakSet]"}xe.working=typeof WeakSet<"u"&&xe(new WeakSet);function Ue(Ie){return xe(Ie)}r.isWeakSet=Ue;function Le(Ie){return p(Ie)==="[object ArrayBuffer]"}Le.working=typeof ArrayBuffer<"u"&&Le(new ArrayBuffer);function ne(Ie){return typeof ArrayBuffer>"u"?!1:Le.working?Le(Ie):Ie instanceof ArrayBuffer}r.isArrayBuffer=ne;function ve(Ie){return p(Ie)==="[object DataView]"}ve.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&ve(new DataView(new ArrayBuffer(1),0,1));function Z(Ie){return typeof DataView>"u"?!1:ve.working?ve(Ie):Ie instanceof DataView}r.isDataView=Z;var ie=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function he(Ie){return p(Ie)==="[object SharedArrayBuffer]"}function te(Ie){return typeof ie>"u"?!1:(typeof he.working>"u"&&(he.working=he(new ie)),he.working?he(Ie):Ie instanceof ie)}r.isSharedArrayBuffer=te;function N(Ie){return p(Ie)==="[object AsyncFunction]"}r.isAsyncFunction=N;function ce(Ie){return p(Ie)==="[object Map Iterator]"}r.isMapIterator=ce;function pe(Ie){return p(Ie)==="[object Set Iterator]"}r.isSetIterator=pe;function Te(Ie){return p(Ie)==="[object Generator]"}r.isGeneratorObject=Te;function V(Ie){return p(Ie)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=V;function q(Ie){return I(Ie,g)}r.isNumberObject=q;function Ee(Ie){return I(Ie,y)}r.isStringObject=Ee;function Pe(Ie){return I(Ie,w)}r.isBooleanObject=Pe;function Qe(Ie){return c&&I(Ie,R)}r.isBigIntObject=Qe;function je(Ie){return d&&I(Ie,H)}r.isSymbolObject=je;function Ze(Ie){return q(Ie)||Ee(Ie)||Pe(Ie)||Qe(Ie)||je(Ie)}r.isBoxedPrimitive=Ze;function cn(Ie){return typeof Uint8Array<"u"&&(ne(Ie)||te(Ie))}r.isAnyArrayBuffer=cn,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(Ie){Object.defineProperty(r,Ie,{enumerable:!1,value:function(){throw new Error(Ie+" is not supported in userland")}})})})(Sm)),Sm}var Tg,WT;function cL(){return WT||(WT=1,Tg=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),Tg}var zf={exports:{}},YT;function hl(){return YT||(YT=1,typeof Object.create=="function"?zf.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:zf.exports=function(e,n){if(n){e.super_=n;var a=function(){};a.prototype=n.prototype,e.prototype=new a,e.prototype.constructor=e}}),zf.exports}var QT;function k1(){return QT||(QT=1,(function(r){var e={},n=Object.getOwnPropertyDescriptors||function(ie){for(var he=Object.keys(ie),te={},N=0;N<he.length;N++)te[he[N]]=Object.getOwnPropertyDescriptor(ie,he[N]);return te},a=/%[sdj%]/g;r.format=function(Z){if(!J(Z)){for(var ie=[],he=0;he<arguments.length;he++)ie.push(d(arguments[he]));return ie.join(" ")}for(var he=1,te=arguments,N=te.length,ce=String(Z).replace(a,function(Te){if(Te==="%%")return"%";if(he>=N)return Te;switch(Te){case"%s":return String(te[he++]);case"%d":return Number(te[he++]);case"%j":try{return JSON.stringify(te[he++])}catch{return"[Circular]"}default:return Te}}),pe=te[he];he<N;pe=te[++he])j(pe)||!W(pe)?ce+=" "+pe:ce+=" "+d(pe);return ce},r.deprecate=function(Z,ie){if(typeof et<"u"&&et.noDeprecation===!0)return Z;if(typeof et>"u")return function(){return r.deprecate(Z,ie).apply(this,arguments)};var he=!1;function te(){if(!he){if(et.throwDeprecation)throw new Error(ie);et.traceDeprecation?console.trace(ie):console.error(ie),he=!0}return Z.apply(this,arguments)}return te};var o={},l=/^$/;if(e.NODE_DEBUG){var c=e.NODE_DEBUG;c=c.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),l=new RegExp("^"+c+"$","i")}r.debuglog=function(Z){if(Z=Z.toUpperCase(),!o[Z])if(l.test(Z)){var ie=et.pid;o[Z]=function(){var he=r.format.apply(r,arguments);console.error("%s %d: %s",Z,ie,he)}}else o[Z]=function(){};return o[Z]};function d(Z,ie){var he={seen:[],stylize:g};return arguments.length>=3&&(he.depth=arguments[2]),arguments.length>=4&&(he.colors=arguments[3]),U(ie)?he.showHidden=ie:ie&&r._extend(he,ie),C(he.showHidden)&&(he.showHidden=!1),C(he.depth)&&(he.depth=2),C(he.colors)&&(he.colors=!1),C(he.customInspect)&&(he.customInspect=!0),he.colors&&(he.stylize=p),w(he,Z,he.depth)}r.inspect=d,d.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},d.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function p(Z,ie){var he=d.styles[ie];return he?"\x1B["+d.colors[he][0]+"m"+Z+"\x1B["+d.colors[he][1]+"m":Z}function g(Z,ie){return Z}function y(Z){var ie={};return Z.forEach(function(he,te){ie[he]=!0}),ie}function w(Z,ie,he){if(Z.customInspect&&ie&&$(ie.inspect)&&ie.inspect!==r.inspect&&!(ie.constructor&&ie.constructor.prototype===ie)){var te=ie.inspect(he,Z);return J(te)||(te=w(Z,te,he)),te}var N=R(Z,ie);if(N)return N;var ce=Object.keys(ie),pe=y(ce);if(Z.showHidden&&(ce=Object.getOwnPropertyNames(ie)),M(ie)&&(ce.indexOf("message")>=0||ce.indexOf("description")>=0))return H(ie);if(ce.length===0){if($(ie)){var Te=ie.name?": "+ie.name:"";return Z.stylize("[Function"+Te+"]","special")}if(D(ie))return Z.stylize(RegExp.prototype.toString.call(ie),"regexp");if(ee(ie))return Z.stylize(Date.prototype.toString.call(ie),"date");if(M(ie))return H(ie)}var V="",q=!1,Ee=["{","}"];if(O(ie)&&(q=!0,Ee=["[","]"]),$(ie)){var Pe=ie.name?": "+ie.name:"";V=" [Function"+Pe+"]"}if(D(ie)&&(V=" "+RegExp.prototype.toString.call(ie)),ee(ie)&&(V=" "+Date.prototype.toUTCString.call(ie)),M(ie)&&(V=" "+H(ie)),ce.length===0&&(!q||ie.length==0))return Ee[0]+V+Ee[1];if(he<0)return D(ie)?Z.stylize(RegExp.prototype.toString.call(ie),"regexp"):Z.stylize("[Object]","special");Z.seen.push(ie);var Qe;return q?Qe=I(Z,ie,he,pe,ce):Qe=ce.map(function(je){return F(Z,ie,he,pe,je,q)}),Z.seen.pop(),P(Qe,V,Ee)}function R(Z,ie){if(C(ie))return Z.stylize("undefined","undefined");if(J(ie)){var he="'"+JSON.stringify(ie).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Z.stylize(he,"string")}if(X(ie))return Z.stylize(""+ie,"number");if(U(ie))return Z.stylize(""+ie,"boolean");if(j(ie))return Z.stylize("null","null")}function H(Z){return"["+Error.prototype.toString.call(Z)+"]"}function I(Z,ie,he,te,N){for(var ce=[],pe=0,Te=ie.length;pe<Te;++pe)Ue(ie,String(pe))?ce.push(F(Z,ie,he,te,String(pe),!0)):ce.push("");return N.forEach(function(V){V.match(/^\d+$/)||ce.push(F(Z,ie,he,te,V,!0))}),ce}function F(Z,ie,he,te,N,ce){var pe,Te,V;if(V=Object.getOwnPropertyDescriptor(ie,N)||{value:ie[N]},V.get?V.set?Te=Z.stylize("[Getter/Setter]","special"):Te=Z.stylize("[Getter]","special"):V.set&&(Te=Z.stylize("[Setter]","special")),Ue(te,N)||(pe="["+N+"]"),Te||(Z.seen.indexOf(V.value)<0?(j(he)?Te=w(Z,V.value,null):Te=w(Z,V.value,he-1),Te.indexOf(`
`)>-1&&(ce?Te=Te.split(`
`).map(function(q){return"  "+q}).join(`
`).slice(2):Te=`
`+Te.split(`
`).map(function(q){return"   "+q}).join(`
`))):Te=Z.stylize("[Circular]","special")),C(pe)){if(ce&&N.match(/^\d+$/))return Te;pe=JSON.stringify(""+N),pe.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(pe=pe.slice(1,-1),pe=Z.stylize(pe,"name")):(pe=pe.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),pe=Z.stylize(pe,"string"))}return pe+": "+Te}function P(Z,ie,he){var te=Z.reduce(function(N,ce){return ce.indexOf(`
`)>=0,N+ce.replace(/\u001b\[\d\d?m/g,"").length+1},0);return te>60?he[0]+(ie===""?"":ie+`
 `)+" "+Z.join(`,
  `)+" "+he[1]:he[0]+ie+" "+Z.join(", ")+" "+he[1]}r.types=uL();function O(Z){return Array.isArray(Z)}r.isArray=O;function U(Z){return typeof Z=="boolean"}r.isBoolean=U;function j(Z){return Z===null}r.isNull=j;function K(Z){return Z==null}r.isNullOrUndefined=K;function X(Z){return typeof Z=="number"}r.isNumber=X;function J(Z){return typeof Z=="string"}r.isString=J;function x(Z){return typeof Z=="symbol"}r.isSymbol=x;function C(Z){return Z===void 0}r.isUndefined=C;function D(Z){return W(Z)&&ke(Z)==="[object RegExp]"}r.isRegExp=D,r.types.isRegExp=D;function W(Z){return typeof Z=="object"&&Z!==null}r.isObject=W;function ee(Z){return W(Z)&&ke(Z)==="[object Date]"}r.isDate=ee,r.types.isDate=ee;function M(Z){return W(Z)&&(ke(Z)==="[object Error]"||Z instanceof Error)}r.isError=M,r.types.isNativeError=M;function $(Z){return typeof Z=="function"}r.isFunction=$;function Ke(Z){return Z===null||typeof Z=="boolean"||typeof Z=="number"||typeof Z=="string"||typeof Z=="symbol"||typeof Z>"u"}r.isPrimitive=Ke,r.isBuffer=cL();function ke(Z){return Object.prototype.toString.call(Z)}function ae(Z){return Z<10?"0"+Z.toString(10):Z.toString(10)}var ge=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function xe(){var Z=new Date,ie=[ae(Z.getHours()),ae(Z.getMinutes()),ae(Z.getSeconds())].join(":");return[Z.getDate(),ge[Z.getMonth()],ie].join(" ")}r.log=function(){console.log("%s - %s",xe(),r.format.apply(r,arguments))},r.inherits=hl(),r._extend=function(Z,ie){if(!ie||!W(ie))return Z;for(var he=Object.keys(ie),te=he.length;te--;)Z[he[te]]=ie[he[te]];return Z};function Ue(Z,ie){return Object.prototype.hasOwnProperty.call(Z,ie)}var Le=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(ie){if(typeof ie!="function")throw new TypeError('The "original" argument must be of type Function');if(Le&&ie[Le]){var he=ie[Le];if(typeof he!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(he,Le,{value:he,enumerable:!1,writable:!1,configurable:!0}),he}function he(){for(var te,N,ce=new Promise(function(V,q){te=V,N=q}),pe=[],Te=0;Te<arguments.length;Te++)pe.push(arguments[Te]);pe.push(function(V,q){V?N(V):te(q)});try{ie.apply(this,pe)}catch(V){N(V)}return ce}return Object.setPrototypeOf(he,Object.getPrototypeOf(ie)),Le&&Object.defineProperty(he,Le,{value:he,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(he,n(ie))},r.promisify.custom=Le;function ne(Z,ie){if(!Z){var he=new Error("Promise was rejected with a falsy value");he.reason=Z,Z=he}return ie(Z)}function ve(Z){if(typeof Z!="function")throw new TypeError('The "original" argument must be of type Function');function ie(){for(var he=[],te=0;te<arguments.length;te++)he.push(arguments[te]);var N=he.pop();if(typeof N!="function")throw new TypeError("The last argument must be of type Function");var ce=this,pe=function(){return N.apply(ce,arguments)};Z.apply(this,he).then(function(Te){et.nextTick(pe.bind(null,null,Te))},function(Te){et.nextTick(ne.bind(null,Te,pe))})}return Object.setPrototypeOf(ie,Object.getPrototypeOf(Z)),Object.defineProperties(ie,n(Z)),ie}r.callbackify=ve})(Tm)),Tm}var Sg,$T;function fL(){if($T)return Sg;$T=1;function r(I,F){var P=Object.keys(I);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(I);F&&(O=O.filter(function(U){return Object.getOwnPropertyDescriptor(I,U).enumerable})),P.push.apply(P,O)}return P}function e(I){for(var F=1;F<arguments.length;F++){var P=arguments[F]!=null?arguments[F]:{};F%2?r(Object(P),!0).forEach(function(O){n(I,O,P[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(P)):r(Object(P)).forEach(function(O){Object.defineProperty(I,O,Object.getOwnPropertyDescriptor(P,O))})}return I}function n(I,F,P){return F=c(F),F in I?Object.defineProperty(I,F,{value:P,enumerable:!0,configurable:!0,writable:!0}):I[F]=P,I}function a(I,F){if(!(I instanceof F))throw new TypeError("Cannot call a class as a function")}function o(I,F){for(var P=0;P<F.length;P++){var O=F[P];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(I,c(O.key),O)}}function l(I,F,P){return F&&o(I.prototype,F),Object.defineProperty(I,"prototype",{writable:!1}),I}function c(I){var F=d(I,"string");return typeof F=="symbol"?F:String(F)}function d(I,F){if(typeof I!="object"||I===null)return I;var P=I[Symbol.toPrimitive];if(P!==void 0){var O=P.call(I,F);if(typeof O!="object")return O;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(I)}var p=Zu(),g=p.Buffer,y=k1(),w=y.inspect,R=w&&w.custom||"inspect";function H(I,F,P){g.prototype.copy.call(I,F,P)}return Sg=(function(){function I(){a(this,I),this.head=null,this.tail=null,this.length=0}return l(I,[{key:"push",value:function(P){var O={data:P,next:null};this.length>0?this.tail.next=O:this.head=O,this.tail=O,++this.length}},{key:"unshift",value:function(P){var O={data:P,next:this.head};this.length===0&&(this.tail=O),this.head=O,++this.length}},{key:"shift",value:function(){if(this.length!==0){var P=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,P}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(P){if(this.length===0)return"";for(var O=this.head,U=""+O.data;O=O.next;)U+=P+O.data;return U}},{key:"concat",value:function(P){if(this.length===0)return g.alloc(0);for(var O=g.allocUnsafe(P>>>0),U=this.head,j=0;U;)H(U.data,O,j),j+=U.data.length,U=U.next;return O}},{key:"consume",value:function(P,O){var U;return P<this.head.data.length?(U=this.head.data.slice(0,P),this.head.data=this.head.data.slice(P)):P===this.head.data.length?U=this.shift():U=O?this._getString(P):this._getBuffer(P),U}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(P){var O=this.head,U=1,j=O.data;for(P-=j.length;O=O.next;){var K=O.data,X=P>K.length?K.length:P;if(X===K.length?j+=K:j+=K.slice(0,P),P-=X,P===0){X===K.length?(++U,O.next?this.head=O.next:this.head=this.tail=null):(this.head=O,O.data=K.slice(X));break}++U}return this.length-=U,j}},{key:"_getBuffer",value:function(P){var O=g.allocUnsafe(P),U=this.head,j=1;for(U.data.copy(O),P-=U.data.length;U=U.next;){var K=U.data,X=P>K.length?K.length:P;if(K.copy(O,O.length-P,0,X),P-=X,P===0){X===K.length?(++j,U.next?this.head=U.next:this.head=this.tail=null):(this.head=U,U.data=K.slice(X));break}++j}return this.length-=j,O}},{key:R,value:function(P,O){return w(this,e(e({},O),{},{depth:0,customInspect:!1}))}}]),I})(),Sg}var Ag,XT;function B1(){if(XT)return Ag;XT=1;function r(c,d){var p=this,g=this._readableState&&this._readableState.destroyed,y=this._writableState&&this._writableState.destroyed;return g||y?(d?d(c):c&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,et.nextTick(o,this,c)):et.nextTick(o,this,c)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(c||null,function(w){!d&&w?p._writableState?p._writableState.errorEmitted?et.nextTick(n,p):(p._writableState.errorEmitted=!0,et.nextTick(e,p,w)):et.nextTick(e,p,w):d?(et.nextTick(n,p),d(w)):et.nextTick(n,p)}),this)}function e(c,d){o(c,d),n(c)}function n(c){c._writableState&&!c._writableState.emitClose||c._readableState&&!c._readableState.emitClose||c.emit("close")}function a(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(c,d){c.emit("error",d)}function l(c,d){var p=c._readableState,g=c._writableState;p&&p.autoDestroy||g&&g.autoDestroy?c.destroy(d):c.emit("error",d)}return Ag={destroy:r,undestroy:a,errorOrDestroy:l},Ag}var Rg={},JT;function dl(){if(JT)return Rg;JT=1;function r(d,p){d.prototype=Object.create(p.prototype),d.prototype.constructor=d,d.__proto__=p}var e={};function n(d,p,g){g||(g=Error);function y(R,H,I){return typeof p=="string"?p:p(R,H,I)}var w=(function(R){r(H,R);function H(I,F,P){return R.call(this,y(I,F,P))||this}return H})(g);w.prototype.name=g.name,w.prototype.code=d,e[d]=w}function a(d,p){if(Array.isArray(d)){var g=d.length;return d=d.map(function(y){return String(y)}),g>2?"one of ".concat(p," ").concat(d.slice(0,g-1).join(", "),", or ")+d[g-1]:g===2?"one of ".concat(p," ").concat(d[0]," or ").concat(d[1]):"of ".concat(p," ").concat(d[0])}else return"of ".concat(p," ").concat(String(d))}function o(d,p,g){return d.substr(0,p.length)===p}function l(d,p,g){return(g===void 0||g>d.length)&&(g=d.length),d.substring(g-p.length,g)===p}function c(d,p,g){return typeof g!="number"&&(g=0),g+p.length>d.length?!1:d.indexOf(p,g)!==-1}return n("ERR_INVALID_OPT_VALUE",function(d,p){return'The value "'+p+'" is invalid for option "'+d+'"'},TypeError),n("ERR_INVALID_ARG_TYPE",function(d,p,g){var y;typeof p=="string"&&o(p,"not ")?(y="must not be",p=p.replace(/^not /,"")):y="must be";var w;if(l(d," argument"))w="The ".concat(d," ").concat(y," ").concat(a(p,"type"));else{var R=c(d,".")?"property":"argument";w='The "'.concat(d,'" ').concat(R," ").concat(y," ").concat(a(p,"type"))}return w+=". Received type ".concat(typeof g),w},TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",function(d){return"The "+d+" method is not implemented"}),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",function(d){return"Cannot call "+d+" after a stream was destroyed"}),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",function(d){return"Unknown encoding: "+d},TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Rg.codes=e,Rg}var Cg,ZT;function U1(){if(ZT)return Cg;ZT=1;var r=dl().codes.ERR_INVALID_OPT_VALUE;function e(a,o,l){return a.highWaterMark!=null?a.highWaterMark:o?a[l]:null}function n(a,o,l,c){var d=e(o,c,l);if(d!=null){if(!(isFinite(d)&&Math.floor(d)===d)||d<0){var p=c?l:"highWaterMark";throw new r(p,d)}return Math.floor(d)}return a.objectMode?16:16*1024}return Cg={getHighWaterMark:n},Cg}var Ig,eS;function hL(){if(eS)return Ig;eS=1,Ig=r;function r(n,a){if(e("noDeprecation"))return n;var o=!1;function l(){if(!o){if(e("throwDeprecation"))throw new Error(a);e("traceDeprecation")?console.trace(a):console.warn(a),o=!0}return n.apply(this,arguments)}return l}function e(n){try{if(!Yr.localStorage)return!1}catch{return!1}var a=Yr.localStorage[n];return a==null?!1:String(a).toLowerCase()==="true"}return Ig}var xg,tS;function L1(){if(tS)return xg;tS=1,xg=C;function r(te){var N=this;this.next=null,this.entry=null,this.finish=function(){he(N,te)}}var e;C.WritableState=J;var n={deprecate:hL()},a=A1(),o=Zu().Buffer,l=(typeof Yr<"u"?Yr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(te){return o.from(te)}function d(te){return o.isBuffer(te)||te instanceof l}var p=B1(),g=U1(),y=g.getHighWaterMark,w=dl().codes,R=w.ERR_INVALID_ARG_TYPE,H=w.ERR_METHOD_NOT_IMPLEMENTED,I=w.ERR_MULTIPLE_CALLBACK,F=w.ERR_STREAM_CANNOT_PIPE,P=w.ERR_STREAM_DESTROYED,O=w.ERR_STREAM_NULL_VALUES,U=w.ERR_STREAM_WRITE_AFTER_END,j=w.ERR_UNKNOWN_ENCODING,K=p.errorOrDestroy;hl()(C,a);function X(){}function J(te,N,ce){e=e||tl(),te=te||{},typeof ce!="boolean"&&(ce=N instanceof e),this.objectMode=!!te.objectMode,ce&&(this.objectMode=this.objectMode||!!te.writableObjectMode),this.highWaterMark=y(this,te,"writableHighWaterMark",ce),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var pe=te.decodeStrings===!1;this.decodeStrings=!pe,this.defaultEncoding=te.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Te){ae(N,Te)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}J.prototype.getBuffer=function(){for(var N=this.bufferedRequest,ce=[];N;)ce.push(N),N=N.next;return ce},(function(){try{Object.defineProperty(J.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var x;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(x=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(N){return x.call(this,N)?!0:this!==C?!1:N&&N._writableState instanceof J}})):x=function(N){return N instanceof this};function C(te){e=e||tl();var N=this instanceof e;if(!N&&!x.call(C,this))return new C(te);this._writableState=new J(te,this,N),this.writable=!0,te&&(typeof te.write=="function"&&(this._write=te.write),typeof te.writev=="function"&&(this._writev=te.writev),typeof te.destroy=="function"&&(this._destroy=te.destroy),typeof te.final=="function"&&(this._final=te.final)),a.call(this)}C.prototype.pipe=function(){K(this,new F)};function D(te,N){var ce=new U;K(te,ce),et.nextTick(N,ce)}function W(te,N,ce,pe){var Te;return ce===null?Te=new O:typeof ce!="string"&&!N.objectMode&&(Te=new R("chunk",["string","Buffer"],ce)),Te?(K(te,Te),et.nextTick(pe,Te),!1):!0}C.prototype.write=function(te,N,ce){var pe=this._writableState,Te=!1,V=!pe.objectMode&&d(te);return V&&!o.isBuffer(te)&&(te=c(te)),typeof N=="function"&&(ce=N,N=null),V?N="buffer":N||(N=pe.defaultEncoding),typeof ce!="function"&&(ce=X),pe.ending?D(this,ce):(V||W(this,pe,te,ce))&&(pe.pendingcb++,Te=M(this,pe,V,te,N,ce)),Te},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var te=this._writableState;te.corked&&(te.corked--,!te.writing&&!te.corked&&!te.bufferProcessing&&te.bufferedRequest&&Ue(this,te))},C.prototype.setDefaultEncoding=function(N){if(typeof N=="string"&&(N=N.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((N+"").toLowerCase())>-1))throw new j(N);return this._writableState.defaultEncoding=N,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function ee(te,N,ce){return!te.objectMode&&te.decodeStrings!==!1&&typeof N=="string"&&(N=o.from(N,ce)),N}Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function M(te,N,ce,pe,Te,V){if(!ce){var q=ee(N,pe,Te);pe!==q&&(ce=!0,Te="buffer",pe=q)}var Ee=N.objectMode?1:pe.length;N.length+=Ee;var Pe=N.length<N.highWaterMark;if(Pe||(N.needDrain=!0),N.writing||N.corked){var Qe=N.lastBufferedRequest;N.lastBufferedRequest={chunk:pe,encoding:Te,isBuf:ce,callback:V,next:null},Qe?Qe.next=N.lastBufferedRequest:N.bufferedRequest=N.lastBufferedRequest,N.bufferedRequestCount+=1}else $(te,N,!1,Ee,pe,Te,V);return Pe}function $(te,N,ce,pe,Te,V,q){N.writelen=pe,N.writecb=q,N.writing=!0,N.sync=!0,N.destroyed?N.onwrite(new P("write")):ce?te._writev(Te,N.onwrite):te._write(Te,V,N.onwrite),N.sync=!1}function Ke(te,N,ce,pe,Te){--N.pendingcb,ce?(et.nextTick(Te,pe),et.nextTick(Z,te,N),te._writableState.errorEmitted=!0,K(te,pe)):(Te(pe),te._writableState.errorEmitted=!0,K(te,pe),Z(te,N))}function ke(te){te.writing=!1,te.writecb=null,te.length-=te.writelen,te.writelen=0}function ae(te,N){var ce=te._writableState,pe=ce.sync,Te=ce.writecb;if(typeof Te!="function")throw new I;if(ke(ce),N)Ke(te,ce,pe,N,Te);else{var V=Le(ce)||te.destroyed;!V&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&Ue(te,ce),pe?et.nextTick(ge,te,ce,V,Te):ge(te,ce,V,Te)}}function ge(te,N,ce,pe){ce||xe(te,N),N.pendingcb--,pe(),Z(te,N)}function xe(te,N){N.length===0&&N.needDrain&&(N.needDrain=!1,te.emit("drain"))}function Ue(te,N){N.bufferProcessing=!0;var ce=N.bufferedRequest;if(te._writev&&ce&&ce.next){var pe=N.bufferedRequestCount,Te=new Array(pe),V=N.corkedRequestsFree;V.entry=ce;for(var q=0,Ee=!0;ce;)Te[q]=ce,ce.isBuf||(Ee=!1),ce=ce.next,q+=1;Te.allBuffers=Ee,$(te,N,!0,N.length,Te,"",V.finish),N.pendingcb++,N.lastBufferedRequest=null,V.next?(N.corkedRequestsFree=V.next,V.next=null):N.corkedRequestsFree=new r(N),N.bufferedRequestCount=0}else{for(;ce;){var Pe=ce.chunk,Qe=ce.encoding,je=ce.callback,Ze=N.objectMode?1:Pe.length;if($(te,N,!1,Ze,Pe,Qe,je),ce=ce.next,N.bufferedRequestCount--,N.writing)break}ce===null&&(N.lastBufferedRequest=null)}N.bufferedRequest=ce,N.bufferProcessing=!1}C.prototype._write=function(te,N,ce){ce(new H("_write()"))},C.prototype._writev=null,C.prototype.end=function(te,N,ce){var pe=this._writableState;return typeof te=="function"?(ce=te,te=null,N=null):typeof N=="function"&&(ce=N,N=null),te!=null&&this.write(te,N),pe.corked&&(pe.corked=1,this.uncork()),pe.ending||ie(this,pe,ce),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Le(te){return te.ending&&te.length===0&&te.bufferedRequest===null&&!te.finished&&!te.writing}function ne(te,N){te._final(function(ce){N.pendingcb--,ce&&K(te,ce),N.prefinished=!0,te.emit("prefinish"),Z(te,N)})}function ve(te,N){!N.prefinished&&!N.finalCalled&&(typeof te._final=="function"&&!N.destroyed?(N.pendingcb++,N.finalCalled=!0,et.nextTick(ne,te,N)):(N.prefinished=!0,te.emit("prefinish")))}function Z(te,N){var ce=Le(N);if(ce&&(ve(te,N),N.pendingcb===0&&(N.finished=!0,te.emit("finish"),N.autoDestroy))){var pe=te._readableState;(!pe||pe.autoDestroy&&pe.endEmitted)&&te.destroy()}return ce}function ie(te,N,ce){N.ending=!0,Z(te,N),ce&&(N.finished?et.nextTick(ce):te.once("finish",ce)),N.ended=!0,te.writable=!1}function he(te,N,ce){var pe=te.entry;for(te.entry=null;pe;){var Te=pe.callback;N.pendingcb--,Te(ce),pe=pe.next}N.corkedRequestsFree.next=te}return Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(N){this._writableState&&(this._writableState.destroyed=N)}}),C.prototype.destroy=p.destroy,C.prototype._undestroy=p.undestroy,C.prototype._destroy=function(te,N){N(te)},xg}var Og,nS;function tl(){if(nS)return Og;nS=1;var r=Object.keys||function(g){var y=[];for(var w in g)y.push(w);return y};Og=c;var e=V1(),n=L1();hl()(c,e);for(var a=r(n.prototype),o=0;o<a.length;o++){var l=a[o];c.prototype[l]||(c.prototype[l]=n.prototype[l])}function c(g){if(!(this instanceof c))return new c(g);e.call(this,g),n.call(this,g),this.allowHalfOpen=!0,g&&(g.readable===!1&&(this.readable=!1),g.writable===!1&&(this.writable=!1),g.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(c.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function d(){this._writableState.ended||et.nextTick(p,this)}function p(g){g.end()}return Object.defineProperty(c.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(y){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=y,this._writableState.destroyed=y)}}),Og}var Dg={},rS;function iS(){if(rS)return Dg;rS=1;var r=T1().Buffer,e=r.isEncoding||function(O){switch(O=""+O,O&&O.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(O){if(!O)return"utf8";for(var U;;)switch(O){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return O;default:if(U)return;O=(""+O).toLowerCase(),U=!0}}function a(O){var U=n(O);if(typeof U!="string"&&(r.isEncoding===e||!e(O)))throw new Error("Unknown encoding: "+O);return U||O}Dg.StringDecoder=o;function o(O){this.encoding=a(O);var U;switch(this.encoding){case"utf16le":this.text=w,this.end=R,U=4;break;case"utf8":this.fillLast=p,U=4;break;case"base64":this.text=H,this.end=I,U=3;break;default:this.write=F,this.end=P;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(U)}o.prototype.write=function(O){if(O.length===0)return"";var U,j;if(this.lastNeed){if(U=this.fillLast(O),U===void 0)return"";j=this.lastNeed,this.lastNeed=0}else j=0;return j<O.length?U?U+this.text(O,j):this.text(O,j):U||""},o.prototype.end=y,o.prototype.text=g,o.prototype.fillLast=function(O){if(this.lastNeed<=O.length)return O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);O.copy(this.lastChar,this.lastTotal-this.lastNeed,0,O.length),this.lastNeed-=O.length};function l(O){return O<=127?0:O>>5===6?2:O>>4===14?3:O>>3===30?4:O>>6===2?-1:-2}function c(O,U,j){var K=U.length-1;if(K<j)return 0;var X=l(U[K]);return X>=0?(X>0&&(O.lastNeed=X-1),X):--K<j||X===-2?0:(X=l(U[K]),X>=0?(X>0&&(O.lastNeed=X-2),X):--K<j||X===-2?0:(X=l(U[K]),X>=0?(X>0&&(X===2?X=0:O.lastNeed=X-3),X):0))}function d(O,U,j){if((U[0]&192)!==128)return O.lastNeed=0,"";if(O.lastNeed>1&&U.length>1){if((U[1]&192)!==128)return O.lastNeed=1,"";if(O.lastNeed>2&&U.length>2&&(U[2]&192)!==128)return O.lastNeed=2,""}}function p(O){var U=this.lastTotal-this.lastNeed,j=d(this,O);if(j!==void 0)return j;if(this.lastNeed<=O.length)return O.copy(this.lastChar,U,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);O.copy(this.lastChar,U,0,O.length),this.lastNeed-=O.length}function g(O,U){var j=c(this,O,U);if(!this.lastNeed)return O.toString("utf8",U);this.lastTotal=j;var K=O.length-(j-this.lastNeed);return O.copy(this.lastChar,0,K),O.toString("utf8",U,K)}function y(O){var U=O&&O.length?this.write(O):"";return this.lastNeed?U+"":U}function w(O,U){if((O.length-U)%2===0){var j=O.toString("utf16le",U);if(j){var K=j.charCodeAt(j.length-1);if(K>=55296&&K<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1],j.slice(0,-1)}return j}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=O[O.length-1],O.toString("utf16le",U,O.length-1)}function R(O){var U=O&&O.length?this.write(O):"";if(this.lastNeed){var j=this.lastTotal-this.lastNeed;return U+this.lastChar.toString("utf16le",0,j)}return U}function H(O,U){var j=(O.length-U)%3;return j===0?O.toString("base64",U):(this.lastNeed=3-j,this.lastTotal=3,j===1?this.lastChar[0]=O[O.length-1]:(this.lastChar[0]=O[O.length-2],this.lastChar[1]=O[O.length-1]),O.toString("base64",U,O.length-j))}function I(O){var U=O&&O.length?this.write(O):"";return this.lastNeed?U+this.lastChar.toString("base64",0,3-this.lastNeed):U}function F(O){return O.toString(this.encoding)}function P(O){return O&&O.length?this.write(O):""}return Dg}var Ng,aS;function U_(){if(aS)return Ng;aS=1;var r=dl().codes.ERR_STREAM_PREMATURE_CLOSE;function e(l){var c=!1;return function(){if(!c){c=!0;for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];l.apply(this,p)}}}function n(){}function a(l){return l.setHeader&&typeof l.abort=="function"}function o(l,c,d){if(typeof c=="function")return o(l,null,c);c||(c={}),d=e(d||n);var p=c.readable||c.readable!==!1&&l.readable,g=c.writable||c.writable!==!1&&l.writable,y=function(){l.writable||R()},w=l._writableState&&l._writableState.finished,R=function(){g=!1,w=!0,p||d.call(l)},H=l._readableState&&l._readableState.endEmitted,I=function(){p=!1,H=!0,g||d.call(l)},F=function(j){d.call(l,j)},P=function(){var j;if(p&&!H)return(!l._readableState||!l._readableState.ended)&&(j=new r),d.call(l,j);if(g&&!w)return(!l._writableState||!l._writableState.ended)&&(j=new r),d.call(l,j)},O=function(){l.req.on("finish",R)};return a(l)?(l.on("complete",R),l.on("abort",P),l.req?O():l.on("request",O)):g&&!l._writableState&&(l.on("end",y),l.on("close",y)),l.on("end",I),l.on("finish",R),c.error!==!1&&l.on("error",F),l.on("close",P),function(){l.removeListener("complete",R),l.removeListener("abort",P),l.removeListener("request",O),l.req&&l.req.removeListener("finish",R),l.removeListener("end",y),l.removeListener("close",y),l.removeListener("finish",R),l.removeListener("end",I),l.removeListener("error",F),l.removeListener("close",P)}}return Ng=o,Ng}var Mg,sS;function dL(){if(sS)return Mg;sS=1;var r;function e(j,K,X){return K=n(K),K in j?Object.defineProperty(j,K,{value:X,enumerable:!0,configurable:!0,writable:!0}):j[K]=X,j}function n(j){var K=a(j,"string");return typeof K=="symbol"?K:String(K)}function a(j,K){if(typeof j!="object"||j===null)return j;var X=j[Symbol.toPrimitive];if(X!==void 0){var J=X.call(j,K);if(typeof J!="object")return J;throw new TypeError("@@toPrimitive must return a primitive value.")}return(K==="string"?String:Number)(j)}var o=U_(),l=Symbol("lastResolve"),c=Symbol("lastReject"),d=Symbol("error"),p=Symbol("ended"),g=Symbol("lastPromise"),y=Symbol("handlePromise"),w=Symbol("stream");function R(j,K){return{value:j,done:K}}function H(j){var K=j[l];if(K!==null){var X=j[w].read();X!==null&&(j[g]=null,j[l]=null,j[c]=null,K(R(X,!1)))}}function I(j){et.nextTick(H,j)}function F(j,K){return function(X,J){j.then(function(){if(K[p]){X(R(void 0,!0));return}K[y](X,J)},J)}}var P=Object.getPrototypeOf(function(){}),O=Object.setPrototypeOf((r={get stream(){return this[w]},next:function(){var K=this,X=this[d];if(X!==null)return Promise.reject(X);if(this[p])return Promise.resolve(R(void 0,!0));if(this[w].destroyed)return new Promise(function(D,W){et.nextTick(function(){K[d]?W(K[d]):D(R(void 0,!0))})});var J=this[g],x;if(J)x=new Promise(F(J,this));else{var C=this[w].read();if(C!==null)return Promise.resolve(R(C,!1));x=new Promise(this[y])}return this[g]=x,x}},e(r,Symbol.asyncIterator,function(){return this}),e(r,"return",function(){var K=this;return new Promise(function(X,J){K[w].destroy(null,function(x){if(x){J(x);return}X(R(void 0,!0))})})}),r),P),U=function(K){var X,J=Object.create(O,(X={},e(X,w,{value:K,writable:!0}),e(X,l,{value:null,writable:!0}),e(X,c,{value:null,writable:!0}),e(X,d,{value:null,writable:!0}),e(X,p,{value:K._readableState.endEmitted,writable:!0}),e(X,y,{value:function(C,D){var W=J[w].read();W?(J[g]=null,J[l]=null,J[c]=null,C(R(W,!1))):(J[l]=C,J[c]=D)},writable:!0}),X));return J[g]=null,o(K,function(x){if(x&&x.code!=="ERR_STREAM_PREMATURE_CLOSE"){var C=J[c];C!==null&&(J[g]=null,J[l]=null,J[c]=null,C(x)),J[d]=x;return}var D=J[l];D!==null&&(J[g]=null,J[l]=null,J[c]=null,D(R(void 0,!0))),J[p]=!0}),K.on("readable",I.bind(null,J)),J};return Mg=U,Mg}var Pg,oS;function pL(){return oS||(oS=1,Pg=function(){throw new Error("Readable.from is not available in the browser")}),Pg}var kg,lS;function V1(){if(lS)return kg;lS=1,kg=D;var r;D.ReadableState=C,S1().EventEmitter;var e=function(q,Ee){return q.listeners(Ee).length},n=A1(),a=Zu().Buffer,o=(typeof Yr<"u"?Yr:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function l(V){return a.from(V)}function c(V){return a.isBuffer(V)||V instanceof o}var d=k1(),p;d&&d.debuglog?p=d.debuglog("stream"):p=function(){};var g=fL(),y=B1(),w=U1(),R=w.getHighWaterMark,H=dl().codes,I=H.ERR_INVALID_ARG_TYPE,F=H.ERR_STREAM_PUSH_AFTER_EOF,P=H.ERR_METHOD_NOT_IMPLEMENTED,O=H.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,U,j,K;hl()(D,n);var X=y.errorOrDestroy,J=["error","close","destroy","pause","resume"];function x(V,q,Ee){if(typeof V.prependListener=="function")return V.prependListener(q,Ee);!V._events||!V._events[q]?V.on(q,Ee):Array.isArray(V._events[q])?V._events[q].unshift(Ee):V._events[q]=[Ee,V._events[q]]}function C(V,q,Ee){r=r||tl(),V=V||{},typeof Ee!="boolean"&&(Ee=q instanceof r),this.objectMode=!!V.objectMode,Ee&&(this.objectMode=this.objectMode||!!V.readableObjectMode),this.highWaterMark=R(this,V,"readableHighWaterMark",Ee),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=V.emitClose!==!1,this.autoDestroy=!!V.autoDestroy,this.destroyed=!1,this.defaultEncoding=V.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,V.encoding&&(U||(U=iS().StringDecoder),this.decoder=new U(V.encoding),this.encoding=V.encoding)}function D(V){if(r=r||tl(),!(this instanceof D))return new D(V);var q=this instanceof r;this._readableState=new C(V,this,q),this.readable=!0,V&&(typeof V.read=="function"&&(this._read=V.read),typeof V.destroy=="function"&&(this._destroy=V.destroy)),n.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(q){this._readableState&&(this._readableState.destroyed=q)}}),D.prototype.destroy=y.destroy,D.prototype._undestroy=y.undestroy,D.prototype._destroy=function(V,q){q(V)},D.prototype.push=function(V,q){var Ee=this._readableState,Pe;return Ee.objectMode?Pe=!0:typeof V=="string"&&(q=q||Ee.defaultEncoding,q!==Ee.encoding&&(V=a.from(V,q),q=""),Pe=!0),W(this,V,q,!1,Pe)},D.prototype.unshift=function(V){return W(this,V,null,!0,!1)};function W(V,q,Ee,Pe,Qe){p("readableAddChunk",q);var je=V._readableState;if(q===null)je.reading=!1,ae(V,je);else{var Ze;if(Qe||(Ze=M(je,q)),Ze)X(V,Ze);else if(je.objectMode||q&&q.length>0)if(typeof q!="string"&&!je.objectMode&&Object.getPrototypeOf(q)!==a.prototype&&(q=l(q)),Pe)je.endEmitted?X(V,new O):ee(V,je,q,!0);else if(je.ended)X(V,new F);else{if(je.destroyed)return!1;je.reading=!1,je.decoder&&!Ee?(q=je.decoder.write(q),je.objectMode||q.length!==0?ee(V,je,q,!1):Ue(V,je)):ee(V,je,q,!1)}else Pe||(je.reading=!1,Ue(V,je))}return!je.ended&&(je.length<je.highWaterMark||je.length===0)}function ee(V,q,Ee,Pe){q.flowing&&q.length===0&&!q.sync?(q.awaitDrain=0,V.emit("data",Ee)):(q.length+=q.objectMode?1:Ee.length,Pe?q.buffer.unshift(Ee):q.buffer.push(Ee),q.needReadable&&ge(V)),Ue(V,q)}function M(V,q){var Ee;return!c(q)&&typeof q!="string"&&q!==void 0&&!V.objectMode&&(Ee=new I("chunk",["string","Buffer","Uint8Array"],q)),Ee}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(V){U||(U=iS().StringDecoder);var q=new U(V);this._readableState.decoder=q,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ee=this._readableState.buffer.head,Pe="";Ee!==null;)Pe+=q.write(Ee.data),Ee=Ee.next;return this._readableState.buffer.clear(),Pe!==""&&this._readableState.buffer.push(Pe),this._readableState.length=Pe.length,this};var $=1073741824;function Ke(V){return V>=$?V=$:(V--,V|=V>>>1,V|=V>>>2,V|=V>>>4,V|=V>>>8,V|=V>>>16,V++),V}function ke(V,q){return V<=0||q.length===0&&q.ended?0:q.objectMode?1:V!==V?q.flowing&&q.length?q.buffer.head.data.length:q.length:(V>q.highWaterMark&&(q.highWaterMark=Ke(V)),V<=q.length?V:q.ended?q.length:(q.needReadable=!0,0))}D.prototype.read=function(V){p("read",V),V=parseInt(V,10);var q=this._readableState,Ee=V;if(V!==0&&(q.emittedReadable=!1),V===0&&q.needReadable&&((q.highWaterMark!==0?q.length>=q.highWaterMark:q.length>0)||q.ended))return p("read: emitReadable",q.length,q.ended),q.length===0&&q.ended?ce(this):ge(this),null;if(V=ke(V,q),V===0&&q.ended)return q.length===0&&ce(this),null;var Pe=q.needReadable;p("need readable",Pe),(q.length===0||q.length-V<q.highWaterMark)&&(Pe=!0,p("length less than watermark",Pe)),q.ended||q.reading?(Pe=!1,p("reading or ended",Pe)):Pe&&(p("do read"),q.reading=!0,q.sync=!0,q.length===0&&(q.needReadable=!0),this._read(q.highWaterMark),q.sync=!1,q.reading||(V=ke(Ee,q)));var Qe;return V>0?Qe=N(V,q):Qe=null,Qe===null?(q.needReadable=q.length<=q.highWaterMark,V=0):(q.length-=V,q.awaitDrain=0),q.length===0&&(q.ended||(q.needReadable=!0),Ee!==V&&q.ended&&ce(this)),Qe!==null&&this.emit("data",Qe),Qe};function ae(V,q){if(p("onEofChunk"),!q.ended){if(q.decoder){var Ee=q.decoder.end();Ee&&Ee.length&&(q.buffer.push(Ee),q.length+=q.objectMode?1:Ee.length)}q.ended=!0,q.sync?ge(V):(q.needReadable=!1,q.emittedReadable||(q.emittedReadable=!0,xe(V)))}}function ge(V){var q=V._readableState;p("emitReadable",q.needReadable,q.emittedReadable),q.needReadable=!1,q.emittedReadable||(p("emitReadable",q.flowing),q.emittedReadable=!0,et.nextTick(xe,V))}function xe(V){var q=V._readableState;p("emitReadable_",q.destroyed,q.length,q.ended),!q.destroyed&&(q.length||q.ended)&&(V.emit("readable"),q.emittedReadable=!1),q.needReadable=!q.flowing&&!q.ended&&q.length<=q.highWaterMark,te(V)}function Ue(V,q){q.readingMore||(q.readingMore=!0,et.nextTick(Le,V,q))}function Le(V,q){for(;!q.reading&&!q.ended&&(q.length<q.highWaterMark||q.flowing&&q.length===0);){var Ee=q.length;if(p("maybeReadMore read 0"),V.read(0),Ee===q.length)break}q.readingMore=!1}D.prototype._read=function(V){X(this,new P("_read()"))},D.prototype.pipe=function(V,q){var Ee=this,Pe=this._readableState;switch(Pe.pipesCount){case 0:Pe.pipes=V;break;case 1:Pe.pipes=[Pe.pipes,V];break;default:Pe.pipes.push(V);break}Pe.pipesCount+=1,p("pipe count=%d opts=%j",Pe.pipesCount,q);var Qe=(!q||q.end!==!1)&&V!==et.stdout&&V!==et.stderr,je=Qe?cn:Tt;Pe.endEmitted?et.nextTick(je):Ee.once("end",je),V.on("unpipe",Ze);function Ze(Mt,Vt){p("onunpipe"),Mt===Ee&&Vt&&Vt.hasUnpiped===!1&&(Vt.hasUnpiped=!0,en())}function cn(){p("onend"),V.end()}var Ie=ne(Ee);V.on("drain",Ie);var Xt=!1;function en(){p("cleanup"),V.removeListener("close",_t),V.removeListener("finish",nn),V.removeListener("drain",Ie),V.removeListener("error",bt),V.removeListener("unpipe",Ze),Ee.removeListener("end",cn),Ee.removeListener("end",Tt),Ee.removeListener("data",wt),Xt=!0,Pe.awaitDrain&&(!V._writableState||V._writableState.needDrain)&&Ie()}Ee.on("data",wt);function wt(Mt){p("ondata");var Vt=V.write(Mt);p("dest.write",Vt),Vt===!1&&((Pe.pipesCount===1&&Pe.pipes===V||Pe.pipesCount>1&&Te(Pe.pipes,V)!==-1)&&!Xt&&(p("false write response, pause",Pe.awaitDrain),Pe.awaitDrain++),Ee.pause())}function bt(Mt){p("onerror",Mt),Tt(),V.removeListener("error",bt),e(V,"error")===0&&X(V,Mt)}x(V,"error",bt);function _t(){V.removeListener("finish",nn),Tt()}V.once("close",_t);function nn(){p("onfinish"),V.removeListener("close",_t),Tt()}V.once("finish",nn);function Tt(){p("unpipe"),Ee.unpipe(V)}return V.emit("pipe",Ee),Pe.flowing||(p("pipe resume"),Ee.resume()),V};function ne(V){return function(){var Ee=V._readableState;p("pipeOnDrain",Ee.awaitDrain),Ee.awaitDrain&&Ee.awaitDrain--,Ee.awaitDrain===0&&e(V,"data")&&(Ee.flowing=!0,te(V))}}D.prototype.unpipe=function(V){var q=this._readableState,Ee={hasUnpiped:!1};if(q.pipesCount===0)return this;if(q.pipesCount===1)return V&&V!==q.pipes?this:(V||(V=q.pipes),q.pipes=null,q.pipesCount=0,q.flowing=!1,V&&V.emit("unpipe",this,Ee),this);if(!V){var Pe=q.pipes,Qe=q.pipesCount;q.pipes=null,q.pipesCount=0,q.flowing=!1;for(var je=0;je<Qe;je++)Pe[je].emit("unpipe",this,{hasUnpiped:!1});return this}var Ze=Te(q.pipes,V);return Ze===-1?this:(q.pipes.splice(Ze,1),q.pipesCount-=1,q.pipesCount===1&&(q.pipes=q.pipes[0]),V.emit("unpipe",this,Ee),this)},D.prototype.on=function(V,q){var Ee=n.prototype.on.call(this,V,q),Pe=this._readableState;return V==="data"?(Pe.readableListening=this.listenerCount("readable")>0,Pe.flowing!==!1&&this.resume()):V==="readable"&&!Pe.endEmitted&&!Pe.readableListening&&(Pe.readableListening=Pe.needReadable=!0,Pe.flowing=!1,Pe.emittedReadable=!1,p("on readable",Pe.length,Pe.reading),Pe.length?ge(this):Pe.reading||et.nextTick(Z,this)),Ee},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(V,q){var Ee=n.prototype.removeListener.call(this,V,q);return V==="readable"&&et.nextTick(ve,this),Ee},D.prototype.removeAllListeners=function(V){var q=n.prototype.removeAllListeners.apply(this,arguments);return(V==="readable"||V===void 0)&&et.nextTick(ve,this),q};function ve(V){var q=V._readableState;q.readableListening=V.listenerCount("readable")>0,q.resumeScheduled&&!q.paused?q.flowing=!0:V.listenerCount("data")>0&&V.resume()}function Z(V){p("readable nexttick read 0"),V.read(0)}D.prototype.resume=function(){var V=this._readableState;return V.flowing||(p("resume"),V.flowing=!V.readableListening,ie(this,V)),V.paused=!1,this};function ie(V,q){q.resumeScheduled||(q.resumeScheduled=!0,et.nextTick(he,V,q))}function he(V,q){p("resume",q.reading),q.reading||V.read(0),q.resumeScheduled=!1,V.emit("resume"),te(V),q.flowing&&!q.reading&&V.read(0)}D.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function te(V){var q=V._readableState;for(p("flow",q.flowing);q.flowing&&V.read()!==null;);}D.prototype.wrap=function(V){var q=this,Ee=this._readableState,Pe=!1;V.on("end",function(){if(p("wrapped end"),Ee.decoder&&!Ee.ended){var Ze=Ee.decoder.end();Ze&&Ze.length&&q.push(Ze)}q.push(null)}),V.on("data",function(Ze){if(p("wrapped data"),Ee.decoder&&(Ze=Ee.decoder.write(Ze)),!(Ee.objectMode&&Ze==null)&&!(!Ee.objectMode&&(!Ze||!Ze.length))){var cn=q.push(Ze);cn||(Pe=!0,V.pause())}});for(var Qe in V)this[Qe]===void 0&&typeof V[Qe]=="function"&&(this[Qe]=(function(cn){return function(){return V[cn].apply(V,arguments)}})(Qe));for(var je=0;je<J.length;je++)V.on(J[je],this.emit.bind(this,J[je]));return this._read=function(Ze){p("wrapped _read",Ze),Pe&&(Pe=!1,V.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return j===void 0&&(j=dL()),j(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){this._readableState&&(this._readableState.flowing=q)}}),D._fromList=N,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function N(V,q){if(q.length===0)return null;var Ee;return q.objectMode?Ee=q.buffer.shift():!V||V>=q.length?(q.decoder?Ee=q.buffer.join(""):q.buffer.length===1?Ee=q.buffer.first():Ee=q.buffer.concat(q.length),q.buffer.clear()):Ee=q.buffer.consume(V,q.decoder),Ee}function ce(V){var q=V._readableState;p("endReadable",q.endEmitted),q.endEmitted||(q.ended=!0,et.nextTick(pe,q,V))}function pe(V,q){if(p("endReadableNT",V.endEmitted,V.length),!V.endEmitted&&V.length===0&&(V.endEmitted=!0,q.readable=!1,q.emit("end"),V.autoDestroy)){var Ee=q._writableState;(!Ee||Ee.autoDestroy&&Ee.finished)&&q.destroy()}}typeof Symbol=="function"&&(D.from=function(V,q){return K===void 0&&(K=pL()),K(D,V,q)});function Te(V,q){for(var Ee=0,Pe=V.length;Ee<Pe;Ee++)if(V[Ee]===q)return Ee;return-1}return kg}var Bg,uS;function j1(){if(uS)return Bg;uS=1,Bg=d;var r=dl().codes,e=r.ERR_METHOD_NOT_IMPLEMENTED,n=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=r.ERR_TRANSFORM_WITH_LENGTH_0,l=tl();hl()(d,l);function c(y,w){var R=this._transformState;R.transforming=!1;var H=R.writecb;if(H===null)return this.emit("error",new n);R.writechunk=null,R.writecb=null,w!=null&&this.push(w),H(y);var I=this._readableState;I.reading=!1,(I.needReadable||I.length<I.highWaterMark)&&this._read(I.highWaterMark)}function d(y){if(!(this instanceof d))return new d(y);l.call(this,y),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,y&&(typeof y.transform=="function"&&(this._transform=y.transform),typeof y.flush=="function"&&(this._flush=y.flush)),this.on("prefinish",p)}function p(){var y=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(w,R){g(y,w,R)}):g(this,null,null)}d.prototype.push=function(y,w){return this._transformState.needTransform=!1,l.prototype.push.call(this,y,w)},d.prototype._transform=function(y,w,R){R(new e("_transform()"))},d.prototype._write=function(y,w,R){var H=this._transformState;if(H.writecb=R,H.writechunk=y,H.writeencoding=w,!H.transforming){var I=this._readableState;(H.needTransform||I.needReadable||I.length<I.highWaterMark)&&this._read(I.highWaterMark)}},d.prototype._read=function(y){var w=this._transformState;w.writechunk!==null&&!w.transforming?(w.transforming=!0,this._transform(w.writechunk,w.writeencoding,w.afterTransform)):w.needTransform=!0},d.prototype._destroy=function(y,w){l.prototype._destroy.call(this,y,function(R){w(R)})};function g(y,w,R){if(w)return y.emit("error",w);if(R!=null&&y.push(R),y._writableState.length)throw new o;if(y._transformState.transforming)throw new a;return y.push(null)}return Bg}var Ug,cS;function mL(){if(cS)return Ug;cS=1,Ug=e;var r=j1();hl()(e,r);function e(n){if(!(this instanceof e))return new e(n);r.call(this,n)}return e.prototype._transform=function(n,a,o){o(null,n)},Ug}var Lg,fS;function gL(){if(fS)return Lg;fS=1;var r;function e(R){var H=!1;return function(){H||(H=!0,R.apply(void 0,arguments))}}var n=dl().codes,a=n.ERR_MISSING_ARGS,o=n.ERR_STREAM_DESTROYED;function l(R){if(R)throw R}function c(R){return R.setHeader&&typeof R.abort=="function"}function d(R,H,I,F){F=e(F);var P=!1;R.on("close",function(){P=!0}),r===void 0&&(r=U_()),r(R,{readable:H,writable:I},function(U){if(U)return F(U);P=!0,F()});var O=!1;return function(U){if(!P&&!O){if(O=!0,c(R))return R.abort();if(typeof R.destroy=="function")return R.destroy();F(U||new o("pipe"))}}}function p(R){R()}function g(R,H){return R.pipe(H)}function y(R){return!R.length||typeof R[R.length-1]!="function"?l:R.pop()}function w(){for(var R=arguments.length,H=new Array(R),I=0;I<R;I++)H[I]=arguments[I];var F=y(H);if(Array.isArray(H[0])&&(H=H[0]),H.length<2)throw new a("streams");var P,O=H.map(function(U,j){var K=j<H.length-1,X=j>0;return d(U,K,X,function(J){P||(P=J),J&&O.forEach(p),!K&&(O.forEach(p),F(P))})});return H.reduce(g)}return Lg=w,Lg}var hS;function yL(){return hS||(hS=1,(function(r,e){e=r.exports=V1(),e.Stream=e,e.Readable=e,e.Writable=L1(),e.Duplex=tl(),e.Transform=j1(),e.PassThrough=mL(),e.finished=U_(),e.pipeline=gL()})(Ff,Ff.exports)),Ff.exports}var Vg,dS;function _L(){if(dS)return Vg;dS=1;let r;return Vg=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Yr):e=>(r||(r=Promise.resolve())).then(e).catch(n=>setTimeout(()=>{throw n},0)),Vg}var jg,pS;function vL(){if(pS)return jg;pS=1;function r(n,a){for(const o in a)Object.defineProperty(n,o,{value:a[o],enumerable:!0,configurable:!0});return n}function e(n,a,o){if(!n||typeof n=="string")throw new TypeError("Please pass an Error to err-code");o||(o={}),typeof a=="object"&&(o=a,a=""),a&&(o.code=a);try{return r(n,o)}catch{o.message=n.message,o.stack=n.stack;const c=function(){};return c.prototype=Object.create(Object.getPrototypeOf(n)),r(new c,o)}}return jg=e,jg}var Fg,mS;function EL(){if(mS)return Fg;mS=1;const r=CU()("simple-peer"),e=IU(),n=xU(),a=yL(),o=_L(),l=vL(),{Buffer:c}=Zu(),d=64*1024,p=5*1e3,g=5*1e3;function y(H){return H.replace(/a=ice-options:trickle\s\n/g,"")}function w(H){console.warn(H)}class R extends a.Duplex{constructor(I){if(I=Object.assign({allowHalfOpen:!1},I),super(I),this._id=n(4).toString("hex").slice(0,7),this._debug("new peer %o",I),this.channelName=I.initiator?I.channelName||n(20).toString("hex"):null,this.initiator=I.initiator||!1,this.channelConfig=I.channelConfig||R.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},R.config,I.config),this.offerOptions=I.offerOptions||{},this.answerOptions=I.answerOptions||{},this.sdpTransform=I.sdpTransform||(F=>F),this.streams=I.streams||(I.stream?[I.stream]:[]),this.trickle=I.trickle!==void 0?I.trickle:!0,this.allowHalfTrickle=I.allowHalfTrickle!==void 0?I.allowHalfTrickle:!1,this.iceCompleteTimeout=I.iceCompleteTimeout||p,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=I.wrtc&&typeof I.wrtc=="object"?I.wrtc:e(),!this._wrtc)throw l(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(F){this.destroy(l(F,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=F=>{this._onIceCandidate(F)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(F=>{this.destroy(l(F,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=F=>{this._setupData(F)},this.streams&&this.streams.forEach(F=>{this.addStream(F)}),this._pc.ontrack=F=>{this._onTrack(F)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(I){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof I=="string")try{I=JSON.parse(I)}catch{I={}}this._debug("signal()"),I.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),I.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(I.transceiverRequest.kind,I.transceiverRequest.init)),I.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(I.candidate):this._pendingCandidates.push(I.candidate)),I.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(I)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(F=>{this._addIceCandidate(F)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(F=>{this.destroy(l(F,"ERR_SET_REMOTE_DESCRIPTION"))}),!I.sdp&&!I.candidate&&!I.renegotiate&&!I.transceiverRequest&&this.destroy(l(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(I){const F=new this._wrtc.RTCIceCandidate(I);this._pc.addIceCandidate(F).catch(P=>{!F.address||F.address.endsWith(".local")?w("Ignoring unsupported ICE candidate."):this.destroy(l(P,"ERR_ADD_ICE_CANDIDATE"))})}send(I){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(I)}}addTransceiver(I,F){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(I,F),this._needsNegotiation()}catch(P){this.destroy(l(P,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:I,init:F}})}}addStream(I){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),I.getTracks().forEach(F=>{this.addTrack(F,I)})}}addTrack(I,F){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const P=this._senderMap.get(I)||new Map;let O=P.get(F);if(!O)O=this._pc.addTrack(I,F),P.set(F,O),this._senderMap.set(I,P),this._needsNegotiation();else throw O.removed?l(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):l(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(I,F,P){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const O=this._senderMap.get(I),U=O?O.get(P):null;if(!U)throw l(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");F&&this._senderMap.set(F,O),U.replaceTrack!=null?U.replaceTrack(F):this.destroy(l(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(I,F){if(this.destroying)return;if(this.destroyed)throw l(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const P=this._senderMap.get(I),O=P?P.get(F):null;if(!O)throw l(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{O.removed=!0,this._pc.removeTrack(O)}catch(U){U.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(O):this.destroy(l(U,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(I){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),I.getTracks().forEach(F=>{this.removeTrack(F,I)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,o(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw l(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(I){this._destroy(I,()=>{})}_destroy(I,F){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",I&&(I.message||I)),o(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",I&&(I.message||I)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,I&&this.emit("error",I),this.emit("close"),F()}))}_setupData(I){if(!I.channel)return this.destroy(l(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=I.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=d),this.channelName=this._channel.label,this._channel.onmessage=P=>{this._onChannelMessage(P)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=P=>{const O=P.error instanceof Error?P.error:new Error(`Datachannel error: ${P.message} ${P.filename}:${P.lineno}:${P.colno}`);this.destroy(l(O,"ERR_DATA_CHANNEL"))};let F=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(F&&this._onChannelClose(),F=!0):F=!1},g)}_read(){}_write(I,F,P){if(this.destroyed)return P(l(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(I)}catch(O){return this.destroy(l(O,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>d?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=P):P(null)}else this._debug("write before connect"),this._chunk=I,this._cb=P}_onFinish(){if(this.destroyed)return;const I=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?I():this.once("connect",I)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(I=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(I.sdp=y(I.sdp)),I.sdp=this.sdpTransform(I.sdp);const F=()=>{if(this.destroyed)return;const U=this._pc.localDescription||I;this._debug("signal"),this.emit("signal",{type:U.type,sdp:U.sdp})},P=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?F():this.once("_iceComplete",F))},O=U=>{this.destroy(l(U,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(I).then(P).catch(O)}).catch(I=>{this.destroy(l(I,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(I=>{!I.mid&&I.sender.track&&!I.requested&&(I.requested=!0,this.addTransceiver(I.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(I=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(I.sdp=y(I.sdp)),I.sdp=this.sdpTransform(I.sdp);const F=()=>{if(this.destroyed)return;const U=this._pc.localDescription||I;this._debug("signal"),this.emit("signal",{type:U.type,sdp:U.sdp}),this.initiator||this._requestMissingTransceivers()},P=()=>{this.destroyed||(this.trickle||this._iceComplete?F():this.once("_iceComplete",F))},O=U=>{this.destroy(l(U,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(I).then(P).catch(O)}).catch(I=>{this.destroy(l(I,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(l(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const I=this._pc.iceConnectionState,F=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",I,F),this.emit("iceStateChange",I,F),(I==="connected"||I==="completed")&&(this._pcReady=!0,this._maybeReady()),I==="failed"&&this.destroy(l(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),I==="closed"&&this.destroy(l(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(I){const F=P=>(Object.prototype.toString.call(P.values)==="[object Array]"&&P.values.forEach(O=>{Object.assign(P,O)}),P);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(P=>{const O=[];P.forEach(U=>{O.push(F(U))}),I(null,O)},P=>I(P)):this._pc.getStats.length>0?this._pc.getStats(P=>{if(this.destroyed)return;const O=[];P.result().forEach(U=>{const j={};U.names().forEach(K=>{j[K]=U.stat(K)}),j.id=U.id,j.type=U.type,j.timestamp=U.timestamp,O.push(F(j))}),I(null,O)},P=>I(P)):I(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const I=()=>{this.destroyed||this.getStats((F,P)=>{if(this.destroyed)return;F&&(P=[]);const O={},U={},j={};let K=!1;P.forEach(J=>{(J.type==="remotecandidate"||J.type==="remote-candidate")&&(O[J.id]=J),(J.type==="localcandidate"||J.type==="local-candidate")&&(U[J.id]=J),(J.type==="candidatepair"||J.type==="candidate-pair")&&(j[J.id]=J)});const X=J=>{K=!0;let x=U[J.localCandidateId];x&&(x.ip||x.address)?(this.localAddress=x.ip||x.address,this.localPort=Number(x.port)):x&&x.ipAddress?(this.localAddress=x.ipAddress,this.localPort=Number(x.portNumber)):typeof J.googLocalAddress=="string"&&(x=J.googLocalAddress.split(":"),this.localAddress=x[0],this.localPort=Number(x[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let C=O[J.remoteCandidateId];C&&(C.ip||C.address)?(this.remoteAddress=C.ip||C.address,this.remotePort=Number(C.port)):C&&C.ipAddress?(this.remoteAddress=C.ipAddress,this.remotePort=Number(C.portNumber)):typeof J.googRemoteAddress=="string"&&(C=J.googRemoteAddress.split(":"),this.remoteAddress=C[0],this.remotePort=Number(C[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(P.forEach(J=>{J.type==="transport"&&J.selectedCandidatePairId&&X(j[J.selectedCandidatePairId]),(J.type==="googCandidatePair"&&J.googActiveConnection==="true"||(J.type==="candidatepair"||J.type==="candidate-pair")&&J.selected)&&X(J)}),!K&&(!Object.keys(j).length||Object.keys(U).length)){setTimeout(I,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(x){return this.destroy(l(x,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const J=this._cb;this._cb=null,J(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};I()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>d||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(I=>{this._pc.removeTrack(I),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(I){this.destroyed||(I.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:I.candidate.candidate,sdpMLineIndex:I.candidate.sdpMLineIndex,sdpMid:I.candidate.sdpMid}}):!I.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),I.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(I){if(this.destroyed)return;let F=I.data;F instanceof ArrayBuffer&&(F=c.from(F)),this.push(F)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const I=this._cb;this._cb=null,I(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(I){this.destroyed||I.streams.forEach(F=>{this._debug("on track"),this.emit("track",I.track,F),this._remoteTracks.push({track:I.track,stream:F}),!this._remoteStreams.some(P=>P.id===F.id)&&(this._remoteStreams.push(F),o(()=>{this._debug("on stream"),this.emit("stream",F)}))})}_debug(){const I=[].slice.call(arguments);I[0]="["+this._id+"] "+I[0],r.apply(null,I)}}return R.WEBRTC_SUPPORT=!!e(),R.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},R.channelConfig={},Fg=R,Fg}var wL=EL();const bL=gS(wL),TL=()=>{const{roomId:r}=fx(),e=rs(),n=r.replace("room-",""),a=le.useRef(null),o=le.useRef(null),l=le.useRef(null),c=le.useRef(null),d=le.useRef(null),p=le.useRef(null),g=le.useRef(!1),y=le.useRef(null),w=le.useRef(null),[R,H]=le.useState("loading"),[I,F]=le.useState("waiting"),[P,O]=le.useState(""),[U,j]=le.useState(0),[K,X]=le.useState(!1),[J,x]=le.useState(!1),C=ae=>{const ge=String(Math.floor(ae/3600)).padStart(2,"0"),xe=String(Math.floor(ae%3600/60)).padStart(2,"0"),Ue=String(ae%60).padStart(2,"0");return`${ge}:${xe}:${Ue}`},D=le.useCallback(()=>{M(),p.current&&(p.current(),p.current=null),l.current&&(l.current.destroy(),l.current=null),w.current&&(clearInterval(w.current),w.current=null),o.current&&(o.current.srcObject=null),g.current=!1,F("waiting")},[]),W=async()=>{if(!d.current)return;const[ae,ge]=await Promise.all([gy(Gn(d.current,"doctorCandidates")),gy(Gn(d.current,"customerCandidates"))]);await Promise.all([...ae.docs.map(xe=>Mb(xe.ref)),...ge.docs.map(xe=>Mb(xe.ref))]),await hr(d.current,{offer:null,answer:null})},ee=le.useCallback(async(ae,ge)=>{if(g.current||!c.current)return;g.current=!0;const xe=new bL({initiator:ae,trickle:!0,stream:c.current,config:{iceServers:[{urls:"stun:stun.l.google.com:19302"}]}});l.current=xe,xe.on("stream",async Le=>{o.current.srcObject=Le,o.current.play().catch(()=>{}),F("active"),y.current||(y.current=Date.now(),w.current=setInterval(()=>{const ne=Math.floor((Date.now()-y.current)/1e3);j(ne)},1e3),await hr(zt(ct,"bookings",n),{status:"in_call",callStartedAt:hu()}))}),xe.on("signal",async Le=>{if(d.current){if(Le.type==="offer")await hr(d.current,{offer:Le});else if(Le.type==="answer")await hr(d.current,{answer:Le});else if(Le.candidate){const ne=ae?"doctorCandidates":"customerCandidates";await r1(Gn(d.current,ne),Le)}}});const Ue=ae?"customerCandidates":"doctorCandidates";Wr(Gn(d.current,Ue),Le=>{Le.docChanges().forEach(ne=>{ne.type==="added"&&xe.signal(ne.doc.data())})}),ge&&xe.signal(ge),xe.on("close",async()=>{if(d.current)try{await hr(d.current,{ended:!0,active:!1,endedAt:hu()})}catch{}D()}),xe.on("error",()=>{D(),d.current&&hr(d.current,{ended:!0,endedAt:hu()}).catch(()=>{})})},[n,D]),M=le.useCallback(()=>{c.current&&(c.current.getTracks().forEach(ae=>{ae.stop()}),c.current=null)},[]);le.useEffect(()=>((async()=>{const ge=Gt.currentUser;if(!ge)return;const xe=zt(ct,"bookings",n),Ue=await Eh(xe);if(Ue.exists()&&Ue.data().status==="completed"){F("completed"),O("Booking already completed");return}const ne=(await Eh(zt(ct,"users",ge.uid))).data()?.role||"customer";H(ne);const ve=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});c.current=ve,a.current.srcObject=ve,d.current=zt(ct,"videoRooms",r),await R_(d.current,{active:!0},{merge:!0}),p.current=Wr(d.current,Z=>{const ie=Z.data();if(ie){if(ie.ended){if(!y.current&&ie.callStartedAt&&ie.callEndedAt){const he=ie.callStartedAt.toMillis?ie.callStartedAt.toMillis():Date.now(),te=ie.callEndedAt.toMillis?ie.callEndedAt.toMillis():Date.now(),N=Math.max(0,Math.floor((te-he)/1e3));j(N)}c.current&&(c.current.getTracks().forEach(he=>he.stop()),c.current=null),D(),window.location.href="/"}ne==="doctor"&&!ie.offer&&!g.current&&ee(!0),ne==="customer"&&ie.offer&&!g.current&&ee(!1,ie.offer),ne==="doctor"&&ie.answer&&l.current&&!l.current._answered&&(l.current.signal(ie.answer),l.current._answered=!0)}})})(),()=>{c.current&&(c.current.getTracks().forEach(ge=>ge.stop()),c.current=null),D(),c.current?.getTracks().forEach(ge=>ge.stop())}),[n,r,ee,D,e]);const $=()=>{const ae=c.current?.getAudioTracks()[0];ae&&(ae.enabled=!ae.enabled,X(!ae.enabled))},Ke=()=>{const ae=c.current?.getVideoTracks()[0];ae&&(ae.enabled=!ae.enabled,x(!ae.enabled))},ke=async()=>{try{const ae=Date.now(),ge=y.current?Math.floor((ae-y.current)/1e3):U;await hr(zt(ct,"bookings",n),{status:"completed",callEndedAt:hu(),callDurationSeconds:ge}),d.current&&await hr(d.current,{ended:!0,active:!1,endedAt:hu()}),await W(),D(),window.location.href="/"}catch(ae){console.error("Error ending call:",ae),D(),window.location.href="/"}};return I==="completed"?G.jsx("h2",{style:{color:"#4caf50",textAlign:"center"},children:" Booking Completed"}):G.jsxs("div",{style:{background:"#000",height:"100vh",position:"relative"},children:[G.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover",transform:"none",WebkitTransform:"none"}}),G.jsxs("div",{style:{position:"absolute",top:12,left:"50%",transform:"translateX(-50%)",background:"rgba(0,0,0,0.6)",color:"#fff",padding:"6px 14px",borderRadius:20,fontSize:14},children:[" ",C(U)]}),G.jsx("video",{ref:a,autoPlay:!0,muted:!0,playsInline:!0,style:{position:"absolute",bottom:90,right:20,width:120,height:160,borderRadius:12,border:"2px solid #fff",objectFit:"cover",transform:"none",WebkitTransform:"none"}}),G.jsxs("div",{style:{position:"absolute",bottom:20,width:"100%",display:"flex",justifyContent:"center",gap:12},children:[G.jsx("button",{onClick:$,children:K?"Unmute":"Mute"}),G.jsx("button",{onClick:Ke,children:J?"Video On":"Video Off"}),G.jsx("button",{onClick:ke,style:{background:"red",color:"#fff"},children:"End"})]})]})},Bo=({title:r})=>G.jsxs("div",{style:{padding:"2rem",maxWidth:"800px",margin:"0 auto",lineHeight:"1.6"},children:[G.jsx("h2",{children:r}),G.jsxs("p",{children:["This is a placeholder for the ",r," page."]})]});function SL(){const r=rs(),[e,n]=le.useState(null),[a,o]=le.useState(null),[l,c]=le.useState(!0),[d,p]=le.useState(!1),g={background:"linear-gradient(135deg, #22c55e, #16a34a)",color:"white",position:"sticky",top:0,zIndex:1e3,padding:"12px 20px"},y={flexWrap:"wrap",display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"1200px",margin:"0 auto"},w={width:"45px",height:"45px",borderRadius:"50%",border:"1px solid rgba(255,255,255,0.4)",background:"transparent",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"4px",cursor:"pointer"},R={width:"20px",height:"2px",background:"white",borderRadius:"2px"},H={background:"transparent",border:"1px solid rgba(255,255,255,0.6)",padding:"8px 16px",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",color:"white",textTransform:"capitalize",fontSize:"1rem"},I={margin:0,fontSize:"1.9rem",fontWeight:"bold",color:"white",cursor:"pointer"},F={margin:0,fontSize:"1.0rem",opacity:.9,color:"white"},P={padding:"8px 15px",background:"transparent",color:"white",border:"1px solid rgba(255,255,255,0.6)",borderRadius:"8px",fontSize:"1rem",cursor:"pointer"},O={position:"fixed",top:0,left:0,height:"100%",width:"300px",background:"#fff",zIndex:1001,boxShadow:"5px 0 15px rgba(0,0,0,0.1)"},U={position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0,0,0,0.4)",zIndex:1e3},j={padding:"15px 20px",borderBottom:"1px solid #f1f5f9",cursor:"pointer",fontWeight:500};if(le.useEffect(()=>{const X=SD(Gt,async J=>{if(c(!0),J){const x=zt(ct,"users",J.uid),C=await Eh(x);if(C.exists()){const D=C.data();n(J),o(D.role);const W=window.location.pathname,ee=W.startsWith(`/${D.role}-portal`),M=W.startsWith("/video-call"),$=W==="/login"||W==="/register";D.role&&D.phoneNumber&&!ee&&!M&&!$&&(D.role==="customer"?r("/customer-portal",{replace:!0}):D.verificationStatus==="approved"?r(`/${D.role}-portal`,{replace:!0}):(console.log("USER NOT VERIFIED - REDIRECTING TO HOME PAGE"),r("/",{replace:!0}),alert("Your account is currently under verification. Please wait for admin approval.")))}else n(J)}else n(null),o(null);c(!1)});return()=>X()},[]),l)return G.jsx("div",{style:{padding:"4rem",textAlign:"center"},children:"Loading..."});const K=window.location.pathname.startsWith("/video-call");return G.jsxs(G.Fragment,{children:[e&&!K&&G.jsx("header",{style:g,children:G.jsxs("div",{style:y,children:[G.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[G.jsxs("button",{onClick:()=>p(!0),style:w,children:[G.jsx("div",{style:R}),G.jsx("div",{style:R}),G.jsx("div",{style:R})]}),G.jsxs("div",{children:[G.jsx("h1",{style:I,onClick:()=>{r(e&&a?`/${a}-portal`:"/")},children:" Swasthya Sakhi"}),G.jsx("p",{style:F,children:"Affordable Healthcare for Everyone"})]})]}),G.jsxs("div",{style:{display:"flex",gap:"10px"},children:[G.jsxs("button",{onClick:()=>r(`/${a}-portal`),style:H,children:[a?.charAt(0).toUpperCase()+a?.slice(1)," Portal"]}),G.jsx("button",{onClick:()=>Gt.signOut(),style:P,children:"Logout"})]})]})}),d&&G.jsxs(G.Fragment,{children:[G.jsx("div",{style:U,onClick:()=>p(!1)}),G.jsxs("div",{style:O,children:[G.jsx("button",{onClick:()=>p(!1),style:{border:"none",background:"none",fontSize:"1.2rem",cursor:"pointer",color:"red",textAlign:"right",width:"-webkit-fill-available"},children:""}),["About Us","Contact Us","FAQs","Privacy","Terms","Security"].map(X=>G.jsx("div",{style:j,onClick:()=>{r(`/${X.toLowerCase().replace(" ","")}`),p(!1)},children:X},X))]})]}),G.jsxs(Rx,{children:[G.jsx(fr,{path:"/",element:G.jsx(vU,{})}),G.jsx(fr,{path:"/login",element:G.jsx(EU,{})}),G.jsx(fr,{path:"/register",element:G.jsx(wU,{})}),G.jsx(fr,{path:"/aboutus",element:G.jsx(Bo,{title:"About Us"})}),G.jsx(fr,{path:"/contactus",element:G.jsx(Bo,{title:"Contact Us"})}),G.jsx(fr,{path:"/faqs",element:G.jsx(Bo,{title:"FAQs"})}),G.jsx(fr,{path:"/privacy",element:G.jsx(Bo,{title:"Privacy Policy"})}),G.jsx(fr,{path:"/terms",element:G.jsx(Bo,{title:"Terms of Service"})}),G.jsx(fr,{path:"/security",element:G.jsx(Bo,{title:"Security & Data Preservation"})}),G.jsx(fr,{path:"/customer-portal",element:e?G.jsx(TU,{}):G.jsx(Cf,{to:"/",replace:!0})}),G.jsx(fr,{path:"/doctor-portal",element:e?G.jsx(SU,{}):G.jsx(Cf,{to:"/",replace:!0})}),G.jsx(fr,{path:"/video-call/:roomId",element:e?G.jsx(TL,{isDoctor:a==="doctor",userId:e.uid}):G.jsx(Cf,{to:"/",replace:!0})}),G.jsx(fr,{path:"*",element:G.jsx(Cf,{to:"/",replace:!0})})]})]})}function AL(){return G.jsx($x,{children:G.jsx(SL,{})})}II.createRoot(document.getElementById("root")).render(G.jsx(AL,{}));
